var l6=e=>{throw TypeError(e)};var Ej=(e,t,r)=>t.has(e)||l6("Cannot "+r);var st=(e,t,r)=>(Ej(e,t,"read from private field"),r?r.call(e):t.get(e)),Rr=(e,t,r)=>t.has(e)?l6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),yr=(e,t,r,n)=>(Ej(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ga=(e,t,r)=>(Ej(e,t,"access private method"),r);var Sv=(e,t,r,n)=>({set _(a){yr(e,t,a,r)},get _(){return st(e,t,n)}});function oq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zD={exports:{}},s2={},UD={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=Symbol.for("react.element"),lq=Symbol.for("react.portal"),cq=Symbol.for("react.fragment"),dq=Symbol.for("react.strict_mode"),uq=Symbol.for("react.profiler"),fq=Symbol.for("react.provider"),hq=Symbol.for("react.context"),pq=Symbol.for("react.forward_ref"),mq=Symbol.for("react.suspense"),gq=Symbol.for("react.memo"),xq=Symbol.for("react.lazy"),c6=Symbol.iterator;function vq(e){return e===null||typeof e!="object"?null:(e=c6&&e[c6]||e["@@iterator"],typeof e=="function"?e:null)}var WD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qD=Object.assign,HD={};function Bp(e,t,r){this.props=e,this.context=t,this.refs=HD,this.updater=r||WD}Bp.prototype.isReactComponent={};Bp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VD(){}VD.prototype=Bp.prototype;function E3(e,t,r){this.props=e,this.context=t,this.refs=HD,this.updater=r||WD}var T3=E3.prototype=new VD;T3.constructor=E3;qD(T3,Bp.prototype);T3.isPureReactComponent=!0;var d6=Array.isArray,GD=Object.prototype.hasOwnProperty,P3={current:null},KD={key:!0,ref:!0,__self:!0,__source:!0};function XD(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)GD.call(t,n)&&!KD.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ux,type:e,key:s,ref:o,props:a,_owner:P3.current}}function yq(e,t){return{$$typeof:ux,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O3(e){return typeof e=="object"&&e!==null&&e.$$typeof===ux}function bq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var u6=/\/+/g;function Tj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bq(""+e.key):t.toString(36)}function E1(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ux:case lq:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Tj(o,0):n,d6(a)?(r="",e!=null&&(r=e.replace(u6,"$&/")+"/"),E1(a,t,r,"",function(d){return d})):a!=null&&(O3(a)&&(a=yq(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(u6,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",d6(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Tj(s,l);o+=E1(s,t,r,c,a)}else if(c=vq(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Tj(s,l++),o+=E1(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kv(e,t,r){if(e==null)return e;var n=[],a=0;return E1(e,n,"","",function(s){return t.call(r,s,a++)}),n}function wq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ti={current:null},T1={transition:null},jq={ReactCurrentDispatcher:Ti,ReactCurrentBatchConfig:T1,ReactCurrentOwner:P3};function YD(){throw Error("act(...) is not supported in production builds of React.")}jr.Children={map:kv,forEach:function(e,t,r){kv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kv(e,function(){t++}),t},toArray:function(e){return kv(e,function(t){return t})||[]},only:function(e){if(!O3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jr.Component=Bp;jr.Fragment=cq;jr.Profiler=uq;jr.PureComponent=E3;jr.StrictMode=dq;jr.Suspense=mq;jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jq;jr.act=YD;jr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qD({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=P3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GD.call(t,c)&&!KD.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:ux,type:e.type,key:a,ref:s,props:n,_owner:o}};jr.createContext=function(e){return e={$$typeof:hq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fq,_context:e},e.Consumer=e};jr.createElement=XD;jr.createFactory=function(e){var t=XD.bind(null,e);return t.type=e,t};jr.createRef=function(){return{current:null}};jr.forwardRef=function(e){return{$$typeof:pq,render:e}};jr.isValidElement=O3;jr.lazy=function(e){return{$$typeof:xq,_payload:{_status:-1,_result:e},_init:wq}};jr.memo=function(e,t){return{$$typeof:gq,type:e,compare:t===void 0?null:t}};jr.startTransition=function(e){var t=T1.transition;T1.transition={};try{e()}finally{T1.transition=t}};jr.unstable_act=YD;jr.useCallback=function(e,t){return Ti.current.useCallback(e,t)};jr.useContext=function(e){return Ti.current.useContext(e)};jr.useDebugValue=function(){};jr.useDeferredValue=function(e){return Ti.current.useDeferredValue(e)};jr.useEffect=function(e,t){return Ti.current.useEffect(e,t)};jr.useId=function(){return Ti.current.useId()};jr.useImperativeHandle=function(e,t,r){return Ti.current.useImperativeHandle(e,t,r)};jr.useInsertionEffect=function(e,t){return Ti.current.useInsertionEffect(e,t)};jr.useLayoutEffect=function(e,t){return Ti.current.useLayoutEffect(e,t)};jr.useMemo=function(e,t){return Ti.current.useMemo(e,t)};jr.useReducer=function(e,t,r){return Ti.current.useReducer(e,t,r)};jr.useRef=function(e){return Ti.current.useRef(e)};jr.useState=function(e){return Ti.current.useState(e)};jr.useSyncExternalStore=function(e,t,r){return Ti.current.useSyncExternalStore(e,t,r)};jr.useTransition=function(){return Ti.current.useTransition()};jr.version="18.3.1";UD.exports=jr;var A=UD.exports;const ve=$r(A),QD=oq({__proto__:null,default:ve},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nq=A,Sq=Symbol.for("react.element"),_q=Symbol.for("react.fragment"),kq=Object.prototype.hasOwnProperty,Aq=Nq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cq={key:!0,ref:!0,__self:!0,__source:!0};function JD(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)kq.call(t,n)&&!Cq.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Sq,type:e,key:s,ref:o,props:a,_owner:Aq.current}}s2.Fragment=_q;s2.jsx=JD;s2.jsxs=JD;zD.exports=s2;var i=zD.exports,ZD={exports:{}},_s={},eF={exports:{}},tF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,Q){var le=M.length;M.push(Q);e:for(;0<le;){var ue=le-1>>>1,O=M[ue];if(0<a(O,Q))M[ue]=Q,M[le]=O,le=ue;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var Q=M[0],le=M.pop();if(le!==Q){M[0]=le;e:for(var ue=0,O=M.length,V=O>>>1;ue<V;){var Y=2*(ue+1)-1,q=M[Y],P=Y+1,R=M[P];if(0>a(q,le))P<O&&0>a(R,q)?(M[ue]=R,M[P]=le,ue=P):(M[ue]=q,M[Y]=le,ue=Y);else if(P<O&&0>a(R,le))M[ue]=R,M[P]=le,ue=P;else break e}}return Q}function a(M,Q){var le=M.sortIndex-Q.sortIndex;return le!==0?le:M.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var Q=r(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=M)n(d),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=r(d)}}function N(M){if(m=!1,w(M),!g)if(r(c)!==null)g=!0,U(j);else{var Q=r(d);Q!==null&&X(N,Q.startTime-M)}}function j(M,Q){g=!1,m&&(m=!1,x(_),_=-1),p=!0;var le=h;try{for(w(Q),f=r(c);f!==null&&(!(f.expirationTime>Q)||M&&!D());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,h=f.priorityLevel;var O=ue(f.expirationTime<=Q);Q=e.unstable_now(),typeof O=="function"?f.callback=O:f===r(c)&&n(c),w(Q)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var Y=r(d);Y!==null&&X(N,Y.startTime-Q),V=!1}return V}finally{f=null,h=le,p=!1}}var C=!1,k=null,_=-1,L=5,z=-1;function D(){return!(e.unstable_now()-z<L)}function T(){if(k!==null){var M=e.unstable_now();z=M;var Q=!0;try{Q=k(!0,M)}finally{Q?I():(C=!1,k=null)}}else C=!1}var I;if(typeof y=="function")I=function(){y(T)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=T,I=function(){J.postMessage(null)}}else I=function(){v(T,0)};function U(M){k=M,C||(C=!0,I())}function X(M,Q){_=v(function(){M(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,U(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var le=h;h=Q;try{return M()}finally{h=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var le=h;h=M;try{return Q()}finally{h=le}},e.unstable_scheduleCallback=function(M,Q,le){var ue=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ue+le:ue):le=ue,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,M={id:u++,callback:Q,priorityLevel:M,startTime:le,expirationTime:O,sortIndex:-1},le>ue?(M.sortIndex=le,t(d,M),r(c)===null&&M===r(d)&&(m?(x(_),_=-1):m=!0,X(N,le-ue))):(M.sortIndex=O,t(c,M),g||p||(g=!0,U(j))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var Q=h;return function(){var le=h;h=Q;try{return M.apply(this,arguments)}finally{h=le}}}})(tF);eF.exports=tF;var Eq=eF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tq=A,js=Eq;function vt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rF=new Set,G0={};function cf(e,t){np(e,t),np(e+"Capture",t)}function np(e,t){for(G0[e]=t,e=0;e<t.length;e++)rF.add(t[e])}var ac=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v5=Object.prototype.hasOwnProperty,Pq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f6={},h6={};function Oq(e){return v5.call(h6,e)?!0:v5.call(f6,e)?!1:Pq.test(e)?h6[e]=!0:(f6[e]=!0,!1)}function Dq(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fq(e,t,r,n){if(t===null||typeof t>"u"||Dq(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pi(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Wa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wa[e]=new Pi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wa[t]=new Pi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wa[e]=new Pi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wa[e]=new Pi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wa[e]=new Pi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wa[e]=new Pi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wa[e]=new Pi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wa[e]=new Pi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wa[e]=new Pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var D3=/[\-:]([a-z])/g;function F3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D3,F3);Wa[t]=new Pi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D3,F3);Wa[t]=new Pi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D3,F3);Wa[t]=new Pi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wa[e]=new Pi(e,1,!1,e.toLowerCase(),null,!1,!1)});Wa.xlinkHref=new Pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wa[e]=new Pi(e,1,!1,e.toLowerCase(),null,!0,!0)});function L3(e,t,r,n){var a=Wa.hasOwnProperty(t)?Wa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fq(t,r,a,n)&&(r=null),n||a===null?Oq(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yc=Tq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Av=Symbol.for("react.element"),oh=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),I3=Symbol.for("react.strict_mode"),y5=Symbol.for("react.profiler"),nF=Symbol.for("react.provider"),aF=Symbol.for("react.context"),R3=Symbol.for("react.forward_ref"),b5=Symbol.for("react.suspense"),w5=Symbol.for("react.suspense_list"),M3=Symbol.for("react.memo"),Kc=Symbol.for("react.lazy"),iF=Symbol.for("react.offscreen"),p6=Symbol.iterator;function Hm(e){return e===null||typeof e!="object"?null:(e=p6&&e[p6]||e["@@iterator"],typeof e=="function"?e:null)}var Cn=Object.assign,Pj;function p0(e){if(Pj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pj=t&&t[1]||""}return`
`+Pj+e}var Oj=!1;function Dj(e,t){if(!e||Oj)return"";Oj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Oj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?p0(e):""}function Lq(e){switch(e.tag){case 5:return p0(e.type);case 16:return p0("Lazy");case 13:return p0("Suspense");case 19:return p0("SuspenseList");case 0:case 2:case 15:return e=Dj(e.type,!1),e;case 11:return e=Dj(e.type.render,!1),e;case 1:return e=Dj(e.type,!0),e;default:return""}}function j5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lh:return"Fragment";case oh:return"Portal";case y5:return"Profiler";case I3:return"StrictMode";case b5:return"Suspense";case w5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aF:return(e.displayName||"Context")+".Consumer";case nF:return(e._context.displayName||"Context")+".Provider";case R3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M3:return t=e.displayName||null,t!==null?t:j5(e.type)||"Memo";case Kc:t=e._payload,e=e._init;try{return j5(e(t))}catch{}}return null}function Iq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j5(t);case 8:return t===I3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Td(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rq(e){var t=sF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cv(e){e._valueTracker||(e._valueTracker=Rq(e))}function oF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ny(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function N5(e,t){var r=t.checked;return Cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function m6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Td(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lF(e,t){t=t.checked,t!=null&&L3(e,"checked",t,!1)}function S5(e,t){lF(e,t);var r=Td(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_5(e,t.type,r):t.hasOwnProperty("defaultValue")&&_5(e,t.type,Td(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function g6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _5(e,t,r){(t!=="number"||ny(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var m0=Array.isArray;function kh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Td(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function k5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(vt(91));return Cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function x6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(vt(92));if(m0(r)){if(1<r.length)throw Error(vt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Td(r)}}function cF(e,t){var r=Td(t.value),n=Td(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function v6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ev,uF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ev=Ev||document.createElement("div"),Ev.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ev.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function K0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var w0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mq=["Webkit","ms","Moz","O"];Object.keys(w0).forEach(function(e){Mq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),w0[t]=w0[e]})});function fF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||w0.hasOwnProperty(e)&&w0[e]?(""+t).trim():t+"px"}function hF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=fF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var $q=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C5(e,t){if(t){if($q[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(vt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(vt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(vt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(vt(62))}}function E5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T5=null;function $3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var P5=null,Ah=null,Ch=null;function y6(e){if(e=px(e)){if(typeof P5!="function")throw Error(vt(280));var t=e.stateNode;t&&(t=u2(t),P5(e.stateNode,e.type,t))}}function pF(e){Ah?Ch?Ch.push(e):Ch=[e]:Ah=e}function mF(){if(Ah){var e=Ah,t=Ch;if(Ch=Ah=null,y6(e),t)for(e=0;e<t.length;e++)y6(t[e])}}function gF(e,t){return e(t)}function xF(){}var Fj=!1;function vF(e,t,r){if(Fj)return e(t,r);Fj=!0;try{return gF(e,t,r)}finally{Fj=!1,(Ah!==null||Ch!==null)&&(xF(),mF())}}function X0(e,t){var r=e.stateNode;if(r===null)return null;var n=u2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(vt(231,t,typeof r));return r}var O5=!1;if(ac)try{var Vm={};Object.defineProperty(Vm,"passive",{get:function(){O5=!0}}),window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,Vm)}catch{O5=!1}function Bq(e,t,r,n,a,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var j0=!1,ay=null,iy=!1,D5=null,zq={onError:function(e){j0=!0,ay=e}};function Uq(e,t,r,n,a,s,o,l,c){j0=!1,ay=null,Bq.apply(zq,arguments)}function Wq(e,t,r,n,a,s,o,l,c){if(Uq.apply(this,arguments),j0){if(j0){var d=ay;j0=!1,ay=null}else throw Error(vt(198));iy||(iy=!0,D5=d)}}function df(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b6(e){if(df(e)!==e)throw Error(vt(188))}function qq(e){var t=e.alternate;if(!t){if(t=df(e),t===null)throw Error(vt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return b6(a),e;if(s===n)return b6(a),t;s=s.sibling}throw Error(vt(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(vt(189))}}if(r.alternate!==n)throw Error(vt(190))}if(r.tag!==3)throw Error(vt(188));return r.stateNode.current===r?e:t}function bF(e){return e=qq(e),e!==null?wF(e):null}function wF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wF(e);if(t!==null)return t;e=e.sibling}return null}var jF=js.unstable_scheduleCallback,w6=js.unstable_cancelCallback,Hq=js.unstable_shouldYield,Vq=js.unstable_requestPaint,Wn=js.unstable_now,Gq=js.unstable_getCurrentPriorityLevel,B3=js.unstable_ImmediatePriority,NF=js.unstable_UserBlockingPriority,sy=js.unstable_NormalPriority,Kq=js.unstable_LowPriority,SF=js.unstable_IdlePriority,o2=null,ll=null;function Xq(e){if(ll&&typeof ll.onCommitFiberRoot=="function")try{ll.onCommitFiberRoot(o2,e,void 0,(e.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:Jq,Yq=Math.log,Qq=Math.LN2;function Jq(e){return e>>>=0,e===0?32:31-(Yq(e)/Qq|0)|0}var Tv=64,Pv=4194304;function g0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=g0(l):(s&=o,s!==0&&(n=g0(s)))}else o=r&~a,o!==0?n=g0(o):s!==0&&(n=g0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Co(t),a=1<<r,n|=e[r],t&=~a;return n}function Zq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eH(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Co(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=Zq(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function F5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _F(){var e=Tv;return Tv<<=1,!(Tv&4194240)&&(Tv=64),e}function Lj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fx(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Co(t),e[t]=r}function tH(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Co(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function z3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Co(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Vr=0;function kF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AF,U3,CF,EF,TF,L5=!1,Ov=[],gd=null,xd=null,vd=null,Y0=new Map,Q0=new Map,Qc=[],rH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j6(e,t){switch(e){case"focusin":case"focusout":gd=null;break;case"dragenter":case"dragleave":xd=null;break;case"mouseover":case"mouseout":vd=null;break;case"pointerover":case"pointerout":Y0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Q0.delete(t.pointerId)}}function Gm(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=px(t),t!==null&&U3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function nH(e,t,r,n,a){switch(t){case"focusin":return gd=Gm(gd,e,t,r,n,a),!0;case"dragenter":return xd=Gm(xd,e,t,r,n,a),!0;case"mouseover":return vd=Gm(vd,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Y0.set(s,Gm(Y0.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Q0.set(s,Gm(Q0.get(s)||null,e,t,r,n,a)),!0}return!1}function PF(e){var t=_u(e.target);if(t!==null){var r=df(t);if(r!==null){if(t=r.tag,t===13){if(t=yF(r),t!==null){e.blockedOn=t,TF(e.priority,function(){CF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function P1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=I5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);T5=n,r.target.dispatchEvent(n),T5=null}else return t=px(r),t!==null&&U3(t),e.blockedOn=r,!1;t.shift()}return!0}function N6(e,t,r){P1(e)&&r.delete(t)}function aH(){L5=!1,gd!==null&&P1(gd)&&(gd=null),xd!==null&&P1(xd)&&(xd=null),vd!==null&&P1(vd)&&(vd=null),Y0.forEach(N6),Q0.forEach(N6)}function Km(e,t){e.blockedOn===t&&(e.blockedOn=null,L5||(L5=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,aH)))}function J0(e){function t(a){return Km(a,e)}if(0<Ov.length){Km(Ov[0],e);for(var r=1;r<Ov.length;r++){var n=Ov[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gd!==null&&Km(gd,e),xd!==null&&Km(xd,e),vd!==null&&Km(vd,e),Y0.forEach(t),Q0.forEach(t),r=0;r<Qc.length;r++)n=Qc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qc.length&&(r=Qc[0],r.blockedOn===null);)PF(r),r.blockedOn===null&&Qc.shift()}var Eh=yc.ReactCurrentBatchConfig,ly=!0;function iH(e,t,r,n){var a=Vr,s=Eh.transition;Eh.transition=null;try{Vr=1,W3(e,t,r,n)}finally{Vr=a,Eh.transition=s}}function sH(e,t,r,n){var a=Vr,s=Eh.transition;Eh.transition=null;try{Vr=4,W3(e,t,r,n)}finally{Vr=a,Eh.transition=s}}function W3(e,t,r,n){if(ly){var a=I5(e,t,r,n);if(a===null)Hj(e,t,n,cy,r),j6(e,n);else if(nH(a,e,t,r,n))n.stopPropagation();else if(j6(e,n),t&4&&-1<rH.indexOf(e)){for(;a!==null;){var s=px(a);if(s!==null&&AF(s),s=I5(e,t,r,n),s===null&&Hj(e,t,n,cy,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Hj(e,t,n,null,r)}}var cy=null;function I5(e,t,r,n){if(cy=null,e=$3(n),e=_u(e),e!==null)if(t=df(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cy=e,null}function OF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gq()){case B3:return 1;case NF:return 4;case sy:case Kq:return 16;case SF:return 536870912;default:return 16}default:return 16}}var id=null,q3=null,O1=null;function DF(){if(O1)return O1;var e,t=q3,r=t.length,n,a="value"in id?id.value:id.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return O1=a.slice(e,1<n?1-n:void 0)}function D1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dv(){return!0}function S6(){return!1}function ks(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dv:S6,this.isPropagationStopped=S6,this}return Cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),t}var zp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H3=ks(zp),hx=Cn({},zp,{view:0,detail:0}),oH=ks(hx),Ij,Rj,Xm,l2=Cn({},hx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xm&&(Xm&&e.type==="mousemove"?(Ij=e.screenX-Xm.screenX,Rj=e.screenY-Xm.screenY):Rj=Ij=0,Xm=e),Ij)},movementY:function(e){return"movementY"in e?e.movementY:Rj}}),_6=ks(l2),lH=Cn({},l2,{dataTransfer:0}),cH=ks(lH),dH=Cn({},hx,{relatedTarget:0}),Mj=ks(dH),uH=Cn({},zp,{animationName:0,elapsedTime:0,pseudoElement:0}),fH=ks(uH),hH=Cn({},zp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pH=ks(hH),mH=Cn({},zp,{data:0}),k6=ks(mH),gH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vH[e])?!!t[e]:!1}function V3(){return yH}var bH=Cn({},hx,{key:function(e){if(e.key){var t=gH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=D1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V3,charCode:function(e){return e.type==="keypress"?D1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?D1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wH=ks(bH),jH=Cn({},l2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A6=ks(jH),NH=Cn({},hx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V3}),SH=ks(NH),_H=Cn({},zp,{propertyName:0,elapsedTime:0,pseudoElement:0}),kH=ks(_H),AH=Cn({},l2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CH=ks(AH),EH=[9,13,27,32],G3=ac&&"CompositionEvent"in window,N0=null;ac&&"documentMode"in document&&(N0=document.documentMode);var TH=ac&&"TextEvent"in window&&!N0,FF=ac&&(!G3||N0&&8<N0&&11>=N0),C6=" ",E6=!1;function LF(e,t){switch(e){case"keyup":return EH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ch=!1;function PH(e,t){switch(e){case"compositionend":return IF(t);case"keypress":return t.which!==32?null:(E6=!0,C6);case"textInput":return e=t.data,e===C6&&E6?null:e;default:return null}}function OH(e,t){if(ch)return e==="compositionend"||!G3&&LF(e,t)?(e=DF(),O1=q3=id=null,ch=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FF&&t.locale!=="ko"?null:t.data;default:return null}}var DH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DH[e.type]:t==="textarea"}function RF(e,t,r,n){pF(n),t=dy(t,"onChange"),0<t.length&&(r=new H3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var S0=null,Z0=null;function FH(e){KF(e,0)}function c2(e){var t=fh(e);if(oF(t))return e}function LH(e,t){if(e==="change")return t}var MF=!1;if(ac){var $j;if(ac){var Bj="oninput"in document;if(!Bj){var P6=document.createElement("div");P6.setAttribute("oninput","return;"),Bj=typeof P6.oninput=="function"}$j=Bj}else $j=!1;MF=$j&&(!document.documentMode||9<document.documentMode)}function O6(){S0&&(S0.detachEvent("onpropertychange",$F),Z0=S0=null)}function $F(e){if(e.propertyName==="value"&&c2(Z0)){var t=[];RF(t,Z0,e,$3(e)),vF(FH,t)}}function IH(e,t,r){e==="focusin"?(O6(),S0=t,Z0=r,S0.attachEvent("onpropertychange",$F)):e==="focusout"&&O6()}function RH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return c2(Z0)}function MH(e,t){if(e==="click")return c2(t)}function $H(e,t){if(e==="input"||e==="change")return c2(t)}function BH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Do=typeof Object.is=="function"?Object.is:BH;function eg(e,t){if(Do(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!v5.call(t,a)||!Do(e[a],t[a]))return!1}return!0}function D6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F6(e,t){var r=D6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=D6(r)}}function BF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zF(){for(var e=window,t=ny();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ny(e.document)}return t}function K3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zH(e){var t=zF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&BF(r.ownerDocument.documentElement,r)){if(n!==null&&K3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=F6(r,s);var o=F6(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UH=ac&&"documentMode"in document&&11>=document.documentMode,dh=null,R5=null,_0=null,M5=!1;function L6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;M5||dh==null||dh!==ny(n)||(n=dh,"selectionStart"in n&&K3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_0&&eg(_0,n)||(_0=n,n=dy(R5,"onSelect"),0<n.length&&(t=new H3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=dh)))}function Fv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var uh={animationend:Fv("Animation","AnimationEnd"),animationiteration:Fv("Animation","AnimationIteration"),animationstart:Fv("Animation","AnimationStart"),transitionend:Fv("Transition","TransitionEnd")},zj={},UF={};ac&&(UF=document.createElement("div").style,"AnimationEvent"in window||(delete uh.animationend.animation,delete uh.animationiteration.animation,delete uh.animationstart.animation),"TransitionEvent"in window||delete uh.transitionend.transition);function d2(e){if(zj[e])return zj[e];if(!uh[e])return e;var t=uh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in UF)return zj[e]=t[r];return e}var WF=d2("animationend"),qF=d2("animationiteration"),HF=d2("animationstart"),VF=d2("transitionend"),GF=new Map,I6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wd(e,t){GF.set(e,t),cf(t,[e])}for(var Uj=0;Uj<I6.length;Uj++){var Wj=I6[Uj],WH=Wj.toLowerCase(),qH=Wj[0].toUpperCase()+Wj.slice(1);Wd(WH,"on"+qH)}Wd(WF,"onAnimationEnd");Wd(qF,"onAnimationIteration");Wd(HF,"onAnimationStart");Wd("dblclick","onDoubleClick");Wd("focusin","onFocus");Wd("focusout","onBlur");Wd(VF,"onTransitionEnd");np("onMouseEnter",["mouseout","mouseover"]);np("onMouseLeave",["mouseout","mouseover"]);np("onPointerEnter",["pointerout","pointerover"]);np("onPointerLeave",["pointerout","pointerover"]);cf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cf("onBeforeInput",["compositionend","keypress","textInput","paste"]);cf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HH=new Set("cancel close invalid load scroll toggle".split(" ").concat(x0));function R6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Wq(n,t,void 0,e),e.currentTarget=null}function KF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;R6(a,l,d),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;R6(a,l,d),s=c}}}if(iy)throw e=D5,iy=!1,D5=null,e}function hn(e,t){var r=t[W5];r===void 0&&(r=t[W5]=new Set);var n=e+"__bubble";r.has(n)||(XF(t,e,2,!1),r.add(n))}function qj(e,t,r){var n=0;t&&(n|=4),XF(r,e,n,t)}var Lv="_reactListening"+Math.random().toString(36).slice(2);function tg(e){if(!e[Lv]){e[Lv]=!0,rF.forEach(function(r){r!=="selectionchange"&&(HH.has(r)||qj(r,!1,e),qj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lv]||(t[Lv]=!0,qj("selectionchange",!1,t))}}function XF(e,t,r,n){switch(OF(t)){case 1:var a=iH;break;case 4:a=sH;break;default:a=W3}r=a.bind(null,t,r,e),a=void 0,!O5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_u(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}vF(function(){var d=s,u=$3(r),f=[];e:{var h=GF.get(e);if(h!==void 0){var p=H3,g=e;switch(e){case"keypress":if(D1(r)===0)break e;case"keydown":case"keyup":p=wH;break;case"focusin":g="focus",p=Mj;break;case"focusout":g="blur",p=Mj;break;case"beforeblur":case"afterblur":p=Mj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SH;break;case WF:case qF:case HF:p=fH;break;case VF:p=kH;break;case"scroll":p=oH;break;case"wheel":p=CH;break;case"copy":case"cut":case"paste":p=pH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A6}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var y=d,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=X0(y,x),N!=null&&m.push(rg(y,N,w)))),v)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==T5&&(g=r.relatedTarget||r.fromElement)&&(_u(g)||g[ic]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?_u(g):null,g!==null&&(v=df(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(m=_6,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=A6,N="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:fh(p),w=g==null?h:fh(g),h=new m(N,y+"leave",p,r,u),h.target=v,h.relatedTarget=w,N=null,_u(u)===d&&(m=new m(x,y+"enter",g,r,u),m.target=w,m.relatedTarget=v,N=m),v=N,p&&g)t:{for(m=p,x=g,y=0,w=m;w;w=Hf(w))y++;for(w=0,N=x;N;N=Hf(N))w++;for(;0<y-w;)m=Hf(m),y--;for(;0<w-y;)x=Hf(x),w--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Hf(m),x=Hf(x)}m=null}else m=null;p!==null&&M6(f,h,p,m,!1),g!==null&&v!==null&&M6(f,v,g,m,!0)}}e:{if(h=d?fh(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=LH;else if(T6(h))if(MF)j=$H;else{j=RH;var C=IH}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=MH);if(j&&(j=j(e,d))){RF(f,j,r,u);break e}C&&C(e,h,d),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&_5(h,"number",h.value)}switch(C=d?fh(d):window,e){case"focusin":(T6(C)||C.contentEditable==="true")&&(dh=C,R5=d,_0=null);break;case"focusout":_0=R5=dh=null;break;case"mousedown":M5=!0;break;case"contextmenu":case"mouseup":case"dragend":M5=!1,L6(f,r,u);break;case"selectionchange":if(UH)break;case"keydown":case"keyup":L6(f,r,u)}var k;if(G3)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ch?LF(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(FF&&r.locale!=="ko"&&(ch||_!=="onCompositionStart"?_==="onCompositionEnd"&&ch&&(k=DF()):(id=u,q3="value"in id?id.value:id.textContent,ch=!0)),C=dy(d,_),0<C.length&&(_=new k6(_,e,null,r,u),f.push({event:_,listeners:C}),k?_.data=k:(k=IF(r),k!==null&&(_.data=k)))),(k=TH?PH(e,r):OH(e,r))&&(d=dy(d,"onBeforeInput"),0<d.length&&(u=new k6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=k))}KF(f,t)})}function rg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=X0(e,r),s!=null&&n.unshift(rg(e,s,a)),s=X0(e,t),s!=null&&n.push(rg(e,s,a))),e=e.return}return n}function Hf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function M6(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=X0(r,s),c!=null&&o.unshift(rg(r,c,l))):a||(c=X0(r,s),c!=null&&o.push(rg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var VH=/\r\n?/g,GH=/\u0000|\uFFFD/g;function $6(e){return(typeof e=="string"?e:""+e).replace(VH,`
`).replace(GH,"")}function Iv(e,t,r){if(t=$6(t),$6(e)!==t&&r)throw Error(vt(425))}function uy(){}var $5=null,B5=null;function z5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var U5=typeof setTimeout=="function"?setTimeout:void 0,KH=typeof clearTimeout=="function"?clearTimeout:void 0,B6=typeof Promise=="function"?Promise:void 0,XH=typeof queueMicrotask=="function"?queueMicrotask:typeof B6<"u"?function(e){return B6.resolve(null).then(e).catch(YH)}:U5;function YH(e){setTimeout(function(){throw e})}function Vj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),J0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);J0(t)}function yd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function z6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Up=Math.random().toString(36).slice(2),nl="__reactFiber$"+Up,ng="__reactProps$"+Up,ic="__reactContainer$"+Up,W5="__reactEvents$"+Up,QH="__reactListeners$"+Up,JH="__reactHandles$"+Up;function _u(e){var t=e[nl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ic]||r[nl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=z6(e);e!==null;){if(r=e[nl])return r;e=z6(e)}return t}e=r,r=e.parentNode}return null}function px(e){return e=e[nl]||e[ic],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(vt(33))}function u2(e){return e[ng]||null}var q5=[],hh=-1;function qd(e){return{current:e}}function xn(e){0>hh||(e.current=q5[hh],q5[hh]=null,hh--)}function cn(e,t){hh++,q5[hh]=e.current,e.current=t}var Pd={},di=qd(Pd),zi=qd(!1),Hu=Pd;function ap(e,t){var r=e.type.contextTypes;if(!r)return Pd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ui(e){return e=e.childContextTypes,e!=null}function fy(){xn(zi),xn(di)}function U6(e,t,r){if(di.current!==Pd)throw Error(vt(168));cn(di,t),cn(zi,r)}function YF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(vt(108,Iq(e)||"Unknown",a));return Cn({},r,n)}function hy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pd,Hu=di.current,cn(di,e),cn(zi,zi.current),!0}function W6(e,t,r){var n=e.stateNode;if(!n)throw Error(vt(169));r?(e=YF(e,t,Hu),n.__reactInternalMemoizedMergedChildContext=e,xn(zi),xn(di),cn(di,e)):xn(zi),cn(zi,r)}var Bl=null,f2=!1,Gj=!1;function QF(e){Bl===null?Bl=[e]:Bl.push(e)}function ZH(e){f2=!0,QF(e)}function Hd(){if(!Gj&&Bl!==null){Gj=!0;var e=0,t=Vr;try{var r=Bl;for(Vr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bl=null,f2=!1}catch(a){throw Bl!==null&&(Bl=Bl.slice(e+1)),jF(B3,Hd),a}finally{Vr=t,Gj=!1}}return null}var ph=[],mh=0,py=null,my=0,Bs=[],zs=0,Vu=null,Ul=1,Wl="";function mu(e,t){ph[mh++]=my,ph[mh++]=py,py=e,my=t}function JF(e,t,r){Bs[zs++]=Ul,Bs[zs++]=Wl,Bs[zs++]=Vu,Vu=e;var n=Ul;e=Wl;var a=32-Co(n)-1;n&=~(1<<a),r+=1;var s=32-Co(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ul=1<<32-Co(t)+a|r<<a|n,Wl=s+e}else Ul=1<<s|r<<a|n,Wl=e}function X3(e){e.return!==null&&(mu(e,1),JF(e,1,0))}function Y3(e){for(;e===py;)py=ph[--mh],ph[mh]=null,my=ph[--mh],ph[mh]=null;for(;e===Vu;)Vu=Bs[--zs],Bs[zs]=null,Wl=Bs[--zs],Bs[zs]=null,Ul=Bs[--zs],Bs[zs]=null}var vs=null,ms=null,bn=!1,jo=null;function ZF(e,t){var r=Ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function q6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vs=e,ms=yd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vs=e,ms=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vu!==null?{id:Ul,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vs=e,ms=null,!0):!1;default:return!1}}function H5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V5(e){if(bn){var t=ms;if(t){var r=t;if(!q6(e,t)){if(H5(e))throw Error(vt(418));t=yd(r.nextSibling);var n=vs;t&&q6(e,t)?ZF(n,r):(e.flags=e.flags&-4097|2,bn=!1,vs=e)}}else{if(H5(e))throw Error(vt(418));e.flags=e.flags&-4097|2,bn=!1,vs=e}}}function H6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vs=e}function Rv(e){if(e!==vs)return!1;if(!bn)return H6(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!z5(e.type,e.memoizedProps)),t&&(t=ms)){if(H5(e))throw eL(),Error(vt(418));for(;t;)ZF(e,t),t=yd(t.nextSibling)}if(H6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(vt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ms=yd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ms=null}}else ms=vs?yd(e.stateNode.nextSibling):null;return!0}function eL(){for(var e=ms;e;)e=yd(e.nextSibling)}function ip(){ms=vs=null,bn=!1}function Q3(e){jo===null?jo=[e]:jo.push(e)}var eV=yc.ReactCurrentBatchConfig;function Ym(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(vt(309));var n=r.stateNode}if(!n)throw Error(vt(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(vt(284));if(!r._owner)throw Error(vt(290,e))}return e}function Mv(e,t){throw e=Object.prototype.toString.call(t),Error(vt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function V6(e){var t=e._init;return t(e._payload)}function tL(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Nd(x,y),x.index=0,x.sibling=null,x}function s(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,N){return y===null||y.tag!==6?(y=eN(w,x.mode,N),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,N){var j=w.type;return j===lh?u(x,y,w.props.children,N,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kc&&V6(j)===y.type)?(N=a(y,w.props),N.ref=Ym(x,y,w),N.return=x,N):(N=B1(w.type,w.key,w.props,null,x.mode,N),N.ref=Ym(x,y,w),N.return=x,N)}function d(x,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=tN(w,x.mode,N),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function u(x,y,w,N,j){return y===null||y.tag!==7?(y=Mu(w,x.mode,N,j),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=eN(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Av:return w=B1(y.type,y.key,y.props,null,x.mode,w),w.ref=Ym(x,null,y),w.return=x,w;case oh:return y=tN(y,x.mode,w),y.return=x,y;case Kc:var N=y._init;return f(x,N(y._payload),w)}if(m0(y)||Hm(y))return y=Mu(y,x.mode,w,null),y.return=x,y;Mv(x,y)}return null}function h(x,y,w,N){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Av:return w.key===j?c(x,y,w,N):null;case oh:return w.key===j?d(x,y,w,N):null;case Kc:return j=w._init,h(x,y,j(w._payload),N)}if(m0(w)||Hm(w))return j!==null?null:u(x,y,w,N,null);Mv(x,w)}return null}function p(x,y,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,l(y,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Av:return x=x.get(N.key===null?w:N.key)||null,c(y,x,N,j);case oh:return x=x.get(N.key===null?w:N.key)||null,d(y,x,N,j);case Kc:var C=N._init;return p(x,y,w,C(N._payload),j)}if(m0(N)||Hm(N))return x=x.get(w)||null,u(y,x,N,j,null);Mv(y,N)}return null}function g(x,y,w,N){for(var j=null,C=null,k=y,_=y=0,L=null;k!==null&&_<w.length;_++){k.index>_?(L=k,k=null):L=k.sibling;var z=h(x,k,w[_],N);if(z===null){k===null&&(k=L);break}e&&k&&z.alternate===null&&t(x,k),y=s(z,y,_),C===null?j=z:C.sibling=z,C=z,k=L}if(_===w.length)return r(x,k),bn&&mu(x,_),j;if(k===null){for(;_<w.length;_++)k=f(x,w[_],N),k!==null&&(y=s(k,y,_),C===null?j=k:C.sibling=k,C=k);return bn&&mu(x,_),j}for(k=n(x,k);_<w.length;_++)L=p(k,x,_,w[_],N),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?_:L.key),y=s(L,y,_),C===null?j=L:C.sibling=L,C=L);return e&&k.forEach(function(D){return t(x,D)}),bn&&mu(x,_),j}function m(x,y,w,N){var j=Hm(w);if(typeof j!="function")throw Error(vt(150));if(w=j.call(w),w==null)throw Error(vt(151));for(var C=j=null,k=y,_=y=0,L=null,z=w.next();k!==null&&!z.done;_++,z=w.next()){k.index>_?(L=k,k=null):L=k.sibling;var D=h(x,k,z.value,N);if(D===null){k===null&&(k=L);break}e&&k&&D.alternate===null&&t(x,k),y=s(D,y,_),C===null?j=D:C.sibling=D,C=D,k=L}if(z.done)return r(x,k),bn&&mu(x,_),j;if(k===null){for(;!z.done;_++,z=w.next())z=f(x,z.value,N),z!==null&&(y=s(z,y,_),C===null?j=z:C.sibling=z,C=z);return bn&&mu(x,_),j}for(k=n(x,k);!z.done;_++,z=w.next())z=p(k,x,_,z.value,N),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?_:z.key),y=s(z,y,_),C===null?j=z:C.sibling=z,C=z);return e&&k.forEach(function(T){return t(x,T)}),bn&&mu(x,_),j}function v(x,y,w,N){if(typeof w=="object"&&w!==null&&w.type===lh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Av:e:{for(var j=w.key,C=y;C!==null;){if(C.key===j){if(j=w.type,j===lh){if(C.tag===7){r(x,C.sibling),y=a(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kc&&V6(j)===C.type){r(x,C.sibling),y=a(C,w.props),y.ref=Ym(x,C,w),y.return=x,x=y;break e}r(x,C);break}else t(x,C);C=C.sibling}w.type===lh?(y=Mu(w.props.children,x.mode,N,w.key),y.return=x,x=y):(N=B1(w.type,w.key,w.props,null,x.mode,N),N.ref=Ym(x,y,w),N.return=x,x=N)}return o(x);case oh:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=tN(w,x.mode,N),y.return=x,x=y}return o(x);case Kc:return C=w._init,v(x,y,C(w._payload),N)}if(m0(w))return g(x,y,w,N);if(Hm(w))return m(x,y,w,N);Mv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=eN(w,x.mode,N),y.return=x,x=y),o(x)):r(x,y)}return v}var sp=tL(!0),rL=tL(!1),gy=qd(null),xy=null,gh=null,J3=null;function Z3(){J3=gh=xy=null}function e_(e){var t=gy.current;xn(gy),e._currentValue=t}function G5(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Th(e,t){xy=e,J3=gh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mi=!0),e.firstContext=null)}function Gs(e){var t=e._currentValue;if(J3!==e)if(e={context:e,memoizedValue:t,next:null},gh===null){if(xy===null)throw Error(vt(308));gh=e,xy.dependencies={lanes:0,firstContext:e}}else gh=gh.next=e;return t}var ku=null;function t_(e){ku===null?ku=[e]:ku.push(e)}function nL(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,t_(t)):(r.next=a.next,a.next=r),t.interleaved=r,sc(e,n)}function sc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xc=!1;function r_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,sc(e,r)}return a=n.interleaved,a===null?(t.next=t,t_(n)):(t.next=a.next,a.next=t),n.interleaved=t,sc(e,r)}function F1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,z3(e,r)}}function G6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vy(e,t,r,n){var a=e.updateQueue;Xc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,u=d=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Cn({},f,h);break e;case 2:Xc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ku|=o,e.lanes=o,e.memoizedState=f}}function K6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(vt(191,a));a.call(n)}}}var mx={},cl=qd(mx),ag=qd(mx),ig=qd(mx);function Au(e){if(e===mx)throw Error(vt(174));return e}function n_(e,t){switch(cn(ig,t),cn(ag,e),cn(cl,mx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A5(t,e)}xn(cl),cn(cl,t)}function op(){xn(cl),xn(ag),xn(ig)}function iL(e){Au(ig.current);var t=Au(cl.current),r=A5(t,e.type);t!==r&&(cn(ag,e),cn(cl,r))}function a_(e){ag.current===e&&(xn(cl),xn(ag))}var _n=qd(0);function yy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kj=[];function i_(){for(var e=0;e<Kj.length;e++)Kj[e]._workInProgressVersionPrimary=null;Kj.length=0}var L1=yc.ReactCurrentDispatcher,Xj=yc.ReactCurrentBatchConfig,Gu=0,kn=null,la=null,wa=null,by=!1,k0=!1,sg=0,tV=0;function Ka(){throw Error(vt(321))}function s_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Do(e[r],t[r]))return!1;return!0}function o_(e,t,r,n,a,s){if(Gu=s,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L1.current=e===null||e.memoizedState===null?iV:sV,e=r(n,a),k0){s=0;do{if(k0=!1,sg=0,25<=s)throw Error(vt(301));s+=1,wa=la=null,t.updateQueue=null,L1.current=oV,e=r(n,a)}while(k0)}if(L1.current=wy,t=la!==null&&la.next!==null,Gu=0,wa=la=kn=null,by=!1,t)throw Error(vt(300));return e}function l_(){var e=sg!==0;return sg=0,e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?kn.memoizedState=wa=e:wa=wa.next=e,wa}function Ks(){if(la===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=la.next;var t=wa===null?kn.memoizedState:wa.next;if(t!==null)wa=t,la=e;else{if(e===null)throw Error(vt(310));la=e,e={memoizedState:la.memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},wa===null?kn.memoizedState=wa=e:wa=wa.next=e}return wa}function og(e,t){return typeof t=="function"?t(e):t}function Yj(e){var t=Ks(),r=t.queue;if(r===null)throw Error(vt(311));r.lastRenderedReducer=e;var n=la,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((Gu&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,kn.lanes|=u,Ku|=u}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=l,Do(n,t.memoizedState)||(Mi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,kn.lanes|=s,Ku|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qj(e){var t=Ks(),r=t.queue;if(r===null)throw Error(vt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Do(s,t.memoizedState)||(Mi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function sL(){}function oL(e,t){var r=kn,n=Ks(),a=t(),s=!Do(n.memoizedState,a);if(s&&(n.memoizedState=a,Mi=!0),n=n.queue,c_(dL.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wa!==null&&wa.memoizedState.tag&1){if(r.flags|=2048,lg(9,cL.bind(null,r,n,a,t),void 0,null),Ea===null)throw Error(vt(349));Gu&30||lL(r,t,a)}return a}function lL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cL(e,t,r,n){t.value=r,t.getSnapshot=n,uL(t)&&fL(e)}function dL(e,t,r){return r(function(){uL(t)&&fL(e)})}function uL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Do(e,r)}catch{return!0}}function fL(e){var t=sc(e,1);t!==null&&Eo(t,e,1,-1)}function X6(e){var t=Zo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:e},t.queue=e,e=e.dispatch=aV.bind(null,kn,e),[t.memoizedState,e]}function lg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hL(){return Ks().memoizedState}function I1(e,t,r,n){var a=Zo();kn.flags|=e,a.memoizedState=lg(1|t,r,void 0,n===void 0?null:n)}function h2(e,t,r,n){var a=Ks();n=n===void 0?null:n;var s=void 0;if(la!==null){var o=la.memoizedState;if(s=o.destroy,n!==null&&s_(n,o.deps)){a.memoizedState=lg(t,r,s,n);return}}kn.flags|=e,a.memoizedState=lg(1|t,r,s,n)}function Y6(e,t){return I1(8390656,8,e,t)}function c_(e,t){return h2(2048,8,e,t)}function pL(e,t){return h2(4,2,e,t)}function mL(e,t){return h2(4,4,e,t)}function gL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xL(e,t,r){return r=r!=null?r.concat([e]):null,h2(4,4,gL.bind(null,t,e),r)}function d_(){}function vL(e,t){var r=Ks();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&s_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yL(e,t){var r=Ks();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&s_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bL(e,t,r){return Gu&21?(Do(r,t)||(r=_F(),kn.lanes|=r,Ku|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mi=!0),e.memoizedState=r)}function rV(e,t){var r=Vr;Vr=r!==0&&4>r?r:4,e(!0);var n=Xj.transition;Xj.transition={};try{e(!1),t()}finally{Vr=r,Xj.transition=n}}function wL(){return Ks().memoizedState}function nV(e,t,r){var n=jd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jL(e))NL(t,r);else if(r=nL(e,t,r,n),r!==null){var a=Ci();Eo(r,e,n,a),SL(r,t,n)}}function aV(e,t,r){var n=jd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jL(e))NL(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Do(l,o)){var c=t.interleaved;c===null?(a.next=a,t_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=nL(e,t,a,n),r!==null&&(a=Ci(),Eo(r,e,n,a),SL(r,t,n))}}function jL(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function NL(e,t){k0=by=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function SL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,z3(e,r)}}var wy={readContext:Gs,useCallback:Ka,useContext:Ka,useEffect:Ka,useImperativeHandle:Ka,useInsertionEffect:Ka,useLayoutEffect:Ka,useMemo:Ka,useReducer:Ka,useRef:Ka,useState:Ka,useDebugValue:Ka,useDeferredValue:Ka,useTransition:Ka,useMutableSource:Ka,useSyncExternalStore:Ka,useId:Ka,unstable_isNewReconciler:!1},iV={readContext:Gs,useCallback:function(e,t){return Zo().memoizedState=[e,t===void 0?null:t],e},useContext:Gs,useEffect:Y6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,I1(4194308,4,gL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return I1(4194308,4,e,t)},useInsertionEffect:function(e,t){return I1(4,2,e,t)},useMemo:function(e,t){var r=Zo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nV.bind(null,kn,e),[n.memoizedState,e]},useRef:function(e){var t=Zo();return e={current:e},t.memoizedState=e},useState:X6,useDebugValue:d_,useDeferredValue:function(e){return Zo().memoizedState=e},useTransition:function(){var e=X6(!1),t=e[0];return e=rV.bind(null,e[1]),Zo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=kn,a=Zo();if(bn){if(r===void 0)throw Error(vt(407));r=r()}else{if(r=t(),Ea===null)throw Error(vt(349));Gu&30||lL(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Y6(dL.bind(null,n,s,e),[e]),n.flags|=2048,lg(9,cL.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Zo(),t=Ea.identifierPrefix;if(bn){var r=Wl,n=Ul;r=(n&~(1<<32-Co(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sV={readContext:Gs,useCallback:vL,useContext:Gs,useEffect:c_,useImperativeHandle:xL,useInsertionEffect:pL,useLayoutEffect:mL,useMemo:yL,useReducer:Yj,useRef:hL,useState:function(){return Yj(og)},useDebugValue:d_,useDeferredValue:function(e){var t=Ks();return bL(t,la.memoizedState,e)},useTransition:function(){var e=Yj(og)[0],t=Ks().memoizedState;return[e,t]},useMutableSource:sL,useSyncExternalStore:oL,useId:wL,unstable_isNewReconciler:!1},oV={readContext:Gs,useCallback:vL,useContext:Gs,useEffect:c_,useImperativeHandle:xL,useInsertionEffect:pL,useLayoutEffect:mL,useMemo:yL,useReducer:Qj,useRef:hL,useState:function(){return Qj(og)},useDebugValue:d_,useDeferredValue:function(e){var t=Ks();return la===null?t.memoizedState=e:bL(t,la.memoizedState,e)},useTransition:function(){var e=Qj(og)[0],t=Ks().memoizedState;return[e,t]},useMutableSource:sL,useSyncExternalStore:oL,useId:wL,unstable_isNewReconciler:!1};function mo(e,t){if(e&&e.defaultProps){t=Cn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function K5(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Cn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var p2={isMounted:function(e){return(e=e._reactInternals)?df(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ci(),a=jd(e),s=Xl(n,a);s.payload=t,r!=null&&(s.callback=r),t=bd(e,s,a),t!==null&&(Eo(t,e,a,n),F1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ci(),a=jd(e),s=Xl(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=bd(e,s,a),t!==null&&(Eo(t,e,a,n),F1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ci(),n=jd(e),a=Xl(r,n);a.tag=2,t!=null&&(a.callback=t),t=bd(e,a,n),t!==null&&(Eo(t,e,n,r),F1(t,e,n))}};function Q6(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!eg(r,n)||!eg(a,s):!0}function _L(e,t,r){var n=!1,a=Pd,s=t.contextType;return typeof s=="object"&&s!==null?s=Gs(s):(a=Ui(t)?Hu:di.current,n=t.contextTypes,s=(n=n!=null)?ap(e,a):Pd),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=p2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function J6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&p2.enqueueReplaceState(t,t.state,null)}function X5(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},r_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Gs(s):(s=Ui(t)?Hu:di.current,a.context=ap(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(K5(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&p2.enqueueReplaceState(a,a.state,null),vy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lp(e,t){try{var r="",n=t;do r+=Lq(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Jj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Y5(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lV=typeof WeakMap=="function"?WeakMap:Map;function kL(e,t,r){r=Xl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ny||(Ny=!0,s4=n),Y5(e,t)},r}function AL(e,t,r){r=Xl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Y5(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Y5(e,t),typeof n!="function"&&(wd===null?wd=new Set([this]):wd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Z6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=jV.bind(null,e,t,r),t.then(e,e))}function eC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tC(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xl(-1,1),t.tag=2,bd(r,t,1))),r.lanes|=1),e)}var cV=yc.ReactCurrentOwner,Mi=!1;function yi(e,t,r,n){t.child=e===null?rL(t,null,r,n):sp(t,e.child,r,n)}function rC(e,t,r,n,a){r=r.render;var s=t.ref;return Th(t,a),n=o_(e,t,r,n,s,a),r=l_(),e!==null&&!Mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oc(e,t,a)):(bn&&r&&X3(t),t.flags|=1,yi(e,t,n,a),t.child)}function nC(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!v_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,CL(e,t,s,n,a)):(e=B1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:eg,r(o,n)&&e.ref===t.ref)return oc(e,t,a)}return t.flags|=1,e=Nd(s,n),e.ref=t.ref,e.return=t,t.child=e}function CL(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(eg(s,n)&&e.ref===t.ref)if(Mi=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Mi=!0);else return t.lanes=e.lanes,oc(e,t,a)}return Q5(e,t,r,n,a)}function EL(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(vh,ss),ss|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,cn(vh,ss),ss|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,cn(vh,ss),ss|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,cn(vh,ss),ss|=n;return yi(e,t,a,r),t.child}function TL(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Q5(e,t,r,n,a){var s=Ui(r)?Hu:di.current;return s=ap(t,s),Th(t,a),r=o_(e,t,r,n,s,a),n=l_(),e!==null&&!Mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,oc(e,t,a)):(bn&&n&&X3(t),t.flags|=1,yi(e,t,r,a),t.child)}function aC(e,t,r,n,a){if(Ui(r)){var s=!0;hy(t)}else s=!1;if(Th(t,a),t.stateNode===null)R1(e,t),_L(t,r,n),X5(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Gs(d):(d=Ui(r)?Hu:di.current,d=ap(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&J6(t,o,n,d),Xc=!1;var h=t.memoizedState;o.state=h,vy(t,n,o,a),c=t.memoizedState,l!==n||h!==c||zi.current||Xc?(typeof u=="function"&&(K5(t,r,u,n),c=t.memoizedState),(l=Xc||Q6(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,aL(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:mo(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Gs(c):(c=Ui(r)?Hu:di.current,c=ap(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&J6(t,o,n,c),Xc=!1,h=t.memoizedState,o.state=h,vy(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||zi.current||Xc?(typeof p=="function"&&(K5(t,r,p,n),g=t.memoizedState),(d=Xc||Q6(t,r,d,n,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return J5(e,t,r,n,s,a)}function J5(e,t,r,n,a,s){TL(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&W6(t,r,!1),oc(e,t,s);n=t.stateNode,cV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sp(t,e.child,null,s),t.child=sp(t,null,l,s)):yi(e,t,l,s),t.memoizedState=n.state,a&&W6(t,r,!0),t.child}function PL(e){var t=e.stateNode;t.pendingContext?U6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&U6(e,t.context,!1),n_(e,t.containerInfo)}function iC(e,t,r,n,a){return ip(),Q3(a),t.flags|=256,yi(e,t,r,n),t.child}var Z5={dehydrated:null,treeContext:null,retryLane:0};function e4(e){return{baseLanes:e,cachePool:null,transitions:null}}function OL(e,t,r){var n=t.pendingProps,a=_n.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),cn(_n,a&1),e===null)return V5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=x2(o,n,0,null),e=Mu(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=e4(r),t.memoizedState=Z5,e):u_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return dV(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nd(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Nd(l,s):(s=Mu(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?e4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Z5,n}return s=e.child,e=s.sibling,n=Nd(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function u_(e,t){return t=x2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $v(e,t,r,n){return n!==null&&Q3(n),sp(t,e.child,null,r),e=u_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dV(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Jj(Error(vt(422))),$v(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=x2({mode:"visible",children:n.children},a,0,null),s=Mu(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&sp(t,e.child,null,o),t.child.memoizedState=e4(o),t.memoizedState=Z5,s);if(!(t.mode&1))return $v(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(vt(419)),n=Jj(s,n,void 0),$v(e,t,o,n)}if(l=(o&e.childLanes)!==0,Mi||l){if(n=Ea,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,sc(e,a),Eo(n,e,a,-1))}return x_(),n=Jj(Error(vt(421))),$v(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=NV.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ms=yd(a.nextSibling),vs=t,bn=!0,jo=null,e!==null&&(Bs[zs++]=Ul,Bs[zs++]=Wl,Bs[zs++]=Vu,Ul=e.id,Wl=e.overflow,Vu=t),t=u_(t,n.children),t.flags|=4096,t)}function sC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),G5(e.return,t,r)}function Zj(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function DL(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(yi(e,t,n.children,r),n=_n.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sC(e,r,t);else if(e.tag===19)sC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(cn(_n,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&yy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Zj(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Zj(t,!0,r,null,s);break;case"together":Zj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function R1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ku|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(vt(153));if(t.child!==null){for(e=t.child,r=Nd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uV(e,t,r){switch(t.tag){case 3:PL(t),ip();break;case 5:iL(t);break;case 1:Ui(t.type)&&hy(t);break;case 4:n_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;cn(gy,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(cn(_n,_n.current&1),t.flags|=128,null):r&t.child.childLanes?OL(e,t,r):(cn(_n,_n.current&1),e=oc(e,t,r),e!==null?e.sibling:null);cn(_n,_n.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return DL(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),cn(_n,_n.current),n)break;return null;case 22:case 23:return t.lanes=0,EL(e,t,r)}return oc(e,t,r)}var FL,t4,LL,IL;FL=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t4=function(){};LL=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Au(cl.current);var s=null;switch(r){case"input":a=N5(e,a),n=N5(e,n),s=[];break;case"select":a=Cn({},a,{value:void 0}),n=Cn({},n,{value:void 0}),s=[];break;case"textarea":a=k5(e,a),n=k5(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uy)}C5(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(G0.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(G0.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&hn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};IL=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qm(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fV(e,t,r){var n=t.pendingProps;switch(Y3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(t),null;case 1:return Ui(t.type)&&fy(),Xa(t),null;case 3:return n=t.stateNode,op(),xn(zi),xn(di),i_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jo!==null&&(c4(jo),jo=null))),t4(e,t),Xa(t),null;case 5:a_(t);var a=Au(ig.current);if(r=t.type,e!==null&&t.stateNode!=null)LL(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(vt(166));return Xa(t),null}if(e=Au(cl.current),Rv(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[nl]=t,n[ng]=s,e=(t.mode&1)!==0,r){case"dialog":hn("cancel",n),hn("close",n);break;case"iframe":case"object":case"embed":hn("load",n);break;case"video":case"audio":for(a=0;a<x0.length;a++)hn(x0[a],n);break;case"source":hn("error",n);break;case"img":case"image":case"link":hn("error",n),hn("load",n);break;case"details":hn("toggle",n);break;case"input":m6(n,s),hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},hn("invalid",n);break;case"textarea":x6(n,s),hn("invalid",n)}C5(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Iv(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Iv(n.textContent,l,e),a=["children",""+l]):G0.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&hn("scroll",n)}switch(r){case"input":Cv(n),g6(n,s,!0);break;case"textarea":Cv(n),v6(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=uy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nl]=t,e[ng]=n,FL(e,t,!1,!1),t.stateNode=e;e:{switch(o=E5(r,n),r){case"dialog":hn("cancel",e),hn("close",e),a=n;break;case"iframe":case"object":case"embed":hn("load",e),a=n;break;case"video":case"audio":for(a=0;a<x0.length;a++)hn(x0[a],e);a=n;break;case"source":hn("error",e),a=n;break;case"img":case"image":case"link":hn("error",e),hn("load",e),a=n;break;case"details":hn("toggle",e),a=n;break;case"input":m6(e,n),a=N5(e,n),hn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Cn({},n,{value:void 0}),hn("invalid",e);break;case"textarea":x6(e,n),a=k5(e,n),hn("invalid",e);break;default:a=n}C5(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?hF(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uF(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&K0(e,c):typeof c=="number"&&K0(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(G0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&hn("scroll",e):c!=null&&L3(e,s,c,o))}switch(r){case"input":Cv(e),g6(e,n,!1);break;case"textarea":Cv(e),v6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Td(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?kh(e,!!n.multiple,s,!1):n.defaultValue!=null&&kh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=uy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xa(t),null;case 6:if(e&&t.stateNode!=null)IL(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(vt(166));if(r=Au(ig.current),Au(cl.current),Rv(t)){if(n=t.stateNode,r=t.memoizedProps,n[nl]=t,(s=n.nodeValue!==r)&&(e=vs,e!==null))switch(e.tag){case 3:Iv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Iv(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nl]=t,t.stateNode=n}return Xa(t),null;case 13:if(xn(_n),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&ms!==null&&t.mode&1&&!(t.flags&128))eL(),ip(),t.flags|=98560,s=!1;else if(s=Rv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(vt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(vt(317));s[nl]=t}else ip(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xa(t),s=!1}else jo!==null&&(c4(jo),jo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_n.current&1?pa===0&&(pa=3):x_())),t.updateQueue!==null&&(t.flags|=4),Xa(t),null);case 4:return op(),t4(e,t),e===null&&tg(t.stateNode.containerInfo),Xa(t),null;case 10:return e_(t.type._context),Xa(t),null;case 17:return Ui(t.type)&&fy(),Xa(t),null;case 19:if(xn(_n),s=t.memoizedState,s===null)return Xa(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Qm(s,!1);else{if(pa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yy(e),o!==null){for(t.flags|=128,Qm(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return cn(_n,_n.current&1|2),t.child}e=e.sibling}s.tail!==null&&Wn()>cp&&(t.flags|=128,n=!0,Qm(s,!1),t.lanes=4194304)}else{if(!n)if(e=yy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return Xa(t),null}else 2*Wn()-s.renderingStartTime>cp&&r!==1073741824&&(t.flags|=128,n=!0,Qm(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Wn(),t.sibling=null,r=_n.current,cn(_n,n?r&1|2:r&1),t):(Xa(t),null);case 22:case 23:return g_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ss&1073741824&&(Xa(t),t.subtreeFlags&6&&(t.flags|=8192)):Xa(t),null;case 24:return null;case 25:return null}throw Error(vt(156,t.tag))}function hV(e,t){switch(Y3(t),t.tag){case 1:return Ui(t.type)&&fy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return op(),xn(zi),xn(di),i_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return a_(t),null;case 13:if(xn(_n),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(vt(340));ip()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(_n),null;case 4:return op(),null;case 10:return e_(t.type._context),null;case 22:case 23:return g_(),null;case 24:return null;default:return null}}var Bv=!1,ni=!1,pV=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function xh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fn(e,t,n)}else r.current=null}function r4(e,t,r){try{r()}catch(n){Fn(e,t,n)}}var oC=!1;function mV(e,t){if($5=ly,e=zF(),K3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===a&&(l=o),h===s&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(B5={focusedElem:e,selectionRange:r},ly=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:mo(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vt(163))}}catch(N){Fn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return g=oC,oC=!1,g}function A0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&r4(t,r,s)}a=a.next}while(a!==n)}}function m2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function n4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function RL(e){var t=e.alternate;t!==null&&(e.alternate=null,RL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nl],delete t[ng],delete t[W5],delete t[QH],delete t[JH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ML(e){return e.tag===5||e.tag===3||e.tag===4}function lC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ML(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function a4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uy));else if(n!==4&&(e=e.child,e!==null))for(a4(e,t,r),e=e.sibling;e!==null;)a4(e,t,r),e=e.sibling}function i4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(i4(e,t,r),e=e.sibling;e!==null;)i4(e,t,r),e=e.sibling}var La=null,yo=!1;function Bc(e,t,r){for(r=r.child;r!==null;)$L(e,t,r),r=r.sibling}function $L(e,t,r){if(ll&&typeof ll.onCommitFiberUnmount=="function")try{ll.onCommitFiberUnmount(o2,r)}catch{}switch(r.tag){case 5:ni||xh(r,t);case 6:var n=La,a=yo;La=null,Bc(e,t,r),La=n,yo=a,La!==null&&(yo?(e=La,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):La.removeChild(r.stateNode));break;case 18:La!==null&&(yo?(e=La,r=r.stateNode,e.nodeType===8?Vj(e.parentNode,r):e.nodeType===1&&Vj(e,r),J0(e)):Vj(La,r.stateNode));break;case 4:n=La,a=yo,La=r.stateNode.containerInfo,yo=!0,Bc(e,t,r),La=n,yo=a;break;case 0:case 11:case 14:case 15:if(!ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r4(r,t,o),a=a.next}while(a!==n)}Bc(e,t,r);break;case 1:if(!ni&&(xh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Fn(r,t,l)}Bc(e,t,r);break;case 21:Bc(e,t,r);break;case 22:r.mode&1?(ni=(n=ni)||r.memoizedState!==null,Bc(e,t,r),ni=n):Bc(e,t,r);break;default:Bc(e,t,r)}}function cC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pV),t.forEach(function(n){var a=SV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function oo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:La=l.stateNode,yo=!1;break e;case 3:La=l.stateNode.containerInfo,yo=!0;break e;case 4:La=l.stateNode.containerInfo,yo=!0;break e}l=l.return}if(La===null)throw Error(vt(160));$L(s,o,a),La=null,yo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Fn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BL(t,e),t=t.sibling}function BL(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oo(t,e),Ko(e),n&4){try{A0(3,e,e.return),m2(3,e)}catch(m){Fn(e,e.return,m)}try{A0(5,e,e.return)}catch(m){Fn(e,e.return,m)}}break;case 1:oo(t,e),Ko(e),n&512&&r!==null&&xh(r,r.return);break;case 5:if(oo(t,e),Ko(e),n&512&&r!==null&&xh(r,r.return),e.flags&32){var a=e.stateNode;try{K0(a,"")}catch(m){Fn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&lF(a,s),E5(l,o);var d=E5(l,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?hF(a,f):u==="dangerouslySetInnerHTML"?uF(a,f):u==="children"?K0(a,f):L3(a,u,f,d)}switch(l){case"input":S5(a,s);break;case"textarea":cF(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kh(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?kh(a,!!s.multiple,s.defaultValue,!0):kh(a,!!s.multiple,s.multiple?[]:"",!1))}a[ng]=s}catch(m){Fn(e,e.return,m)}}break;case 6:if(oo(t,e),Ko(e),n&4){if(e.stateNode===null)throw Error(vt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Fn(e,e.return,m)}}break;case 3:if(oo(t,e),Ko(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{J0(t.containerInfo)}catch(m){Fn(e,e.return,m)}break;case 4:oo(t,e),Ko(e);break;case 13:oo(t,e),Ko(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(p_=Wn())),n&4&&cC(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ni=(d=ni)||u,oo(t,e),ni=d):oo(t,e),Ko(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Rt=e,u=e.child;u!==null;){for(f=Rt=u;Rt!==null;){switch(h=Rt,p=h.child,h.tag){case 0:case 11:case 14:case 15:A0(4,h,h.return);break;case 1:xh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Fn(n,r,m)}}break;case 5:xh(h,h.return);break;case 22:if(h.memoizedState!==null){uC(f);continue}}p!==null?(p.return=h,Rt=p):uC(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fF("display",o))}catch(m){Fn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){Fn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oo(t,e),Ko(e),n&4&&cC(e);break;case 21:break;default:oo(t,e),Ko(e)}}function Ko(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ML(r)){var n=r;break e}r=r.return}throw Error(vt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(K0(a,""),n.flags&=-33);var s=lC(e);i4(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=lC(e);a4(e,l,o);break;default:throw Error(vt(161))}}catch(c){Fn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gV(e,t,r){Rt=e,zL(e)}function zL(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var a=Rt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Bv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ni;l=Bv;var d=ni;if(Bv=o,(ni=c)&&!d)for(Rt=a;Rt!==null;)o=Rt,c=o.child,o.tag===22&&o.memoizedState!==null?fC(a):c!==null?(c.return=o,Rt=c):fC(a);for(;s!==null;)Rt=s,zL(s),s=s.sibling;Rt=a,Bv=l,ni=d}dC(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Rt=s):dC(e)}}function dC(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ni||m2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ni)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:mo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&K6(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}K6(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&J0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vt(163))}ni||t.flags&512&&n4(t)}catch(h){Fn(t,t.return,h)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function uC(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function fC(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{m2(4,t)}catch(c){Fn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Fn(t,a,c)}}var s=t.return;try{n4(t)}catch(c){Fn(t,s,c)}break;case 5:var o=t.return;try{n4(t)}catch(c){Fn(t,o,c)}}}catch(c){Fn(t,t.return,c)}if(t===e){Rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Rt=l;break}Rt=t.return}}var xV=Math.ceil,jy=yc.ReactCurrentDispatcher,f_=yc.ReactCurrentOwner,Vs=yc.ReactCurrentBatchConfig,Er=0,Ea=null,ea=null,Ba=0,ss=0,vh=qd(0),pa=0,cg=null,Ku=0,g2=0,h_=0,C0=null,Ri=null,p_=0,cp=1/0,Ml=null,Ny=!1,s4=null,wd=null,zv=!1,sd=null,Sy=0,E0=0,o4=null,M1=-1,$1=0;function Ci(){return Er&6?Wn():M1!==-1?M1:M1=Wn()}function jd(e){return e.mode&1?Er&2&&Ba!==0?Ba&-Ba:eV.transition!==null?($1===0&&($1=_F()),$1):(e=Vr,e!==0||(e=window.event,e=e===void 0?16:OF(e.type)),e):1}function Eo(e,t,r,n){if(50<E0)throw E0=0,o4=null,Error(vt(185));fx(e,r,n),(!(Er&2)||e!==Ea)&&(e===Ea&&(!(Er&2)&&(g2|=r),pa===4&&Jc(e,Ba)),Wi(e,n),r===1&&Er===0&&!(t.mode&1)&&(cp=Wn()+500,f2&&Hd()))}function Wi(e,t){var r=e.callbackNode;eH(e,t);var n=oy(e,e===Ea?Ba:0);if(n===0)r!==null&&w6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&w6(r),t===1)e.tag===0?ZH(hC.bind(null,e)):QF(hC.bind(null,e)),XH(function(){!(Er&6)&&Hd()}),r=null;else{switch(kF(n)){case 1:r=B3;break;case 4:r=NF;break;case 16:r=sy;break;case 536870912:r=SF;break;default:r=sy}r=XL(r,UL.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function UL(e,t){if(M1=-1,$1=0,Er&6)throw Error(vt(327));var r=e.callbackNode;if(Ph()&&e.callbackNode!==r)return null;var n=oy(e,e===Ea?Ba:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_y(e,n);else{t=n;var a=Er;Er|=2;var s=qL();(Ea!==e||Ba!==t)&&(Ml=null,cp=Wn()+500,Ru(e,t));do try{bV();break}catch(l){WL(e,l)}while(!0);Z3(),jy.current=s,Er=a,ea!==null?t=0:(Ea=null,Ba=0,t=pa)}if(t!==0){if(t===2&&(a=F5(e),a!==0&&(n=a,t=l4(e,a))),t===1)throw r=cg,Ru(e,0),Jc(e,n),Wi(e,Wn()),r;if(t===6)Jc(e,n);else{if(a=e.current.alternate,!(n&30)&&!vV(a)&&(t=_y(e,n),t===2&&(s=F5(e),s!==0&&(n=s,t=l4(e,s))),t===1))throw r=cg,Ru(e,0),Jc(e,n),Wi(e,Wn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(vt(345));case 2:gu(e,Ri,Ml);break;case 3:if(Jc(e,n),(n&130023424)===n&&(t=p_+500-Wn(),10<t)){if(oy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ci(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=U5(gu.bind(null,e,Ri,Ml),t);break}gu(e,Ri,Ml);break;case 4:if(Jc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Co(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Wn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xV(n/1960))-n,10<n){e.timeoutHandle=U5(gu.bind(null,e,Ri,Ml),n);break}gu(e,Ri,Ml);break;case 5:gu(e,Ri,Ml);break;default:throw Error(vt(329))}}}return Wi(e,Wn()),e.callbackNode===r?UL.bind(null,e):null}function l4(e,t){var r=C0;return e.current.memoizedState.isDehydrated&&(Ru(e,t).flags|=256),e=_y(e,t),e!==2&&(t=Ri,Ri=r,t!==null&&c4(t)),e}function c4(e){Ri===null?Ri=e:Ri.push.apply(Ri,e)}function vV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Do(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t){for(t&=~h_,t&=~g2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Co(t),n=1<<r;e[r]=-1,t&=~n}}function hC(e){if(Er&6)throw Error(vt(327));Ph();var t=oy(e,0);if(!(t&1))return Wi(e,Wn()),null;var r=_y(e,t);if(e.tag!==0&&r===2){var n=F5(e);n!==0&&(t=n,r=l4(e,n))}if(r===1)throw r=cg,Ru(e,0),Jc(e,t),Wi(e,Wn()),r;if(r===6)throw Error(vt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gu(e,Ri,Ml),Wi(e,Wn()),null}function m_(e,t){var r=Er;Er|=1;try{return e(t)}finally{Er=r,Er===0&&(cp=Wn()+500,f2&&Hd())}}function Xu(e){sd!==null&&sd.tag===0&&!(Er&6)&&Ph();var t=Er;Er|=1;var r=Vs.transition,n=Vr;try{if(Vs.transition=null,Vr=1,e)return e()}finally{Vr=n,Vs.transition=r,Er=t,!(Er&6)&&Hd()}}function g_(){ss=vh.current,xn(vh)}function Ru(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,KH(r)),ea!==null)for(r=ea.return;r!==null;){var n=r;switch(Y3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fy();break;case 3:op(),xn(zi),xn(di),i_();break;case 5:a_(n);break;case 4:op();break;case 13:xn(_n);break;case 19:xn(_n);break;case 10:e_(n.type._context);break;case 22:case 23:g_()}r=r.return}if(Ea=e,ea=e=Nd(e.current,null),Ba=ss=t,pa=0,cg=null,h_=g2=Ku=0,Ri=C0=null,ku!==null){for(t=0;t<ku.length;t++)if(r=ku[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}ku=null}return e}function WL(e,t){do{var r=ea;try{if(Z3(),L1.current=wy,by){for(var n=kn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}by=!1}if(Gu=0,wa=la=kn=null,k0=!1,sg=0,f_.current=null,r===null||r.return===null){pa=1,cg=t,ea=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Ba,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=eC(o);if(p!==null){p.flags&=-257,tC(p,o,l,s,t),p.mode&1&&Z6(s,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){Z6(s,d,t),x_();break e}c=Error(vt(426))}}else if(bn&&l.mode&1){var v=eC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tC(v,o,l,s,t),Q3(lp(c,l));break e}}s=c=lp(c,l),pa!==4&&(pa=2),C0===null?C0=[s]:C0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=kL(s,c,t);G6(s,x);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wd===null||!wd.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=AL(s,l,t);G6(s,N);break e}}s=s.return}while(s!==null)}VL(r)}catch(j){t=j,ea===r&&r!==null&&(ea=r=r.return);continue}break}while(!0)}function qL(){var e=jy.current;return jy.current=wy,e===null?wy:e}function x_(){(pa===0||pa===3||pa===2)&&(pa=4),Ea===null||!(Ku&268435455)&&!(g2&268435455)||Jc(Ea,Ba)}function _y(e,t){var r=Er;Er|=2;var n=qL();(Ea!==e||Ba!==t)&&(Ml=null,Ru(e,t));do try{yV();break}catch(a){WL(e,a)}while(!0);if(Z3(),Er=r,jy.current=n,ea!==null)throw Error(vt(261));return Ea=null,Ba=0,pa}function yV(){for(;ea!==null;)HL(ea)}function bV(){for(;ea!==null&&!Hq();)HL(ea)}function HL(e){var t=KL(e.alternate,e,ss);e.memoizedProps=e.pendingProps,t===null?VL(e):ea=t,f_.current=null}function VL(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hV(r,t),r!==null){r.flags&=32767,ea=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pa=6,ea=null;return}}else if(r=fV(r,t,ss),r!==null){ea=r;return}if(t=t.sibling,t!==null){ea=t;return}ea=t=e}while(t!==null);pa===0&&(pa=5)}function gu(e,t,r){var n=Vr,a=Vs.transition;try{Vs.transition=null,Vr=1,wV(e,t,r,n)}finally{Vs.transition=a,Vr=n}return null}function wV(e,t,r,n){do Ph();while(sd!==null);if(Er&6)throw Error(vt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(vt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(tH(e,s),e===Ea&&(ea=Ea=null,Ba=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zv||(zv=!0,XL(sy,function(){return Ph(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Vs.transition,Vs.transition=null;var o=Vr;Vr=1;var l=Er;Er|=4,f_.current=null,mV(e,r),BL(r,e),zH(B5),ly=!!$5,B5=$5=null,e.current=r,gV(r),Vq(),Er=l,Vr=o,Vs.transition=s}else e.current=r;if(zv&&(zv=!1,sd=e,Sy=a),s=e.pendingLanes,s===0&&(wd=null),Xq(r.stateNode),Wi(e,Wn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ny)throw Ny=!1,e=s4,s4=null,e;return Sy&1&&e.tag!==0&&Ph(),s=e.pendingLanes,s&1?e===o4?E0++:(E0=0,o4=e):E0=0,Hd(),null}function Ph(){if(sd!==null){var e=kF(Sy),t=Vs.transition,r=Vr;try{if(Vs.transition=null,Vr=16>e?16:e,sd===null)var n=!1;else{if(e=sd,sd=null,Sy=0,Er&6)throw Error(vt(331));var a=Er;for(Er|=4,Rt=e.current;Rt!==null;){var s=Rt,o=s.child;if(Rt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Rt=d;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:A0(8,u,s)}var f=u.child;if(f!==null)f.return=u,Rt=f;else for(;Rt!==null;){u=Rt;var h=u.sibling,p=u.return;if(RL(u),u===d){Rt=null;break}if(h!==null){h.return=p,Rt=h;break}Rt=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Rt=o;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:A0(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Rt=x;break e}Rt=s.return}}var y=e.current;for(Rt=y;Rt!==null;){o=Rt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Rt=w;else e:for(o=y;Rt!==null;){if(l=Rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:m2(9,l)}}catch(j){Fn(l,l.return,j)}if(l===o){Rt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Rt=N;break e}Rt=l.return}}if(Er=a,Hd(),ll&&typeof ll.onPostCommitFiberRoot=="function")try{ll.onPostCommitFiberRoot(o2,e)}catch{}n=!0}return n}finally{Vr=r,Vs.transition=t}}return!1}function pC(e,t,r){t=lp(r,t),t=kL(e,t,1),e=bd(e,t,1),t=Ci(),e!==null&&(fx(e,1,t),Wi(e,t))}function Fn(e,t,r){if(e.tag===3)pC(e,e,r);else for(;t!==null;){if(t.tag===3){pC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wd===null||!wd.has(n))){e=lp(r,e),e=AL(t,e,1),t=bd(t,e,1),e=Ci(),t!==null&&(fx(t,1,e),Wi(t,e));break}}t=t.return}}function jV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ci(),e.pingedLanes|=e.suspendedLanes&r,Ea===e&&(Ba&r)===r&&(pa===4||pa===3&&(Ba&130023424)===Ba&&500>Wn()-p_?Ru(e,0):h_|=r),Wi(e,t)}function GL(e,t){t===0&&(e.mode&1?(t=Pv,Pv<<=1,!(Pv&130023424)&&(Pv=4194304)):t=1);var r=Ci();e=sc(e,t),e!==null&&(fx(e,t,r),Wi(e,r))}function NV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),GL(e,r)}function SV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(vt(314))}n!==null&&n.delete(t),GL(e,r)}var KL;KL=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zi.current)Mi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mi=!1,uV(e,t,r);Mi=!!(e.flags&131072)}else Mi=!1,bn&&t.flags&1048576&&JF(t,my,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;R1(e,t),e=t.pendingProps;var a=ap(t,di.current);Th(t,r),a=o_(null,t,n,e,a,r);var s=l_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ui(n)?(s=!0,hy(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,r_(t),a.updater=p2,t.stateNode=a,a._reactInternals=t,X5(t,n,e,r),t=J5(null,t,n,!0,s,r)):(t.tag=0,bn&&s&&X3(t),yi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(R1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=kV(n),e=mo(n,e),a){case 0:t=Q5(null,t,n,e,r);break e;case 1:t=aC(null,t,n,e,r);break e;case 11:t=rC(null,t,n,e,r);break e;case 14:t=nC(null,t,n,mo(n.type,e),r);break e}throw Error(vt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mo(n,a),Q5(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mo(n,a),aC(e,t,n,a,r);case 3:e:{if(PL(t),e===null)throw Error(vt(387));n=t.pendingProps,s=t.memoizedState,a=s.element,aL(e,t),vy(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=lp(Error(vt(423)),t),t=iC(e,t,n,r,a);break e}else if(n!==a){a=lp(Error(vt(424)),t),t=iC(e,t,n,r,a);break e}else for(ms=yd(t.stateNode.containerInfo.firstChild),vs=t,bn=!0,jo=null,r=rL(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ip(),n===a){t=oc(e,t,r);break e}yi(e,t,n,r)}t=t.child}return t;case 5:return iL(t),e===null&&V5(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,z5(n,a)?o=null:s!==null&&z5(n,s)&&(t.flags|=32),TL(e,t),yi(e,t,o,r),t.child;case 6:return e===null&&V5(t),null;case 13:return OL(e,t,r);case 4:return n_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sp(t,null,n,r):yi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mo(n,a),rC(e,t,n,a,r);case 7:return yi(e,t,t.pendingProps,r),t.child;case 8:return yi(e,t,t.pendingProps.children,r),t.child;case 12:return yi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,cn(gy,n._currentValue),n._currentValue=o,s!==null)if(Do(s.value,o)){if(s.children===a.children&&!zi.current){t=oc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Xl(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),G5(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(vt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),G5(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Th(t,r),a=Gs(a),n=n(a),t.flags|=1,yi(e,t,n,r),t.child;case 14:return n=t.type,a=mo(n,t.pendingProps),a=mo(n.type,a),nC(e,t,n,a,r);case 15:return CL(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mo(n,a),R1(e,t),t.tag=1,Ui(n)?(e=!0,hy(t)):e=!1,Th(t,r),_L(t,n,a),X5(t,n,a,r),J5(null,t,n,!0,e,r);case 19:return DL(e,t,r);case 22:return EL(e,t,r)}throw Error(vt(156,t.tag))};function XL(e,t){return jF(e,t)}function _V(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,r,n){return new _V(e,t,r,n)}function v_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kV(e){if(typeof e=="function")return v_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R3)return 11;if(e===M3)return 14}return 2}function Nd(e,t){var r=e.alternate;return r===null?(r=Ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function B1(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")v_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lh:return Mu(r.children,a,s,t);case I3:o=8,a|=8;break;case y5:return e=Ws(12,r,t,a|2),e.elementType=y5,e.lanes=s,e;case b5:return e=Ws(13,r,t,a),e.elementType=b5,e.lanes=s,e;case w5:return e=Ws(19,r,t,a),e.elementType=w5,e.lanes=s,e;case iF:return x2(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nF:o=10;break e;case aF:o=9;break e;case R3:o=11;break e;case M3:o=14;break e;case Kc:o=16,n=null;break e}throw Error(vt(130,e==null?e:typeof e,""))}return t=Ws(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Mu(e,t,r,n){return e=Ws(7,e,n,t),e.lanes=r,e}function x2(e,t,r,n){return e=Ws(22,e,n,t),e.elementType=iF,e.lanes=r,e.stateNode={isHidden:!1},e}function eN(e,t,r){return e=Ws(6,e,null,t),e.lanes=r,e}function tN(e,t,r){return t=Ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lj(0),this.expirationTimes=Lj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function y_(e,t,r,n,a,s,o,l,c){return e=new AV(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ws(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},r_(s),e}function CV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function YL(e){if(!e)return Pd;e=e._reactInternals;e:{if(df(e)!==e||e.tag!==1)throw Error(vt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ui(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(vt(171))}if(e.tag===1){var r=e.type;if(Ui(r))return YF(e,r,t)}return t}function QL(e,t,r,n,a,s,o,l,c){return e=y_(r,n,!0,e,a,s,o,l,c),e.context=YL(null),r=e.current,n=Ci(),a=jd(r),s=Xl(n,a),s.callback=t??null,bd(r,s,a),e.current.lanes=a,fx(e,a,n),Wi(e,n),e}function v2(e,t,r,n){var a=t.current,s=Ci(),o=jd(a);return r=YL(r),t.context===null?t.context=r:t.pendingContext=r,t=Xl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bd(a,t,o),e!==null&&(Eo(e,a,o,s),F1(e,a,o)),o}function ky(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function b_(e,t){mC(e,t),(e=e.alternate)&&mC(e,t)}function EV(){return null}var JL=typeof reportError=="function"?reportError:function(e){console.error(e)};function w_(e){this._internalRoot=e}y2.prototype.render=w_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(vt(409));v2(e,t,null,null)};y2.prototype.unmount=w_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xu(function(){v2(null,e,null,null)}),t[ic]=null}};function y2(e){this._internalRoot=e}y2.prototype.unstable_scheduleHydration=function(e){if(e){var t=EF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qc.length&&t!==0&&t<Qc[r].priority;r++);Qc.splice(r,0,e),r===0&&PF(e)}};function j_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function b2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gC(){}function TV(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var d=ky(o);s.call(d)}}var o=QL(t,n,e,0,null,!1,!1,"",gC);return e._reactRootContainer=o,e[ic]=o.current,tg(e.nodeType===8?e.parentNode:e),Xu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=ky(c);l.call(d)}}var c=y_(e,0,!1,null,null,!1,!1,"",gC);return e._reactRootContainer=c,e[ic]=c.current,tg(e.nodeType===8?e.parentNode:e),Xu(function(){v2(t,c,r,n)}),c}function w2(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=ky(o);l.call(c)}}v2(t,o,e,a)}else o=TV(r,t,e,a,n);return ky(o)}AF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=g0(t.pendingLanes);r!==0&&(z3(t,r|1),Wi(t,Wn()),!(Er&6)&&(cp=Wn()+500,Hd()))}break;case 13:Xu(function(){var n=sc(e,1);if(n!==null){var a=Ci();Eo(n,e,1,a)}}),b_(e,1)}};U3=function(e){if(e.tag===13){var t=sc(e,134217728);if(t!==null){var r=Ci();Eo(t,e,134217728,r)}b_(e,134217728)}};CF=function(e){if(e.tag===13){var t=jd(e),r=sc(e,t);if(r!==null){var n=Ci();Eo(r,e,t,n)}b_(e,t)}};EF=function(){return Vr};TF=function(e,t){var r=Vr;try{return Vr=e,t()}finally{Vr=r}};P5=function(e,t,r){switch(t){case"input":if(S5(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=u2(n);if(!a)throw Error(vt(90));oF(n),S5(n,a)}}}break;case"textarea":cF(e,r);break;case"select":t=r.value,t!=null&&kh(e,!!r.multiple,t,!1)}};gF=m_;xF=Xu;var PV={usingClientEntryPoint:!1,Events:[px,fh,u2,pF,mF,m_]},Jm={findFiberByHostInstance:_u,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OV={bundleType:Jm.bundleType,version:Jm.version,rendererPackageName:Jm.rendererPackageName,rendererConfig:Jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bF(e),e===null?null:e.stateNode},findFiberByHostInstance:Jm.findFiberByHostInstance||EV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uv.isDisabled&&Uv.supportsFiber)try{o2=Uv.inject(OV),ll=Uv}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PV;_s.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j_(t))throw Error(vt(200));return CV(e,t,null,r)};_s.createRoot=function(e,t){if(!j_(e))throw Error(vt(299));var r=!1,n="",a=JL;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=y_(e,1,!1,null,null,r,!1,n,a),e[ic]=t.current,tg(e.nodeType===8?e.parentNode:e),new w_(t)};_s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(vt(188)):(e=Object.keys(e).join(","),Error(vt(268,e)));return e=bF(t),e=e===null?null:e.stateNode,e};_s.flushSync=function(e){return Xu(e)};_s.hydrate=function(e,t,r){if(!b2(t))throw Error(vt(200));return w2(null,e,t,!0,r)};_s.hydrateRoot=function(e,t,r){if(!j_(e))throw Error(vt(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=JL;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=QL(t,null,e,1,r??null,a,!1,s,o),e[ic]=t.current,tg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new y2(t)};_s.render=function(e,t,r){if(!b2(t))throw Error(vt(200));return w2(null,e,t,!1,r)};_s.unmountComponentAtNode=function(e){if(!b2(e))throw Error(vt(40));return e._reactRootContainer?(Xu(function(){w2(null,null,e,!1,function(){e._reactRootContainer=null,e[ic]=null})}),!0):!1};_s.unstable_batchedUpdates=m_;_s.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!b2(r))throw Error(vt(200));if(e==null||e._reactInternals===void 0)throw Error(vt(38));return w2(e,t,r,!1,n)};_s.version="18.3.1-next-f1338f8080-20240426";function ZL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZL)}catch(e){console.error(e)}}ZL(),ZD.exports=_s;var uf=ZD.exports;const e7=$r(uf);var t7,xC=uf;t7=xC.createRoot,xC.hydrateRoot;const DV=1,FV=1e6;let rN=0;function LV(){return rN=(rN+1)%Number.MAX_SAFE_INTEGER,rN.toString()}const nN=new Map,vC=e=>{if(nN.has(e))return;const t=setTimeout(()=>{nN.delete(e),T0({type:"REMOVE_TOAST",toastId:e})},FV);nN.set(e,t)},IV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?vC(r):e.toasts.forEach(n=>{vC(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},z1=[];let U1={toasts:[]};function T0(e){U1=IV(U1,e),z1.forEach(t=>{t(U1)})}function RV({...e}){const t=LV(),r=a=>T0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>T0({type:"DISMISS_TOAST",toastId:t});return T0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function jn(){const[e,t]=A.useState(U1);return A.useEffect(()=>(z1.push(t),()=>{const r=z1.indexOf(t);r>-1&&z1.splice(r,1)}),[e]),{...e,toast:RV,dismiss:r=>T0({type:"DISMISS_TOAST",toastId:r})}}function ir(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function MV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function r7(...e){return t=>e.forEach(r=>MV(r,t))}function nn(...e){return A.useCallback(r7(...e),e)}function $V(e,t=[]){let r=[];function n(s,o){const l=A.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||l,v=A.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:v,children:p})}function u(f,h){const p=(h==null?void 0:h[e][c])||l,g=A.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,u]}const a=()=>{const s=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,BV(a,...t)]}function BV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Yu=A.forwardRef((e,t)=>{const{children:r,...n}=e,a=A.Children.toArray(r),s=a.find(zV);if(s){const o=s.props.children,l=a.map(c=>c===s?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:c);return i.jsx(d4,{...n,ref:t,children:A.isValidElement(o)?A.cloneElement(o,void 0,l):null})}return i.jsx(d4,{...n,ref:t,children:r})});Yu.displayName="Slot";var d4=A.forwardRef((e,t)=>{const{children:r,...n}=e;if(A.isValidElement(r)){const a=WV(r);return A.cloneElement(r,{...UV(n,r.props),ref:t?r7(t,a):a})}return A.Children.count(r)>1?A.Children.only(null):null});d4.displayName="SlotClone";var n7=({children:e})=>i.jsx(i.Fragment,{children:e});function zV(e){return A.isValidElement(e)&&e.type===n7}function UV(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function WV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function a7(e){const t=e+"CollectionProvider",[r,n]=$V(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,v=ve.useRef(null),x=ve.useRef(new Map).current;return i.jsx(a,{scope:g,itemMap:x,collectionRef:v,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=ve.forwardRef((p,g)=>{const{scope:m,children:v}=p,x=s(l,m),y=nn(g,x.collectionRef);return i.jsx(Yu,{ref:y,children:v})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=ve.forwardRef((p,g)=>{const{scope:m,children:v,...x}=p,y=ve.useRef(null),w=nn(g,y),N=s(d,m);return ve.useEffect(()=>(N.itemMap.set(y,{ref:y,...x}),()=>void N.itemMap.delete(y))),i.jsx(Yu,{[u]:"",ref:w,children:v})});f.displayName=d;function h(p){const g=s(e+"CollectionConsumer",p);return ve.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,j)=>x.indexOf(N.ref.current)-x.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function qV(e,t){const r=A.createContext(t),n=s=>{const{children:o,...l}=s,c=A.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=A.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Wp(e,t=[]){let r=[];function n(s,o){const l=A.createContext(o),c=r.length;r=[...r,o];const d=f=>{var x;const{scope:h,children:p,...g}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=A.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:v,children:p})};d.displayName=s+"Provider";function u(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=A.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,u]}const a=()=>{const s=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,HV(a,...t)]}function HV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var VV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wr=VV.reduce((e,t)=>{const r=A.forwardRef((n,a)=>{const{asChild:s,...o}=n,l=s?Yu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function i7(e,t){e&&uf.flushSync(()=>e.dispatchEvent(t))}function Ns(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function GV(e,t=globalThis==null?void 0:globalThis.document){const r=Ns(e);A.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KV="DismissableLayer",u4="dismissableLayer.update",XV="dismissableLayer.pointerDownOutside",YV="dismissableLayer.focusOutside",yC,s7=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gx=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,d=A.useContext(s7),[u,f]=A.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),g=nn(t,k=>f(k)),m=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=u?m.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=x,j=JV(k=>{const _=k.target,L=[...d.branches].some(z=>z.contains(_));!N||L||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),C=ZV(k=>{const _=k.target;[...d.branches].some(z=>z.contains(_))||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return GV(k=>{y===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),A.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),bC(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yC)}},[u,h,r,d]),A.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),bC())},[u,d]),A.useEffect(()=>{const k=()=>p({});return document.addEventListener(u4,k),()=>document.removeEventListener(u4,k)},[]),i.jsx(wr.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:ir(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ir(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ir(e.onPointerDownCapture,j.onPointerDownCapture)})});gx.displayName=KV;var QV="DismissableLayerBranch",o7=A.forwardRef((e,t)=>{const r=A.useContext(s7),n=A.useRef(null),a=nn(t,n);return A.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(wr.div,{...e,ref:a})});o7.displayName=QV;function JV(e,t=globalThis==null?void 0:globalThis.document){const r=Ns(e),n=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){l7(XV,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ZV(e,t=globalThis==null?void 0:globalThis.document){const r=Ns(e),n=A.useRef(!1);return A.useEffect(()=>{const a=s=>{s.target&&!n.current&&l7(YV,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bC(){const e=new CustomEvent(u4);document.dispatchEvent(e)}function l7(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?i7(a,s):a.dispatchEvent(s)}var eG=gx,tG=o7,ui=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},rG="Portal",j2=A.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=A.useState(!1);ui(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?e7.createPortal(i.jsx(wr.div,{...n,ref:t}),o):null});j2.displayName=rG;function nG(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var ff=e=>{const{present:t,children:r}=e,n=aG(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),s=nn(n.ref,iG(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:s}):null};ff.displayName="Presence";function aG(e){const[t,r]=A.useState(),n=A.useRef({}),a=A.useRef(e),s=A.useRef("none"),o=e?"mounted":"unmounted",[l,c]=nG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const d=Wv(n.current);s.current=l==="mounted"?d:"none"},[l]),ui(()=>{const d=n.current,u=a.current;if(u!==e){const h=s.current,p=Wv(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ui(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const m=Wv(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Wv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:A.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Wv(e){return(e==null?void 0:e.animationName)||"none"}function iG(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function dp({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=sG({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=Ns(r),c=A.useCallback(d=>{if(s){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[s,e,a,l]);return[o,c]}function sG({defaultProp:e,onChange:t}){const r=A.useState(e),[n]=r,a=A.useRef(n),s=Ns(t);return A.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var oG="VisuallyHidden",xx=A.forwardRef((e,t)=>i.jsx(wr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xx.displayName=oG;var lG=xx,N_="ToastProvider",[S_,cG,dG]=a7("Toast"),[c7,BPe]=Wp("Toast",[dG]),[uG,N2]=c7(N_),d7=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=A.useState(null),[d,u]=A.useState(0),f=A.useRef(!1),h=A.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${N_}\`. Expected non-empty \`string\`.`),i.jsx(S_.Provider,{scope:t,children:i.jsx(uG,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:A.useCallback(()=>u(p=>p+1),[]),onToastRemove:A.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};d7.displayName=N_;var u7="ToastViewport",fG=["F8"],f4="toast.viewportPause",h4="toast.viewportResume",f7=A.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=fG,label:a="Notifications ({hotkey})",...s}=e,o=N2(u7,r),l=cG(r),c=A.useRef(null),d=A.useRef(null),u=A.useRef(null),f=A.useRef(null),h=nn(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;A.useEffect(()=>{const v=x=>{var w;n.length!==0&&n.every(N=>x[N]||x.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),A.useEffect(()=>{const v=c.current,x=f.current;if(g&&v&&x){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(f4);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(h4);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!v.contains(C.relatedTarget)&&w()},j=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",N),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const m=A.useCallback(({tabbingDirection:v})=>{const y=l().map(w=>{const N=w.ref.current,j=[N,..._G(N)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return A.useEffect(()=>{const v=f.current;if(v){const x=y=>{var j,C,k;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const _=document.activeElement,L=y.shiftKey;if(y.target===v&&L){(j=d.current)==null||j.focus();return}const T=m({tabbingDirection:L?"backwards":"forwards"}),I=T.findIndex(B=>B===_);aN(T.slice(I+1))?y.preventDefault():L?(C=d.current)==null||C.focus():(k=u.current)==null||k.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,m]),i.jsxs(tG,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(p4,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});aN(v)}}),i.jsx(S_.Slot,{scope:r,children:i.jsx(wr.ol,{tabIndex:-1,...s,ref:h})}),g&&i.jsx(p4,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});aN(v)}})]})});f7.displayName=u7;var h7="ToastFocusProxy",p4=A.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=N2(h7,r);return i.jsx(xx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&n()}})});p4.displayName=h7;var S2="Toast",hG="toast.swipeStart",pG="toast.swipeMove",mG="toast.swipeCancel",gG="toast.swipeEnd",p7=A.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l=!0,c]=dp({prop:n,defaultProp:a,onChange:s});return i.jsx(ff,{present:r||l,children:i.jsx(yG,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ns(e.onPause),onResume:Ns(e.onResume),onSwipeStart:ir(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ir(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ir(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ir(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});p7.displayName=S2;var[xG,vG]=c7(S2,{onClose(){}}),yG=A.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=N2(S2,r),[v,x]=A.useState(null),y=nn(t,B=>x(B)),w=A.useRef(null),N=A.useRef(null),j=a||m.duration,C=A.useRef(0),k=A.useRef(j),_=A.useRef(0),{onToastAdd:L,onToastRemove:z}=m,D=Ns(()=>{var J;(v==null?void 0:v.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),o()}),T=A.useCallback(B=>{!B||B===1/0||(window.clearTimeout(_.current),C.current=new Date().getTime(),_.current=window.setTimeout(D,B))},[D]);A.useEffect(()=>{const B=m.viewport;if(B){const J=()=>{T(k.current),d==null||d()},U=()=>{const X=new Date().getTime()-C.current;k.current=k.current-X,window.clearTimeout(_.current),c==null||c()};return B.addEventListener(f4,U),B.addEventListener(h4,J),()=>{B.removeEventListener(f4,U),B.removeEventListener(h4,J)}}},[m.viewport,j,c,d,T]),A.useEffect(()=>{s&&!m.isClosePausedRef.current&&T(j)},[s,j,m.isClosePausedRef,T]),A.useEffect(()=>(L(),()=>z()),[L,z]);const I=A.useMemo(()=>v?w7(v):null,[v]);return m.viewport?i.jsxs(i.Fragment,{children:[I&&i.jsx(bG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),i.jsx(xG,{scope:r,onClose:D,children:uf.createPortal(i.jsx(S_.ItemSlot,{scope:r,children:i.jsx(eG,{asChild:!0,onEscapeKeyDown:ir(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||D(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(wr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ir(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ir(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:ir(e.onPointerMove,B=>{if(!w.current)return;const J=B.clientX-w.current.x,U=B.clientY-w.current.y,X=!!N.current,M=["left","right"].includes(m.swipeDirection),Q=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,le=M?Q(0,J):0,ue=M?0:Q(0,U),O=B.pointerType==="touch"?10:2,V={x:le,y:ue},Y={originalEvent:B,delta:V};X?(N.current=V,qv(pG,f,Y,{discrete:!1})):wC(V,m.swipeDirection,O)?(N.current=V,qv(hG,u,Y,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(J)>O||Math.abs(U)>O)&&(w.current=null)}),onPointerUp:ir(e.onPointerUp,B=>{const J=N.current,U=B.target;if(U.hasPointerCapture(B.pointerId)&&U.releasePointerCapture(B.pointerId),N.current=null,w.current=null,J){const X=B.currentTarget,M={originalEvent:B,delta:J};wC(J,m.swipeDirection,m.swipeThreshold)?qv(gG,p,M,{discrete:!0}):qv(mG,h,M,{discrete:!0}),X.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),bG=e=>{const{__scopeToast:t,children:r,...n}=e,a=N2(S2,t),[s,o]=A.useState(!1),[l,c]=A.useState(!1);return NG(()=>o(!0)),A.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(j2,{asChild:!0,children:i.jsx(xx,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},wG="ToastTitle",m7=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(wr.div,{...n,ref:t})});m7.displayName=wG;var jG="ToastDescription",g7=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(wr.div,{...n,ref:t})});g7.displayName=jG;var x7="ToastAction",v7=A.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(b7,{altText:r,asChild:!0,children:i.jsx(__,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${x7}\`. Expected non-empty \`string\`.`),null)});v7.displayName=x7;var y7="ToastClose",__=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=vG(y7,r);return i.jsx(b7,{asChild:!0,children:i.jsx(wr.button,{type:"button",...n,ref:t,onClick:ir(e.onClick,a.onClose)})})});__.displayName=y7;var b7=A.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(wr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function w7(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),SG(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...w7(n))}}),t}function qv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?i7(a,s):a.dispatchEvent(s)}var wC=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function NG(e=()=>{}){const t=Ns(e);ui(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function SG(e){return e.nodeType===e.ELEMENT_NODE}function _G(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function aN(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var kG=d7,j7=f7,N7=p7,S7=m7,_7=g7,k7=v7,A7=__;function C7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=C7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=C7(e))&&(n&&(n+=" "),n+=t);return n}const jC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NC=mr,vx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return NC(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=s==null?void 0:s[d];if(u===null)return null;const h=jC(u)||jC(f);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...l}[m]):{...s,...l}[m]===v})?[...d,f,h]:d},[]);return NC(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E7=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>A.createElement("svg",{ref:c,...CG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:E7("lucide",a),...l},[...o.map(([d,u])=>A.createElement(d,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(e,t)=>{const r=A.forwardRef(({className:n,...a},s)=>A.createElement(EG,{ref:s,iconNode:t,className:E7(`lucide-${AG(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Ut("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Ut("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Ut("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ut("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Ut("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ut("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Ut("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Ut("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ut("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=Ut("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Ut("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Ut("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=Ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=Ut("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Ut("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ut("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Ut("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ut("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Ut("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Ut("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Ut("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Ut("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Ut("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Ut("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Ut("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Ut("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Ut("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E_="-",$G=e=>{const t=zG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(E_);return l[0]===""&&l.length!==1&&l.shift(),R7(l,t)||BG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},R7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?R7(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(E_);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},kC=/^\[(.+)\]$/,BG=e=>{if(kC.test(e)){const t=kC.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},zG=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return WG(Object.entries(e.classGroups),r).forEach(([s,o])=>{g4(o,n,s,t)}),n},g4=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:AC(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(UG(a)){g4(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{g4(o,AC(t,s),r,n)})})},AC=(e,t)=>{let r=e;return t.split(E_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},UG=e=>e.isThemeGetter,WG=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,qG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},M7="!",HG=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(d===0){if(x===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(u,v)),u=v+s;continue}if(x==="/"){f=v;continue}}x==="["?d++:x==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(M7),g=p?h.substring(1):h,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},VG=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},GG=e=>({cache:qG(e.cacheSize),parseClassName:HG(e),...$G(e)}),KG=/\s+/,XG=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(KG);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=d+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=d+(l.length>0?" "+l:l);continue}g=!1}const v=VG(u).join(":"),x=f?v+M7:v,y=x+m;if(s.includes(y))continue;s.push(y);const w=a(m,g);for(let N=0;N<w.length;++N){const j=w[N];s.push(x+j)}l=d+(l.length>0?" "+l:l)}return l};function YG(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$7(t))&&(n&&(n+=" "),n+=r);return n}const $7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$7(e[n]))&&(r&&(r+=" "),r+=t);return r};function QG(e,...t){let r,n,a,s=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=GG(d),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=XG(c,r);return a(c,u),u}return function(){return s(YG.apply(null,arguments))}}const fn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},B7=/^\[(?:([a-z-]+):)?(.+)\]$/i,JG=/^\d+\/\d+$/,ZG=new Set(["px","full","screen"]),eK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fl=e=>Oh(e)||ZG.has(e)||JG.test(e),zc=e=>Hp(e,"length",fK),Oh=e=>!!e&&!Number.isNaN(Number(e)),oN=e=>Hp(e,"number",Oh),Zm=e=>!!e&&Number.isInteger(Number(e)),iK=e=>e.endsWith("%")&&Oh(e.slice(0,-1)),gr=e=>B7.test(e),Uc=e=>eK.test(e),sK=new Set(["length","size","percentage"]),oK=e=>Hp(e,sK,z7),lK=e=>Hp(e,"position",z7),cK=new Set(["image","url"]),dK=e=>Hp(e,cK,pK),uK=e=>Hp(e,"",hK),e0=()=>!0,Hp=(e,t,r)=>{const n=B7.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},fK=e=>tK.test(e)&&!rK.test(e),z7=()=>!1,hK=e=>nK.test(e),pK=e=>aK.test(e),mK=()=>{const e=fn("colors"),t=fn("spacing"),r=fn("blur"),n=fn("brightness"),a=fn("borderColor"),s=fn("borderRadius"),o=fn("borderSpacing"),l=fn("borderWidth"),c=fn("contrast"),d=fn("grayscale"),u=fn("hueRotate"),f=fn("invert"),h=fn("gap"),p=fn("gradientColorStops"),g=fn("gradientColorStopPositions"),m=fn("inset"),v=fn("margin"),x=fn("opacity"),y=fn("padding"),w=fn("saturate"),N=fn("scale"),j=fn("sepia"),C=fn("skew"),k=fn("space"),_=fn("translate"),L=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",gr,t],T=()=>[gr,t],I=()=>["",Fl,zc],B=()=>["auto",Oh,gr],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",gr],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Oh,gr];return{cacheSize:500,separator:":",theme:{colors:[e0],spacing:[Fl,zc],blur:["none","",Uc,gr],brightness:ue(),borderColor:[e],borderRadius:["none","","full",Uc,gr],borderSpacing:T(),borderWidth:I(),contrast:ue(),grayscale:Q(),hueRotate:ue(),invert:Q(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[iK,zc],inset:D(),margin:D(),opacity:ue(),padding:T(),saturate:ue(),scale:ue(),sepia:Q(),skew:ue(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",gr]}],container:["container"],columns:[{columns:[Uc]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),gr]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zm,gr]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gr]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Zm,gr]}],"grid-cols":[{"grid-cols":[e0]}],"col-start-end":[{col:["auto",{span:["full",Zm,gr]},gr]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[e0]}],"row-start-end":[{row:["auto",{span:[Zm,gr]},gr]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gr,t]}],"min-w":[{"min-w":[gr,t,"min","max","fit"]}],"max-w":[{"max-w":[gr,t,"none","full","min","max","fit","prose",{screen:[Uc]},Uc]}],h:[{h:[gr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Uc,zc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oN]}],"font-family":[{font:[e0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gr]}],"line-clamp":[{"line-clamp":["none",Oh,oN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fl,gr]}],"list-image":[{"list-image":["none",gr]}],"list-style-type":[{list:["none","disc","decimal",gr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fl,zc]}],"underline-offset":[{"underline-offset":["auto",Fl,gr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),lK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Fl,gr]}],"outline-w":[{outline:[Fl,zc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Fl,zc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Uc,uK]}],"shadow-color":[{shadow:[e0]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Uc,gr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gr]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",gr]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",gr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Zm,gr]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Fl,zc,oN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gK=QG(mK);function Ht(...e){return gK(mr(e))}const xK=kG,U7=A.forwardRef(({className:e,...t},r)=>i.jsx(j7,{ref:r,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));U7.displayName=j7.displayName;const vK=vx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),W7=A.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(N7,{ref:n,className:Ht(vK({variant:t}),e),...r}));W7.displayName=N7.displayName;const yK=A.forwardRef(({className:e,...t},r)=>i.jsx(k7,{ref:r,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yK.displayName=k7.displayName;const q7=A.forwardRef(({className:e,...t},r)=>i.jsx(A7,{ref:r,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(_r,{className:"h-4 w-4"})}));q7.displayName=A7.displayName;const H7=A.forwardRef(({className:e,...t},r)=>i.jsx(S7,{ref:r,className:Ht("text-sm font-semibold",e),...t}));H7.displayName=S7.displayName;const V7=A.forwardRef(({className:e,...t},r)=>i.jsx(_7,{ref:r,className:Ht("text-sm opacity-90",e),...t}));V7.displayName=_7.displayName;function bK(){const{toasts:e}=jn();return i.jsxs(xK,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(W7,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(H7,{children:r}),n&&i.jsx(V7,{children:n})]}),a,i.jsx(q7,{})]},t)}),i.jsx(U7,{})]})}var CC=["light","dark"],wK="(prefers-color-scheme: dark)",jK=A.createContext(void 0),NK={setTheme:e=>{},themes:[]},SK=()=>{var e;return(e=A.useContext(jK))!=null?e:NK};A.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let d=s==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?CC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let x=o?o[g]:g,y=m?g+"|| ''":`'${x}'`,w="";return a&&v&&!m&&CC.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},p=e?`!function(){${u}${h(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${wK}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return A.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var _K=e=>{switch(e){case"success":return CK;case"info":return TK;case"warning":return EK;case"error":return PK;default:return null}},kK=Array(12).fill(0),AK=({visible:e})=>ve.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ve.createElement("div",{className:"sonner-spinner"},kK.map((t,r)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),CK=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EK=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TK=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PK=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OK=()=>{let[e,t]=ve.useState(document.hidden);return ve.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},x4=1,DK=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:x4++,o=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),s=n!==void 0;return a.then(async o=>{if(LK(o)&&!o.ok){s=!1;let l=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:l,description:c})}else if(r.success!==void 0){s=!1;let l=typeof r.success=="function"?await r.success(o):r.success,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async o=>{if(r.error!==void 0){s=!1;let l=typeof r.error=="function"?await r.error(o):r.error,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||x4++;return this.create({jsx:t(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},as=new DK,FK=(e,t)=>{let r=(t==null?void 0:t.id)||x4++;return as.addToast({title:e,...t,id:r}),r},LK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",IK=FK,RK=()=>as.toasts,gi=Object.assign(IK,{success:as.success,info:as.info,warning:as.warning,error:as.error,custom:as.custom,message:as.message,promise:as.promise,dismiss:as.dismiss,loading:as.loading},{getHistory:RK});function MK(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}MK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vv(e){return e.label!==void 0}var $K=3,BK="32px",zK=4e3,UK=356,WK=14,qK=20,HK=200;function VK(...e){return e.filter(Boolean).join(" ")}var GK=e=>{var t,r,n,a,s,o,l,c,d,u;let{invert:f,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:v,heights:x,index:y,toasts:w,expanded:N,removeToast:j,defaultRichColors:C,closeButton:k,style:_,cancelButtonStyle:L,actionButtonStyle:z,className:D="",descriptionClassName:T="",duration:I,position:B,gap:J,loadingIcon:U,expandByDefault:X,classNames:M,icons:Q,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:ue,cn:O}=e,[V,Y]=ve.useState(!1),[q,P]=ve.useState(!1),[R,G]=ve.useState(!1),[W,H]=ve.useState(!1),[me,ae]=ve.useState(0),[be,te]=ve.useState(0),ge=ve.useRef(null),re=ve.useRef(null),Oe=y===0,Pe=y+1<=v,ke=h.type,Le=h.dismissible!==!1,Ge=h.className||"",ut=h.descriptionClassName||"",bt=ve.useMemo(()=>x.findIndex(xt=>xt.toastId===h.id)||0,[x,h.id]),Ct=ve.useMemo(()=>{var xt;return(xt=h.closeButton)!=null?xt:k},[h.closeButton,k]),Dt=ve.useMemo(()=>h.duration||I||zK,[h.duration,I]),ce=ve.useRef(0),Je=ve.useRef(0),ct=ve.useRef(0),ft=ve.useRef(null),[gt,he]=B.split("-"),ze=ve.useMemo(()=>x.reduce((xt,Xt,It)=>It>=bt?xt:xt+Xt.height,0),[x,bt]),Xe=OK(),fe=h.invert||f,tt=ke==="loading";Je.current=ve.useMemo(()=>bt*J+ze,[bt,ze]),ve.useEffect(()=>{Y(!0)},[]),ve.useLayoutEffect(()=>{if(!V)return;let xt=re.current,Xt=xt.style.height;xt.style.height="auto";let It=xt.getBoundingClientRect().height;xt.style.height=Xt,te(It),m(Ar=>Ar.find(yn=>yn.toastId===h.id)?Ar.map(yn=>yn.toastId===h.id?{...yn,height:It}:yn):[{toastId:h.id,height:It,position:h.position},...Ar])},[V,h.title,h.description,m,h.id]);let wt=ve.useCallback(()=>{P(!0),ae(Je.current),m(xt=>xt.filter(Xt=>Xt.toastId!==h.id)),setTimeout(()=>{j(h)},HK)},[h,j,m,Je]);ve.useEffect(()=>{if(h.promise&&ke==="loading"||h.duration===1/0||h.type==="loading")return;let xt,Xt=Dt;return N||g||ue&&Xe?(()=>{if(ct.current<ce.current){let It=new Date().getTime()-ce.current;Xt=Xt-It}ct.current=new Date().getTime()})():Xt!==1/0&&(ce.current=new Date().getTime(),xt=setTimeout(()=>{var It;(It=h.onAutoClose)==null||It.call(h,h),wt()},Xt)),()=>clearTimeout(xt)},[N,g,X,h,Dt,wt,h.promise,ke,ue,Xe]),ve.useEffect(()=>{let xt=re.current;if(xt){let Xt=xt.getBoundingClientRect().height;return te(Xt),m(It=>[{toastId:h.id,height:Xt,position:h.position},...It]),()=>m(It=>It.filter(Ar=>Ar.toastId!==h.id))}},[m,h.id]),ve.useEffect(()=>{h.delete&&wt()},[wt,h.delete]);function dr(){return Q!=null&&Q.loading?ve.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},Q.loading):U?ve.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},U):ve.createElement(AK,{visible:ke==="loading"})}return ve.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:re,className:O(D,Ge,M==null?void 0:M.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[ke],(r=h==null?void 0:h.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":V,"data-promise":!!h.promise,"data-removed":q,"data-visible":Pe,"data-y-position":gt,"data-x-position":he,"data-index":y,"data-front":Oe,"data-swiping":R,"data-dismissible":Le,"data-type":ke,"data-invert":fe,"data-swipe-out":W,"data-expanded":!!(N||X&&V),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${q?me:Je.current}px`,"--initial-height":X?"auto":`${be}px`,..._,...h.style},onPointerDown:xt=>{tt||!Le||(ge.current=new Date,ae(Je.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(G(!0),ft.current={x:xt.clientX,y:xt.clientY}))},onPointerUp:()=>{var xt,Xt,It,Ar;if(W||!Le)return;ft.current=null;let yn=Number(((xt=re.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Nr=new Date().getTime()-((Xt=ge.current)==null?void 0:Xt.getTime()),Vt=Math.abs(yn)/Nr;if(Math.abs(yn)>=qK||Vt>.11){ae(Je.current),(It=h.onDismiss)==null||It.call(h,h),wt(),H(!0);return}(Ar=re.current)==null||Ar.style.setProperty("--swipe-amount","0px"),G(!1)},onPointerMove:xt=>{var Xt;if(!ft.current||!Le)return;let It=xt.clientY-ft.current.y,Ar=xt.clientX-ft.current.x,yn=(gt==="top"?Math.min:Math.max)(0,It),Nr=xt.pointerType==="touch"?10:2;Math.abs(yn)>Nr?(Xt=re.current)==null||Xt.style.setProperty("--swipe-amount",`${It}px`):Math.abs(Ar)>Nr&&(ft.current=null)}},Ct&&!h.jsx?ve.createElement("button",{"aria-label":le,"data-disabled":tt,"data-close-button":!0,onClick:tt||!Le?()=>{}:()=>{var xt;wt(),(xt=h.onDismiss)==null||xt.call(h,h)},className:O(M==null?void 0:M.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||ve.isValidElement(h.title)?h.jsx||h.title:ve.createElement(ve.Fragment,null,ke||h.icon||h.promise?ve.createElement("div",{"data-icon":"",className:O(M==null?void 0:M.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||dr():null,h.type!=="loading"?h.icon||(Q==null?void 0:Q[ke])||_K(ke):null):null,ve.createElement("div",{"data-content":"",className:O(M==null?void 0:M.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:O(M==null?void 0:M.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?ve.createElement("div",{"data-description":"",className:O(T,ut,M==null?void 0:M.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),ve.isValidElement(h.cancel)?h.cancel:h.cancel&&Vv(h.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||L,onClick:xt=>{var Xt,It;Vv(h.cancel)&&Le&&((It=(Xt=h.cancel).onClick)==null||It.call(Xt,xt),wt())},className:O(M==null?void 0:M.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,ve.isValidElement(h.action)?h.action:h.action&&Vv(h.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||z,onClick:xt=>{var Xt,It;Vv(h.action)&&(xt.defaultPrevented||((It=(Xt=h.action).onClick)==null||It.call(Xt,xt),wt()))},className:O(M==null?void 0:M.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function EC(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var KK=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:h=$K,toastOptions:p,dir:g=EC(),gap:m=WK,loadingIcon:v,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:N=VK}=e,[j,C]=ve.useState([]),k=ve.useMemo(()=>Array.from(new Set([r].concat(j.filter(ue=>ue.position).map(ue=>ue.position)))),[j,r]),[_,L]=ve.useState([]),[z,D]=ve.useState(!1),[T,I]=ve.useState(!1),[B,J]=ve.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=ve.useRef(null),X=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=ve.useRef(null),Q=ve.useRef(!1),le=ve.useCallback(ue=>{var O;(O=j.find(V=>V.id===ue.id))!=null&&O.delete||as.dismiss(ue.id),C(V=>V.filter(({id:Y})=>Y!==ue.id))},[j]);return ve.useEffect(()=>as.subscribe(ue=>{if(ue.dismiss){C(O=>O.map(V=>V.id===ue.id?{...V,delete:!0}:V));return}setTimeout(()=>{e7.flushSync(()=>{C(O=>{let V=O.findIndex(Y=>Y.id===ue.id);return V!==-1?[...O.slice(0,V),{...O[V],...ue},...O.slice(V+1)]:[ue,...O]})})})}),[]),ve.useEffect(()=>{if(c!=="system"){J(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ue})=>{J(ue?"dark":"light")})},[c]),ve.useEffect(()=>{j.length<=1&&D(!1)},[j]),ve.useEffect(()=>{let ue=O=>{var V,Y;n.every(q=>O[q]||O.code===q)&&(D(!0),(V=U.current)==null||V.focus()),O.code==="Escape"&&(document.activeElement===U.current||(Y=U.current)!=null&&Y.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[n]),ve.useEffect(()=>{if(U.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,Q.current=!1)}},[U.current]),j.length?ve.createElement("section",{"aria-label":`${y} ${X}`,tabIndex:-1},k.map((ue,O)=>{var V;let[Y,q]=ue.split("-");return ve.createElement("ol",{key:ue,dir:g==="auto"?EC():g,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Y,"data-x-position":q,style:{"--front-toast-height":`${((V=_[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||BK,"--width":`${UK}px`,"--gap":`${m}px`,...f},onBlur:P=>{Q.current&&!P.currentTarget.contains(P.relatedTarget)&&(Q.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,M.current=P.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{T||D(!1)},onPointerDown:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(P=>!P.position&&O===0||P.position===ue).map((P,R)=>{var G,W;return ve.createElement(GK,{key:P.id,icons:x,index:R,toast:P,defaultRichColors:d,duration:(G=p==null?void 0:p.duration)!=null?G:u,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(W=p==null?void 0:p.closeButton)!=null?W:s,interacting:T,position:ue,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:le,toasts:j.filter(H=>H.position==P.position),heights:_.filter(H=>H.position==P.position),setHeights:L,expandByDefault:a,gap:m,loadingIcon:v,expanded:z,pauseWhenPageIsHidden:w,cn:N})}))})):null};const XK=({...e})=>{const{theme:t="system"}=SK();return i.jsx(KK,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var YK=QD.useId||(()=>{}),QK=0;function Dh(e){const[t,r]=A.useState(YK());return ui(()=>{r(n=>n??String(QK++))},[e]),t?`radix-${t}`:""}const JK=["top","right","bottom","left"],Dd=Math.min,cs=Math.max,Cy=Math.round,Gv=Math.floor,Fd=e=>({x:e,y:e}),ZK={left:"right",right:"left",bottom:"top",top:"bottom"},eX={start:"end",end:"start"};function v4(e,t,r){return cs(e,Dd(t,r))}function lc(e,t){return typeof e=="function"?e(t):e}function cc(e){return e.split("-")[0]}function Vp(e){return e.split("-")[1]}function T_(e){return e==="x"?"y":"x"}function P_(e){return e==="y"?"height":"width"}function Ld(e){return["top","bottom"].includes(cc(e))?"y":"x"}function O_(e){return T_(Ld(e))}function tX(e,t,r){r===void 0&&(r=!1);const n=Vp(e),a=O_(e),s=P_(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Ey(o)),[o,Ey(o)]}function rX(e){const t=Ey(e);return[y4(e),t,y4(t)]}function y4(e){return e.replace(/start|end/g,t=>eX[t])}function nX(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:o;default:return[]}}function aX(e,t,r,n){const a=Vp(e);let s=nX(cc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(y4)))),s}function Ey(e){return e.replace(/left|right|bottom|top/g,t=>ZK[t])}function iX(e){return{top:0,right:0,bottom:0,left:0,...e}}function G7(e){return typeof e!="number"?iX(e):{top:e,right:e,bottom:e,left:e}}function Ty(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function TC(e,t,r){let{reference:n,floating:a}=e;const s=Ld(t),o=O_(t),l=P_(o),c=cc(t),d=s==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Vp(t)){case"start":p[o]-=h*(r&&d?-1:1);break;case"end":p[o]+=h*(r&&d?-1:1);break}return p}const sX=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=TC(d,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:y,y:w,data:N,reset:j}=await x({x:u,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,p={...p,[v]:{...p[v],...N}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:u,y:f}=TC(d,h,c)),m=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:p}};async function ug(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=lc(t,e),g=G7(p),v=l[h?f==="floating"?"reference":"floating":f],x=Ty(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Ty(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-j.top+g.top)/N.y,bottom:(j.bottom-x.bottom+g.bottom)/N.y,left:(x.left-j.left+g.left)/N.x,right:(j.right-x.right+g.right)/N.x}}const oX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=lc(e,t)||{};if(d==null)return{};const f=G7(u),h={x:r,y:n},p=O_(a),g=P_(p),m=await o.getDimensions(d),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=s.reference[g]+s.reference[p]-h[p]-s.floating[g],j=h[p]-s.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=C?C[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[w]||s.floating[g]);const _=N/2-j/2,L=k/2-m[g]/2-1,z=Dd(f[x],L),D=Dd(f[y],L),T=z,I=k-m[g]-D,B=k/2-m[g]/2+_,J=v4(T,B,I),U=!c.arrow&&Vp(a)!=null&&B!==J&&s.reference[g]/2-(B<T?z:D)-m[g]/2<0,X=U?B<T?B-T:B-I:0;return{[p]:h[p]+X,data:{[p]:J,centerOffset:B-J-X,...U&&{alignmentOffset:X}},reset:U}}}),lX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=lc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=cc(a),y=Ld(l),w=cc(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=h||(w||!m?[Ey(l)]:rX(l)),C=g!=="none";!h&&C&&j.push(...aX(l,m,g,N));const k=[l,...j],_=await ug(t,v),L=[];let z=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&L.push(_[x]),f){const B=tX(a,o,N);L.push(_[B[0]],_[B[1]])}if(z=[...z,{placement:a,overflows:L}],!L.every(B=>B<=0)){var D,T;const B=(((D=s.flip)==null?void 0:D.index)||0)+1,J=k[B];if(J)return{data:{index:B,overflows:z},reset:{placement:J}};let U=(T=z.filter(X=>X.overflows[0]<=0).sort((X,M)=>X.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!U)switch(p){case"bestFit":{var I;const X=(I=z.filter(M=>{if(C){const Q=Ld(M.placement);return Q===y||Q==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Q=>Q>0).reduce((Q,le)=>Q+le,0)]).sort((M,Q)=>M[1]-Q[1])[0])==null?void 0:I[0];X&&(U=X);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function PC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function OC(e){return JK.some(t=>e[t]>=0)}const cX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=lc(e,t);switch(n){case"referenceHidden":{const s=await ug(t,{...a,elementContext:"reference"}),o=PC(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:OC(o)}}}case"escaped":{const s=await ug(t,{...a,altBoundary:!0}),o=PC(s,r.floating);return{data:{escapedOffsets:o,escaped:OC(o)}}}default:return{}}}}};async function dX(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=cc(r),l=Vp(r),c=Ld(r)==="y",d=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,f=lc(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const uX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await dX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},fX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y}=v;return{x,y}}},...c}=lc(e,t),d={x:r,y:n},u=await ug(t,c),f=Ld(cc(a)),h=T_(f);let p=d[h],g=d[f];if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+u[v],w=p-u[x];p=v4(y,p,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=g+u[v],w=g-u[x];g=v4(y,g,w)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:o}}}}}},hX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=lc(e,t),u={x:r,y:n},f=Ld(a),h=T_(f);let p=u[h],g=u[f];const m=lc(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",N=s.reference[h]-s.floating[w]+v.mainAxis,j=s.reference[h]+s.reference[w]-v.mainAxis;p<N?p=N:p>j&&(p=j)}if(d){var x,y;const w=h==="y"?"width":"height",N=["top","left"].includes(cc(a)),j=s.reference[f]-s.floating[w]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:v.crossAxis),C=s.reference[f]+s.reference[w]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?v.crossAxis:0);g<j?g=j:g>C&&(g=C)}return{[h]:p,[f]:g}}}},pX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...d}=lc(e,t),u=await ug(t,d),f=cc(a),h=Vp(a),p=Ld(a)==="y",{width:g,height:m}=s.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const y=m-u.top-u.bottom,w=g-u.left-u.right,N=Dd(m-u[v],y),j=Dd(g-u[x],w),C=!t.middlewareData.shift;let k=N,_=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(_=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),C&&!h){const z=cs(u.left,0),D=cs(u.right,0),T=cs(u.top,0),I=cs(u.bottom,0);p?_=g-2*(z!==0||D!==0?z+D:cs(u.left,u.right)):k=m-2*(T!==0||I!==0?T+I:cs(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:k});const L=await o.getDimensions(l.floating);return g!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function A2(){return typeof window<"u"}function Gp(e){return K7(e)?(e.nodeName||"").toLowerCase():"#document"}function ys(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bl(e){var t;return(t=(K7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function K7(e){return A2()?e instanceof Node||e instanceof ys(e).Node:!1}function Lo(e){return A2()?e instanceof Element||e instanceof ys(e).Element:!1}function gl(e){return A2()?e instanceof HTMLElement||e instanceof ys(e).HTMLElement:!1}function DC(e){return!A2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ys(e).ShadowRoot}function yx(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Io(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function mX(e){return["table","td","th"].includes(Gp(e))}function C2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function D_(e){const t=F_(),r=Lo(e)?Io(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function gX(e){let t=Id(e);for(;gl(t)&&!up(t);){if(D_(t))return t;if(C2(t))return null;t=Id(t)}return null}function F_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function up(e){return["html","body","#document"].includes(Gp(e))}function Io(e){return ys(e).getComputedStyle(e)}function E2(e){return Lo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Id(e){if(Gp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DC(e)&&e.host||bl(e);return DC(t)?t.host:t}function X7(e){const t=Id(e);return up(t)?e.ownerDocument?e.ownerDocument.body:e.body:gl(t)&&yx(t)?t:X7(t)}function fg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=X7(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ys(a);if(s){const l=b4(o);return t.concat(o,o.visualViewport||[],yx(a)?a:[],l&&r?fg(l):[])}return t.concat(a,fg(a,[],r))}function b4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Y7(e){const t=Io(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=gl(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Cy(r)!==s||Cy(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function L_(e){return Lo(e)?e:e.contextElement}function Fh(e){const t=L_(e);if(!gl(t))return Fd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=Y7(t);let o=(s?Cy(r.width):r.width)/n,l=(s?Cy(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const xX=Fd(0);function Q7(e){const t=ys(e);return!F_()||!t.visualViewport?xX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ys(e)?!1:t}function Qu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=L_(e);let o=Fd(1);t&&(n?Lo(n)&&(o=Fh(n)):o=Fh(e));const l=vX(s,r,n)?Q7(s):Fd(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(s){const h=ys(s),p=n&&Lo(n)?ys(n):n;let g=h,m=b4(g);for(;m&&n&&p!==g;){const v=Fh(m),x=m.getBoundingClientRect(),y=Io(m),w=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,N=x.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,f*=v.y,c+=w,d+=N,g=ys(m),m=b4(g)}}return Ty({width:u,height:f,x:c,y:d})}function yX(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=bl(n),l=t?C2(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=Fd(1);const u=Fd(0),f=gl(n);if((f||!f&&!s)&&((Gp(n)!=="body"||yx(o))&&(c=E2(n)),gl(n))){const h=Qu(n);d=Fh(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function bX(e){return Array.from(e.getClientRects())}function w4(e,t){const r=E2(e).scrollLeft;return t?t.left+r:Qu(bl(e)).left+r}function wX(e){const t=bl(e),r=E2(e),n=e.ownerDocument.body,a=cs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=cs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+w4(e);const l=-r.scrollTop;return Io(n).direction==="rtl"&&(o+=cs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function jX(e,t){const r=ys(e),n=bl(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=F_();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function NX(e,t){const r=Qu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=gl(e)?Fh(e):Fd(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function FC(e,t,r){let n;if(t==="viewport")n=jX(e,r);else if(t==="document")n=wX(bl(e));else if(Lo(t))n=NX(t,r);else{const a=Q7(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return Ty(n)}function J7(e,t){const r=Id(e);return r===t||!Lo(r)||up(r)?!1:Io(r).position==="fixed"||J7(r,t)}function SX(e,t){const r=t.get(e);if(r)return r;let n=fg(e,[],!1).filter(l=>Lo(l)&&Gp(l)!=="body"),a=null;const s=Io(e).position==="fixed";let o=s?Id(e):e;for(;Lo(o)&&!up(o);){const l=Io(o),c=D_(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||yx(o)&&!c&&J7(e,o))?n=n.filter(u=>u!==o):a=l,o=Id(o)}return t.set(e,n),n}function _X(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?C2(t)?[]:SX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=FC(t,u,a);return d.top=cs(f.top,d.top),d.right=Dd(f.right,d.right),d.bottom=Dd(f.bottom,d.bottom),d.left=cs(f.left,d.left),d},FC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kX(e){const{width:t,height:r}=Y7(e);return{width:t,height:r}}function AX(e,t,r){const n=gl(t),a=bl(t),s=r==="fixed",o=Qu(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Fd(0);if(n||!n&&!s)if((Gp(t)!=="body"||yx(a))&&(l=E2(t)),n){const p=Qu(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=w4(a));let d=0,u=0;if(a&&!n&&!s){const p=a.getBoundingClientRect();u=p.top+l.scrollTop,d=p.left+l.scrollLeft-w4(a,p)}const f=o.left+l.scrollLeft-c.x-d,h=o.top+l.scrollTop-c.y-u;return{x:f,y:h,width:o.width,height:o.height}}function lN(e){return Io(e).position==="static"}function LC(e,t){if(!gl(e)||Io(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bl(e)===r&&(r=r.ownerDocument.body),r}function Z7(e,t){const r=ys(e);if(C2(e))return r;if(!gl(e)){let a=Id(e);for(;a&&!up(a);){if(Lo(a)&&!lN(a))return a;a=Id(a)}return r}let n=LC(e,t);for(;n&&mX(n)&&lN(n);)n=LC(n,t);return n&&up(n)&&lN(n)&&!D_(n)?r:n||gX(e)||r}const CX=async function(e){const t=this.getOffsetParent||Z7,r=this.getDimensions,n=await r(e.floating);return{reference:AX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function EX(e){return Io(e).direction==="rtl"}const TX={convertOffsetParentRelativeRectToViewportRelativeRect:yX,getDocumentElement:bl,getClippingRect:_X,getOffsetParent:Z7,getElementRects:CX,getClientRects:bX,getDimensions:kX,getScale:Fh,isElement:Lo,isRTL:EX};function PX(e,t){let r=null,n;const a=bl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=Gv(u),g=Gv(a.clientWidth-(d+f)),m=Gv(a.clientHeight-(u+h)),v=Gv(d),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:cs(0,Dd(1,c))||1};let w=!0;function N(j){const C=j[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return o(!0),s}function OX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=L_(e),u=a||s?[...d?fg(d):[],...fg(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=d&&l?PX(d,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let g,m=c?Qu(e):null;c&&v();function v(){const x=Qu(e);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;u.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const DX=uX,FX=fX,LX=lX,IX=pX,RX=cX,IC=oX,MX=hX,$X=(e,t,r)=>{const n=new Map,a={platform:TX,...r},s={...a.platform,_c:n};return sX(e,t,{...a,platform:s})};var W1=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Py(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Py(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Py(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function eI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RC(e,t){const r=eI(e);return Math.round(t*r)/r}function cN(e){const t=A.useRef(e);return W1(()=>{t.current=e}),t}function BX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=A.useState(n);Py(h,n)||p(n);const[g,m]=A.useState(null),[v,x]=A.useState(null),y=A.useCallback(M=>{M!==C.current&&(C.current=M,m(M))},[]),w=A.useCallback(M=>{M!==k.current&&(k.current=M,x(M))},[]),N=s||g,j=o||v,C=A.useRef(null),k=A.useRef(null),_=A.useRef(u),L=c!=null,z=cN(c),D=cN(a),T=cN(d),I=A.useCallback(()=>{if(!C.current||!k.current)return;const M={placement:t,strategy:r,middleware:h};D.current&&(M.platform=D.current),$X(C.current,k.current,M).then(Q=>{const le={...Q,isPositioned:T.current!==!1};B.current&&!Py(_.current,le)&&(_.current=le,uf.flushSync(()=>{f(le)}))})},[h,t,r,D,T]);W1(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const B=A.useRef(!1);W1(()=>(B.current=!0,()=>{B.current=!1}),[]),W1(()=>{if(N&&(C.current=N),j&&(k.current=j),N&&j){if(z.current)return z.current(N,j,I);I()}},[N,j,I,z,L]);const J=A.useMemo(()=>({reference:C,floating:k,setReference:y,setFloating:w}),[y,w]),U=A.useMemo(()=>({reference:N,floating:j}),[N,j]),X=A.useMemo(()=>{const M={position:r,left:0,top:0};if(!U.floating)return M;const Q=RC(U.floating,u.x),le=RC(U.floating,u.y);return l?{...M,transform:"translate("+Q+"px, "+le+"px)",...eI(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:le}},[r,l,U.floating,u.x,u.y]);return A.useMemo(()=>({...u,update:I,refs:J,elements:U,floatingStyles:X}),[u,I,J,U,X])}const zX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?IC({element:n.current,padding:a}).fn(r):{}:n?IC({element:n,padding:a}).fn(r):{}}}},UX=(e,t)=>({...DX(e),options:[e,t]}),WX=(e,t)=>({...FX(e),options:[e,t]}),qX=(e,t)=>({...MX(e),options:[e,t]}),HX=(e,t)=>({...LX(e),options:[e,t]}),VX=(e,t)=>({...IX(e),options:[e,t]}),GX=(e,t)=>({...RX(e),options:[e,t]}),KX=(e,t)=>({...zX(e),options:[e,t]});var XX="Arrow",tI=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(wr.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});tI.displayName=XX;var YX=tI;function QX(e,t=[]){let r=[];function n(s,o){const l=A.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||l,v=A.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:v,children:p})}function u(f,h){const p=(h==null?void 0:h[e][c])||l,g=A.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,u]}const a=()=>{const s=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,JX(a,...t)]}function JX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function I_(e){const[t,r]=A.useState(void 0);return ui(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var R_="Popper",[rI,T2]=QX(R_),[ZX,nI]=rI(R_),aI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=A.useState(null);return i.jsx(ZX,{scope:t,anchor:n,onAnchorChange:a,children:r})};aI.displayName=R_;var iI="PopperAnchor",sI=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=nI(iI,r),o=A.useRef(null),l=nn(t,o);return A.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(wr.div,{...a,ref:l})});sI.displayName=iI;var M_="PopperContent",[eY,tY]=rI(M_),oI=A.forwardRef((e,t)=>{var R,G,W,H,me,ae;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=nI(M_,r),[x,y]=A.useState(null),w=nn(t,be=>y(be)),[N,j]=A.useState(null),C=I_(N),k=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,L=n+(s!=="center"?"-"+s:""),z=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],T=D.length>0,I={padding:z,boundary:D.filter(nY),altBoundary:T},{refs:B,floatingStyles:J,placement:U,isPositioned:X,middlewareData:M}=BX({strategy:"fixed",placement:L,whileElementsMounted:(...be)=>OX(...be,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[UX({mainAxis:a+_,alignmentAxis:o}),c&&WX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qX():void 0,...I}),c&&HX({...I}),VX({...I,apply:({elements:be,rects:te,availableWidth:ge,availableHeight:re})=>{const{width:Oe,height:Pe}=te.reference,ke=be.floating.style;ke.setProperty("--radix-popper-available-width",`${ge}px`),ke.setProperty("--radix-popper-available-height",`${re}px`),ke.setProperty("--radix-popper-anchor-width",`${Oe}px`),ke.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),N&&KX({element:N,padding:l}),aY({arrowWidth:k,arrowHeight:_}),h&&GX({strategy:"referenceHidden",...I})]}),[Q,le]=dI(U),ue=Ns(g);ui(()=>{X&&(ue==null||ue())},[X,ue]);const O=(R=M.arrow)==null?void 0:R.x,V=(G=M.arrow)==null?void 0:G.y,Y=((W=M.arrow)==null?void 0:W.centerOffset)!==0,[q,P]=A.useState();return ui(()=>{x&&P(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:X?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(H=M.transformOrigin)==null?void 0:H.x,(me=M.transformOrigin)==null?void 0:me.y].join(" "),...((ae=M.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(eY,{scope:r,placedSide:Q,onArrowChange:j,arrowX:O,arrowY:V,shouldHideArrow:Y,children:i.jsx(wr.div,{"data-side":Q,"data-align":le,...m,ref:w,style:{...m.style,animation:X?void 0:"none"}})})})});oI.displayName=M_;var lI="PopperArrow",rY={top:"bottom",right:"left",bottom:"top",left:"right"},cI=A.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=tY(lI,n),o=rY[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(YX,{...a,ref:r,style:{...a.style,display:"block"}})})});cI.displayName=lI;function nY(e){return e!==null}var aY=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=dI(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",m="";return d==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):d==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,m=o?f:`${p}px`):d==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function dI(e){const[t,r="center"]=e.split("-");return[t,r]}var iY=aI,uI=sI,fI=oI,hI=cI,[P2,UPe]=Wp("Tooltip",[T2]),$_=T2(),pI="TooltipProvider",sY=700,MC="tooltip.open",[oY,mI]=P2(pI),gI=e=>{const{__scopeTooltip:t,delayDuration:r=sY,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,[o,l]=A.useState(!0),c=A.useRef(!1),d=A.useRef(0);return A.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),i.jsx(oY,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:A.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:A.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:s})};gI.displayName=pI;var xI="Tooltip",[WPe,O2]=P2(xI),j4="TooltipTrigger",lY=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=O2(j4,r),s=mI(j4,r),o=$_(r),l=A.useRef(null),c=nn(t,l,a.onTriggerChange),d=A.useRef(!1),u=A.useRef(!1),f=A.useCallback(()=>d.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(uI,{asChild:!0,...o,children:i.jsx(wr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ir(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ir(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ir(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ir(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ir(e.onBlur,a.onClose),onClick:ir(e.onClick,a.onClose)})})});lY.displayName=j4;var cY="TooltipPortal",[qPe,dY]=P2(cY,{forceMount:void 0}),fp="TooltipContent",vI=A.forwardRef((e,t)=>{const r=dY(fp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=O2(fp,e.__scopeTooltip);return i.jsx(ff,{present:n||o.open,children:o.disableHoverableContent?i.jsx(yI,{side:a,...s,ref:t}):i.jsx(uY,{side:a,...s,ref:t})})}),uY=A.forwardRef((e,t)=>{const r=O2(fp,e.__scopeTooltip),n=mI(fp,e.__scopeTooltip),a=A.useRef(null),s=nn(t,a),[o,l]=A.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,h=A.useCallback(()=>{l(null),f(!1)},[f]),p=A.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=mY(x,v.getBoundingClientRect()),w=gY(x,y),N=xY(m.getBoundingClientRect()),j=yY([...w,...N]);l(j),f(!0)},[f]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(c&&u){const g=v=>p(v,u),m=v=>p(v,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[c,u,p,h]),A.useEffect(()=>{if(o){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!vY(x,o);y?h():w&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,h]),i.jsx(yI,{...e,ref:s})}),[fY,hY]=P2(xI,{isInside:!1}),yI=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=O2(fp,r),d=$_(r),{onClose:u}=c;return A.useEffect(()=>(document.addEventListener(MC,u),()=>document.removeEventListener(MC,u)),[u]),A.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),i.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:i.jsxs(fI,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(n7,{children:n}),i.jsx(fY,{scope:r,isInside:!0,children:i.jsx(lG,{id:c.contentId,role:"tooltip",children:a||n})})]})})});vI.displayName=fp;var bI="TooltipArrow",pY=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=$_(r);return hY(bI,r).isInside?null:i.jsx(hI,{...a,...n,ref:t})});pY.displayName=bI;function mY(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gY(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function xY(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function vY(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(a=!a)}return a}function yY(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bY(t)}function bY(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wY=gI,wI=vI;const jY=wY,NY=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(wI,{ref:n,sideOffset:t,className:Ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));NY.displayName=wI.displayName;var D2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},F2=typeof window>"u"||"Deno"in globalThis;function go(){}function SY(e,t){return typeof e=="function"?e(t):e}function _Y(e){return typeof e=="number"&&e>=0&&e!==1/0}function kY(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $C(e,t){return typeof e=="function"?e(t):e}function AY(e,t){return typeof e=="function"?e(t):e}function BC(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==B_(o,t.options))return!1}else if(!pg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function zC(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(hg(t.options.mutationKey)!==hg(s))return!1}else if(!pg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function B_(e,t){return((t==null?void 0:t.queryKeyHashFn)||hg)(e)}function hg(e){return JSON.stringify(e,(t,r)=>N4(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function pg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!pg(e[r],t[r])):!1}function jI(e,t){if(e===t)return e;const r=UC(e)&&UC(t);if(r||N4(e)&&N4(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:s[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=jI(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function UC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function N4(e){if(!WC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!WC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function WC(e){return Object.prototype.toString.call(e)==="[object Object]"}function CY(e){return new Promise(t=>{setTimeout(t,e)})}function EY(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?jI(e,t):t}function TY(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function PY(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var z_=Symbol();function NI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===z_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Du,ed,Kh,DD,OY=(DD=class extends D2{constructor(){super();Rr(this,Du);Rr(this,ed);Rr(this,Kh);yr(this,Kh,t=>{if(!F2&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){st(this,ed)||this.setEventListener(st(this,Kh))}onUnsubscribe(){var t;this.hasListeners()||((t=st(this,ed))==null||t.call(this),yr(this,ed,void 0))}setEventListener(t){var r;yr(this,Kh,t),(r=st(this,ed))==null||r.call(this),yr(this,ed,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){st(this,Du)!==t&&(yr(this,Du,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof st(this,Du)=="boolean"?st(this,Du):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Du=new WeakMap,ed=new WeakMap,Kh=new WeakMap,DD),SI=new OY,Xh,td,Yh,FD,DY=(FD=class extends D2{constructor(){super();Rr(this,Xh,!0);Rr(this,td);Rr(this,Yh);yr(this,Yh,t=>{if(!F2&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){st(this,td)||this.setEventListener(st(this,Yh))}onUnsubscribe(){var t;this.hasListeners()||((t=st(this,td))==null||t.call(this),yr(this,td,void 0))}setEventListener(t){var r;yr(this,Yh,t),(r=st(this,td))==null||r.call(this),yr(this,td,t(this.setOnline.bind(this)))}setOnline(t){st(this,Xh)!==t&&(yr(this,Xh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return st(this,Xh)}},Xh=new WeakMap,td=new WeakMap,Yh=new WeakMap,FD),Oy=new DY;function FY(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function LY(e){return Math.min(1e3*2**e,3e4)}function _I(e){return(e??"online")==="online"?Oy.isOnline():!0}var kI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dN(e){return e instanceof kI}function AI(e){let t=!1,r=0,n=!1,a;const s=FY(),o=m=>{var v;n||(h(new kI(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>SI.isFocused()&&(e.networkMode==="always"||Oy.isOnline())&&e.canRun(),u=()=>_I(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),s.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),s.reject(m))},p=()=>new Promise(m=>{var v;a=x=>{(n||d())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var C;if(n)return;const y=e.retry??(F2?0:3),w=e.retryDelay??LY,N=typeof w=="function"?w(r,x):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!j){h(x);return}r++,(C=e.onFail)==null||C.call(e,r,x),CY(N).then(()=>d()?void 0:p()).then(()=>{t?h(x):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),s)}}function IY(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ji=IY(),Fu,LD,CI=(LD=class{constructor(){Rr(this,Fu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_Y(this.gcTime)&&yr(this,Fu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(F2?1/0:5*60*1e3))}clearGcTimeout(){st(this,Fu)&&(clearTimeout(st(this,Fu)),yr(this,Fu,void 0))}},Fu=new WeakMap,LD),Qh,Jh,Ms,ei,cx,Lu,vo,Rl,ID,RY=(ID=class extends CI{constructor(t){super();Rr(this,vo);Rr(this,Qh);Rr(this,Jh);Rr(this,Ms);Rr(this,ei);Rr(this,cx);Rr(this,Lu);yr(this,Lu,!1),yr(this,cx,t.defaultOptions),this.setOptions(t.options),this.observers=[],yr(this,Ms,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,yr(this,Qh,$Y(this.options)),this.state=t.state??st(this,Qh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=st(this,ei))==null?void 0:t.promise}setOptions(t){this.options={...st(this,cx),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&st(this,Ms).remove(this)}setData(t,r){const n=EY(this.state.data,t,this.options);return Ga(this,vo,Rl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ga(this,vo,Rl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=st(this,ei))==null?void 0:n.promise;return(a=st(this,ei))==null||a.cancel(t),r?r.then(go).catch(go):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(st(this,Qh))}isActive(){return this.observers.some(t=>AY(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===z_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!kY(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=st(this,ei))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=st(this,ei))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),st(this,Ms).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(st(this,ei)&&(st(this,Lu)?st(this,ei).cancel({revert:!0}):st(this,ei).cancelRetry()),this.scheduleGc()),st(this,Ms).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ga(this,vo,Rl).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(st(this,ei))return st(this,ei).continueRetry(),st(this,ei).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(yr(this,Lu,!0),n.signal)})},s=()=>{const f=NI(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),yr(this,Lu,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),yr(this,Jh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ga(this,vo,Rl).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,p,g,m;dN(f)&&f.silent||Ga(this,vo,Rl).call(this,{type:"error",error:f}),dN(f)||((p=(h=st(this,Ms).config).onError)==null||p.call(h,f,this),(m=(g=st(this,Ms).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return yr(this,ei,AI({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,g,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(h=st(this,Ms).config).onSuccess)==null||p.call(h,f,this),(m=(g=st(this,Ms).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ga(this,vo,Rl).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ga(this,vo,Rl).call(this,{type:"pause"})},onContinue:()=>{Ga(this,vo,Rl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),st(this,ei).start()}},Qh=new WeakMap,Jh=new WeakMap,Ms=new WeakMap,ei=new WeakMap,cx=new WeakMap,Lu=new WeakMap,vo=new WeakSet,Rl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...MY(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return dN(a)&&a.revert&&st(this,Jh)?{...st(this,Jh),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ji.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),st(this,Ms).notify({query:this,type:"updated",action:t})})},ID);function MY(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_I(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $Y(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var el,RD,BY=(RD=class extends D2{constructor(t={}){super();Rr(this,el);this.config=t,yr(this,el,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??B_(a,r);let o=this.get(s);return o||(o=new RY({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){st(this,el).has(t.queryHash)||(st(this,el).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=st(this,el).get(t.queryHash);r&&(t.destroy(),r===t&&st(this,el).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ji.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return st(this,el).get(t)}getAll(){return[...st(this,el).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>BC(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>BC(t,n)):r}notify(t){ji.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ji.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ji.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},el=new WeakMap,RD),tl,vi,Iu,rl,Vc,MD,zY=(MD=class extends CI{constructor(t){super();Rr(this,rl);Rr(this,tl);Rr(this,vi);Rr(this,Iu);this.mutationId=t.mutationId,yr(this,vi,t.mutationCache),yr(this,tl,[]),this.state=t.state||UY(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){st(this,tl).includes(t)||(st(this,tl).push(t),this.clearGcTimeout(),st(this,vi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){yr(this,tl,st(this,tl).filter(r=>r!==t)),this.scheduleGc(),st(this,vi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){st(this,tl).length||(this.state.status==="pending"?this.scheduleGc():st(this,vi).remove(this))}continue(){var t;return((t=st(this,Iu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,l,c,d,u,f,h,p,g,m,v,x,y,w,N,j,C,k;yr(this,Iu,AI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,L)=>{Ga(this,rl,Vc).call(this,{type:"failed",failureCount:_,error:L})},onPause:()=>{Ga(this,rl,Vc).call(this,{type:"pause"})},onContinue:()=>{Ga(this,rl,Vc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>st(this,vi).canRun(this)}));const r=this.state.status==="pending",n=!st(this,Iu).canStart();try{if(!r){Ga(this,rl,Vc).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=st(this,vi).config).onMutate)==null?void 0:s.call(a,t,this));const L=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));L!==this.state.context&&Ga(this,rl,Vc).call(this,{type:"pending",context:L,variables:t,isPaused:n})}const _=await st(this,Iu).start();return await((d=(c=st(this,vi).config).onSuccess)==null?void 0:d.call(c,_,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,_,t,this.state.context)),await((p=(h=st(this,vi).config).onSettled)==null?void 0:p.call(h,_,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,_,null,t,this.state.context)),Ga(this,rl,Vc).call(this,{type:"success",data:_}),_}catch(_){try{throw await((x=(v=st(this,vi).config).onError)==null?void 0:x.call(v,_,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,_,t,this.state.context)),await((j=(N=st(this,vi).config).onSettled)==null?void 0:j.call(N,void 0,_,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,_,t,this.state.context)),_}finally{Ga(this,rl,Vc).call(this,{type:"error",error:_})}}finally{st(this,vi).runNext(this)}}},tl=new WeakMap,vi=new WeakMap,Iu=new WeakMap,rl=new WeakSet,Vc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ji.batch(()=>{st(this,tl).forEach(n=>{n.onMutationUpdate(t)}),st(this,vi).notify({mutation:this,type:"updated",action:t})})},MD);function UY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,dx,$D,WY=($D=class extends D2{constructor(t={}){super();Rr(this,ns);Rr(this,dx);this.config=t,yr(this,ns,new Map),yr(this,dx,Date.now())}build(t,r,n){const a=new zY({mutationCache:this,mutationId:++Sv(this,dx)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Kv(t),n=st(this,ns).get(r)??[];n.push(t),st(this,ns).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Kv(t);if(st(this,ns).has(r)){const a=(n=st(this,ns).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?st(this,ns).delete(r):st(this,ns).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=st(this,ns).get(Kv(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=st(this,ns).get(Kv(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ji.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...st(this,ns).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>zC(r,n))}findAll(t={}){return this.getAll().filter(r=>zC(t,r))}notify(t){ji.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ji.batch(()=>Promise.all(t.map(r=>r.continue().catch(go))))}},ns=new WeakMap,dx=new WeakMap,$D);function Kv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function qC(e){return{onFetch:(t,r)=>{var u,f,h,p,g;const n=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=NI(t.options,t.fetchOptions),y=async(w,N,j)=>{if(m)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};v(C);const k=await x(C),{maxPages:_}=t.options,L=j?PY:TY;return{pages:L(w.pages,k,_),pageParams:L(w.pageParams,N,_)}};if(a&&s.length){const w=a==="backward",N=w?qY:HC,j={pages:s,pageParams:o},C=N(n,j);l=await y(j,C,w)}else{const w=e??s.length;do{const N=c===0?o[0]??n.initialPageParam:HC(n,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function HC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qY(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var On,rd,nd,Zh,ep,ad,tp,rp,BD,HY=(BD=class{constructor(e={}){Rr(this,On);Rr(this,rd);Rr(this,nd);Rr(this,Zh);Rr(this,ep);Rr(this,ad);Rr(this,tp);Rr(this,rp);yr(this,On,e.queryCache||new BY),yr(this,rd,e.mutationCache||new WY),yr(this,nd,e.defaultOptions||{}),yr(this,Zh,new Map),yr(this,ep,new Map),yr(this,ad,0)}mount(){Sv(this,ad)._++,st(this,ad)===1&&(yr(this,tp,SI.subscribe(async e=>{e&&(await this.resumePausedMutations(),st(this,On).onFocus())})),yr(this,rp,Oy.subscribe(async e=>{e&&(await this.resumePausedMutations(),st(this,On).onOnline())})))}unmount(){var e,t;Sv(this,ad)._--,st(this,ad)===0&&((e=st(this,tp))==null||e.call(this),yr(this,tp,void 0),(t=st(this,rp))==null||t.call(this),yr(this,rp,void 0))}isFetching(e){return st(this,On).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return st(this,rd).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=st(this,On).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=st(this,On).build(this,r);return e.revalidateIfStale&&n.isStaleByTime($C(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return st(this,On).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=st(this,On).get(n.queryHash),s=a==null?void 0:a.state.data,o=SY(t,s);if(o!==void 0)return st(this,On).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ji.batch(()=>st(this,On).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=st(this,On).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=st(this,On);ji.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=st(this,On),n={type:"active",...e};return ji.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ji.batch(()=>st(this,On).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(go).catch(go)}invalidateQueries(e={},t={}){return ji.batch(()=>{if(st(this,On).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ji.batch(()=>st(this,On).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(go)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(go)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=st(this,On).build(this,t);return r.isStaleByTime($C(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(go).catch(go)}fetchInfiniteQuery(e){return e.behavior=qC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(go).catch(go)}ensureInfiniteQueryData(e){return e.behavior=qC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oy.isOnline()?st(this,rd).resumePausedMutations():Promise.resolve()}getQueryCache(){return st(this,On)}getMutationCache(){return st(this,rd)}getDefaultOptions(){return st(this,nd)}setDefaultOptions(e){yr(this,nd,e)}setQueryDefaults(e,t){st(this,Zh).set(hg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...st(this,Zh).values()];let r={};return t.forEach(n=>{pg(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){st(this,ep).set(hg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...st(this,ep).values()];let r={};return t.forEach(n=>{pg(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...st(this,nd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===z_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...st(this,nd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){st(this,On).clear(),st(this,rd).clear()}},On=new WeakMap,rd=new WeakMap,nd=new WeakMap,Zh=new WeakMap,ep=new WeakMap,ad=new WeakMap,tp=new WeakMap,rp=new WeakMap,BD),VY=A.createContext(void 0),GY=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(VY.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}var od;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(od||(od={}));const VC="popstate";function KY(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return S4("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Dy(a)}return YY(t,r,null,e)}function An(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XY(){return Math.random().toString(36).substr(2,8)}function GC(e,t){return{usr:e.state,key:e.key,idx:t}}function S4(e,t,r,n){return r===void 0&&(r=null),mg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kp(t):t,{state:r,key:t&&t.key||n||XY()})}function Dy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function YY(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=od.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(mg({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=od.Pop;let v=u(),x=v==null?null:v-d;d=v,c&&c({action:l,location:m.location,delta:x})}function h(v,x){l=od.Push;let y=S4(m.location,v,x);d=u()+1;let w=GC(y,d),N=m.createHref(y);try{o.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}s&&c&&c({action:l,location:m.location,delta:1})}function p(v,x){l=od.Replace;let y=S4(m.location,v,x);d=u();let w=GC(y,d),N=m.createHref(y);o.replaceState(w,"",N),s&&c&&c({action:l,location:m.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Dy(v);return y=y.replace(/ $/,"%20"),An(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(VC,f),c=v,()=>{a.removeEventListener(VC,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var KC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(KC||(KC={}));function QY(e,t,r){return r===void 0&&(r="/"),JY(e,t,r,!1)}function JY(e,t,r,n){let a=typeof t=="string"?Kp(t):t,s=hp(a.pathname||"/",r);if(s==null)return null;let o=TI(e);ZY(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=dQ(s);l=lQ(o[c],d,n)}return l}function TI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(An(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ad([n,c.relativePath]),u=r.concat(c);s.children&&s.children.length>0&&(An(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),TI(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:sQ(d,s.index),routesMeta:u})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of PI(s.path))a(s,o,c)}),t}function PI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=PI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oQ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eQ=/^:[\w-]+$/,tQ=3,rQ=2,nQ=1,aQ=10,iQ=-2,XC=e=>e==="*";function sQ(e,t){let r=e.split("/"),n=r.length;return r.some(XC)&&(n+=iQ),t&&(n+=rQ),r.filter(a=>!XC(a)).reduce((a,s)=>a+(eQ.test(s)?tQ:s===""?nQ:aQ),n)}function oQ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function lQ(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=Fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ad([s,f.pathname]),pathnameBase:pQ(Ad([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ad([s,f.pathnameBase]))}return o}function Fy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cQ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=l[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function cQ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),EI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function dQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return EI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function uQ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Kp(e):e;return{pathname:r?r.startsWith("/")?r:fQ(r,t):t,search:mQ(n),hash:gQ(a)}}function fQ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function uN(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hQ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U_(e,t){let r=hQ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function W_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Kp(e):(a=mg({},e),An(!a.pathname||!a.pathname.includes("?"),uN("?","pathname","search",a)),An(!a.pathname||!a.pathname.includes("#"),uN("#","pathname","hash",a)),An(!a.search||!a.search.includes("#"),uN("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=uQ(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ad=e=>e.join("/").replace(/\/\/+/g,"/"),pQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OI=["post","put","patch","delete"];new Set(OI);const vQ=["get",...OI];new Set(vQ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}const L2=A.createContext(null),DI=A.createContext(null),bc=A.createContext(null),I2=A.createContext(null),wc=A.createContext({outlet:null,matches:[],isDataRoute:!1}),FI=A.createContext(null);function yQ(e,t){let{relative:r}=t===void 0?{}:t;Xp()||An(!1);let{basename:n,navigator:a}=A.useContext(bc),{hash:s,pathname:o,search:l}=R2(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ad([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Xp(){return A.useContext(I2)!=null}function Gd(){return Xp()||An(!1),A.useContext(I2).location}function LI(e){A.useContext(bc).static||A.useLayoutEffect(e)}function Yp(){let{isDataRoute:e}=A.useContext(wc);return e?DQ():bQ()}function bQ(){Xp()||An(!1);let e=A.useContext(L2),{basename:t,future:r,navigator:n}=A.useContext(bc),{matches:a}=A.useContext(wc),{pathname:s}=Gd(),o=JSON.stringify(U_(a,r.v7_relativeSplatPath)),l=A.useRef(!1);return LI(()=>{l.current=!0}),A.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=W_(d,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ad([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,s,e])}function wQ(){let{matches:e}=A.useContext(wc),t=e[e.length-1];return t?t.params:{}}function R2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(bc),{matches:a}=A.useContext(wc),{pathname:s}=Gd(),o=JSON.stringify(U_(a,n.v7_relativeSplatPath));return A.useMemo(()=>W_(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function jQ(e,t){return NQ(e,t)}function NQ(e,t,r,n){Xp()||An(!1);let{navigator:a}=A.useContext(bc),{matches:s}=A.useContext(wc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Gd(),u;if(t){var f;let v=typeof t=="string"?Kp(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||An(!1),u=v}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=QY(e,{pathname:p}),m=CQ(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ad([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ad([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&m?A.createElement(I2.Provider,{value:{location:gg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:od.Pop}},m):m}function SQ(){let e=OQ(),t=xQ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const _Q=A.createElement(SQ,null);class kQ extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(wc.Provider,{value:this.props.routeContext},A.createElement(FI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AQ(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(L2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(wc.Provider,{value:t},n)}function CQ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||An(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||_Q,c&&(d<0&&h===0?(g=!0,v=null):d===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=A.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,A.createElement(AQ,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(kQ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var II=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(II||{}),Ly=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ly||{});function EQ(e){let t=A.useContext(L2);return t||An(!1),t}function TQ(e){let t=A.useContext(DI);return t||An(!1),t}function PQ(e){let t=A.useContext(wc);return t||An(!1),t}function RI(e){let t=PQ(),r=t.matches[t.matches.length-1];return r.route.id||An(!1),r.route.id}function OQ(){var e;let t=A.useContext(FI),r=TQ(Ly.UseRouteError),n=RI(Ly.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DQ(){let{router:e}=EQ(II.UseNavigateStable),t=RI(Ly.UseNavigateStable),r=A.useRef(!1);return LI(()=>{r.current=!0}),A.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,gg({fromRouteId:t},s)))},[e,t])}function FQ(e){let{to:t,replace:r,state:n,relative:a}=e;Xp()||An(!1);let{future:s,static:o}=A.useContext(bc),{matches:l}=A.useContext(wc),{pathname:c}=Gd(),d=Yp(),u=W_(t,U_(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return A.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function Mr(e){An(!1)}function LQ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=od.Pop,navigator:s,static:o=!1,future:l}=e;Xp()&&An(!1);let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:s,static:o,future:gg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Kp(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=A.useMemo(()=>{let v=hp(u,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[c,u,f,h,p,g,a]);return m==null?null:A.createElement(bc.Provider,{value:d},A.createElement(I2.Provider,{children:r,value:m}))}function YC(e){let{children:t,location:r}=e;return jQ(_4(t),r)}new Promise(()=>{});function _4(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let s=[...t,a];if(n.type===A.Fragment){r.push.apply(r,_4(n.props.children,s));return}n.type!==Mr&&An(!1),!n.props.index||!n.props.children||An(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=_4(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(this,arguments)}function MI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function IQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RQ(e,t){return e.button===0&&(!t||t==="_self")&&!IQ(e)}const MQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$Q=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BQ="6";try{window.__reactRouterVersion=BQ}catch{}const zQ=A.createContext({isTransitioning:!1}),UQ="startTransition",QC=QD[UQ];function WQ(e){let{basename:t,children:r,future:n,window:a}=e,s=A.useRef();s.current==null&&(s.current=KY({window:a,v5Compat:!0}));let o=s.current,[l,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=A.useCallback(f=>{d&&QC?QC(()=>c(f)):c(f)},[c,d]);return A.useLayoutEffect(()=>o.listen(u),[o,u]),A.createElement(LQ,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const qQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VQ=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=MI(t,MQ),{basename:p}=A.useContext(bc),g,m=!1;if(typeof d=="string"&&HQ.test(d)&&(g=d,qQ))try{let w=new URL(window.location.href),N=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=hp(N.pathname,p);N.origin===w.origin&&j!=null?d=j+N.search+N.hash:m=!0}catch{}let v=yQ(d,{relative:a}),x=KQ(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return A.createElement("a",Iy({},h,{href:g||v,onClick:m||s?n:y,ref:r,target:c}))}),JC=A.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,f=MI(t,$Q),h=R2(c,{relative:f.relative}),p=Gd(),g=A.useContext(DI),{navigator:m,basename:v}=A.useContext(bc),x=g!=null&&XQ(h)&&d===!0,y=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&v&&(N=hp(N,v)||N);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=w===y||!o&&w.startsWith(y)&&w.charAt(j)==="/",k=N!=null&&(N===y||!o&&N.startsWith(y)&&N.charAt(y.length)==="/"),_={isActive:C,isPending:k,isTransitioning:x},L=C?n:void 0,z;typeof s=="function"?z=s(_):z=[s,C?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(_):l;return A.createElement(VQ,Iy({},f,{"aria-current":L,className:z,ref:r,style:D,to:c,viewTransition:d}),typeof u=="function"?u(_):u)});var k4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(k4||(k4={}));var ZC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ZC||(ZC={}));function GQ(e){let t=A.useContext(L2);return t||An(!1),t}function KQ(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Yp(),d=Gd(),u=R2(e,{relative:o});return A.useCallback(f=>{if(RQ(f,r)){f.preventDefault();let h=n!==void 0?n:Dy(d)===Dy(u);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,s,o,l])}function XQ(e,t){t===void 0&&(t={});let r=A.useContext(zQ);r==null&&An(!1);let{basename:n}=GQ(k4.useViewTransitionState),a=R2(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=hp(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=hp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fy(a.pathname,o)!=null||Fy(a.pathname,s)!=null}const YQ=[{title:"لوحة التحكم الرئيسية",href:"/",icon:Ay},{title:"البلاغات",icon:Od,submenu:[{title:"إنشاء بلاغ جديد",href:"/reports/new"},{title:"قائمة البلاغات",href:"/reports/list"},{title:"لوحة تحكم البلاغات",href:"/reports/dashboard"}]},{title:"التموين",icon:Sd,submenu:[{title:"المستودع",href:"/supply/warehouse"},{title:"لوحة تحكم المستودع",href:"/supply/warehouse-dashboard"},{title:"تقارير الصرف",href:"/supply/dispensing-reports"}]},{title:"الشراء المباشر",icon:kd,submenu:[{title:"إنشاء طلب شراء جديد",href:"/direct-purchase/new"},{title:"متابعة مسار الطلبات",href:"/direct-purchase/track"},{title:"التقارير",href:"/direct-purchase/reports"},{title:"لوحة تحكم الشراء",href:"/direct-purchase/dashboard"}]},{title:"قسم عقود الأسنان",icon:dl,submenu:[{title:"عقود الأسنان",href:"/dental/contracts"},{title:"التقارير",href:"/dental/reports"},{title:"لوحة تحكم",href:"/dental/dashboard"}]},{title:"قسم الأصول",icon:FG,submenu:[{title:"جميع الأصول - الجرد",href:"/dental/assets"},{title:"لوحة تحكم الأصول",href:"/dental/assets-dashboard"}]},{title:"المعاملات الإدارية",icon:za,submenu:[{title:"إنشاء معاملة جديدة",href:"/transactions/new"},{title:"قائمة المعاملات",href:"/transactions/list"},{title:"لوحة تحكم المعاملات",href:"/transactions/dashboard"}]},{title:"الإعدادات",icon:Si,submenu:[{title:"إدارة المنشآت",href:"/settings/facilities"},{title:"إعدادات المدير",href:"/settings/admin"},{title:"إدارة الموظفين",href:"/settings/staff"}]}];function QQ(){const[e,t]=A.useState(!1),[r,n]=A.useState(null),a=s=>{n(r===s?null:s)};return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>t(!e),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-primary text-primary-foreground rounded-md",children:e?i.jsx(_r,{size:20}):i.jsx(LG,{size:20})}),i.jsxs("div",{className:Ht("fixed inset-y-0 right-0 z-40 w-64 bg-card border-l border-border transform transition-transform duration-300 ease-in-out","md:relative md:translate-x-0",e?"translate-x-0":"translate-x-full"),children:[i.jsxs("div",{className:"p-4 border-b border-border",children:[i.jsx("h1",{className:"text-lg font-bold text-primary text-right",children:"نظام الإدارة المتكامل"}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"ادارة التشغيل بخدمات الاسنان"})]}),i.jsx("nav",{className:"p-4 space-y-2",dir:"rtl",children:YQ.map(s=>i.jsx("div",{children:s.submenu?i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>a(s.title),className:"w-full flex items-center justify-between p-3 text-right hover:bg-accent rounded-md transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.jsx(s.icon,{size:20}),i.jsx("span",{children:s.title})]}),i.jsx("svg",{className:Ht("w-4 h-4 transition-transform",r===s.title&&"transform rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r===s.title&&i.jsx("div",{className:"mr-6 mt-2 space-y-1",children:s.submenu.map(o=>i.jsx(JC,{to:o.href,className:({isActive:l})=>Ht("block p-2 text-sm rounded-md transition-colors text-right",l?"bg-primary text-primary-foreground":"hover:bg-accent"),onClick:()=>t(!1),children:o.title},o.href))})]}):i.jsxs(JC,{to:s.href,className:({isActive:o})=>Ht("flex items-center space-x-3 space-x-reverse p-3 rounded-md transition-colors text-right",o?"bg-primary text-primary-foreground":"hover:bg-accent"),onClick:()=>t(!1),children:[i.jsx(s.icon,{size:20}),i.jsx("span",{children:s.title})]})},s.title))})]}),e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>t(!1)})]})}function JQ({children:e}){return i.jsx("div",{className:"min-h-screen bg-background",dir:"rtl",children:i.jsxs("div",{className:"flex",children:[i.jsx(QQ,{}),i.jsx("main",{className:"flex-1 min-w-0 p-4 md:p-6 overflow-x-hidden",children:i.jsx("div",{className:"w-full max-w-7xl mx-auto",children:e})})]})})}const $I="https://api.dental-op.com/api",A4=e=>{const t=e.toLowerCase();return t.includes(".pdf")?"pdf":t.match(/\.(jpg|jpeg|png|gif|webp)$/)?"image":"unknown"};class ld extends Error{constructor(t,r,n){super(t),this.status=r,this.errors=n,this.name="ApiError"}}const Ry=e=>localStorage.getItem(`${e}_token`),cd=e=>{var t;console.log(`🔍 BEFORE clearAuthData for ${e}:`),console.log(`Token exists: ${!!localStorage.getItem(`${e}_token`)}`),console.log(`User exists: ${!!localStorage.getItem(`${e}_user`)}`),console.log(`Token value: ${(t=localStorage.getItem(`${e}_token`))==null?void 0:t.substring(0,20)}...`),localStorage.removeItem(`${e}_token`),localStorage.removeItem(`${e}_user`),console.log(`🔍 AFTER clearAuthData for ${e}:`),console.log(`Token exists: ${!!localStorage.getItem(`${e}_token`)}`),console.log(`User exists: ${!!localStorage.getItem(`${e}_user`)}`),console.log(`✅ Cleared ${e} authentication data`)},BI=()=>{const e=Ry("admin"),t=Ry("staff");return e?"admin":"staff"},kt=async(e,t={},r=!1,n)=>{const a=n||BI(),s=`${$I}${e}`,o={"Content-Type":"application/json",Accept:"application/json",...t.headers};if(r){const l=Ry(a);l&&(o.Authorization=`Bearer ${l}`)}try{const l=await fetch(s,{...t,headers:o}),c=await l.json();if(l.status===401)throw console.warn("Token expired or invalid, clearing auth data"),cd(a),new ld("انتهت صلاحية الجلسة. يرجى تسجيل الدخول مرة أخرى.",401);if(!l.ok)throw new ld(c.message||"حدث خطأ غير متوقع",l.status,c.errors);return c}catch(l){throw l instanceof ld?l:new ld("فشل في الاتصال بالخادم. تحقق من اتصال الإنترنت.")}},gs=async(e,t,r=!0,n)=>{const a=BI(),s=`${$I}${e}`,o={Accept:"application/json"};if(r){const l=Ry(a);l&&(o.Authorization=`Bearer ${l}`)}try{const l=await fetch(s,{method:"POST",headers:o,body:t}),c=await l.json();if(l.status===401)throw console.warn("Token expired or invalid, clearing auth data"),cd(a),new ld("انتهت صلاحية الجلسة. يرجى تسجيل الدخول مرة أخرى.",401);if(!l.ok)throw new ld(c.message||"حدث خطأ غير متوقع",l.status,c.errors);return c}catch(l){throw l instanceof ld?l:new ld("فشل في الاتصال بالخادم. تحقق من اتصال الإنترنت.")}},zI={adminLogin:async e=>kt("/admin/login",{method:"POST",body:JSON.stringify(e)}),staffLogin:async e=>kt("/staff/login",{method:"POST",body:JSON.stringify(e)}),adminLogout:async()=>{console.log("🚪 Starting admin logout process...");try{console.log("📡 Calling admin logout API...");const e=await kt("/admin/logout",{method:"POST"},!0,"admin");return console.log("✅ Admin logout API successful:",e),console.log("🧹 About to clear stored data..."),cd("admin"),console.log("🏁 Admin logout process completed successfully"),e}catch(e){throw console.error("❌ Admin logout API failed:",e),console.log("🧹 Clearing local data anyway..."),cd("admin"),console.log("🏁 Admin logout process completed (with API error)"),e}},staffLogout:async()=>{console.log("🚪 Starting staff logout process...");try{console.log("📡 Calling staff logout API...");const e=await kt("/staff/logout",{method:"POST"},!0,"staff");return console.log("✅ Staff logout API successful:",e),console.log("🧹 About to clear stored data..."),cd("staff"),console.log("🏁 Staff logout process completed successfully"),e}catch(e){throw console.error("❌ Staff logout API failed:",e),console.log("🧹 Clearing local data anyway..."),cd("staff"),console.log("🏁 Staff logout process completed (with API error)"),e}},verifyAuth:async()=>kt("/auth/verify",{method:"GET"},!0)},ZQ=async e=>{console.log(`🚪 Starting unified ${e} logout...`);try{console.log(`📡 Calling ${e} logout API...`),await kt(e==="admin"?"/admin/logout":"/staff/logout",{method:"POST"},!0,e),console.log(`✅ ${e} logout API successful, clearing stored data...`),cd(e)}catch(t){console.warn(`❌ ${e} logout API failed, but clearing local data anyway:`,t),cd(e)}console.log(`🏁 Unified ${e} logout completed`)},Ra={getFacilities:async()=>kt("/facilities",{method:"GET"},!0),createReport:async e=>kt("/reports",{method:"POST",body:JSON.stringify(e)},!0),getReports:async()=>kt("/reports",{method:"GET"},!0),updateReport:async(e,t)=>kt(`/reports/${e}`,{method:"PUT",body:JSON.stringify(t)},!0),deleteReport:async e=>kt(`/reports/${e}`,{method:"DELETE"},!0),getDashboardStats:async()=>kt("/reports/dashboard",{method:"GET"},!0),getSerialNumber:async(e,t)=>kt("/get-serial-number",{method:"POST",body:JSON.stringify({facility_id:e,device_name:t})},!0)},ti={getInventory:async()=>kt("/warehouse/inventory",{method:"GET"},!0),addInventoryItem:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{e[r]!==null&&e[r]!==void 0&&(e[r]instanceof File?t.append(r,e[r]):t.append(r,e[r].toString()))}),gs("/warehouse/inventory",t,!0)},updateInventoryItem:async(e,t)=>{const r=new FormData;return r.append("_method","PUT"),Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&(t[n]instanceof File?r.append(n,t[n]):r.append(n,t[n].toString()))}),gs(`/warehouse/inventory/${e}`,r,!0)},deleteInventoryItem:async e=>kt(`/warehouse/inventory/${e}`,{method:"DELETE"},!0),createWithdrawalOrder:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{e[r]!==null&&e[r]!==void 0&&(e[r]instanceof File?t.append(r,e[r]):t.append(r,e[r].toString()))}),gs("/warehouse/withdrawal-orders",t,!0)},updateWithdrawalOrder:async(e,t)=>{const r=new FormData;return r.append("_method","PUT"),Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&(t[n]instanceof File?r.append(n,t[n]):r.append(n,t[n].toString()))}),gs(`/warehouse/withdrawal-orders/${e}`,r,!0)},deleteWithdrawalOrder:async e=>kt(`/warehouse/withdrawal-orders/${e}`,{method:"DELETE"},!0),getDashboardData:async()=>kt("/warehouse/dashboard",{method:"GET"},!0),getTopSuppliers:async()=>kt("/warehouse/top-suppliers",{method:"GET"},!0),getDispensingData:async()=>kt("/warehouse/dispensing",{method:"GET"},!0),getDispensingOperations:async()=>kt("/warehouse/dispensing/operations",{method:"GET"},!0),searchItems:async(e,t)=>{const r=new URLSearchParams({query:e});return t&&r.append("facility",t),kt(`/warehouse/search-items?${r.toString()}`,{method:"GET"},!0)}},ql={createOrder:e=>kt("/direct-purchase/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},!0),updateOrderStatus:(e,t)=>kt(`/direct-purchase/orders/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},!0),getOrders:()=>kt("/direct-purchase/orders",{},!0),getOrder:e=>kt(`/direct-purchase/orders/${e}`,{},!0),updateOrder:(e,t)=>kt(`/direct-purchase/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},!0),deleteOrder:e=>kt(`/direct-purchase/orders/${e}`,{method:"DELETE"},!0),getReports:e=>{const t=new URLSearchParams;e&&Object.entries(e).forEach(([n,a])=>{a&&t.append(n,a)});const r=t.toString();return kt(`/direct-purchase/reports${r?`?${r}`:""}`,{},!0)},getDashboardData:e=>{const t=new URLSearchParams;e&&Object.entries(e).forEach(([n,a])=>{a&&t.append(n,a)});const r=t.toString();return kt(`/direct-purchase/dashboard${r?`?${r}`:""}`,{},!0)},updateOrderFull:async(e,t)=>{const r=new FormData;return r.append("_method","PUT"),Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&(t[n]instanceof File?r.append(n,t[n]):r.append(n,t[n].toString()))}),gs(`/direct-purchase/orders/${e}/full-update`,r,!0)},submitPurchaseOrder:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{e[r]!==null&&e[r]!==void 0&&(e[r]instanceof File?t.append(r,e[r]):t.append(r,e[r].toString()))}),gs("/direct-purchase/submit",t,!0)}},yh={createAsset:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{e[r]!==null&&e[r]!==void 0&&(e[r]instanceof File?t.append(r,e[r]):t.append(r,e[r].toString()))}),gs("/dental/assets",t,!0)},getAssets:async()=>kt("/dental/assets",{method:"GET"},!0),getAsset:async e=>kt(`/dental/assets/${e}`,{method:"GET"},!0),updateAsset:async(e,t)=>{const r=new FormData;return r.append("_method","PUT"),Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&(t[n]instanceof File?r.append(n,t[n]):r.append(n,t[n].toString()))}),gs(`/dental/assets/${e}`,r,!0)},deleteAsset:async e=>kt(`/dental/assets/${e}`,{method:"DELETE"},!0),getDashboardData:async()=>kt("/dental/assets/dashboard",{method:"GET"},!0)},So={createContract:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{e[r]!==null&&e[r]!==void 0&&(e[r]instanceof File?t.append(r,e[r]):t.append(r,e[r].toString()))}),gs("/dental/contracts",t,!0)},updateContract:async(e,t)=>{const r=new FormData;return r.append("_method","PUT"),Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&(t[n]instanceof File?r.append(n,t[n]):r.append(n,t[n].toString()))}),gs(`/dental/contracts/${e}`,r,!0)},deleteContract:async e=>kt(`/dental/contracts/${e}`,{method:"DELETE"},!0),updateContractStatus:async(e,t)=>kt(`/dental/contracts/${e}/status`,{method:"PATCH",body:JSON.stringify(t)},!0),getContractStatusHistory:async e=>kt(`/dental/contracts/${e}/status-history`,{method:"GET"},!0),bulkUpdateContractsStatus:async(e,t)=>kt("/dental/contracts/bulk-status-update",{method:"PATCH",body:JSON.stringify({contract_ids:e,...t})},!0),getContracts:async()=>kt("/dental/contracts",{method:"GET"},!0),getContract:async e=>kt(`/dental/contracts/${e}`,{method:"GET"},!0),getDashboardData:async()=>kt("/dental/contracts/dashboard",{method:"GET"},!0),getReportsData:async e=>{const t=e?`?type=${encodeURIComponent(e)}`:"";return kt(`/dental/contracts/reports${t}`,{method:"GET"},!0)},getTopSuppliers:async()=>kt("/dental/contracts/top-suppliers",{method:"GET"},!0),getTopClinics:async()=>kt("/dental/contracts/top-clinics",{method:"GET"},!0)},Xv={getDashboardData:()=>kt("/dashboard",{},!0),getFacilities:()=>kt("/facilities",{},!0),registerFacility:e=>kt("/facilities",{method:"POST",body:JSON.stringify(e)},!0),getRecentReports:()=>kt("/dashboard/recent-reports",{},!0)},UI={getItems:()=>kt("/items",{method:"GET"},!0),getItemByNumber:e=>kt(`/items/${e}`,{method:"GET"},!0)},dd={getFacilities:async()=>kt("/facilities",{method:"GET"},!0),createFacility:async e=>kt("/facilities",{method:"POST",body:JSON.stringify(e)},!0),updateFacility:async(e,t)=>kt(`/facilities/${e}`,{method:"PUT",body:JSON.stringify(t)},!0),toggleFacilityStatus:async e=>kt(`/facilities/${e}/toggle-status`,{method:"PATCH"},!0),getFacilityStats:async()=>kt("/facilities/statistics",{method:"GET"},!0),deleteFacility:async e=>kt(`/facilities/${e}`,{method:"DELETE"},!0)},WI={getSuppliers:async()=>kt("/suppliers",{method:"GET"},!0),getSupplier:async e=>kt(`/suppliers/${e}`,{method:"GET"},!0),createSupplier:async e=>kt("/suppliers",{method:"POST",body:JSON.stringify(e)},!0),updateSupplier:async(e,t)=>kt(`/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)},!0),deleteSupplier:async e=>kt(`/suppliers/${e}`,{method:"DELETE"},!0)},zl={createTransaction:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{e[r]!==null&&e[r]!==void 0&&(e[r]instanceof File?t.append(r,e[r]):t.append(r,e[r].toString()))}),gs("/transactions",t,!0)},getTransactions:async()=>kt("/transactions",{method:"GET"},!0),getTransaction:async e=>kt(`/transactions/${e}`,{method:"GET"},!0),updateTransaction:async(e,t)=>{const r=new FormData;return r.append("_method","PUT"),Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&(t[n]instanceof File?r.append(n,t[n]):r.append(n,t[n].toString()))}),gs(`/transactions/${e}`,r,!0)},deleteTransaction:async e=>kt(`/transactions/${e}`,{method:"DELETE"},!0),getTransactionHistory:async e=>kt(`/transactions/${e}/history`,{method:"GET"},!0),getTransactionTypes:async()=>kt("/transactions/types",{method:"GET"},!0),getTransactionStatuses:async()=>kt("/transactions/statuses",{method:"GET"},!0),updateTransactionStatus:async(e,t)=>kt(`/transactions/${e}/status`,{method:"PATCH",body:JSON.stringify(t)},!0),createTransferHistory:async e=>{const t=new FormData;return Object.keys(e).forEach(r=>{const n=e[r];n!=null&&(n instanceof File?t.append(r,n):t.append(r,n.toString()))}),gs("/transactions/transfer-history",t,!0)},getTransferHistory:async e=>kt(`/transactions/${e}/transfer-history`,{method:"GET"},!0),getAllTransferHistories:async()=>kt("/transactions/transfer-histories",{method:"GET"},!0),getDashboardData:async()=>kt("/transactions/dashboard",{method:"GET"},!0)},Yv={createStaff:async e=>kt("/admin/staff",{method:"POST",body:JSON.stringify(e)},!0,"admin"),getStaff:async()=>kt("/admin/staff",{method:"GET"},!0,"admin"),getStaffMember:async e=>kt(`/admin/staff/${e}`,{method:"GET"},!0,"admin"),updateStaff:async(e,t)=>kt(`/admin/staff/${e}`,{method:"PUT",body:JSON.stringify(t)},!0,"admin"),deleteStaff:async e=>kt(`/admin/staff/${e}`,{method:"DELETE"},!0,"admin"),getStaffStats:async()=>kt("/admin/staff/statistics",{method:"GET"},!0,"admin"),toggleStaffStatus:async e=>kt(`/admin/staff/${e}/toggle-status`,{method:"PATCH"},!0,"admin"),resetStaffPassword:async(e,t)=>kt(`/admin/staff/${e}/reset-password`,{method:"PUT",body:JSON.stringify({new_password:t})},!0,"admin")},eJ=vx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mt=A.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?Yu:"button";return i.jsx(o,{className:Ht(eJ({variant:t,size:r,className:e})),ref:s,...a})});mt.displayName="Button";const et=A.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));et.displayName="Input";var tJ="Label",qI=A.forwardRef((e,t)=>i.jsx(wr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qI.displayName=tJ;var HI=qI;const rJ=vx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=A.forwardRef(({className:e,...t},r)=>i.jsx(HI,{ref:r,className:Ht(rJ(),e),...t}));We.displayName=HI.displayName;function eE(e,[t,r]){return Math.min(r,Math.max(t,e))}var nJ=A.createContext(void 0);function aJ(e){const t=A.useContext(nJ);return e||t||"ltr"}var fN=0;function VI(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tE()),document.body.insertAdjacentElement("beforeend",e[1]??tE()),fN++,()=>{fN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fN--}},[])}function tE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hN="focusScope.autoFocusOnMount",pN="focusScope.autoFocusOnUnmount",rE={bubbles:!1,cancelable:!0},iJ="FocusScope",q_=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=A.useState(null),d=Ns(a),u=Ns(s),f=A.useRef(null),h=nn(t,m=>c(m)),p=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:Gc(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Gc(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Gc(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,p.paused]),A.useEffect(()=>{if(l){aE.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(hN,rE);l.addEventListener(hN,d),l.dispatchEvent(x),x.defaultPrevented||(sJ(uJ(GI(l)),{select:!0}),document.activeElement===m&&Gc(l))}return()=>{l.removeEventListener(hN,d),setTimeout(()=>{const x=new CustomEvent(pN,rE);l.addEventListener(pN,u),l.dispatchEvent(x),x.defaultPrevented||Gc(m??document.body,{select:!0}),l.removeEventListener(pN,u),aE.remove(p)},0)}}},[l,d,u,p]);const g=A.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[w,N]=oJ(y);w&&N?!m.shiftKey&&x===N?(m.preventDefault(),r&&Gc(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&Gc(N,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return i.jsx(wr.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});q_.displayName=iJ;function sJ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gc(n,{select:t}),document.activeElement!==r)return}function oJ(e){const t=GI(e),r=nE(t,e),n=nE(t.reverse(),e);return[r,n]}function GI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nE(e,t){for(const r of e)if(!lJ(r,{upTo:t}))return r}function lJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cJ(e){return e instanceof HTMLInputElement&&"select"in e}function Gc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&cJ(e)&&t&&e.select()}}var aE=dJ();function dJ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=iE(e,t),e.unshift(t)},remove(t){var r;e=iE(e,t),(r=e[0])==null||r.resume()}}}function iE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function uJ(e){return e.filter(t=>t.tagName!=="A")}function H_(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vf=new WeakMap,Qv=new WeakMap,Jv={},mN=0,KI=function(e){return e&&(e.host||KI(e.parentNode))},hJ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=KI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pJ=function(e,t,r,n){var a=hJ(t,Array.isArray(e)?e:[e]);Jv[r]||(Jv[r]=new WeakMap);var s=Jv[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Vf.get(h)||0)+1,v=(s.get(h)||0)+1;Vf.set(h,m),s.set(h,v),o.push(h),m===1&&g&&Qv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(t),l.clear(),mN++,function(){o.forEach(function(f){var h=Vf.get(f)-1,p=s.get(f)-1;Vf.set(f,h),s.set(f,p),h||(Qv.has(f)||f.removeAttribute(n),Qv.delete(f)),p||f.removeAttribute(r)}),mN--,mN||(Vf=new WeakMap,Vf=new WeakMap,Qv=new WeakMap,Jv={})}},XI=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=fJ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),pJ(n,a,r,"aria-hidden")):function(){return null}},al=function(){return al=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},al.apply(this,arguments)};function YI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mJ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var q1="right-scroll-bar-position",H1="width-before-scroll-bar",gJ="with-scroll-bars-hidden",xJ="--removed-body-scroll-bar-size";function gN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vJ(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var yJ=typeof window<"u"?A.useLayoutEffect:A.useEffect,sE=new WeakMap;function bJ(e,t){var r=vJ(null,function(n){return e.forEach(function(a){return gN(a,n)})});return yJ(function(){var n=sE.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||gN(l,null)}),s.forEach(function(l){a.has(l)||gN(l,o)})}sE.set(r,e)},[e]),r}function wJ(e){return e}function jJ(e,t){t===void 0&&(t=wJ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var u=o;o=[],u.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function NJ(e){e===void 0&&(e={});var t=jJ(null);return t.options=al({async:!0,ssr:!1},e),t}var QI=function(e){var t=e.sideCar,r=YI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,al({},r))};QI.isSideCarExport=!0;function SJ(e,t){return e.useMedium(t),QI}var JI=NJ(),xN=function(){},M2=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:xN,onWheelCapture:xN,onTouchMoveCapture:xN}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,y=e.gapMode,w=YI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,j=bJ([r,t]),C=al(al({},w),a);return A.createElement(A.Fragment,null,u&&A.createElement(N,{sideCar:JI,removeScrollBar:d,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?A.cloneElement(A.Children.only(l),al(al({},C),{ref:j})):A.createElement(x,al({},C,{className:c,ref:j}),l))});M2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M2.classNames={fullWidth:H1,zeroRight:q1};var _J=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_J();return t&&e.setAttribute("nonce",t),e}function AJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=kJ())&&(AJ(t,r),CJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TJ=function(){var e=EJ();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ZI=function(){var e=TJ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},PJ={left:0,top:0,right:0,gap:0},vN=function(e){return parseInt(e||"",10)||0},OJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vN(r),vN(n),vN(a)]},DJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PJ;var t=OJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},FJ=ZI(),Lh="data-scroll-locked",LJ=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Lh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(q1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(H1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(q1," .").concat(q1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(H1," .").concat(H1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lh,`] {
    `).concat(xJ,": ").concat(l,`px;
  }
`)},oE=function(){var e=parseInt(document.body.getAttribute(Lh)||"0",10);return isFinite(e)?e:0},IJ=function(){A.useEffect(function(){return document.body.setAttribute(Lh,(oE()+1).toString()),function(){var e=oE()-1;e<=0?document.body.removeAttribute(Lh):document.body.setAttribute(Lh,e.toString())}},[])},RJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;IJ();var s=A.useMemo(function(){return DJ(a)},[a]);return A.createElement(FJ,{styles:LJ(s,!t,a,r?"":"!important")})},C4=!1;if(typeof window<"u")try{var Zv=Object.defineProperty({},"passive",{get:function(){return C4=!0,!0}});window.addEventListener("test",Zv,Zv),window.removeEventListener("test",Zv,Zv)}catch{C4=!1}var Gf=C4?{passive:!1}:!1,MJ=function(e){return e.tagName==="TEXTAREA"},eR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!MJ(e)&&r[t]==="visible")},$J=function(e){return eR(e,"overflowY")},BJ=function(e){return eR(e,"overflowX")},lE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=tR(e,n);if(a){var s=rR(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},UJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},tR=function(e,t){return e==="v"?$J(t):BJ(t)},rR=function(e,t){return e==="v"?zJ(t):UJ(t)},WJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},qJ=function(e,t,r,n,a){var s=WJ(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var p=rR(e,l),g=p[0],m=p[1],v=p[2],x=m-v-s*g;(g||x)&&tR(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},e1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cE=function(e){return[e.deltaX,e.deltaY]},dE=function(e){return e&&"current"in e?e.current:e},HJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GJ=0,Kf=[];function KJ(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),a=A.useState(GJ++)[0],s=A.useState(ZI)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=mJ([e.lockRef.current],(e.shards||[]).map(dE),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=A.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=e1(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-x[0],N="deltaY"in m?m.deltaY:y[1]-x[1],j,C=m.target,k=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in m&&k==="h"&&C.type==="range")return!1;var _=lE(k,C);if(!_)return!0;if(_?j=k:(j=k==="v"?"h":"v",_=lE(k,C)),!_)return!1;if(!n.current&&"changedTouches"in m&&(w||N)&&(n.current=j),!j)return!0;var L=n.current||j;return qJ(L,v,m,L==="h"?w:N,!0)},[]),c=A.useCallback(function(m){var v=m;if(!(!Kf.length||Kf[Kf.length-1]!==s)){var x="deltaY"in v?cE(v):e1(v),y=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&HJ(j.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(dE).filter(Boolean).filter(function(j){return j.contains(v.target)}),N=w.length>0?l(v,w[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),d=A.useCallback(function(m,v,x,y){var w={name:m,delta:v,target:x,should:y,shadowParent:XJ(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),u=A.useCallback(function(m){r.current=e1(m),n.current=void 0},[]),f=A.useCallback(function(m){d(m.type,cE(m),m.target,l(m,e.lockRef.current))},[]),h=A.useCallback(function(m){d(m.type,e1(m),m.target,l(m,e.lockRef.current))},[]);A.useEffect(function(){return Kf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Gf),document.addEventListener("touchmove",c,Gf),document.addEventListener("touchstart",u,Gf),function(){Kf=Kf.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Gf),document.removeEventListener("touchmove",c,Gf),document.removeEventListener("touchstart",u,Gf)}},[]);var p=e.removeScrollBar,g=e.inert;return A.createElement(A.Fragment,null,g?A.createElement(s,{styles:VJ(a)}):null,p?A.createElement(RJ,{gapMode:e.gapMode}):null)}function XJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YJ=SJ(JI,KJ);var V_=A.forwardRef(function(e,t){return A.createElement(M2,al({},e,{ref:t,sideCar:YJ}))});V_.classNames=M2.classNames;var QJ=[" ","Enter","ArrowUp","ArrowDown"],JJ=[" ","Enter"],bx="Select",[$2,B2,ZJ]=a7(bx),[Qp,HPe]=Wp(bx,[ZJ,T2]),z2=T2(),[eZ,Kd]=Qp(bx),[tZ,rZ]=Qp(bx),nR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:p,form:g}=e,m=z2(t),[v,x]=A.useState(null),[y,w]=A.useState(null),[N,j]=A.useState(!1),C=aJ(d),[k=!1,_]=dp({prop:n,defaultProp:a,onChange:s}),[L,z]=dp({prop:o,defaultProp:l,onChange:c}),D=A.useRef(null),T=v?g||!!v.closest("form"):!0,[I,B]=A.useState(new Set),J=Array.from(I).map(U=>U.props.value).join(";");return i.jsx(iY,{...m,children:i.jsxs(eZ,{required:p,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Dh(),value:L,onValueChange:z,open:k,onOpenChange:_,dir:C,triggerPointerDownPosRef:D,disabled:h,children:[i.jsx($2.Provider,{scope:t,children:i.jsx(tZ,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(U=>{B(X=>new Set(X).add(U))},[]),onNativeOptionRemove:A.useCallback(U=>{B(X=>{const M=new Set(X);return M.delete(U),M})},[]),children:r})}),T?i.jsxs(CR,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:L,onChange:U=>z(U.target.value),disabled:h,form:g,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(I)]},J):null]})})};nR.displayName=bx;var aR="SelectTrigger",iR=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=z2(r),o=Kd(aR,r),l=o.disabled||n,c=nn(t,o.onTriggerChange),d=B2(r),u=A.useRef("touch"),[f,h,p]=ER(m=>{const v=d().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),y=TR(v,m,x);y!==void 0&&o.onValueChange(y.value)}),g=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(uI,{asChild:!0,...s,children:i.jsx(wr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AR(o.value)?"":void 0,...a,ref:c,onClick:ir(a.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:ir(a.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ir(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&QJ.includes(m.key)&&(g(),m.preventDefault())})})})});iR.displayName=aR;var sR="SelectValue",oR=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Kd(sR,r),{onValueNodeHasChildrenChange:d}=c,u=s!==void 0,f=nn(t,c.onValueNodeChange);return ui(()=>{d(u)},[d,u]),i.jsx(wr.span,{...l,ref:f,style:{pointerEvents:"none"},children:AR(c.value)?i.jsx(i.Fragment,{children:o}):s})});oR.displayName=sR;var nZ="SelectIcon",lR=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(wr.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});lR.displayName=nZ;var aZ="SelectPortal",cR=e=>i.jsx(j2,{asChild:!0,...e});cR.displayName=aZ;var Ju="SelectContent",dR=A.forwardRef((e,t)=>{const r=Kd(Ju,e.__scopeSelect),[n,a]=A.useState();if(ui(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?uf.createPortal(i.jsx(uR,{scope:e.__scopeSelect,children:i.jsx($2.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(fR,{...e,ref:t})});dR.displayName=Ju;var po=10,[uR,Xd]=Qp(Ju),iZ="SelectContentImpl",fR=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=e,y=Kd(Ju,r),[w,N]=A.useState(null),[j,C]=A.useState(null),k=nn(t,R=>N(R)),[_,L]=A.useState(null),[z,D]=A.useState(null),T=B2(r),[I,B]=A.useState(!1),J=A.useRef(!1);A.useEffect(()=>{if(w)return XI(w)},[w]),VI();const U=A.useCallback(R=>{const[G,...W]=T().map(ae=>ae.ref.current),[H]=W.slice(-1),me=document.activeElement;for(const ae of R)if(ae===me||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===G&&j&&(j.scrollTop=0),ae===H&&j&&(j.scrollTop=j.scrollHeight),ae==null||ae.focus(),document.activeElement!==me))return},[T,j]),X=A.useCallback(()=>U([_,w]),[U,_,w]);A.useEffect(()=>{I&&X()},[I,X]);const{onOpenChange:M,triggerPointerDownPosRef:Q}=y;A.useEffect(()=>{if(w){let R={x:0,y:0};const G=H=>{var me,ae;R={x:Math.abs(Math.round(H.pageX)-(((me=Q.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(H.pageY)-(((ae=Q.current)==null?void 0:ae.y)??0))}},W=H=>{R.x<=10&&R.y<=10?H.preventDefault():w.contains(H.target)||M(!1),document.removeEventListener("pointermove",G),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",W,{capture:!0})}}},[w,M,Q]),A.useEffect(()=>{const R=()=>M(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[M]);const[le,ue]=ER(R=>{const G=T().filter(me=>!me.disabled),W=G.find(me=>me.ref.current===document.activeElement),H=TR(G,R,W);H&&setTimeout(()=>H.ref.current.focus())}),O=A.useCallback((R,G,W)=>{const H=!J.current&&!W;(y.value!==void 0&&y.value===G||H)&&(L(R),H&&(J.current=!0))},[y.value]),V=A.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=A.useCallback((R,G,W)=>{const H=!J.current&&!W;(y.value!==void 0&&y.value===G||H)&&D(R)},[y.value]),q=n==="popper"?E4:hR,P=q===E4?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return i.jsx(uR,{scope:r,content:w,viewport:j,onViewportChange:C,itemRefCallback:O,selectedItem:_,onItemLeave:V,itemTextRefCallback:Y,focusSelectedItem:X,selectedItemText:z,position:n,isPositioned:I,searchRef:le,children:i.jsx(V_,{as:Yu,allowPinchZoom:!0,children:i.jsx(q_,{asChild:!0,trapped:y.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:ir(a,R=>{var G;(G=y.trigger)==null||G.focus({preventScroll:!0}),R.preventDefault()}),children:i.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:R=>R.preventDefault(),...x,...P,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ir(x.onKeyDown,R=>{const G=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!G&&R.key.length===1&&ue(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let H=T().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(R.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const me=R.target,ae=H.indexOf(me);H=H.slice(ae+1)}setTimeout(()=>U(H)),R.preventDefault()}})})})})})})});fR.displayName=iZ;var sZ="SelectItemAlignedPosition",hR=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Kd(Ju,r),o=Xd(Ju,r),[l,c]=A.useState(null),[d,u]=A.useState(null),f=nn(t,k=>u(k)),h=B2(r),p=A.useRef(!1),g=A.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,w=A.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&m&&v&&x){const k=s.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),z=x.getBoundingClientRect();if(s.dir!=="rtl"){const me=z.left-_.left,ae=L.left-me,be=k.left-ae,te=k.width+be,ge=Math.max(te,_.width),re=window.innerWidth-po,Oe=eE(ae,[po,Math.max(po,re-ge)]);l.style.minWidth=te+"px",l.style.left=Oe+"px"}else{const me=_.right-z.right,ae=window.innerWidth-L.right-me,be=window.innerWidth-k.right-ae,te=k.width+be,ge=Math.max(te,_.width),re=window.innerWidth-po,Oe=eE(ae,[po,Math.max(po,re-ge)]);l.style.minWidth=te+"px",l.style.right=Oe+"px"}const D=h(),T=window.innerHeight-po*2,I=m.scrollHeight,B=window.getComputedStyle(d),J=parseInt(B.borderTopWidth,10),U=parseInt(B.paddingTop,10),X=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),Q=J+U+I+M+X,le=Math.min(v.offsetHeight*5,Q),ue=window.getComputedStyle(m),O=parseInt(ue.paddingTop,10),V=parseInt(ue.paddingBottom,10),Y=k.top+k.height/2-po,q=T-Y,P=v.offsetHeight/2,R=v.offsetTop+P,G=J+U+R,W=Q-G;if(G<=Y){const me=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const ae=d.clientHeight-m.offsetTop-m.offsetHeight,be=Math.max(q,P+(me?V:0)+ae+X),te=G+be;l.style.height=te+"px"}else{const me=D.length>0&&v===D[0].ref.current;l.style.top="0px";const be=Math.max(Y,J+m.offsetTop+(me?O:0)+P)+W;l.style.height=be+"px",m.scrollTop=G-Y+m.offsetTop}l.style.margin=`${po}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,d,m,v,x,s.dir,n]);ui(()=>w(),[w]);const[N,j]=A.useState();ui(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const C=A.useCallback(k=>{k&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return i.jsx(lZ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(wr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});hR.displayName=sZ;var oZ="SelectPopperPosition",E4=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=po,...s}=e,o=z2(r);return i.jsx(fI,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E4.displayName=oZ;var[lZ,G_]=Qp(Ju,{}),T4="SelectViewport",pR=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Xd(T4,r),o=G_(T4,r),l=nn(t,s.onViewportChange),c=A.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx($2.Slot,{scope:r,children:i.jsx(wr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ir(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-po*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const y=x+p,w=Math.min(g,y),N=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});pR.displayName=T4;var mR="SelectGroup",[cZ,dZ]=Qp(mR),uZ=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Dh();return i.jsx(cZ,{scope:r,id:a,children:i.jsx(wr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});uZ.displayName=mR;var gR="SelectLabel",xR=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=dZ(gR,r);return i.jsx(wr.div,{id:a.id,...n,ref:t})});xR.displayName=gR;var My="SelectItem",[fZ,vR]=Qp(My),yR=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Kd(My,r),c=Xd(My,r),d=l.value===n,[u,f]=A.useState(s??""),[h,p]=A.useState(!1),g=nn(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),m=Dh(),v=A.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(fZ,{scope:r,value:n,disabled:a,textId:m,isSelected:d,onItemTextChange:A.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx($2.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:i.jsx(wr.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ir(o.onFocus,()=>p(!0)),onBlur:ir(o.onBlur,()=>p(!1)),onClick:ir(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:ir(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:ir(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:ir(o.onPointerMove,y=>{var w;v.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ir(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ir(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(JJ.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});yR.displayName=My;var v0="SelectItemText",bR=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Kd(v0,r),l=Xd(v0,r),c=vR(v0,r),d=rZ(v0,r),[u,f]=A.useState(null),h=nn(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=A.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=d;return ui(()=>(m(g),()=>v(g)),[m,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(wr.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?uf.createPortal(s.children,o.valueNode):null]})});bR.displayName=v0;var wR="SelectItemIndicator",jR=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return vR(wR,r).isSelected?i.jsx(wr.span,{"aria-hidden":!0,...n,ref:t}):null});jR.displayName=wR;var P4="SelectScrollUpButton",NR=A.forwardRef((e,t)=>{const r=Xd(P4,e.__scopeSelect),n=G_(P4,e.__scopeSelect),[a,s]=A.useState(!1),o=nn(t,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(_R,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NR.displayName=P4;var O4="SelectScrollDownButton",SR=A.forwardRef((e,t)=>{const r=Xd(O4,e.__scopeSelect),n=G_(O4,e.__scopeSelect),[a,s]=A.useState(!1),o=nn(t,n.onScrollButtonChange);return ui(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(_R,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});SR.displayName=O4;var _R=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Xd("SelectScrollButton",r),o=A.useRef(null),l=B2(r),c=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>c(),[c]),ui(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),i.jsx(wr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ir(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ir(a.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ir(a.onPointerLeave,()=>{c()})})}),hZ="SelectSeparator",kR=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(wr.div,{"aria-hidden":!0,...n,ref:t})});kR.displayName=hZ;var D4="SelectArrow",pZ=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=z2(r),s=Kd(D4,r),o=Xd(D4,r);return s.open&&o.position==="popper"?i.jsx(hI,{...a,...n,ref:t}):null});pZ.displayName=D4;function AR(e){return e===""||e===void 0}var CR=A.forwardRef((e,t)=>{const{value:r,...n}=e,a=A.useRef(null),s=nn(t,a),o=H_(r);return A.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(xx,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});CR.displayName="BubbleSelect";function ER(e){const t=Ns(e),r=A.useRef(""),n=A.useRef(0),a=A.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function TR(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=mZ(e,Math.max(s,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function mZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var gZ=nR,PR=iR,xZ=oR,vZ=lR,yZ=cR,OR=dR,bZ=pR,DR=xR,FR=yR,wZ=bR,jZ=jR,LR=NR,IR=SR,RR=kR;const hr=gZ,pr=xZ,or=A.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(PR,{ref:n,className:Ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(vZ,{asChild:!0,children:i.jsx(O7,{className:"h-4 w-4 opacity-50"})})]}));or.displayName=PR.displayName;const MR=A.forwardRef(({className:e,...t},r)=>i.jsx(LR,{ref:r,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(DG,{className:"h-4 w-4"})}));MR.displayName=LR.displayName;const $R=A.forwardRef(({className:e,...t},r)=>i.jsx(IR,{ref:r,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(O7,{className:"h-4 w-4"})}));$R.displayName=IR.displayName;const lr=A.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(yZ,{children:i.jsxs(OR,{ref:a,className:Ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(MR,{}),i.jsx(bZ,{className:Ht("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx($R,{})]})}));lr.displayName=OR.displayName;const NZ=A.forwardRef(({className:e,...t},r)=>i.jsx(DR,{ref:r,className:Ht("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));NZ.displayName=DR.displayName;const Pt=A.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(FR,{ref:n,className:Ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(jZ,{children:i.jsx(P7,{className:"h-4 w-4"})})}),i.jsx(wZ,{children:t})]}));Pt.displayName=FR.displayName;const SZ=A.forwardRef(({className:e,...t},r)=>i.jsx(RR,{ref:r,className:Ht("-mx-1 my-1 h-px bg-muted",e),...t}));SZ.displayName=RR.displayName;var K_="Dialog",[BR,VPe]=Wp(K_),[_Z,Mo]=BR(K_),zR=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=A.useRef(null),c=A.useRef(null),[d=!1,u]=dp({prop:n,defaultProp:a,onChange:s});return i.jsx(_Z,{scope:t,triggerRef:l,contentRef:c,contentId:Dh(),titleId:Dh(),descriptionId:Dh(),open:d,onOpenChange:u,onOpenToggle:A.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};zR.displayName=K_;var UR="DialogTrigger",WR=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Mo(UR,r),s=nn(t,a.triggerRef);return i.jsx(wr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Q_(a.open),...n,ref:s,onClick:ir(e.onClick,a.onOpenToggle)})});WR.displayName=UR;var X_="DialogPortal",[kZ,qR]=BR(X_,{forceMount:void 0}),HR=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Mo(X_,t);return i.jsx(kZ,{scope:t,forceMount:r,children:A.Children.map(n,o=>i.jsx(ff,{present:r||s.open,children:i.jsx(j2,{asChild:!0,container:a,children:o})}))})};HR.displayName=X_;var $y="DialogOverlay",VR=A.forwardRef((e,t)=>{const r=qR($y,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Mo($y,e.__scopeDialog);return s.modal?i.jsx(ff,{present:n||s.open,children:i.jsx(AZ,{...a,ref:t})}):null});VR.displayName=$y;var AZ=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Mo($y,r);return i.jsx(V_,{as:Yu,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(wr.div,{"data-state":Q_(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zu="DialogContent",GR=A.forwardRef((e,t)=>{const r=qR(Zu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Mo(Zu,e.__scopeDialog);return i.jsx(ff,{present:n||s.open,children:s.modal?i.jsx(CZ,{...a,ref:t}):i.jsx(EZ,{...a,ref:t})})});GR.displayName=Zu;var CZ=A.forwardRef((e,t)=>{const r=Mo(Zu,e.__scopeDialog),n=A.useRef(null),a=nn(t,r.contentRef,n);return A.useEffect(()=>{const s=n.current;if(s)return XI(s)},[]),i.jsx(KR,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:ir(e.onFocusOutside,s=>s.preventDefault())})}),EZ=A.forwardRef((e,t)=>{const r=Mo(Zu,e.__scopeDialog),n=A.useRef(!1),a=A.useRef(!1);return i.jsx(KR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),KR=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Mo(Zu,r),c=A.useRef(null),d=nn(t,c);return VI(),i.jsxs(i.Fragment,{children:[i.jsx(q_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(gx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Q_(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(TZ,{titleId:l.titleId}),i.jsx(OZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Y_="DialogTitle",XR=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Mo(Y_,r);return i.jsx(wr.h2,{id:a.titleId,...n,ref:t})});XR.displayName=Y_;var YR="DialogDescription",QR=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Mo(YR,r);return i.jsx(wr.p,{id:a.descriptionId,...n,ref:t})});QR.displayName=YR;var JR="DialogClose",ZR=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Mo(JR,r);return i.jsx(wr.button,{type:"button",...n,ref:t,onClick:ir(e.onClick,()=>a.onOpenChange(!1))})});ZR.displayName=JR;function Q_(e){return e?"open":"closed"}var eM="DialogTitleWarning",[GPe,tM]=qV(eM,{contentName:Zu,titleName:Y_,docsSlug:"dialog"}),TZ=({titleId:e})=>{const t=tM(eM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},PZ="DialogDescriptionWarning",OZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tM(PZ).contentName}}.`;return A.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},DZ=zR,FZ=WR,LZ=HR,rM=VR,nM=GR,aM=XR,iM=QR,IZ=ZR;const Na=DZ,xg=FZ,RZ=LZ,sM=A.forwardRef(({className:e,...t},r)=>i.jsx(rM,{ref:r,className:Ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sM.displayName=rM.displayName;const da=A.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(RZ,{children:[i.jsx(sM,{}),i.jsxs(nM,{ref:n,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(IZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(_r,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));da.displayName=nM.displayName;const ua=({className:e,...t})=>i.jsx("div",{className:Ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ua.displayName="DialogHeader";const fa=A.forwardRef(({className:e,...t},r)=>i.jsx(aM,{ref:r,className:Ht("text-lg font-semibold leading-none tracking-tight",e),...t}));fa.displayName=aM.displayName;const Ni=A.forwardRef(({className:e,...t},r)=>i.jsx(iM,{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Ni.displayName=iM.displayName;const it=A.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));it.displayName="Card";const Bt=A.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("flex flex-col space-y-1.5 p-6",e),...t}));Bt.displayName="CardHeader";const zt=A.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Ht("text-2xl font-semibold leading-none tracking-tight",e),...t}));zt.displayName="CardTitle";const Cu=A.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Ht("text-sm text-muted-foreground",e),...t}));Cu.displayName="CardDescription";const ot=A.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("p-6 pt-0",e),...t}));ot.displayName="CardContent";const MZ=A.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("flex items-center p-6 pt-0",e),...t}));MZ.displayName="CardFooter";const $Z=vx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hs({className:e,variant:t,...r}){return i.jsx("div",{className:Ht($Z({variant:t}),e),...r})}const oM=[{id:"1",name:"مركز الملك عبدالله الصحي",contact:"0112345678",manager:"د. أحمد محمد",medicalManager:"د. فاطمة علي"},{id:"2",name:"مستشفى الرياض العام",contact:"0112345679",manager:"د. محمد عبدالله",medicalManager:"د. سارة أحمد"},{id:"3",name:"مركز صحي النخيل",contact:"0112345680",manager:"د. عبدالرحمن سالم",medicalManager:"د. نورا محمد"},{id:"4",name:"مستشفى الملك سلمان",contact:"0112345681",manager:"د. خالد علي",medicalManager:"د. منى عبدالله"}],lM=[{id:"R001",facilityName:"مستشفى الرياض العام",category:"صيانة طبية",deviceType:"جهاز أشعة",description:"عطل في نظام التصوير",serialNumber:"XR-2023-001",warrantyStatus:"تحت الضمان",supplierName:"شركة الأجهزة الطبية المتقدمة",supplierContact:"0112345600",reporterName:"أحمد محمد",reporterContact:"0501234567",reporterEmail:"ahmed@hospital.sa",responsibleDept:"قسم الصيانة الطبية",deptContact:"0112345601",deptEmail:"maintenance@hospital.sa",reportDate:"2024-01-15",status:"مفتوح",downtime:3},{id:"R002",facilityName:"مركز الملك عبدالله الصحي",category:"تقنية المعلومات",deviceType:"خادم البيانات",description:"بطء في الشبكة",serialNumber:"SRV-2023-002",warrantyStatus:"خارج الضمان",supplierName:"شركة التقنية المتطورة",supplierContact:"0112345602",reporterName:"فاطمة علي",reporterContact:"0501234568",reporterEmail:"fatima@health.sa",responsibleDept:"قسم تقنية المعلومات",deptContact:"0112345603",deptEmail:"it@health.sa",reportDate:"2024-01-14",status:"مغلق",downtime:1}],BZ=[{id:"AST001",deviceName:"جهاز أشعة سينية",serialNumber:"XR-2023-001",facilityName:"مستشفى الرياض العام",supplierName:"شركة الأجهزة الطبية المتقدمة",supplierContact:"0112345600",supplierEmail:"info@medical-devices.sa",deviceModel:"XR-Pro-2023",deliveryDate:"2023-06-15",installationDate:"2023-06-20",warrantyPeriod:2,warrantyStatus:"تحت الضمان",deviceStatus:"يعمل",notes:"جهاز حديث",malfunctionCount:1,outOfWarrantyDays:0}],zZ="modulepreload",UZ=function(e){return"/"+e},uE={},F4=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=UZ(c),c in uE)return;uE[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":zZ,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function qr(e){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}var si=Uint8Array,xs=Uint16Array,J_=Int32Array,U2=new si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W2=new si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L4=new si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cM=function(e,t){for(var r=new xs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new J_(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},dM=cM(U2,2),uM=dM.b,I4=dM.r;uM[28]=258,I4[258]=28;var fM=cM(W2,0),WZ=fM.b,fE=fM.r,R4=new xs(32768);for(var gn=0;gn<32768;++gn){var Wc=(gn&43690)>>1|(gn&21845)<<1;Wc=(Wc&52428)>>2|(Wc&13107)<<2,Wc=(Wc&61680)>>4|(Wc&3855)<<4,R4[gn]=((Wc&65280)>>8|(Wc&255)<<8)>>1}var ul=function(e,t,r){for(var n=e.length,a=0,s=new xs(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new xs(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new xs(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],f=o[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)l[R4[f]>>c]=d}else for(l=new xs(n),a=0;a<n;++a)e[a]&&(l[a]=R4[o[e[a]-1]++]>>15-e[a]);return l},Rd=new si(288);for(var gn=0;gn<144;++gn)Rd[gn]=8;for(var gn=144;gn<256;++gn)Rd[gn]=9;for(var gn=256;gn<280;++gn)Rd[gn]=7;for(var gn=280;gn<288;++gn)Rd[gn]=8;var vg=new si(32);for(var gn=0;gn<32;++gn)vg[gn]=5;var qZ=ul(Rd,9,0),HZ=ul(Rd,9,1),VZ=ul(vg,5,0),GZ=ul(vg,5,1),yN=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},lo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},bN=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Z_=function(e){return(e+7)/8|0},hM=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new si(e.subarray(t,r))},KZ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xo=function(e,t,r){var n=new Error(t||KZ[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,xo),!r)throw n;return n},XZ=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new si(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new si(a*3));var d=function(me){var ae=r.length;if(me>ae){var be=new si(Math.max(ae*2,me));be.set(r),r=be}},u=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,x=a*8;do{if(!p){u=lo(e,f,1);var y=lo(e,f+1,3);if(f+=3,y)if(y==1)p=HZ,g=GZ,m=9,v=5;else if(y==2){var C=lo(e,f,31)+257,k=lo(e,f+10,15)+4,_=C+lo(e,f+5,31)+1;f+=14;for(var L=new si(_),z=new si(19),D=0;D<k;++D)z[L4[D]]=lo(e,f+D*3,7);f+=k*3;for(var T=yN(z),I=(1<<T)-1,B=ul(z,T,1),D=0;D<_;){var J=B[lo(e,f,I)];f+=J&15;var w=J>>4;if(w<16)L[D++]=w;else{var U=0,X=0;for(w==16?(X=3+lo(e,f,3),f+=2,U=L[D-1]):w==17?(X=3+lo(e,f,7),f+=3):w==18&&(X=11+lo(e,f,127),f+=7);X--;)L[D++]=U}}var M=L.subarray(0,C),Q=L.subarray(C);m=yN(M),v=yN(Q),p=ul(M,m,1),g=ul(Q,v,1)}else xo(1);else{var w=Z_(f)+4,N=e[w-4]|e[w-3]<<8,j=w+N;if(j>a){c&&xo(0);break}l&&d(h+N),r.set(e.subarray(w,j),h),t.b=h+=N,t.p=f=j*8,t.f=u;continue}if(f>x){c&&xo(0);break}}l&&d(h+131072);for(var le=(1<<m)-1,ue=(1<<v)-1,O=f;;O=f){var U=p[bN(e,f)&le],V=U>>4;if(f+=U&15,f>x){c&&xo(0);break}if(U||xo(2),V<256)r[h++]=V;else if(V==256){O=f,p=null;break}else{var Y=V-254;if(V>264){var D=V-257,q=U2[D];Y=lo(e,f,(1<<q)-1)+uM[D],f+=q}var P=g[bN(e,f)&ue],R=P>>4;P||xo(3),f+=P&15;var Q=WZ[R];if(R>3){var q=W2[R];Q+=bN(e,f)&(1<<q)-1,f+=q}if(f>x){c&&xo(0);break}l&&d(h+131072);var G=h+Y;if(h<Q){var W=s-Q,H=Math.min(Q,G);for(W+h<0&&xo(3);h<H;++h)r[h]=n[W+h]}for(;h<G;++h)r[h]=r[h-Q]}}t.l=p,t.p=O,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&o?hM(r,0,h):r.subarray(0,h)},Ll=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},t0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},wN=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:mM,l:0};if(a==1){var o=new si(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,C){return j.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[f].f?d++:f++],c=r[d!=u&&r[d].f<r[f].f?d++:f++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var p=new xs(h+1),g=M4(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,x=1<<v;for(s.sort(function(C,k){return p[k.s]-p[C.s]||C.f-k.f});n<a;++n){var y=s[n].s;if(p[y]>t)m+=x-(1<<g-p[y]),p[y]=t;else break}for(m>>=v;m>0;){var w=s[n].s;p[w]<t?m-=1<<t-p[w]++-1:++n}for(;n>=0&&m;--n){var N=s[n].s;p[N]==t&&(--p[N],++m)}g=t}return{t:new si(p),l:g}},M4=function(e,t,r){return e.s==-1?Math.max(M4(e.l,t,r+1),M4(e.r,t,r+1)):t[e.s]=r},hE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new xs(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},r0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},pM=function(e,t,r){var n=r.length,a=Z_(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},pE=function(e,t,r,n,a,s,o,l,c,d,u){Ll(t,u++,r),++a[256];for(var f=wN(a,15),h=f.t,p=f.l,g=wN(s,15),m=g.t,v=g.l,x=hE(h),y=x.c,w=x.n,N=hE(m),j=N.c,C=N.n,k=new xs(19),_=0;_<y.length;++_)++k[y[_]&31];for(var _=0;_<j.length;++_)++k[j[_]&31];for(var L=wN(k,7),z=L.t,D=L.l,T=19;T>4&&!z[L4[T-1]];--T);var I=d+5<<3,B=r0(a,Rd)+r0(s,vg)+o,J=r0(a,h)+r0(s,m)+o+14+3*T+r0(k,z)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&I<=B&&I<=J)return pM(t,u,e.subarray(c,c+d));var U,X,M,Q;if(Ll(t,u,1+(J<B)),u+=2,J<B){U=ul(h,p,0),X=h,M=ul(m,v,0),Q=m;var le=ul(z,D,0);Ll(t,u,w-257),Ll(t,u+5,C-1),Ll(t,u+10,T-4),u+=14;for(var _=0;_<T;++_)Ll(t,u+3*_,z[L4[_]]);u+=3*T;for(var ue=[y,j],O=0;O<2;++O)for(var V=ue[O],_=0;_<V.length;++_){var Y=V[_]&31;Ll(t,u,le[Y]),u+=z[Y],Y>15&&(Ll(t,u,V[_]>>5&127),u+=V[_]>>12)}}else U=qZ,X=Rd,M=VZ,Q=vg;for(var _=0;_<l;++_){var q=n[_];if(q>255){var Y=q>>18&31;t0(t,u,U[Y+257]),u+=X[Y+257],Y>7&&(Ll(t,u,q>>23&31),u+=U2[Y]);var P=q&31;t0(t,u,M[P]),u+=Q[P],P>3&&(t0(t,u,q>>5&8191),u+=W2[P])}else t0(t,u,U[q]),u+=X[q]}return t0(t,u,U[256]),u+X[256]},YZ=new J_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mM=new si(0),QZ=function(e,t,r,n,a,s){var o=s.z||e.length,l=new si(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=s.l,u=(s.r||0)&7;if(t){u&&(c[0]=s.r>>3);for(var f=YZ[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=s.p||new xs(32768),v=s.h||new xs(g+1),x=Math.ceil(r/3),y=2*x,w=function(te){return(e[te]^e[te+1]<<x^e[te+2]<<y)&g},N=new J_(25e3),j=new xs(288),C=new xs(32),k=0,_=0,L=s.i||0,z=0,D=s.w||0,T=0;L+2<o;++L){var I=w(L),B=L&32767,J=v[I];if(m[B]=J,v[I]=B,D<=L){var U=o-L;if((k>7e3||z>24576)&&(U>423||!d)){u=pE(e,c,0,N,j,C,_,z,T,L-T,u),z=k=_=0,T=L;for(var X=0;X<286;++X)j[X]=0;for(var X=0;X<30;++X)C[X]=0}var M=2,Q=0,le=p,ue=B-J&32767;if(U>2&&I==w(L-ue))for(var O=Math.min(h,U)-1,V=Math.min(32767,L),Y=Math.min(258,U);ue<=V&&--le&&B!=J;){if(e[L+M]==e[L+M-ue]){for(var q=0;q<Y&&e[L+q]==e[L+q-ue];++q);if(q>M){if(M=q,Q=ue,q>O)break;for(var P=Math.min(ue,q-2),R=0,X=0;X<P;++X){var G=L-ue+X&32767,W=m[G],H=G-W&32767;H>R&&(R=H,J=G)}}}B=J,J=m[B],ue+=B-J&32767}if(Q){N[z++]=268435456|I4[M]<<18|fE[Q];var me=I4[M]&31,ae=fE[Q]&31;_+=U2[me]+W2[ae],++j[257+me],++C[ae],D=L+M,++k}else N[z++]=e[L],++j[e[L]]}}for(L=Math.max(L,D);L<o;++L)N[z++]=e[L],++j[e[L]];u=pE(e,c,d,N,j,C,_,z,T,L-T,u),d||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=v,s.p=m,s.i=L,s.w=D)}else{for(var L=s.w||0;L<o+d;L+=65535){var be=L+65535;be>=o&&(c[u/8|0]=d,be=o),u=pM(c,u+1,e.subarray(L,be))}s.i=o}return hM(l,0,n+Z_(u)+a)},gM=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},JZ=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new si(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return QZ(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},xM=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ZZ=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=gM();a.p(t.dictionary),xM(e,2,a.d())}},eee=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&xo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $4(e,t){t||(t={});var r=gM();r.p(e);var n=JZ(e,t,t.dictionary?6:2,4);return ZZ(n,t),xM(n,n.length-4,r.d()),n}function tee(e,t){return XZ(e.subarray(eee(e,t),-4),{i:2},t,t)}var ree=typeof TextDecoder<"u"&&new TextDecoder,nee=0;try{ree.decode(mM,{stream:!0}),nee=1}catch{}var Yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jN(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var en={log:jN,warn:function(e){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):jN.call(null,arguments))},error:function(e){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):jN(e))}};function NN(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){xu(n.response,t,r)},n.onerror=function(){en.error("could not download file")},n.send()}function mE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function t1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var P0,B4,xu=Yt.saveAs||((typeof window>"u"?"undefined":qr(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Yt.URL||Yt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?mE(a.href)?NN(e,t,r):t1(a,a.target="_blank"):t1(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){t1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(mE(e))NN(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){t1(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:qr(s)!=="object"&&(en.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return NN(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(Yt.HTMLElement)||Yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":qr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=Yt.URL||Yt.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SN(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ya(r,n,a,s,t[0],7,-680876936),s=Ya(s,r,n,a,t[1],12,-389564586),a=Ya(a,s,r,n,t[2],17,606105819),n=Ya(n,a,s,r,t[3],22,-1044525330),r=Ya(r,n,a,s,t[4],7,-176418897),s=Ya(s,r,n,a,t[5],12,1200080426),a=Ya(a,s,r,n,t[6],17,-1473231341),n=Ya(n,a,s,r,t[7],22,-45705983),r=Ya(r,n,a,s,t[8],7,1770035416),s=Ya(s,r,n,a,t[9],12,-1958414417),a=Ya(a,s,r,n,t[10],17,-42063),n=Ya(n,a,s,r,t[11],22,-1990404162),r=Ya(r,n,a,s,t[12],7,1804603682),s=Ya(s,r,n,a,t[13],12,-40341101),a=Ya(a,s,r,n,t[14],17,-1502002290),r=Qa(r,n=Ya(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Qa(s,r,n,a,t[6],9,-1069501632),a=Qa(a,s,r,n,t[11],14,643717713),n=Qa(n,a,s,r,t[0],20,-373897302),r=Qa(r,n,a,s,t[5],5,-701558691),s=Qa(s,r,n,a,t[10],9,38016083),a=Qa(a,s,r,n,t[15],14,-660478335),n=Qa(n,a,s,r,t[4],20,-405537848),r=Qa(r,n,a,s,t[9],5,568446438),s=Qa(s,r,n,a,t[14],9,-1019803690),a=Qa(a,s,r,n,t[3],14,-187363961),n=Qa(n,a,s,r,t[8],20,1163531501),r=Qa(r,n,a,s,t[13],5,-1444681467),s=Qa(s,r,n,a,t[2],9,-51403784),a=Qa(a,s,r,n,t[7],14,1735328473),r=Ja(r,n=Qa(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Ja(s,r,n,a,t[8],11,-2022574463),a=Ja(a,s,r,n,t[11],16,1839030562),n=Ja(n,a,s,r,t[14],23,-35309556),r=Ja(r,n,a,s,t[1],4,-1530992060),s=Ja(s,r,n,a,t[4],11,1272893353),a=Ja(a,s,r,n,t[7],16,-155497632),n=Ja(n,a,s,r,t[10],23,-1094730640),r=Ja(r,n,a,s,t[13],4,681279174),s=Ja(s,r,n,a,t[0],11,-358537222),a=Ja(a,s,r,n,t[3],16,-722521979),n=Ja(n,a,s,r,t[6],23,76029189),r=Ja(r,n,a,s,t[9],4,-640364487),s=Ja(s,r,n,a,t[12],11,-421815835),a=Ja(a,s,r,n,t[15],16,530742520),r=Za(r,n=Ja(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Za(s,r,n,a,t[7],10,1126891415),a=Za(a,s,r,n,t[14],15,-1416354905),n=Za(n,a,s,r,t[5],21,-57434055),r=Za(r,n,a,s,t[12],6,1700485571),s=Za(s,r,n,a,t[3],10,-1894986606),a=Za(a,s,r,n,t[10],15,-1051523),n=Za(n,a,s,r,t[1],21,-2054922799),r=Za(r,n,a,s,t[8],6,1873313359),s=Za(s,r,n,a,t[15],10,-30611744),a=Za(a,s,r,n,t[6],15,-1560198380),n=Za(n,a,s,r,t[13],21,1309151649),r=Za(r,n,a,s,t[4],6,-145523070),s=Za(s,r,n,a,t[11],10,-1120210379),a=Za(a,s,r,n,t[2],15,718787259),n=Za(n,a,s,r,t[9],21,-343485551),e[0]=ud(r,e[0]),e[1]=ud(n,e[1]),e[2]=ud(a,e[2]),e[3]=ud(s,e[3])}function q2(e,t,r,n,a,s){return t=ud(ud(t,e),ud(n,s)),ud(t<<a|t>>>32-a,r)}function Ya(e,t,r,n,a,s,o){return q2(t&r|~t&n,e,t,a,s,o)}function Qa(e,t,r,n,a,s,o){return q2(t&n|r&~n,e,t,a,s,o)}function Ja(e,t,r,n,a,s,o){return q2(t^r^n,e,t,a,s,o)}function Za(e,t,r,n,a,s,o){return q2(r^(t|~n),e,t,a,s,o)}function yM(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)SN(n,aee(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(SN(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,SN(n,a),n}function aee(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}P0=Yt.atob.bind(Yt),B4=Yt.btoa.bind(Yt);var gE="0123456789abcdef".split("");function iee(e){for(var t="",r=0;r<4;r++)t+=gE[e>>8*r+4&15]+gE[e>>8*r&15];return t}function see(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function z4(e){return yM(e).map(see).join("")}var oee=function(e){for(var t=0;t<e.length;t++)e[t]=iee(e[t]);return e.join("")}(yM("hello"))!="5d41402abc4b2a76b9719d911017c592";function ud(e,t){if(oee){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function U4(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var f=t.length,h=0,p=0,g="";for(c=0;c<f;c++)p=(p+(u=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=u,o=l[(l[h]+l[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xE={print:4,modify:8,copy:16,"annot-forms":32};function ah(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(xE.perm!==void 0)throw new Error("Invalid permission: "+l);a+=xE[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=z4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=U4(this.encryptionKey,this.padding)}function ih(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function vE(e){if(qr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){Yt.console&&en.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function By(e){if(!(this instanceof By))return new By(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function bM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function wu(e,t,r,n,a){if(!(this instanceof wu))return new wu(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,bM.call(this,n,a)}function bh(e,t,r,n,a){if(!(this instanceof bh))return new bh(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,bM.call(this,n,a)}function qt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,d="S",u=null;qr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=vE;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(E){g=E};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var x=p.__private__.getPageFormat=function(E){return v[E]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function N(){this.saveGraphicsState(),re(new Qe(he,0,0,-he,0,Cc()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),d="n",w=y.ADVANCED}function j(){this.restoreGraphicsState(),d="S",w=y.COMPAT}var C=p.__private__.combineFontStyleAndFontWeight=function(E,ee){if(E=="bold"&&ee=="normal"||E=="bold"&&ee==400||E=="normal"&&ee=="italic"||E=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(E=ee==400||ee==="normal"?E==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||E!=="normal"?(ee==700?"bold":ee)+""+E:"bold"),E};p.advancedAPI=function(E){var ee=w===y.COMPAT;return ee&&N.call(this),typeof E!="function"||(E(this),ee&&j.call(this)),this},p.compatAPI=function(E){var ee=w===y.ADVANCED;return ee&&j.call(this),typeof E!="function"||(E(this),ee&&N.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var k,_=function(E){if(w!==y.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=p.roundToPrecision=p.__private__.roundToPrecision=function(E,ee){var _e=t||ee;if(isNaN(E)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(_e).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return L(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return L(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return L(E,16)};var z=p.f2=p.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return L(E,2)},D=p.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return L(E,3)},T=p.scale=p.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?E*he:w===y.ADVANCED?E:void 0},I=function(E){return w===y.COMPAT?Cc()-E:w===y.ADVANCED?E:void 0},B=function(E){return T(I(E))};p.__private__.setPrecision=p.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var J,U="00000000000000000000000000000000",X=p.__private__.getFileId=function(){return U},M=p.__private__.setFileId=function(E){return U=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ha=new ah(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};p.setFileId=function(E){return M(E),this},p.getFileId=function(){return X()};var Q=p.__private__.convertDateToPDFDate=function(E){var ee=E.getTimezoneOffset(),_e=ee<0?"+":"-",Ae=Math.floor(Math.abs(ee/60)),Fe=Math.abs(ee%60),Ve=[_e,Y(Ae),"'",Y(Fe),"'"].join("");return["D:",E.getFullYear(),Y(E.getMonth()+1),Y(E.getDate()),Y(E.getHours()),Y(E.getMinutes()),Y(E.getSeconds()),Ve].join("")},le=p.__private__.convertPDFDateToDate=function(E){var ee=parseInt(E.substr(2,4),10),_e=parseInt(E.substr(6,2),10)-1,Ae=parseInt(E.substr(8,2),10),Fe=parseInt(E.substr(10,2),10),Ve=parseInt(E.substr(12,2),10),ht=parseInt(E.substr(14,2),10);return new Date(ee,_e,Ae,Fe,Ve,ht,0)},ue=p.__private__.setCreationDate=function(E){var ee;if(E===void 0&&(E=new Date),E instanceof Date)ee=Q(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=E}return J=ee},O=p.__private__.getCreationDate=function(E){var ee=J;return E==="jsDate"&&(ee=le(J)),ee};p.setCreationDate=function(E){return ue(E),this},p.getCreationDate=function(E){return O(E)};var V,Y=p.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},q=p.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},P=0,R=[],G=[],W=0,H=[],me=[],ae=!1,be=G,te=function(){P=0,W=0,G=[],R=[],H=[],xe=En(),ye=En()};p.__private__.setCustomOutputDestination=function(E){ae=!0,be=E};var ge=function(E){ae||(be=E)};p.__private__.resetCustomOutputDestination=function(){ae=!1,be=G};var re=p.__private__.out=function(E){return E=E.toString(),W+=E.length+1,be.push(E),be},Oe=p.__private__.write=function(E){return re(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Pe=p.__private__.getArrayBuffer=function(E){for(var ee=E.length,_e=new ArrayBuffer(ee),Ae=new Uint8Array(_e);ee--;)Ae[ee]=E.charCodeAt(ee);return _e},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ke};var Le=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(E){return Le=w===y.ADVANCED?E/he:E,this};var Ge,ut=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?Le:Le*he},bt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(E){return bt=E,this},p.__private__.getR2L=p.getR2L=function(){return bt};var Ct,Dt=p.__private__.setZoomMode=function(E){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Ge=E;else if(isNaN(E)){if(ee.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Ge=E}else Ge=parseInt(E,10)};p.__private__.getZoomMode=function(){return Ge};var ce,Je=p.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Ct=E};p.__private__.getPageMode=function(){return Ct};var ct=p.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');ce=E};p.__private__.getLayoutMode=function(){return ce},p.__private__.setDisplayMode=p.setDisplayMode=function(E,ee,_e){return Dt(E),ct(ee),Je(_e),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(E){if(Object.keys(ft).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[E]},p.__private__.getDocumentProperties=function(){return ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(E){for(var ee in ft)ft.hasOwnProperty(ee)&&E[ee]&&(ft[ee]=E[ee]);return this},p.__private__.setDocumentProperty=function(E,ee){if(Object.keys(ft).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[E]=ee};var gt,he,ze,Xe,fe,tt={},wt={},dr=[],xt={},Xt={},It={},Ar={},yn=null,Nr=0,Vt=[],vr=new vE(p),Zs=e.hotfixes||[],Mn={},oe={},at=[],Qe=function E(ee,_e,Ae,Fe,Ve,ht){if(!(this instanceof E))return new E(ee,_e,Ae,Fe,Ve,ht);isNaN(ee)&&(ee=1),isNaN(_e)&&(_e=0),isNaN(Ae)&&(Ae=0),isNaN(Fe)&&(Fe=1),isNaN(Ve)&&(Ve=0),isNaN(ht)&&(ht=0),this._matrix=[ee,_e,Ae,Fe,Ve,ht]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(E)},Qe.prototype.multiply=function(E){var ee=E.sx*this.sx+E.shy*this.shx,_e=E.sx*this.shy+E.shy*this.sy,Ae=E.shx*this.sx+E.sy*this.shx,Fe=E.shx*this.shy+E.sy*this.sy,Ve=E.tx*this.sx+E.ty*this.shx+this.tx,ht=E.tx*this.shy+E.ty*this.sy+this.ty;return new Qe(ee,_e,Ae,Fe,Ve,ht)},Qe.prototype.decompose=function(){var E=this.sx,ee=this.shy,_e=this.shx,Ae=this.sy,Fe=this.tx,Ve=this.ty,ht=Math.sqrt(E*E+ee*ee),Ft=(E/=ht)*_e+(ee/=ht)*Ae;_e-=E*Ft,Ae-=ee*Ft;var Wt=Math.sqrt(_e*_e+Ae*Ae);return Ft/=Wt,E*(Ae/=Wt)<ee*(_e/=Wt)&&(E=-E,ee=-ee,Ft=-Ft,ht=-ht),{scale:new Qe(ht,0,0,Wt,0,0),translate:new Qe(1,0,0,1,Fe,Ve),rotate:new Qe(E,ee,-ee,E,0,0),skew:new Qe(1,0,Ft,1,0,0)}},Qe.prototype.toString=function(E){return this.join(" ")},Qe.prototype.inversed=function(){var E=this.sx,ee=this.shy,_e=this.shx,Ae=this.sy,Fe=this.tx,Ve=this.ty,ht=1/(E*Ae-ee*_e),Ft=Ae*ht,Wt=-ee*ht,sr=-_e*ht,nr=E*ht;return new Qe(Ft,Wt,sr,nr,-Ft*Fe-sr*Ve,-Wt*Fe-nr*Ve)},Qe.prototype.applyToPoint=function(E){var ee=E.x*this.sx+E.y*this.shx+this.tx,_e=E.x*this.shy+E.y*this.sy+this.ty;return new Ef(ee,_e)},Qe.prototype.applyToRectangle=function(E){var ee=this.applyToPoint(E),_e=this.applyToPoint(new Ef(E.x+E.w,E.y+E.h));return new _m(ee.x,ee.y,_e.x-ee.x,_e.y-ee.y)},Qe.prototype.clone=function(){var E=this.sx,ee=this.shy,_e=this.shx,Ae=this.sy,Fe=this.tx,Ve=this.ty;return new Qe(E,ee,_e,Ae,Fe,Ve)},p.Matrix=Qe;var Zt=p.matrixMult=function(E,ee){return ee.multiply(E)},aa=new Qe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=aa;var Gn=function(E,ee){if(!Xt[E]){var _e=(ee instanceof wu?"Sh":"P")+(Object.keys(xt).length+1).toString(10);ee.id=_e,Xt[E]=_e,xt[_e]=ee,vr.publish("addPattern",ee)}};p.ShadingPattern=wu,p.TilingPattern=bh,p.addShadingPattern=function(E,ee){return _("addShadingPattern()"),Gn(E,ee),this},p.beginTilingPattern=function(E){_("beginTilingPattern()"),Jx(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},p.endTilingPattern=function(E,ee){_("endTilingPattern()"),ee.stream=me[V].join(`
`),Gn(E,ee),vr.publish("endTilingPattern",ee),at.pop().restore()};var Nn=p.__private__.newObject=function(){var E=En();return ie(E,!0),E},En=p.__private__.newObjectDeferred=function(){return P++,R[P]=function(){return W},P},ie=function(E,ee){return ee=typeof ee=="boolean"&&ee,R[E]=W,ee&&re(E+" 0 obj"),E},Ne=p.__private__.newAdditionalObject=function(){var E={objId:En(),content:""};return H.push(E),E},xe=En(),ye=En(),je=p.__private__.decodeColorString=function(E){var ee=E.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var _e=parseFloat(ee[0]);ee=[_e,_e,_e,"r"]}for(var Ae="#",Fe=0;Fe<3;Fe++)Ae+=("0"+Math.floor(255*parseFloat(ee[Fe])).toString(16)).slice(-2);return Ae},Se=p.__private__.encodeColorString=function(E){var ee;typeof E=="string"&&(E={ch1:E});var _e=E.ch1,Ae=E.ch2,Fe=E.ch3,Ve=E.ch4,ht=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Ft=new vM(_e);if(Ft.ok)_e=Ft.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Wt=parseInt(_e.substr(1),16);_e=Wt>>16&255,Ae=Wt>>8&255,Fe=255&Wt}if(Ae===void 0||Ve===void 0&&_e===Ae&&Ae===Fe)if(typeof _e=="string")ee=_e+" "+ht[0];else switch(E.precision){case 2:ee=z(_e/255)+" "+ht[0];break;case 3:default:ee=D(_e/255)+" "+ht[0]}else if(Ve===void 0||qr(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return ee=["1.","1.","1.",ht[1]].join(" ");if(typeof _e=="string")ee=[_e,Ae,Fe,ht[1]].join(" ");else switch(E.precision){case 2:ee=[z(_e/255),z(Ae/255),z(Fe/255),ht[1]].join(" ");break;default:case 3:ee=[D(_e/255),D(Ae/255),D(Fe/255),ht[1]].join(" ")}}else if(typeof _e=="string")ee=[_e,Ae,Fe,Ve,ht[2]].join(" ");else switch(E.precision){case 2:ee=[z(_e),z(Ae),z(Fe),z(Ve),ht[2]].join(" ");break;case 3:default:ee=[D(_e),D(Ae),D(Fe),D(Ve),ht[2]].join(" ")}return ee},Re=p.__private__.getFilters=function(){return o},qe=p.__private__.putStream=function(E){var ee=(E=E||{}).data||"",_e=E.filters||Re(),Ae=E.alreadyAppliedFilters||[],Fe=E.addLength1||!1,Ve=ee.length,ht=E.objectId,Ft=function(Va){return Va};if(u!==null&&ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ft=Ha.encryptor(ht,0));var Wt={};_e===!0&&(_e=["FlateEncode"]);var sr=E.additionalKeyValues||[],nr=(Wt=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(ee,_e):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Wt.data.length!==0&&(sr.push({key:"Length",value:Wt.data.length}),Fe===!0&&sr.push({key:"Length1",value:Ve})),nr.length!=0)if(nr.split("/").length-1==1)sr.push({key:"Filter",value:nr});else{sr.push({key:"Filter",value:"["+nr+"]"});for(var kr=0;kr<sr.length;kr+=1)if(sr[kr].key==="DecodeParms"){for(var Sn=[],Tn=0;Tn<Wt.reverseChain.split("/").length-1;Tn+=1)Sn.push("null");Sn.push(sr[kr].value),sr[kr].value="["+Sn.join(" ")+"]"}}re("<<");for(var Xn=0;Xn<sr.length;Xn++)re("/"+sr[Xn].key+" "+sr[Xn].value);re(">>"),Wt.data.length!==0&&(re("stream"),re(Ft(Wt.data)),re("endstream"))},Ie=p.__private__.putPage=function(E){var ee=E.number,_e=E.data,Ae=E.objId,Fe=E.contentsObjId;ie(Ae,!0),re("<</Type /Page"),re("/Parent "+E.rootDictionaryObjId+" 0 R"),re("/Resources "+E.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(k(E.mediaBox.bottomLeftX))+" "+parseFloat(k(E.mediaBox.bottomLeftY))+" "+k(E.mediaBox.topRightX)+" "+k(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&re("/CropBox ["+k(E.cropBox.bottomLeftX)+" "+k(E.cropBox.bottomLeftY)+" "+k(E.cropBox.topRightX)+" "+k(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&re("/BleedBox ["+k(E.bleedBox.bottomLeftX)+" "+k(E.bleedBox.bottomLeftY)+" "+k(E.bleedBox.topRightX)+" "+k(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&re("/TrimBox ["+k(E.trimBox.bottomLeftX)+" "+k(E.trimBox.bottomLeftY)+" "+k(E.trimBox.topRightX)+" "+k(E.trimBox.topRightY)+"]"),E.artBox!==null&&re("/ArtBox ["+k(E.artBox.bottomLeftX)+" "+k(E.artBox.bottomLeftY)+" "+k(E.artBox.topRightX)+" "+k(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&re("/UserUnit "+E.userUnit),vr.publish("putPage",{objId:Ae,pageContext:Vt[ee],pageNumber:ee,page:_e}),re("/Contents "+Fe+" 0 R"),re(">>"),re("endobj");var Ve=_e.join(`
`);return w===y.ADVANCED&&(Ve+=`
Q`),ie(Fe,!0),qe({data:Ve,filters:Re(),objectId:Fe}),re("endobj"),Ae},Be=p.__private__.putPages=function(){var E,ee,_e=[];for(E=1;E<=Nr;E++)Vt[E].objId=En(),Vt[E].contentsObjId=En();for(E=1;E<=Nr;E++)_e.push(Ie({number:E,data:me[E],objId:Vt[E].objId,contentsObjId:Vt[E].contentsObjId,mediaBox:Vt[E].mediaBox,cropBox:Vt[E].cropBox,bleedBox:Vt[E].bleedBox,trimBox:Vt[E].trimBox,artBox:Vt[E].artBox,userUnit:Vt[E].userUnit,rootDictionaryObjId:xe,resourceDictionaryObjId:ye}));ie(xe,!0),re("<</Type /Pages");var Ae="/Kids [";for(ee=0;ee<Nr;ee++)Ae+=_e[ee]+" 0 R ";re(Ae+"]"),re("/Count "+Nr),re(">>"),re("endobj"),vr.publish("postPutPages")},Ue=function(E){vr.publish("putFont",{font:E,out:re,newObject:Nn,putStream:qe}),E.isAlreadyPutted!==!0&&(E.objectNumber=Nn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+ih(E.postScriptName)),re("/Subtype /Type1"),typeof E.encoding=="string"&&re("/Encoding /"+E.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},pt=function(){for(var E in tt)tt.hasOwnProperty(E)&&(f===!1||f===!0&&h.hasOwnProperty(E))&&Ue(tt[E])},jt=function(E){E.objectNumber=Nn();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[k(E.x),k(E.y),k(E.x+E.width),k(E.y+E.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var _e=E.pages[1].join(`
`);qe({data:_e,additionalKeyValues:ee,objectId:E.objectNumber}),re("endobj")},Ot=function(){for(var E in Mn)Mn.hasOwnProperty(E)&&jt(Mn[E])},yt=function(E,ee){var _e,Ae=[],Fe=1/(ee-1);for(_e=0;_e<1;_e+=Fe)Ae.push(_e);if(Ae.push(1),E[0].offset!=0){var Ve={offset:0,color:E[0].color};E.unshift(Ve)}if(E[E.length-1].offset!=1){var ht={offset:1,color:E[E.length-1].color};E.push(ht)}for(var Ft="",Wt=0,sr=0;sr<Ae.length;sr++){for(_e=Ae[sr];_e>E[Wt+1].offset;)Wt++;var nr=E[Wt].offset,kr=(_e-nr)/(E[Wt+1].offset-nr),Sn=E[Wt].color,Tn=E[Wt+1].color;Ft+=q(Math.round((1-kr)*Sn[0]+kr*Tn[0]).toString(16))+q(Math.round((1-kr)*Sn[1]+kr*Tn[1]).toString(16))+q(Math.round((1-kr)*Sn[2]+kr*Tn[2]).toString(16))}return Ft.trim()},Tt=function(E,ee){ee||(ee=21);var _e=Nn(),Ae=yt(E.colors,ee),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+ee+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:Ae,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),re("endobj"),E.objectNumber=Nn(),re("<< /ShadingType "+E.type),re("/ColorSpace /DeviceRGB");var Ve="/Coords ["+k(parseFloat(E.coords[0]))+" "+k(parseFloat(E.coords[1]))+" ";E.type===2?Ve+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3])):Ve+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3]))+" "+k(parseFloat(E.coords[4]))+" "+k(parseFloat(E.coords[5])),re(Ve+="]"),E.matrix&&re("/Matrix ["+E.matrix.toString()+"]"),re("/Function "+_e+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},er=function(E,ee){var _e=En(),Ae=Nn();ee.push({resourcesOid:_e,objectOid:Ae}),E.objectNumber=Ae;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+E.boundingBox.map(k).join(" ")+"]"}),Fe.push({key:"XStep",value:k(E.xStep)}),Fe.push({key:"YStep",value:k(E.yStep)}),Fe.push({key:"Resources",value:_e+" 0 R"}),E.matrix&&Fe.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),qe({data:E.stream,additionalKeyValues:Fe,objectId:E.objectNumber}),re("endobj")},Ir=function(E){var ee;for(ee in xt)xt.hasOwnProperty(ee)&&(xt[ee]instanceof wu?Tt(xt[ee]):xt[ee]instanceof bh&&er(xt[ee],E))},Xr=function(E){for(var ee in E.objectNumber=Nn(),re("<<"),E)switch(ee){case"opacity":re("/ca "+z(E[ee]));break;case"stroke-opacity":re("/CA "+z(E[ee]))}re(">>"),re("endobj")},Kn=function(){var E;for(E in It)It.hasOwnProperty(E)&&Xr(It[E])},eo=function(){for(var E in re("/XObject <<"),Mn)Mn.hasOwnProperty(E)&&Mn[E].objectNumber>=0&&re("/"+E+" "+Mn[E].objectNumber+" 0 R");vr.publish("putXobjectDict"),re(">>")},Sl=function(){Ha.oid=Nn(),re("<<"),re("/Filter /Standard"),re("/V "+Ha.v),re("/R "+Ha.r),re("/U <"+Ha.toHexString(Ha.U)+">"),re("/O <"+Ha.toHexString(Ha.O)+">"),re("/P "+Ha.P),re(">>"),re("endobj")},Uo=function(){for(var E in re("/Font <<"),tt)tt.hasOwnProperty(E)&&(f===!1||f===!0&&h.hasOwnProperty(E))&&re("/"+E+" "+tt[E].objectNumber+" 0 R");re(">>")},to=function(){if(Object.keys(xt).length>0){for(var E in re("/Shading <<"),xt)xt.hasOwnProperty(E)&&xt[E]instanceof wu&&xt[E].objectNumber>=0&&re("/"+E+" "+xt[E].objectNumber+" 0 R");vr.publish("putShadingPatternDict"),re(">>")}},Wo=function(E){if(Object.keys(xt).length>0){for(var ee in re("/Pattern <<"),xt)xt.hasOwnProperty(ee)&&xt[ee]instanceof p.TilingPattern&&xt[ee].objectNumber>=0&&xt[ee].objectNumber<E&&re("/"+ee+" "+xt[ee].objectNumber+" 0 R");vr.publish("putTilingPatternDict"),re(">>")}},Yi=function(){if(Object.keys(It).length>0){var E;for(E in re("/ExtGState <<"),It)It.hasOwnProperty(E)&&It[E].objectNumber>=0&&re("/"+E+" "+It[E].objectNumber+" 0 R");vr.publish("putGStateDict"),re(">>")}},$n=function(E){ie(E.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Uo(),to(),Wo(E.objectOid),Yi(),eo(),re(">>"),re("endobj")},Rx=function(){var E=[];pt(),Kn(),Ot(),Ir(E),vr.publish("putResources"),E.forEach($n),$n({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),vr.publish("postPutResources")},Mx=function(){vr.publish("putAdditionalObjects");for(var E=0;E<H.length;E++){var ee=H[E];ie(ee.objId,!0),re(ee.content),re("endobj")}vr.publish("postPutAdditionalObjects")},$x=function(E){wt[E.fontName]=wt[E.fontName]||{},wt[E.fontName][E.fontStyle]=E.id},gm=function(E,ee,_e,Ae,Fe){var Ve={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:E,fontName:ee,fontStyle:_e,encoding:Ae,isStandardFont:Fe||!1,metadata:{}};return vr.publish("addFont",{font:Ve,instance:this}),tt[Ve.id]=Ve,$x(Ve),Ve.id},Gw=function(E){for(var ee=0,_e=ke.length;ee<_e;ee++){var Ae=gm.call(this,E[ee][0],E[ee][1],E[ee][2],ke[ee][3],!0);f===!1&&(h[Ae]=!0);var Fe=E[ee][0].split("-");$x({id:Ae,fontName:Fe[0],fontStyle:Fe[1]||""})}vr.publish("addFonts",{fonts:tt,dictionary:wt})},ro=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(Ae){var ee=Ae.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var _e="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!Yt.console)throw new Error(_e);Yt.console.error(_e,Ae),Yt.alert&&alert(_e)}},E.foo.bar=E,E.foo},Nf=function(E,ee){var _e,Ae,Fe,Ve,ht,Ft,Wt,sr,nr;if(Fe=(ee=ee||{}).sourceEncoding||"Unicode",ht=ee.outputEncoding,(ee.autoencode||ht)&&tt[gt].metadata&&tt[gt].metadata[Fe]&&tt[gt].metadata[Fe].encoding&&(Ve=tt[gt].metadata[Fe].encoding,!ht&&tt[gt].encoding&&(ht=tt[gt].encoding),!ht&&Ve.codePages&&(ht=Ve.codePages[0]),typeof ht=="string"&&(ht=Ve[ht]),ht)){for(Wt=!1,Ft=[],_e=0,Ae=E.length;_e<Ae;_e++)(sr=ht[E.charCodeAt(_e)])?Ft.push(String.fromCharCode(sr)):Ft.push(E[_e]),Ft[_e].charCodeAt(0)>>8&&(Wt=!0);E=Ft.join("")}for(_e=E.length;Wt===void 0&&_e!==0;)E.charCodeAt(_e-1)>>8&&(Wt=!0),_e--;if(!Wt)return E;for(Ft=ee.noBOM?[]:[254,255],_e=0,Ae=E.length;_e<Ae;_e++){if((nr=(sr=E.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(nr),Ft.push(sr-(nr<<8))}return String.fromCharCode.apply(void 0,Ft)},Oi=p.__private__.pdfEscape=p.pdfEscape=function(E,ee){return Nf(E,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xm=p.__private__.beginPage=function(E){me[++Nr]=[],Vt[Nr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},zx(Nr),ge(me[V])},Bx=function(E,ee){var _e,Ae,Fe;switch(r=ee||r,typeof E=="string"&&(_e=x(E.toLowerCase()),Array.isArray(_e)&&(Ae=_e[0],Fe=_e[1])),Array.isArray(E)&&(Ae=E[0]*he,Fe=E[1]*he),isNaN(Ae)&&(Ae=a[0],Fe=a[1]),(Ae>14400||Fe>14400)&&(en.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Fe=Math.min(14400,Fe)),a=[Ae,Fe],r.substr(0,1)){case"l":Fe>Ae&&(a=[Fe,Ae]);break;case"p":Ae>Fe&&(a=[Fe,Ae])}xm(a),Gx(wm),re(no),Nm!==0&&re(Nm+" J"),Sm!==0&&re(Sm+" j"),vr.publish("addPage",{pageNumber:Nr})},Kw=function(E){E>0&&E<=Nr&&(me.splice(E,1),Vt.splice(E,1),Nr--,V>Nr&&(V=Nr),this.setPage(V))},zx=function(E){E>0&&E<=Nr&&(V=E)},Xw=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return me.length-1},Ux=function(E,ee,_e){var Ae,Fe=void 0;return _e=_e||{},E=E!==void 0?E:tt[gt].fontName,ee=ee!==void 0?ee:tt[gt].fontStyle,Ae=E.toLowerCase(),wt[Ae]!==void 0&&wt[Ae][ee]!==void 0?Fe=wt[Ae][ee]:wt[E]!==void 0&&wt[E][ee]!==void 0?Fe=wt[E][ee]:_e.disableWarning===!1&&en.warn("Unable to look up font label for font '"+E+"', '"+ee+"'. Refer to getFontList() for available fonts."),Fe||_e.noFallback||(Fe=wt.times[ee])==null&&(Fe=wt.times.normal),Fe},Yw=p.__private__.putInfo=function(){var E=Nn(),ee=function(Ae){return Ae};for(var _e in u!==null&&(ee=Ha.encryptor(E,0)),re("<<"),re("/Producer ("+Oi(ee("jsPDF "+qt.version))+")"),ft)ft.hasOwnProperty(_e)&&ft[_e]&&re("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Oi(ee(ft[_e]))+")");re("/CreationDate ("+Oi(ee(J))+")"),re(">>"),re("endobj")},vm=p.__private__.putCatalog=function(E){var ee=(E=E||{}).rootDictionaryObjId||xe;switch(Nn(),re("<<"),re("/Type /Catalog"),re("/Pages "+ee+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Ge;_e.substr(_e.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&re("/OpenAction [3 0 R /XYZ null null "+z(Ge)+"]")}switch(ce||(ce="continuous"),ce){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ct&&re("/PageMode /"+Ct),vr.publish("putCatalog"),re(">>"),re("endobj")},Qw=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(P+1)),re("/Root "+P+" 0 R"),re("/Info "+(P-1)+" 0 R"),u!==null&&re("/Encrypt "+Ha.oid+" 0 R"),re("/ID [ <"+U+"> <"+U+"> ]"),re(">>")},Jw=p.__private__.putHeader=function(){re("%PDF-"+g),re("%ºß¬à")},Zw=p.__private__.putXRef=function(){var E="0000000000";re("xref"),re("0 "+(P+1)),re("0000000000 65535 f ");for(var ee=1;ee<=P;ee++)typeof R[ee]=="function"?re((E+R[ee]()).slice(-10)+" 00000 n "):R[ee]!==void 0?re((E+R[ee]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},_l=p.__private__.buildDocument=function(){te(),ge(G),vr.publish("buildDocument"),Jw(),Be(),Mx(),Rx(),u!==null&&Sl(),Yw(),vm();var E=W;return Zw(),Qw(),re("startxref"),re(""+E),re("%%EOF"),ge(me[V]),G.join(`
`)},Sf=p.__private__.getBlob=function(E){return new Blob([Pe(E)],{type:"application/pdf"})},_f=p.output=p.__private__.output=ro(function(E,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",E){case void 0:return _l();case"save":p.save(ee.filename);break;case"arraybuffer":return Pe(_l());case"blob":return Sf(_l());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(Sf(_l()))||void 0;en.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ae=_l();try{_e=B4(Ae)}catch{_e=B4(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+ee.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Fe=ee.pdfObjectUrl,Ve="");var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Ft=Yt.open();return Ft!==null&&Ft.document.write(ht),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',sr=Yt.open();if(sr!==null){sr.document.write(Wt);var nr=this;sr.document.documentElement.querySelector("#pdfViewer").onload=function(){sr.document.title=ee.filename,sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nr.output("bloburl"))}}return sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Sn=Yt.open();if(Sn!==null&&(Sn.document.write(kr),Sn.document.title=ee.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",ee);default:return null}}),Wx=function(E){return Array.isArray(Zs)===!0&&Zs.indexOf(E)>-1};switch(n){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=Wx("px_scaling")==1?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);he=n}var Ha=null;ue(),M();var ej=function(E){return u!==null?Ha.encryptor(E,0):function(ee){return ee}},qx=p.__private__.getPageInfo=p.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[E].objId,pageNumber:E,pageContext:Vt[E]}},tr=p.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Vt)if(Vt[ee].objId===E)break;return qx(ee)},tj=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Vt[V].objId,pageNumber:V,pageContext:Vt[V]}};p.addPage=function(){return Bx.apply(this,arguments),this},p.setPage=function(){return zx.apply(this,arguments),ge.call(this,me[V]),this},p.insertPage=function(E){return this.addPage(),this.movePage(V,E),this},p.movePage=function(E,ee){var _e,Ae;if(E>ee){_e=me[E],Ae=Vt[E];for(var Fe=E;Fe>ee;Fe--)me[Fe]=me[Fe-1],Vt[Fe]=Vt[Fe-1];me[ee]=_e,Vt[ee]=Ae,this.setPage(ee)}else if(E<ee){_e=me[E],Ae=Vt[E];for(var Ve=E;Ve<ee;Ve++)me[Ve]=me[Ve+1],Vt[Ve]=Vt[Ve+1];me[ee]=_e,Vt[ee]=Ae,this.setPage(ee)}return this},p.deletePage=function(){return Kw.apply(this,arguments),this},p.__private__.text=p.text=function(E,ee,_e,Ae,Fe){var Ve,ht,Ft,Wt,sr,nr,kr,Sn,Tn,Xn=(Ae=Ae||{}).scope||this;if(typeof E=="number"&&typeof ee=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Va=_e;_e=ee,ee=E,E=Va}if(arguments[3]instanceof Qe?(_("The transform parameter of text() with a Matrix value"),Tn=Fe):(Ft=arguments[4],Wt=arguments[5],qr(kr=arguments[3])==="object"&&kr!==null||(typeof Ft=="string"&&(Wt=Ft,Ft=null),typeof kr=="string"&&(Wt=kr,kr=null),typeof kr=="number"&&(Ft=kr,kr=null),Ae={flags:kr,angle:Ft,align:Wt})),isNaN(ee)||isNaN(_e)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Xn;var xa="",ao=!1,Qi=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ru,Vo=Xn.internal.scaleFactor;function Zx(an){return an=an.split("	").join(Array(Ae.TabLen||9).join(" ")),Oi(an,kr)}function Em(an){for(var sn,zn=an.concat(),ia=[],Tl=zn.length;Tl--;)typeof(sn=zn.shift())=="string"?ia.push(sn):Array.isArray(an)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?ia.push(sn[0]):ia.push([sn[0],sn[1],sn[2]]);return ia}function Tm(an,sn){var zn;if(typeof an=="string")zn=sn(an)[0];else if(Array.isArray(an)){for(var ia,Tl,Mm=an.concat(),Bf=[],av=Mm.length;av--;)typeof(ia=Mm.shift())=="string"?Bf.push(sn(ia)[0]):Array.isArray(ia)&&typeof ia[0]=="string"&&(Tl=sn(ia[0],ia[1],ia[2]),Bf.push([Tl[0],Tl[1],Tl[2]]));zn=Bf}return zn}var Pf=!1,Pm=!0;if(typeof E=="string")Pf=!0;else if(Array.isArray(E)){var Om=E.concat();ht=[];for(var Of,Pa=Om.length;Pa--;)(typeof(Of=Om.shift())!="string"||Array.isArray(Of)&&typeof Of[0]!="string")&&(Pm=!1);Pf=Pm}if(Pf===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Df=Le/Xn.internal.scaleFactor,Ff=Df*(Qi-1);switch(Ae.baseline){case"bottom":_e-=Ff;break;case"top":_e+=Df-Ff;break;case"hanging":_e+=Df-2*Ff;break;case"middle":_e+=Df/2-Ff}if((nr=Ae.maxWidth||0)>0&&(typeof E=="string"?E=Xn.splitTextToSize(E,nr):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(an,sn){return an.concat(Xn.splitTextToSize(sn,nr))},[]))),Ve={text:E,x:ee,y:_e,options:Ae,mutex:{pdfEscape:Oi,activeFontKey:gt,fonts:tt,activeFontSize:Le}},vr.publish("preProcessText",Ve),E=Ve.text,Ft=(Ae=Ve.options).angle,!(Tn instanceof Qe)&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Ae.rotationDirection===0&&(Ft=-Ft),w===y.ADVANCED&&(Ft=-Ft);var Lf=Math.cos(Ft),Dm=Math.sin(Ft);Tn=new Qe(Lf,Dm,-Dm,Lf,0,0)}else Ft&&Ft instanceof Qe&&(Tn=Ft);w!==y.ADVANCED||Tn||(Tn=aa),(sr=Ae.charSpace||Cf)!==void 0&&(xa+=k(T(sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=Ae.horizontalScale)!==void 0&&(xa+=k(100*Sn)+` Tz
`),Ae.lang;var Di=-1,uj=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Fm=Xn.internal.getCurrentPageInfo().pageContext;switch(uj){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var ev=Fm.usedRenderingMode!==void 0?Fm.usedRenderingMode:-1;Di!==-1?xa+=Di+` Tr
`:ev!==-1&&(xa+=`0 Tr
`),Di!==-1&&(Fm.usedRenderingMode=Di),Wt=Ae.align||"left";var As,If=Le*Qi,tv=Xn.internal.pageSize.getWidth(),rv=tt[gt];sr=Ae.charSpace||Cf,nr=Ae.maxWidth||0,kr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Ec=[],iu=function(an){return Xn.getStringUnitWidth(an,{font:rv,charSpace:sr,fontSize:Le,doKerning:!1})*Le/Vo};if(Object.prototype.toString.call(E)==="[object Array]"){var Fi;ht=Em(E),Wt!=="left"&&(As=ht.map(iu));var hi,Tc=0;if(Wt==="right"){ee-=As[0],E=[],Pa=ht.length;for(var Al=0;Al<Pa;Al++)Al===0?(hi=Ho(ee),Fi=kl(_e)):(hi=T(Tc-As[Al]),Fi=-If),E.push([ht[Al],hi,Fi]),Tc=As[Al]}else if(Wt==="center"){ee-=As[0]/2,E=[],Pa=ht.length;for(var Cl=0;Cl<Pa;Cl++)Cl===0?(hi=Ho(ee),Fi=kl(_e)):(hi=T((Tc-As[Cl])/2),Fi=-If),E.push([ht[Cl],hi,Fi]),Tc=As[Cl]}else if(Wt==="left"){E=[],Pa=ht.length;for(var Rf=0;Rf<Pa;Rf++)E.push(ht[Rf])}else if(Wt==="justify"&&rv.encoding==="Identity-H"){E=[],Pa=ht.length,nr=nr!==0?nr:tv;for(var El=0,Bn=0;Bn<Pa;Bn++)if(Fi=Bn===0?kl(_e):-If,hi=Bn===0?Ho(ee):El,Bn<Pa-1){var Lm=T((nr-As[Bn])/(ht[Bn].split(" ").length-1)),pi=ht[Bn].split(" ");E.push([pi[0]+" ",hi,Fi]),El=0;for(var Cs=1;Cs<pi.length;Cs++){var Mf=(iu(pi[Cs-1]+" "+pi[Cs])-iu(pi[Cs]))*Vo+Lm;Cs==pi.length-1?E.push([pi[Cs],Mf,0]):E.push([pi[Cs]+" ",Mf,0]),El-=Mf}}else E.push([ht[Bn],hi,Fi]);E.push(["",El,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Pa=ht.length,nr=nr!==0?nr:tv,Bn=0;Bn<Pa;Bn++)Fi=Bn===0?kl(_e):-If,hi=Bn===0?Ho(ee):0,Bn<Pa-1?Ec.push(k(T((nr-As[Bn])/(ht[Bn].split(" ").length-1)))):Ec.push(0),E.push([ht[Bn],hi,Fi])}}var nv=typeof Ae.R2L=="boolean"?Ae.R2L:bt;nv===!0&&(E=Tm(E,function(an,sn,zn){return[an.split("").reverse().join(""),sn,zn]})),Ve={text:E,x:ee,y:_e,options:Ae,mutex:{pdfEscape:Oi,activeFontKey:gt,fonts:tt,activeFontSize:Le}},vr.publish("postProcessText",Ve),E=Ve.text,ao=Ve.mutex.isHex||!1;var Im=tt[gt].encoding;Im!=="WinAnsiEncoding"&&Im!=="StandardEncoding"||(E=Tm(E,function(an,sn,zn){return[Zx(an),sn,zn]})),ht=Em(E),E=[];for(var su,ou,Pc,lu=0,$f=1,cu=Array.isArray(ht[0])?$f:lu,Oc="",Rm=function(an,sn,zn){var ia="";return zn instanceof Qe?(zn=typeof Ae.angle=="number"?Zt(zn,new Qe(1,0,0,1,an,sn)):Zt(new Qe(1,0,0,1,an,sn),zn),w===y.ADVANCED&&(zn=Zt(new Qe(1,0,0,-1,0,0),zn)),ia=zn.join(" ")+` Tm
`):ia=k(an)+" "+k(sn)+` Td
`,ia},Es=0;Es<ht.length;Es++){switch(Oc="",cu){case $f:Pc=(ao?"<":"(")+ht[Es][0]+(ao?">":")"),su=parseFloat(ht[Es][1]),ou=parseFloat(ht[Es][2]);break;case lu:Pc=(ao?"<":"(")+ht[Es]+(ao?">":")"),su=Ho(ee),ou=kl(_e)}Ec!==void 0&&Ec[Es]!==void 0&&(Oc=Ec[Es]+` Tw
`),Es===0?E.push(Oc+Rm(su,ou,Tn)+Pc):cu===lu?E.push(Oc+Pc):cu===$f&&E.push(Oc+Rm(su,ou,Tn)+Pc)}E=cu===lu?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Ts=`BT
/`;return Ts+=gt+" "+Le+` Tf
`,Ts+=k(Le*Qi)+` TL
`,Ts+=nu+`
`,Ts+=xa,Ts+=E,re(Ts+="ET"),h[gt]=!0,Xn};var rj=p.__private__.clip=p.clip=function(E){return re(E==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return rj("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var qo=p.__private__.isValidStyle=function(E){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(ee=!0),ee};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(E){return qo(E)&&(d=E),this};var Hx=p.__private__.getStyle=p.getStyle=function(E){var ee=d;switch(E){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=E}return ee},Vx=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(E){return kf("f",E),this},p.fillEvenOdd=function(E){return kf("f*",E),this},p.fillStroke=function(E){return kf("B",E),this},p.fillStrokeEvenOdd=function(E){return kf("B*",E),this};var kf=function(E,ee){qr(ee)==="object"?aj(ee,E):re(E)},ym=function(E){E===null||w===y.ADVANCED&&E===void 0||(E=Hx(E),re(E))};function nj(E,ee,_e,Ae,Fe){var Ve=new bh(ee||this.boundingBox,_e||this.xStep,Ae||this.yStep,this.gState,Fe||this.matrix);Ve.stream=this.stream;var ht=E+"$$"+this.cloneIndex+++"$$";return Gn(ht,Ve),Ve}var aj=function(E,ee){var _e=Xt[E.key],Ae=xt[_e];if(Ae instanceof wu)re("q"),re(ij(ee)),Ae.gState&&p.setGState(Ae.gState),re(E.matrix.toString()+" cm"),re("/"+_e+" sh"),re("Q");else if(Ae instanceof bh){var Fe=new Qe(1,0,0,-1,0,Cc());E.matrix&&(Fe=Fe.multiply(E.matrix||aa),_e=nj.call(Ae,E.key,E.boundingBox,E.xStep,E.yStep,Fe).id),re("q"),re("/Pattern cs"),re("/"+_e+" scn"),Ae.gState&&p.setGState(Ae.gState),re(ee),re("Q")}},ij=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},bm=p.moveTo=function(E,ee){return re(k(T(E))+" "+k(B(ee))+" m"),this},tu=p.lineTo=function(E,ee){return re(k(T(E))+" "+k(B(ee))+" l"),this},kc=p.curveTo=function(E,ee,_e,Ae,Fe,Ve){return re([k(T(E)),k(B(ee)),k(T(_e)),k(B(Ae)),k(T(Fe)),k(B(Ve)),"c"].join(" ")),this};p.__private__.line=p.line=function(E,ee,_e,Ae,Fe){if(isNaN(E)||isNaN(ee)||isNaN(_e)||isNaN(Ae)||!qo(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[_e-E,Ae-ee]],E,ee,[1,1],Fe||"S"):this.lines([[_e-E,Ae-ee]],E,ee,[1,1]).stroke()},p.__private__.lines=p.lines=function(E,ee,_e,Ae,Fe,Ve){var ht,Ft,Wt,sr,nr,kr,Sn,Tn,Xn,Va,xa,ao;if(typeof E=="number"&&(ao=_e,_e=ee,ee=E,E=ao),Ae=Ae||[1,1],Ve=Ve||!1,isNaN(ee)||isNaN(_e)||!Array.isArray(E)||!Array.isArray(Ae)||!qo(Fe)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bm(ee,_e),ht=Ae[0],Ft=Ae[1],sr=E.length,Va=ee,xa=_e,Wt=0;Wt<sr;Wt++)(nr=E[Wt]).length===2?(Va=nr[0]*ht+Va,xa=nr[1]*Ft+xa,tu(Va,xa)):(kr=nr[0]*ht+Va,Sn=nr[1]*Ft+xa,Tn=nr[2]*ht+Va,Xn=nr[3]*Ft+xa,Va=nr[4]*ht+Va,xa=nr[5]*Ft+xa,kc(kr,Sn,Tn,Xn,Va,xa));return Ve&&Vx(),ym(Fe),this},p.path=function(E){for(var ee=0;ee<E.length;ee++){var _e=E[ee],Ae=_e.c;switch(_e.op){case"m":bm(Ae[0],Ae[1]);break;case"l":tu(Ae[0],Ae[1]);break;case"c":kc.apply(this,Ae);break;case"h":Vx()}}return this},p.__private__.rect=p.rect=function(E,ee,_e,Ae,Fe){if(isNaN(E)||isNaN(ee)||isNaN(_e)||isNaN(Ae)||!qo(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(Ae=-Ae),re([k(T(E)),k(B(ee)),k(T(_e)),k(T(Ae)),"re"].join(" ")),ym(Fe),this},p.__private__.triangle=p.triangle=function(E,ee,_e,Ae,Fe,Ve,ht){if(isNaN(E)||isNaN(ee)||isNaN(_e)||isNaN(Ae)||isNaN(Fe)||isNaN(Ve)||!qo(ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-E,Ae-ee],[Fe-_e,Ve-Ae],[E-Fe,ee-Ve]],E,ee,[1,1],ht,!0),this},p.__private__.roundedRect=p.roundedRect=function(E,ee,_e,Ae,Fe,Ve,ht){if(isNaN(E)||isNaN(ee)||isNaN(_e)||isNaN(Ae)||isNaN(Fe)||isNaN(Ve)||!qo(ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*_e),Ve=Math.min(Ve,.5*Ae),this.lines([[_e-2*Fe,0],[Fe*Ft,0,Fe,Ve-Ve*Ft,Fe,Ve],[0,Ae-2*Ve],[0,Ve*Ft,-Fe*Ft,Ve,-Fe,Ve],[2*Fe-_e,0],[-Fe*Ft,0,-Fe,-Ve*Ft,-Fe,-Ve],[0,2*Ve-Ae],[0,-Ve*Ft,Fe*Ft,-Ve,Fe,-Ve]],E+Fe,ee,[1,1],ht,!0),this},p.__private__.ellipse=p.ellipse=function(E,ee,_e,Ae,Fe){if(isNaN(E)||isNaN(ee)||isNaN(_e)||isNaN(Ae)||!qo(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*_e,ht=4/3*(Math.SQRT2-1)*Ae;return bm(E+_e,ee),kc(E+_e,ee-ht,E+Ve,ee-Ae,E,ee-Ae),kc(E-Ve,ee-Ae,E-_e,ee-ht,E-_e,ee),kc(E-_e,ee+ht,E-Ve,ee+Ae,E,ee+Ae),kc(E+Ve,ee+Ae,E+_e,ee+ht,E+_e,ee),ym(Fe),this},p.__private__.circle=p.circle=function(E,ee,_e,Ae){if(isNaN(E)||isNaN(ee)||isNaN(_e)||!qo(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,ee,_e,_e,Ae)},p.setFont=function(E,ee,_e){return _e&&(ee=C(ee,_e)),gt=Ux(E,ee,{disableWarning:!1}),this};var sj=p.__private__.getFont=p.getFont=function(){return tt[Ux.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var E,ee,_e={};for(E in wt)if(wt.hasOwnProperty(E))for(ee in _e[E]=[],wt[E])wt[E].hasOwnProperty(ee)&&_e[E].push(ee);return _e},p.addFont=function(E,ee,_e,Ae,Fe){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(_e=C(_e,Ae)),Fe=Fe||"Identity-H",gm.call(this,E,ee,_e,Fe)};var ru,wm=e.lineWidth||.200025,Af=p.__private__.getLineWidth=p.getLineWidth=function(){return wm},Gx=p.__private__.setLineWidth=p.setLineWidth=function(E){return wm=E,re(k(T(E))+" w"),this};p.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(E,ee){if(E=E||[],ee=ee||0,isNaN(ee)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(_e){return k(T(_e))}).join(" "),ee=k(T(ee)),re("["+E+"] "+ee+" d"),this};var Kx=p.__private__.getLineHeight=p.getLineHeight=function(){return Le*ru};p.__private__.getLineHeight=p.getLineHeight=function(){return Le*ru};var Xx=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(ru=E),this},Yx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ru};Xx(e.lineHeight);var Ho=p.__private__.getHorizontalCoordinate=function(E){return T(E)},kl=p.__private__.getVerticalCoordinate=function(E){return w===y.ADVANCED?E:Vt[V].mediaBox.topRightY-Vt[V].mediaBox.bottomLeftY-T(E)},oj=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(E){return k(Ho(E))},Ac=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(E){return k(kl(E))},no=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return je(no)},p.__private__.setStrokeColor=p.setDrawColor=function(E,ee,_e,Ae){return no=Se({ch1:E,ch2:ee,ch3:_e,ch4:Ae,pdfColorType:"draw",precision:2}),re(no),this};var jm=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return je(jm)},p.__private__.setFillColor=p.setFillColor=function(E,ee,_e,Ae){return jm=Se({ch1:E,ch2:ee,ch3:_e,ch4:Ae,pdfColorType:"fill",precision:2}),re(jm),this};var nu=e.textColor||"0 g",lj=p.__private__.getTextColor=p.getTextColor=function(){return je(nu)};p.__private__.setTextColor=p.setTextColor=function(E,ee,_e,Ae){return nu=Se({ch1:E,ch2:ee,ch3:_e,ch4:Ae,pdfColorType:"text",precision:3}),this};var Cf=e.charSpace,cj=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Cf||0)};p.__private__.setCharSpace=p.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cf=E,this};var Nm=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(E){var ee=p.CapJoinStyles[E];if(ee===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nm=ee,re(ee+" J"),this};var Sm=0;p.__private__.setLineJoin=p.setLineJoin=function(E){var ee=p.CapJoinStyles[E];if(ee===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sm=ee,re(ee+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(k(T(E))+" M"),this},p.GState=By,p.setGState=function(E){(E=typeof E=="string"?It[Ar[E]]:Qx(null,E)).equals(yn)||(re("/"+E.id+" gs"),yn=E)};var Qx=function(E,ee){if(!E||!Ar[E]){var _e=!1;for(var Ae in It)if(It.hasOwnProperty(Ae)&&It[Ae].equals(ee)){_e=!0;break}if(_e)ee=It[Ae];else{var Fe="GS"+(Object.keys(It).length+1).toString(10);It[Fe]=ee,ee.id=Fe}return E&&(Ar[E]=ee.id),vr.publish("addGState",ee),ee}};p.addGState=function(E,ee){return Qx(E,ee),this},p.saveGraphicsState=function(){return re("q"),dr.push({key:gt,size:Le,color:nu}),this},p.restoreGraphicsState=function(){re("Q");var E=dr.pop();return gt=E.key,Le=E.size,nu=E.color,yn=null,this},p.setCurrentTransformationMatrix=function(E){return re(E.toString()+" cm"),this},p.comment=function(E){return re("#"+E),this};var Ef=function(E,ee){var _e=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Ve){isNaN(Ve)||(_e=parseFloat(Ve))}});var Ae=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Ve){isNaN(Ve)||(Ae=parseFloat(Ve))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Ve){Fe=Ve.toString()}}),this},_m=function(E,ee,_e,Ae){Ef.call(this,E,ee),this.type="rect";var Fe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(ht){isNaN(ht)||(Fe=parseFloat(ht))}});var Ve=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(ht){isNaN(ht)||(Ve=parseFloat(ht))}}),this},km=function(){this.page=Nr,this.currentPage=V,this.pages=me.slice(0),this.pagesContext=Vt.slice(0),this.x=ze,this.y=Xe,this.matrix=fe,this.width=au(V),this.height=Cc(V),this.outputDestination=be,this.id="",this.objectNumber=-1};km.prototype.restore=function(){Nr=this.page,V=this.currentPage,Vt=this.pagesContext,me=this.pages,ze=this.x,Xe=this.y,fe=this.matrix,Am(V,this.width),Cm(V,this.height),be=this.outputDestination};var Jx=function(E,ee,_e,Ae,Fe){at.push(new km),Nr=V=0,me=[],ze=E,Xe=ee,fe=Fe,xm([_e,Ae])},dj=function(E){if(oe[E])at.pop().restore();else{var ee=new km,_e="Xo"+(Object.keys(Mn).length+1).toString(10);ee.id=_e,oe[E]=_e,Mn[_e]=ee,vr.publish("addFormObject",ee),at.pop().restore()}};for(var Tf in p.beginFormObject=function(E,ee,_e,Ae,Fe){return Jx(E,ee,_e,Ae,Fe),this},p.endFormObject=function(E){return dj(E),this},p.doFormObject=function(E,ee){var _e=Mn[oe[E]];return re("q"),re(ee.toString()+" cm"),re("/"+_e.id+" Do"),re("Q"),this},p.getFormObject=function(E){var ee=Mn[oe[E]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},p.save=function(E,ee){return E=E||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(xu(Sf(_l()),E),typeof xu.unload=="function"&&Yt.setTimeout&&setTimeout(xu.unload,911),this):new Promise(function(_e,Ae){try{var Fe=xu(Sf(_l()),E);typeof xu.unload=="function"&&Yt.setTimeout&&setTimeout(xu.unload,911),_e(Fe)}catch(Ve){Ae(Ve.message)}})},qt.API)qt.API.hasOwnProperty(Tf)&&(Tf==="events"&&qt.API.events.length?function(E,ee){var _e,Ae,Fe;for(Fe=ee.length-1;Fe!==-1;Fe--)_e=ee[Fe][0],Ae=ee[Fe][1],E.subscribe.apply(E,[_e].concat(typeof Ae=="function"?[Ae]:Ae))}(vr,qt.API.events):p[Tf]=qt.API[Tf]);var au=p.getPageWidth=function(E){return(Vt[E=E||V].mediaBox.topRightX-Vt[E].mediaBox.bottomLeftX)/he},Am=p.setPageWidth=function(E,ee){Vt[E].mediaBox.topRightX=ee*he+Vt[E].mediaBox.bottomLeftX},Cc=p.getPageHeight=function(E){return(Vt[E=E||V].mediaBox.topRightY-Vt[E].mediaBox.bottomLeftY)/he},Cm=p.setPageHeight=function(E,ee){Vt[E].mediaBox.topRightY=ee*he+Vt[E].mediaBox.bottomLeftY};return p.internal={pdfEscape:Oi,getStyle:Hx,getFont:sj,getFontSize:ut,getCharSpace:cj,getTextColor:lj,getLineHeight:Kx,getLineHeightFactor:Yx,getLineWidth:Af,write:Oe,getHorizontalCoordinate:Ho,getVerticalCoordinate:kl,getCoordinateString:oj,getVerticalCoordinateString:Ac,collections:{},newObject:Nn,newAdditionalObject:Ne,newObjectDeferred:En,newObjectDeferredBegin:ie,getFilters:Re,putStream:qe,events:vr,scaleFactor:he,pageSize:{getWidth:function(){return au(V)},setWidth:function(E){Am(V,E)},getHeight:function(){return Cc(V)},setHeight:function(E){Cm(V,E)}},encryptionOptions:u,encryption:Ha,getEncryptor:ej,output:_f,getNumberOfPages:Xw,pages:me,out:re,f2:z,f3:D,getPageInfo:qx,getPageInfoByObjId:tr,getCurrentPageInfo:tj,getPDFVersion:m,Point:Ef,Rectangle:_m,Matrix:Qe,hasHotfix:Wx},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return au(V)},set:function(E){Am(V,E)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Cc(V)},set:function(E){Cm(V,E)},enumerable:!0,configurable:!0}),Gw.call(p,ke),gt="F1",Bx(a,r),vr.publish("initialized"),p}ah.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ah.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ah.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ah.prototype.processOwnerPassword=function(e,t){return U4(z4(t).substr(0,5),e)},ah.prototype.encryptor=function(e,t){var r=z4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return U4(r,n)}},By.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||qr(e)!==qr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},qt.API={events:[]},qt.version="3.0.1";var Dn=qt.API,ek=1,hf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(e){return e.toFixed(2)},qc=function(e){return e.toFixed(5)};Dn.__acroform__={};var Ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},yE=function(e){return e*ek},Yo=function(e){var t=new jM,r=$t.internal.getHeight(e)||0,n=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ar(n)),Number(ar(r))],t},lee=Dn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},cee=Dn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},dee=Dn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},qn=Dn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dee(e,t-1)},Hn=Dn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lee(e,t-1)},Vn=Dn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cee(e,t-1)},uee=Dn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(ar(c.lowerLeft_X)),Number(ar(c.lowerLeft_Y)),Number(ar(c.upperRight_X)),Number(ar(c.upperRight_Y))]},fee=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=W4(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ar(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Yo(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},W4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=r,o=$t.internal.getHeight(e)||0;o=o<0?-o:o;var l=$t.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(D,T,I){if(D+1<a.length){var B=T+" "+a[D+1][0];return r1(B,e,I).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var d,u,f=r1("3",e,s).height,h=e.multiline?o-s:(o-f)/2,p=h+=2,g=0,m=0,v=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+r1(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var x="",y=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var N=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(y+2)+2>o)continue e;x+=a[w][v],N=!0,m=w,w--}else{x=(x+=a[w][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var j=parseInt(w),C=c(j,x,s),k=w>=a.length-1;if(C&&!k){x+=" ",v=0;continue}if(C||k){if(k)m=j;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;m=j}}for(var _="",L=g;L<=m;L++){var z=a[L];if(e.multiline){if(L===m){_+=z[v]+" ",v=(v+1)%z.length;continue}if(L===g){_+=z[z.length-1]+" ";continue}}_+=z[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=r1(_,e,s).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=ar(d)+" "+ar(p)+` Td
`,t+="("+hf(_)+`) Tj
`,t+=-ar(d)+` 0 Td
`,p=-(s+2),u=0,g=N?m:m+1,y++,x=""}break}return n.text=t,n.fontSize=s,n},r1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},hee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pee=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},mee=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),qr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},gee=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if($o.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(hee)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ek=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new NM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&pee(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=uee(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=$t.createDefaultAppearanceStream(l),qr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=fee(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var g=p[o];typeof g=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&mee(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},wM=Dn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),qr(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+hf(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_N=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+hf(n(e))+")"},il=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};il.prototype.toString=function(){return this.objId+" 0 R"},il.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},il.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:wM(a,this.objId,this.scope)}):a instanceof il?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var jM=function(){il.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ki(jM,il);var NM=function(){il.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hf(r(e))+")"}},set:function(r){e=r}})};Ki(NM,il);var $o=function e(){il.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qn(t,3)},set:function(x){x?this.F=Hn(t,3):this.F=Vn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof zy)return;s="FieldObject"+e.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+hf(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/ek:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof zy||this instanceof Bu))return _N(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ja?h:_N(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof ja?x:x.substr(0,1)==="("?Xf(x.substr(1,x.length-2)):Xf(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ja?Xf(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof ja?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ja?p:_N(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof ja?x:x.substr(0,1)==="("?Xf(x.substr(1,x.length-2)):Xf(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ja?Xf(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof ja?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,1)},set:function(x){x?this.Ff=Hn(this.Ff,1):this.Ff=Vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,2)},set:function(x){x?this.Ff=Hn(this.Ff,2):this.Ff=Vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,3)},set:function(x){x?this.Ff=Hn(this.Ff,3):this.Ff=Vn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Ki($o,il);var Ih=function(){$o.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wM(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var c,d=[];c=o.exec(s);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,18)},set:function(r){r?this.Ff=Hn(this.Ff,18):this.Ff=Vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Hn(this.Ff,19):this.Ff=Vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,20)},set:function(r){r?(this.Ff=Hn(this.Ff,20),t.sort()):this.Ff=Vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,22)},set:function(r){r?this.Ff=Hn(this.Ff,22):this.Ff=Vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(r){r?this.Ff=Hn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,27)},set:function(r){r?this.Ff=Hn(this.Ff,27):this.Ff=Vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ki(Ih,$o);var Rh=function(){Ih.call(this),this.fontName="helvetica",this.combo=!1};Ki(Rh,Ih);var Mh=function(){Rh.call(this),this.combo=!0};Ki(Mh,Rh);var V1=function(){Mh.call(this),this.edit=!0};Ki(V1,Mh);var ja=function(){$o.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,15)},set:function(r){r?this.Ff=Hn(this.Ff,15):this.Ff=Vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,16)},set:function(r){r?this.Ff=Hn(this.Ff,16):this.Ff=Vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,17)},set:function(r){r?this.Ff=Hn(this.Ff,17):this.Ff=Vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(r){r?this.Ff=Hn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+hf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){qr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ki(ja,$o);var G1=function(){ja.call(this),this.pushButton=!0};Ki(G1,ja);var $h=function(){ja.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ki($h,ja);var zy=function(){var e,t;$o.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+hf(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){qr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ki(zy,$o),$h.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},$h.prototype.createOption=function(e){var t=new zy;return t.Parent=this,t.optionName=e,this.Kids.push(t),xee.call(this.scope,t),t};var K1=function(){ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Ki(K1,ja);var Bu=function(){$o.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,13)},set:function(t){t?this.Ff=Hn(this.Ff,13):this.Ff=Vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,21)},set:function(t){t?this.Ff=Hn(this.Ff,21):this.Ff=Vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(t){t?this.Ff=Hn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,24)},set:function(t){t?this.Ff=Hn(this.Ff,24):this.Ff=Vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,25)},set:function(t){t?this.Ff=Hn(this.Ff,25):this.Ff=Vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(t){t?this.Ff=Hn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ki(Bu,$o);var X1=function(){Bu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,14)},set:function(e){e?this.Ff=Hn(this.Ff,14):this.Ff=Vn(this.Ff,14)}}),this.password=!0};Ki(X1,Bu);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=W4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ar($t.internal.getWidth(e))+" "+ar($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ar(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Yo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=$t.internal.getHeight(e),o=$t.internal.getWidth(e),l=W4(e,e.caption);return a.push("1 g"),a.push("0 0 "+ar(o)+" "+ar(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ar(o-1)+" "+ar(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ar(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Yo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar($t.internal.getWidth(e))+" "+ar($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yo(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=$t.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qc($t.internal.getWidth(e)/2)+" "+qc($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Yo(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*$t.internal.Bezier_C).toFixed(5)),o=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qc($t.internal.getWidth(e)/2)+" "+qc($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qc($t.internal.getWidth(e)/2)+" "+qc($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Yo(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qc($t.internal.getWidth(e)/2)+" "+qc($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yo(e);t.scope=e.scope;var r=[],n=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ar($t.internal.getWidth(e)-2)+" "+ar($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ar(n.x1.x)+" "+ar(n.x1.y)+" m"),r.push(ar(n.x2.x)+" "+ar(n.x2.y)+" l"),r.push(ar(n.x4.x)+" "+ar(n.x4.y)+" m"),r.push(ar(n.x3.x)+" "+ar(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Yo(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ar($t.internal.getWidth(e))+" "+ar($t.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ar($t.internal.getWidth(e)-2)+" "+ar($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ar(r.x1.x)+" "+ar(r.x1.y)+" m"),n.push(ar(r.x2.x)+" "+ar(r.x2.y)+" l"),n.push(ar(r.x4.x)+" "+ar(r.x4.y)+" m"),n.push(ar(r.x3.x)+" "+ar(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Yo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar($t.internal.getWidth(e))+" "+ar($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(e){var t=0;return qr(e)==="object"&&(t=yE(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return qr(e)==="object"&&(t=yE(e.Rect[3])),t};var xee=Dn.addField=function(e){if(gee(this,e),!(e instanceof $o))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Dn.AcroFormChoiceField=Ih,Dn.AcroFormListBox=Rh,Dn.AcroFormComboBox=Mh,Dn.AcroFormEditBox=V1,Dn.AcroFormButton=ja,Dn.AcroFormPushButton=G1,Dn.AcroFormRadioButton=$h,Dn.AcroFormCheckBox=K1,Dn.AcroFormTextField=Bu,Dn.AcroFormPasswordField=X1,Dn.AcroFormAppearance=$t,Dn.AcroForm={ChoiceField:Ih,ListBox:Rh,ComboBox:Mh,EditBox:V1,Button:ja,PushButton:G1,RadioButton:$h,CheckBox:K1,TextField:Bu,PasswordField:X1,Appearance:$t},qt.AcroForm={ChoiceField:Ih,ListBox:Rh,ComboBox:Mh,EditBox:V1,Button:ja,PushButton:G1,RadioButton:$h,CheckBox:K1,TextField:Bu,PasswordField:X1,Appearance:$t};function SM(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(D,T){var I,B,J,U,X,M=t;if((T=T||t)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(C(D))for(X in r)for(J=r[X],I=0;I<J.length;I+=1){for(U=!0,B=0;B<J[I].length;B+=1)if(J[I][B]!==void 0&&J[I][B]!==D[B]){U=!1;break}if(U===!0){M=X;break}}else for(X in r)for(J=r[X],I=0;I<J.length;I+=1){for(U=!0,B=0;B<J[I].length;B+=1)if(J[I][B]!==void 0&&J[I][B]!==D.charCodeAt(B)){U=!1;break}if(U===!0){M=X;break}}return M===t&&T!==t&&(M=T),M},a=function D(T){for(var I=this.internal.write,B=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:T.width}),U.push({key:"Height",value:T.height}),T.colorSpace===v.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===v.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var X="",M=0,Q=T.transparency.length;M<Q;M++)X+=T.transparency[M]+" "+T.transparency[M]+" ";U.push({key:"Mask",value:"["+X+"]"})}T.sMask!==void 0&&U.push({key:"SMask",value:T.objectId+1+" 0 R"});var le=T.filter!==void 0?["/"+T.filter]:void 0;if(B({data:T.data,additionalKeyValues:U,alreadyAppliedFilters:le,objectId:T.objectId}),I("endobj"),"sMask"in T&&T.sMask!==void 0){var ue="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,O={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ue,data:T.sMask};"filter"in T&&(O.filter=T.filter),D.call(this,O)}if(T.colorSpace===v.INDEXED){var V=this.internal.newObject();B({data:_(new Uint8Array(T.palette)),objectId:V}),I("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var T in D)a.call(this,D[T])},o=function(){var D,T=this.internal.collections.addImage_images,I=this.internal.write;for(var B in T)I("/I"+(D=T[B]).index,D.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var D=this.internal.collections.addImage_images;return l.call(this),D},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(D){return typeof e["process"+D.toUpperCase()]=="function"},f=function(D){return qr(D)==="object"&&D.nodeType===1},h=function(D,T){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var I=""+D.getAttribute("src");if(I.indexOf("data:image/")===0)return P0(unescape(I).split("base64,").pop());var B=e.loadFile(I,!0);if(B!==void 0)return B}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var J;switch(T){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return P0(D.toDataURL(J,1).split("base64,").pop())}},p=function(D){var T=this.internal.collections.addImage_images;if(T){for(var I in T)if(D===T[I].alias)return T[I]}},g=function(D,T,I){return D||T||(D=-96,T=-96),D<0&&(D=-1*I.width*72/D/this.internal.scaleFactor),T<0&&(T=-1*I.height*72/T/this.internal.scaleFactor),D===0&&(D=T*I.width/I.height),T===0&&(T=D*I.height/I.width),[D,T]},m=function(D,T,I,B,J,U){var X=g.call(this,I,B,J),M=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,le=c.call(this);if(I=X[0],B=X[1],le[J.index]=J,U){U*=Math.PI/180;var ue=Math.cos(U),O=Math.sin(U),V=function(q){return q.toFixed(4)},Y=[V(ue),V(O),V(-1*O),V(ue),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,M(D),Q(T+B),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([M(I),"0","0",M(B),"0","0","cm"].join(" "))):this.internal.write([M(I),"0","0",M(B),M(D),Q(T+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(D){var T,I,B=0;if(typeof D=="string")for(I=D.length,T=0;T<I;T++)B=(B<<5)-B+D.charCodeAt(T),B|=0;else if(C(D))for(I=D.byteLength/2,T=0;T<I;T++)B=(B<<5)-B+D[T],B|=0;return B},w=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var T=!0;return D.length===0&&(T=!1),D.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(T=!1),T},N=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var T=D.indexOf(",");return T<0?null:D.substring(0,T).trim().endsWith("base64")?D.substring(T+1):null},j=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(D){return j()&&D instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(D){return j()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(D){for(var T=D.length,I=new Uint8Array(T),B=0;B<T;B++)I[B]=D.charCodeAt(B);return I},_=e.__addimage__.arrayBufferToBinaryString=function(D){for(var T="",I=C(D)?D:new Uint8Array(D),B=0;B<I.length;B+=8192)T+=String.fromCharCode.apply(null,I.subarray(B,B+8192));return T};e.addImage=function(){var D,T,I,B,J,U,X,M,Q;if(typeof arguments[1]=="number"?(T=t,I=arguments[1],B=arguments[2],J=arguments[3],U=arguments[4],X=arguments[5],M=arguments[6],Q=arguments[7]):(T=arguments[1],I=arguments[2],B=arguments[3],J=arguments[4],U=arguments[5],X=arguments[6],M=arguments[7],Q=arguments[8]),qr(D=arguments[0])==="object"&&!f(D)&&"imageData"in D){var le=D;D=le.imageData,T=le.format||T||t,I=le.x||I||0,B=le.y||B||0,J=le.w||le.width||J,U=le.h||le.height||U,X=le.alias||X,M=le.compression||M,Q=le.rotation||le.angle||Q}var ue=this.internal.getFilters();if(M===void 0&&ue.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(I)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=L.call(this,D,T,X,M);return m.call(this,I,B,J,U,O,Q),this};var L=function(D,T,I,B){var J,U,X;if(typeof D=="string"&&n(D)===t){D=unescape(D);var M=z(D,!1);(M!==""||(M=e.loadFile(D,!0))!==void 0)&&(D=M)}if(f(D)&&(D=h(D,T)),T=n(D,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((X=I)==null||X.length===0)&&(I=function(Q){return typeof Q=="string"||C(Q)?y(Q):C(Q.data)?y(Q.data):null}(D)),(J=p.call(this,I))||(j()&&(D instanceof Uint8Array||T==="RGBA"||(U=D,D=k(D))),J=this["process"+T.toUpperCase()](D,d.call(this),I,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:x.NONE}(B),U)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},z=e.__addimage__.convertBase64ToBinaryString=function(D,T){T=typeof T!="boolean"||T;var I,B="";if(typeof D=="string"){var J;I=(J=N(D))!==null&&J!==void 0?J:D;try{B=P0(I)}catch(U){if(T)throw w(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(D){var T,I,B="";if(f(D)&&(D=h(D)),typeof D=="string"&&n(D)===t&&((B=z(D,!1))===""&&(B=e.loadFile(D)||""),D=B),I=n(D),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!j()||D instanceof Uint8Array||(D=k(D)),!(T=this["process"+I.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=I,T}})(qt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};qt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((n=d[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<d.length;h++){n=d[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(x(y))+") >>",m.content=s;var w=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-d,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(qt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,y="",w=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(w++,typeof(x=x[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(x),x=r,w=0),v===m.length-1&&(x=r,y+=m.charAt(v-(w-1)),v-=w-1,w=0)):(x=r,y+=m.charAt(v-w),v-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,x){return o(m)?s(m)===!1?-1:!d(m)||!o(v)&&!o(x)||!o(x)&&l(v)||l(m)&&!o(v)||l(m)&&c(v)||l(m)&&l(v)?0:u(m)&&o(v)&&!l(v)&&o(x)&&d(x)?3:l(m)||!o(x)?1:2:-1},p=function(m){var v=0,x=0,y=0,w="",N="",j="",C=(m=m||"").split("\\s+"),k=[];for(v=0;v<C.length;v+=1){for(k.push(""),x=0;x<C[v].length;x+=1)w=C[v][x],N=C[v][x-1],j=C[v][x+1],o(w)?(y=h(w,N,j),k[v]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):k[v]+=w;k[v]=f(k[v])}return k.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var y=0;for(x=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?x.push([p(v[y][0]),v[y][1],v[y][2]]):x.push([p(v[y])]);m=x}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(qt.API),qt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),h=d.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,N){return w.concat(v.splitTextToSize(N,x))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(m=this.getStringUnitWidth(c[y],{font:f})*u)&&(p=m);return p!==0&&(g=c.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,x=[],y=[],w=[],N={},j={},C=[],k=[],_=(h=h||{}).autoSize||!1,L=h.printHeaders!==!1,z=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,D=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,I=h.headerBackgroundColor||"#c8c8c8",B=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=B,this.setFontSize(z),f==null)y=x=Object.keys(u[0]),w=x.map(function(){return"left"});else if(Array.isArray(f)&&qr(f[0])==="object")for(x=f.map(function(le){return le.name}),y=f.map(function(le){return le.prompt||le.name||""}),w=f.map(function(le){return le.align||"left"}),p=0;p<f.length;p+=1)j[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=x=f,w=x.map(function(){return"left"}));if(_||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<x.length;p+=1){for(N[v=x[p]]=u.map(function(le){return le[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=N[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)C.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[v]=Math.max.apply(null,C)+T+T,C=[]}if(L){var J={};for(p=0;p<x.length;p+=1)J[x[p]]={},J[x[p]].text=y[p],J[x[p]].align=w[p];var U=l.call(this,J,j);k=x.map(function(le){return new s(c,d,j[le],U,J[le].text,void 0,J[le].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var X=f.reduce(function(le,ue){return le[ue.name]=ue.align,le},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var M=l.call(this,u[p],j);for(m=0;m<x.length;m+=1){var Q=u[p][x[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:Q},this),o.call(this,new s(c,d,j[x[m]],M,Q,p+2,X[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(qt.API);var _M={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q4=SM(kM),AM=[100,200,300,400,500,600,700,800,900],vee=SM(AM);function H4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return _M[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof q4[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function bE(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var yee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function bee(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},yee,r.genericFontFamilies||{}),s=null,o=null,l=0;l<t.length;++l)if(a[(s=H4(t[l])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+jE(s)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=q4[c],f=u<=q4.normal?-1:1,h=bE(d,kM,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=_M[c],f=0;f<u.length;++f)if(d[u[f]])return d[u[f]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=vee[c],f=bE(d,AM,u,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+jE(s)+"'.");return o}function NE(e){return e.trimLeft()}function wee(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function jee(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var n1,SE,_E,kN=["times"];(function(e){var t,r,n,a,s,o,l,c,d,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=O;Object.defineProperty(this,"pdf",{get:function(){return V}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ge){Y=!!ge}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(ge){q=!!ge}});var P=0;Object.defineProperty(this,"posX",{get:function(){return P},set:function(ge){isNaN(ge)||(P=ge)}});var R=0;Object.defineProperty(this,"posY",{get:function(){return R},set:function(ge){isNaN(ge)||(R=ge)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ge){var re;typeof ge=="number"?re=[ge,ge,ge,ge]:((re=new Array(4))[0]=ge[0],re[1]=ge.length>=2?ge[1]:re[0],re[2]=ge.length>=3?ge[2]:re[0],re[3]=ge.length>=4?ge[3]:re[1]),d.margin=re}});var G=!1;Object.defineProperty(this,"autoPaging",{get:function(){return G},set:function(ge){G=ge}});var W=0;Object.defineProperty(this,"lastBreak",{get:function(){return W},set:function(ge){W=ge}});var H=[];Object.defineProperty(this,"pageBreaks",{get:function(){return H},set:function(ge){H=ge}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ge){ge instanceof u&&(d=ge)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ge){d.path=ge}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(ge){me=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var re;re=h(ge),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var re=h(ge);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var ae=null;function be(ge,re){if(ae===null){var Oe=function(Pe){var ke=[];return Object.keys(Pe).forEach(function(Le){Pe[Le].forEach(function(Ge){var ut=null;switch(Ge){case"bold":ut={family:Le,weight:"bold"};break;case"italic":ut={family:Le,style:"italic"};break;case"bolditalic":ut={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:Le}}ut!==null&&(ut.ref={name:Le,style:Ge},ke.push(ut))})}),ke}(ge.getFontList());ae=function(Pe){for(var ke={},Le=0;Le<Pe.length;++Le){var Ge=H4(Pe[Le]),ut=Ge.family,bt=Ge.stretch,Ct=Ge.style,Dt=Ge.weight;ke[ut]=ke[ut]||{},ke[ut][bt]=ke[ut][bt]||{},ke[ut][bt][Ct]=ke[ut][bt][Ct]||{},ke[ut][bt][Ct][Dt]=Ge}return ke}(Oe.concat(re))}return ae}var te=null;Object.defineProperty(this,"fontFaces",{get:function(){return te},set:function(ge){ae=null,te=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var re;if(this.ctx.font=ge,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Oe=re[1];re[2];var Pe=re[3],ke=re[4];re[5];var Le=re[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Ge==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var ut=function(ft){var gt,he,ze=[],Xe=ft.trim();if(Xe==="")return kN;if(Xe in wE)return[wE[Xe]];for(;Xe!=="";){switch(he=null,gt=(Xe=NE(Xe)).charAt(0)){case'"':case"'":he=wee(Xe.substring(1),gt);break;default:he=jee(Xe)}if(he===null||(ze.push(he[0]),(Xe=NE(he[1]))!==""&&Xe.charAt(0)!==","))return kN;Xe=Xe.replace(/^,/,"")}return ze}(Le);if(this.fontFaces){var bt=bee(be(this.pdf,this.fontFaces),ut.map(function(ft){return{family:ft,stretch:"normal",weight:Pe,style:Oe}}));this.pdf.setFont(bt.ref.name,bt.ref.style)}else{var Ct="";(Pe==="bold"||parseInt(Pe,10)>=700||Oe==="bold")&&(Ct="bold"),Oe==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Dt="",ce={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<ut.length;Je++){if(this.pdf.internal.getFont(ut[Je],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Dt=ut[Je];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(ut[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dt=ut[Je],Ct="bold";else if(this.pdf.internal.getFont(ut[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dt=ut[Je],Ct="normal";break}}if(Dt===""){for(var ct=0;ct<ut.length;ct++)if(ce[ut[ct]]){Dt=ce[ut[ct]];break}}Dt=Dt===""?"Times":Dt,this.pdf.setFont(Dt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,V){if(isNaN(O)||isNaN(V))throw en.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(O,V));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(O,V)},f.prototype.closePath=function(){var O=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&qr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){O=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},f.prototype.lineTo=function(O,V){if(isNaN(O)||isNaN(V))throw en.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(O,V));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,V,Y,q){if(isNaN(Y)||isNaN(q)||isNaN(O)||isNaN(V))throw en.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var P=this.ctx.transform.applyToPoint(new o(Y,q)),R=this.ctx.transform.applyToPoint(new o(O,V));this.path.push({type:"qct",x1:R.x,y1:R.y,x:P.x,y:P.y}),this.ctx.lastPoint=new o(P.x,P.y)},f.prototype.bezierCurveTo=function(O,V,Y,q,P,R){if(isNaN(P)||isNaN(R)||isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q))throw en.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var G=this.ctx.transform.applyToPoint(new o(P,R)),W=this.ctx.transform.applyToPoint(new o(O,V)),H=this.ctx.transform.applyToPoint(new o(Y,q));this.path.push({type:"bct",x1:W.x,y1:W.y,x2:H.x,y2:H.y,x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},f.prototype.arc=function(O,V,Y,q,P,R){if(isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q)||isNaN(P))throw en.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(R=!!R,!this.ctx.transform.isIdentity){var G=this.ctx.transform.applyToPoint(new o(O,V));O=G.x,V=G.y;var W=this.ctx.transform.applyToPoint(new o(0,Y)),H=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(W.x-H.x,2)+Math.pow(W.y-H.y,2))}Math.abs(P-q)>=2*Math.PI&&(q=0,P=2*Math.PI),this.path.push({type:"arc",x:O,y:V,radius:Y,startAngle:q,endAngle:P,counterclockwise:R})},f.prototype.arcTo=function(O,V,Y,q,P){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,V,Y,q){if(isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q))throw en.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,V),this.lineTo(O+Y,V),this.lineTo(O+Y,V+q),this.lineTo(O,V+q),this.lineTo(O,V),this.lineTo(O+Y,V),this.lineTo(O,V)},f.prototype.fillRect=function(O,V,Y,q){if(isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q))throw en.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var P={};this.lineCap!=="butt"&&(P.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(P.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,V,Y,q),this.fill(),P.hasOwnProperty("lineCap")&&(this.lineCap=P.lineCap),P.hasOwnProperty("lineJoin")&&(this.lineJoin=P.lineJoin)}},f.prototype.strokeRect=function(O,V,Y,q){if(isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q))throw en.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(O,V,Y,q),this.stroke())},f.prototype.clearRect=function(O,V,Y,q){if(isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q))throw en.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,V,Y,q))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(V),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(O){var V,Y,q,P;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))V=0,Y=0,q=0,P=0;else{var R=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(R!==null)V=parseInt(R[1]),Y=parseInt(R[2]),q=parseInt(R[3]),P=1;else if((R=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)V=parseInt(R[1]),Y=parseInt(R[2]),q=parseInt(R[3]),P=parseFloat(R[4]);else{if(P=1,typeof O=="string"&&O.charAt(0)!=="#"){var G=new vM(O);O=G.ok?G.toHex():"#000000"}O.length===4?(V=O.substring(1,2),V+=V,Y=O.substring(2,3),Y+=Y,q=O.substring(3,4),q+=q):(V=O.substring(1,3),Y=O.substring(3,5),q=O.substring(5,7)),V=parseInt(V,16),Y=parseInt(Y,16),q=parseInt(q,16)}}return{r:V,g:Y,b:q,a:P,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,V,Y,q){if(isNaN(V)||isNaN(Y)||typeof O!="string")throw en.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!p.call(this)){var P=M(this.ctx.transform.rotation),R=this.ctx.transform.scaleX;T.call(this,{text:O,x:V,y:Y,scale:R,angle:P,align:this.textAlign,maxWidth:q})}},f.prototype.strokeText=function(O,V,Y,q){if(isNaN(V)||isNaN(Y)||typeof O!="string")throw en.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){q=isNaN(q)?void 0:q;var P=M(this.ctx.transform.rotation),R=this.ctx.transform.scaleX;T.call(this,{text:O,x:V,y:Y,scale:R,renderingMode:"stroke",angle:P,align:this.textAlign,maxWidth:q})}},f.prototype.measureText=function(O){if(typeof O!="string")throw en.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,Y=this.pdf.internal.scaleFactor,q=V.internal.getFontSize(),P=V.getStringUnitWidth(O)*q/V.internal.scaleFactor,R=function(G){var W=(G=G||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return W}}),this};return new R({width:P*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(O,V){if(isNaN(O)||isNaN(V))throw en.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(O,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(O){if(isNaN(O))throw en.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(O,V){if(isNaN(O)||isNaN(V))throw en.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,O,V);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(O,V,Y,q,P,R){if(isNaN(O)||isNaN(V)||isNaN(Y)||isNaN(q)||isNaN(P)||isNaN(R))throw en.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var G=new c(O,V,Y,q,P,R);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.setTransform=function(O,V,Y,q,P,R){O=isNaN(O)?1:O,V=isNaN(V)?0:V,Y=isNaN(Y)?0:Y,q=isNaN(q)?1:q,P=isNaN(P)?0:P,R=isNaN(R)?0:R,this.ctx.transform=new c(O,V,Y,q,P,R)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,V,Y,q,P,R,G,W,H){var me=this.pdf.getImageProperties(O),ae=1,be=1,te=1,ge=1;q!==void 0&&W!==void 0&&(te=W/q,ge=H/P,ae=me.width/q*W/q,be=me.height/P*H/P),R===void 0&&(R=V,G=Y,V=0,Y=0),q!==void 0&&W===void 0&&(W=q,H=P),q===void 0&&W===void 0&&(W=me.width,H=me.height);for(var re,Oe=this.ctx.transform.decompose(),Pe=M(Oe.rotate.shx),ke=new c,Le=(ke=(ke=(ke=ke.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new l(R-V*te,G-Y*ge,q*ae,P*be)),Ge=v.call(this,Le),ut=[],bt=0;bt<Ge.length;bt+=1)ut.indexOf(Ge[bt])===-1&&ut.push(Ge[bt]);if(w(ut),this.autoPaging)for(var Ct=ut[0],Dt=ut[ut.length-1],ce=Ct;ce<Dt+1;ce++){this.pdf.setPage(ce);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=ce===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],he=ce===1?0:ft+(ce-2)*gt;if(this.ctx.clip_path.length!==0){var ze=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(re,this.posX+this.margin[3],-he+ct+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=ze}var Xe=JSON.parse(JSON.stringify(Le));Xe=y([Xe],this.posX+this.margin[3],-he+ct+this.ctx.prevPageLastElemOffset)[0];var fe=(ce>Ct||ce<Dt)&&m.call(this);fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,gt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,Pe),fe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Pe)};var v=function(O,V,Y){var q=[];V=V||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var P=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":q.push(Math.floor((O.y+P)/Y)+1);break;case"arc":q.push(Math.floor((O.y+P-O.radius)/Y)+1),q.push(Math.floor((O.y+P+O.radius)/Y)+1);break;case"qct":var R=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);q.push(Math.floor((R.y+P)/Y)+1),q.push(Math.floor((R.y+R.h+P)/Y)+1);break;case"bct":var G=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);q.push(Math.floor((G.y+P)/Y)+1),q.push(Math.floor((G.y+G.h+P)/Y)+1);break;case"rect":q.push(Math.floor((O.y+P)/Y)+1),q.push(Math.floor((O.y+O.h+P)/Y)+1)}for(var W=0;W<q.length;W+=1)for(;this.pdf.internal.getNumberOfPages()<q[W];)x.call(this);return q},x=function(){var O=this.fillStyle,V=this.strokeStyle,Y=this.font,q=this.lineCap,P=this.lineWidth,R=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=V,this.font=Y,this.lineCap=q,this.lineWidth=P,this.lineJoin=R},y=function(O,V,Y){for(var q=0;q<O.length;q++)switch(O[q].type){case"bct":O[q].x2+=V,O[q].y2+=Y;case"qct":O[q].x1+=V,O[q].y1+=Y;case"mt":case"lt":case"arc":default:O[q].x+=V,O[q].y+=Y}return O},w=function(O){return O.sort(function(V,Y){return V-Y})},N=function(O,V){for(var Y,q,P=this.fillStyle,R=this.strokeStyle,G=this.lineCap,W=this.lineWidth,H=Math.abs(W*this.ctx.transform.scaleX),me=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),be=JSON.parse(JSON.stringify(this.path)),te=[],ge=0;ge<be.length;ge++)if(be[ge].x!==void 0)for(var re=v.call(this,be[ge]),Oe=0;Oe<re.length;Oe+=1)te.indexOf(re[Oe])===-1&&te.push(re[Oe]);for(var Pe=0;Pe<te.length;Pe++)for(;this.pdf.internal.getNumberOfPages()<te[Pe];)x.call(this);if(w(te),this.autoPaging)for(var ke=te[0],Le=te[te.length-1],Ge=ke;Ge<Le+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=P,this.strokeStyle=R,this.lineCap=G,this.lineWidth=H,this.lineJoin=me;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=Ge===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ce=Ge===1?0:Ct+(Ge-2)*Dt;if(this.ctx.clip_path.length!==0){var Je=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Y,this.posX+this.margin[3],-ce+bt+this.ctx.prevPageLastElemOffset),j.call(this,O,!0),this.path=Je}if(q=JSON.parse(JSON.stringify(ae)),this.path=y(q,this.posX+this.margin[3],-ce+bt+this.ctx.prevPageLastElemOffset),V===!1||Ge===0){var ct=(Ge>ke||Ge<Le)&&m.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Dt,null).clip().discardPath()),j.call(this,O,V),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=W}else this.lineWidth=H,j.call(this,O,V),this.lineWidth=W;this.path=ae},j=function(O,V){if((O!=="stroke"||V||!g.call(this))&&(O==="stroke"||V||!p.call(this))){for(var Y,q,P=[],R=this.path,G=0;G<R.length;G++){var W=R[G];switch(W.type){case"begin":P.push({begin:!0});break;case"close":P.push({close:!0});break;case"mt":P.push({start:W,deltas:[],abs:[]});break;case"lt":var H=P.length;if(R[G-1]&&!isNaN(R[G-1].x)&&(Y=[W.x-R[G-1].x,W.y-R[G-1].y],H>0)){for(;H>=0;H--)if(P[H-1].close!==!0&&P[H-1].begin!==!0){P[H-1].deltas.push(Y),P[H-1].abs.push(W);break}}break;case"bct":Y=[W.x1-R[G-1].x,W.y1-R[G-1].y,W.x2-R[G-1].x,W.y2-R[G-1].y,W.x-R[G-1].x,W.y-R[G-1].y],P[P.length-1].deltas.push(Y);break;case"qct":var me=R[G-1].x+2/3*(W.x1-R[G-1].x),ae=R[G-1].y+2/3*(W.y1-R[G-1].y),be=W.x+2/3*(W.x1-W.x),te=W.y+2/3*(W.y1-W.y),ge=W.x,re=W.y;Y=[me-R[G-1].x,ae-R[G-1].y,be-R[G-1].x,te-R[G-1].y,ge-R[G-1].x,re-R[G-1].y],P[P.length-1].deltas.push(Y);break;case"arc":P.push({deltas:[],abs:[],arc:!0}),Array.isArray(P[P.length-1].abs)&&P[P.length-1].abs.push(W)}}q=V?null:O==="stroke"?"stroke":"fill";for(var Oe=!1,Pe=0;Pe<P.length;Pe++)if(P[Pe].arc)for(var ke=P[Pe].abs,Le=0;Le<ke.length;Le++){var Ge=ke[Le];Ge.type==="arc"?_.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,V,!Oe):I.call(this,Ge.x,Ge.y),Oe=!0}else if(P[Pe].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(P[Pe].begin!==!0){var ut=P[Pe].start.x,bt=P[Pe].start.y;B.call(this,P[Pe].deltas,ut,bt),Oe=!0}q&&L.call(this,q),V&&z.call(this)}},C=function(O){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Y;case"top":return O+V-Y;case"hanging":return O+V-2*Y;case"middle":return O+V/2-Y;case"ideographic":return O;case"alphabetic":default:return O}},k=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(V,Y){this.colorStops.push([V,Y])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(O,V,Y,q,P,R,G,W,H){for(var me=U.call(this,Y,q,P,R),ae=0;ae<me.length;ae++){var be=me[ae];ae===0&&(H?D.call(this,be.x1+O,be.y1+V):I.call(this,be.x1+O,be.y1+V)),J.call(this,O,V,be.x2,be.y2,be.x3,be.y3,be.x4,be.y4)}W?z.call(this):L.call(this,G)},L=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(O,V){this.pdf.internal.out(r(O)+" "+n(V)+" m")},T=function(O){var V;switch(O.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var Y=this.pdf.getTextDimensions(O.text),q=C.call(this,O.y),P=k.call(this,q)-Y.h,R=this.ctx.transform.applyToPoint(new o(O.x,q)),G=this.ctx.transform.decompose(),W=new c;W=(W=(W=W.multiply(G.translate)).multiply(G.skew)).multiply(G.scale);for(var H,me,ae,be=this.ctx.transform.applyToRectangle(new l(O.x,q,Y.w,Y.h)),te=W.applyToRectangle(new l(O.x,P,Y.w,Y.h)),ge=v.call(this,te),re=[],Oe=0;Oe<ge.length;Oe+=1)re.indexOf(ge[Oe])===-1&&re.push(ge[Oe]);if(w(re),this.autoPaging)for(var Pe=re[0],ke=re[re.length-1],Le=Pe;Le<ke+1;Le++){this.pdf.setPage(Le);var Ge=Le===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Ct=bt-this.margin[0],Dt=this.pdf.internal.pageSize.width-this.margin[1],ce=Dt-this.margin[3],Je=Le===1?0:ut+(Le-2)*Ct;if(this.ctx.clip_path.length!==0){var ct=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(H,this.posX+this.margin[3],-1*Je+Ge),j.call(this,"fill",!0),this.path=ct}var ft=y([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-Je+Ge+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),ae=this.lineWidth,this.lineWidth=ae*O.scale);var gt=this.autoPaging!=="text";if(gt||ft.y+ft.h<=bt){if(gt||ft.y>=Ge&&ft.x<=Dt){var he=gt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Dt-ft.x)[0],ze=y([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-Je+Ge+this.ctx.prevPageLastElemOffset)[0],Xe=gt&&(Le>Pe||Le<ke)&&m.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,Ct,null).clip().discardPath()),this.pdf.text(he,ze.x,ze.y,{angle:O.angle,align:V,renderingMode:O.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else ft.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-ft.y);O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ae)}else O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),ae=this.lineWidth,this.lineWidth=ae*O.scale),this.pdf.text(O.text,R.x+this.posX,R.y+this.posY,{angle:O.angle,align:V,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ae)},I=function(O,V,Y,q){Y=Y||0,q=q||0,this.pdf.internal.out(r(O+Y)+" "+n(V+q)+" l")},B=function(O,V,Y){return this.pdf.lines(O,V,Y,null,null)},J=function(O,V,Y,q,P,R,G,W){this.pdf.internal.out([t(a(Y+O)),t(s(q+V)),t(a(P+O)),t(s(R+V)),t(a(G+O)),t(s(W+V)),"c"].join(" "))},U=function(O,V,Y,q){for(var P=2*Math.PI,R=Math.PI/2;V>Y;)V-=P;var G=Math.abs(Y-V);G<P&&q&&(G=P-G);for(var W=[],H=q?-1:1,me=V;G>1e-5;){var ae=me+H*Math.min(G,R);W.push(X.call(this,O,me,ae)),G-=Math.abs(ae-me),me=ae}return W},X=function(O,V,Y){var q=(Y-V)/2,P=O*Math.cos(q),R=O*Math.sin(q),G=P,W=-R,H=G*G+W*W,me=H+G*P+W*R,ae=4/3*(Math.sqrt(2*H*me)-me)/(G*R-W*P),be=G-ae*W,te=W+ae*G,ge=be,re=-te,Oe=q+V,Pe=Math.cos(Oe),ke=Math.sin(Oe);return{x1:O*Math.cos(V),y1:O*Math.sin(V),x2:be*Pe-te*ke,y2:be*ke+te*Pe,x3:ge*Pe-re*ke,y3:ge*ke+re*Pe,x4:O*Math.cos(Y),y4:O*Math.sin(Y)}},M=function(O){return 180*O/Math.PI},Q=function(O,V,Y,q,P,R){var G=O+.5*(Y-O),W=V+.5*(q-V),H=P+.5*(Y-P),me=R+.5*(q-R),ae=Math.min(O,P,G,H),be=Math.max(O,P,G,H),te=Math.min(V,R,W,me),ge=Math.max(V,R,W,me);return new l(ae,te,be-ae,ge-te)},le=function(O,V,Y,q,P,R,G,W){var H,me,ae,be,te,ge,re,Oe,Pe,ke,Le,Ge,ut,bt,Ct=Y-O,Dt=q-V,ce=P-Y,Je=R-q,ct=G-P,ft=W-R;for(me=0;me<41;me++)Pe=(re=(ae=O+(H=me/40)*Ct)+H*((te=Y+H*ce)-ae))+H*(te+H*(P+H*ct-te)-re),ke=(Oe=(be=V+H*Dt)+H*((ge=q+H*Je)-be))+H*(ge+H*(R+H*ft-ge)-Oe),me==0?(Le=Pe,Ge=ke,ut=Pe,bt=ke):(Le=Math.min(Le,Pe),Ge=Math.min(Ge,ke),ut=Math.max(ut,Pe),bt=Math.max(bt,ke));return new l(Math.round(Le),Math.round(Ge),Math.round(ut-Le),Math.round(bt-Ge))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,V,Y=(O=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:V}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(qt.API),function(e){var t=function(s){var o,l,c,d,u,f,h,p,g,m;for(l=[],c=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(u=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,l.push(f+33,h+33,p+33,g+33,m+33)):l.push(122);return function(v,x){for(var y=x;y>0;y--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,d,u,f=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(s[m](-2),s=s[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,u=(s+=o="uuuuu"[m](s[h]%5||5))[h];u>d;d+=5)l=52200625*(s[g](d)-33)+614125*(s[g](d+1)-33)+7225*(s[g](d+2)-33)+85*(s[g](d+3)-33)+(s[g](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(x,y){for(var w=y;w>0;w--)x.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=$4(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(qt.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],x=String.fromCharCode;for(h=0;h<m;h+=1)v.push(x(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(qt.API),function(e){function t(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):F4(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):F4(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=qr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),h=d.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var p=d[h],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,u).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,qt.getPageSize=function(o,l,c){if(qr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",m>g&&(p=m,m=g,g=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(H4):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(qt.API),qt.API.addJS=function(e){return _E=e,this.internal.events.subscribe("postPutResources",function(){n1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(n1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_E+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){n1!==void 0&&SE!==void 0&&this.internal.out("/Names <</JavaScript "+n1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(s=0;s<d;s++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(qt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(qt.API);var Yf,a1,kE,AE,CE,Nee=function(){var e,t,r;function n(s){var o,l,c,d,u,f,h,p,g,m,v,x,y,w;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),g=(function(){var N,j;for(j=[],N=0;N<4;++N)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*u/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(v=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(f,h,p,g){var m,v,x,y,w,N,j,C,k,_,L,z,D,T,I,B,J,U,X,M,Q,le=Math.ceil((d.width-f)/p),ue=Math.ceil((d.height-h)/g),O=d.width==le&&d.height==ue;for(T=o*le,z=O?l:new Uint8Array(T*ue),N=s.length,D=0,v=0;D<ue&&c<N;){switch(s[c++]){case 0:for(y=J=0;J<T;y=J+=1)z[v++]=s[c++];break;case 1:for(y=U=0;U<T;y=U+=1)m=s[c++],w=y<o?0:z[v-o],z[v++]=(m+w)%256;break;case 2:for(y=X=0;X<T;y=X+=1)m=s[c++],x=(y-y%o)/o,I=D&&z[(D-1)*T+x*o+y%o],z[v++]=(I+m)%256;break;case 3:for(y=M=0;M<T;y=M+=1)m=s[c++],x=(y-y%o)/o,w=y<o?0:z[v-o],I=D&&z[(D-1)*T+x*o+y%o],z[v++]=(m+Math.floor((w+I)/2))%256;break;case 4:for(y=Q=0;Q<T;y=Q+=1)m=s[c++],x=(y-y%o)/o,w=y<o?0:z[v-o],D===0?I=B=0:(I=z[(D-1)*T+x*o+y%o],B=x&&z[(D-1)*T+(x-1)*o+y%o]),j=w+I-B,C=Math.abs(j-w),_=Math.abs(j-I),L=Math.abs(j-B),k=C<=_&&C<=L?w:_<=L?I:B,z[v++]=(m+k)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!O){var V=((h+D*g)*d.width+f)*o,Y=D*T;for(y=0;y<le;y+=1){for(var q=0;q<o;q+=1)l[V++]=z[Y++];V+=(p-1)*o}}D++}}return s=tee(s),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var s,o,l,c,d,u,f,h,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,s=0,o=f=0,h=l.length;f<h;o=f+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(p=u[s++])!=null?p:255;return d},n.prototype.copyToImageData=function(s,o){var l,c,d,u,f,h,p,g,m,v,x;if(c=this.colors,m=null,l=this.hasAlphaChannel,this.palette.length&&(m=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=s.data||s).length,f=m||o,u=h=0,c===1)for(;u<g;)p=m?4*o[u/4]:h,v=f[p++],d[u++]=v,d[u++]=v,d[u++]=v,d[u++]=l?f[p++]:255,h=p;else for(;u<g;)p=m?4*o[u/4]:h,d[u++]=f[p++],d[u++]=f[p++],d[u++]=f[p++],d[u++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Yt)==="[object Window]"){try{t=Yt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var o;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,l,c,d,u,f,h,p;if(this.animation){for(p=[],l=u=0,f=(h=this.animation.frames).length;u<f;l=++u)o=h[l],c=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(s,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var o,l,c,d,u,f,h=this;return l=0,f=this.animation,d=f.numFrames,c=f.frames,u=f.numPlays,(o=function(){var p,g;if(p=l++%d,g=c[p],h.renderFrame(s,p),d>1&&l/d<u)return h.animation._timeout=setTimeout(o,g.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function See(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var d=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++],j=N>>6&1,C=1<<(7&N)+1,k=l,_=c,L=!1;N>>7&&(L=!0,k=t,_=C,t+=3*C);var z=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}u.push({x:v,y:x,width:y,height:w,has_local_palette:L,palette_offset:k,palette_size:_,data_offset:z,data_length:t-z,transparent_index:h,interlaced:!!j,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,I){var B=this.frameInfo(T),J=B.width*B.height,U=new Uint8Array(J);EE(e,B.data_offset,U,J);var X=B.palette_offset,M=B.transparent_index;M===null&&(M=256);var Q=B.width,le=r-Q,ue=Q,O=4*(B.y*r+B.x),V=4*((B.y+B.height)*r+B.x),Y=O,q=4*le;B.interlaced===!0&&(q+=4*r*7);for(var P=8,R=0,G=U.length;R<G;++R){var W=U[R];if(ue===0&&(ue=Q,(Y+=q)>=V&&(q=4*le+4*r*(P-1),Y=O+(Q+le)*(P<<1),P>>=1)),W===M)Y+=4;else{var H=e[X+3*W],me=e[X+3*W+1],ae=e[X+3*W+2];I[Y++]=ae,I[Y++]=me,I[Y++]=H,I[Y++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(T,I){var B=this.frameInfo(T),J=B.width*B.height,U=new Uint8Array(J);EE(e,B.data_offset,U,J);var X=B.palette_offset,M=B.transparent_index;M===null&&(M=256);var Q=B.width,le=r-Q,ue=Q,O=4*(B.y*r+B.x),V=4*((B.y+B.height)*r+B.x),Y=O,q=4*le;B.interlaced===!0&&(q+=4*r*7);for(var P=8,R=0,G=U.length;R<G;++R){var W=U[R];if(ue===0&&(ue=Q,(Y+=q)>=V&&(q=4*le+4*r*(P-1),Y=O+(Q+le)*(P<<1),P>>=1)),W===M)Y+=4;else{var H=e[X+3*W],me=e[X+3*W+1],ae=e[X+3*W+2];I[Y++]=H,I[Y++]=me,I[Y++]=ae,I[Y++]=255}--ue}}}function EE(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<c)break;var v=f&d;if(f>>=c,u-=c,v!==s){if(v===o)break;for(var x=v<l?v:m,y=0,w=x;w>s;)w=g[w]>>8,++y;var N=w;if(h+y+(x!==v?1:0)>n)return void en.log("Warning, gif stream longer than expected.");r[h++]=N;var j=h+=y;for(x!==v&&(r[h++]=N),w=x;y--;)w=g[w],r[--j]=255&w,w>>=8;m!==null&&l<4096&&(g[l++]=m<<8|N,l>=d+1&&c<12&&(++c,d=d<<1|1)),m=v}else l=o+1,d=(1<<(c=a+1))-1,m=null}return h!==n&&en.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function AN(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,x=7,y=new Array(64),w=new Array(64),N=new Array(64),j=new Array(256),C=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(O,V){for(var Y=0,q=0,P=new Array,R=1;R<=16;R++){for(var G=1;G<=O[R];G++)P[V[q]]=[],P[V[q]][0]=Y,P[V[q]][1]=R,q++,Y++;Y*=2}return P}function X(O){for(var V=O[0],Y=O[1]-1;Y>=0;)V&1<<Y&&(v|=1<<x),Y--,--x<0&&(v==255?(M(255),M(0)):M(v),x=7,v=0)}function M(O){m.push(O)}function Q(O){M(O>>8&255),M(255&O)}function le(O,V,Y,q,P){for(var R,G=P[0],W=P[240],H=function(ke,Le){var Ge,ut,bt,Ct,Dt,ce,Je,ct,ft,gt,he=0;for(ft=0;ft<8;++ft){Ge=ke[he],ut=ke[he+1],bt=ke[he+2],Ct=ke[he+3],Dt=ke[he+4],ce=ke[he+5],Je=ke[he+6];var ze=Ge+(ct=ke[he+7]),Xe=Ge-ct,fe=ut+Je,tt=ut-Je,wt=bt+ce,dr=bt-ce,xt=Ct+Dt,Xt=Ct-Dt,It=ze+xt,Ar=ze-xt,yn=fe+wt,Nr=fe-wt;ke[he]=It+yn,ke[he+4]=It-yn;var Vt=.707106781*(Nr+Ar);ke[he+2]=Ar+Vt,ke[he+6]=Ar-Vt;var vr=.382683433*((It=Xt+dr)-(Nr=tt+Xe)),Zs=.5411961*It+vr,Mn=1.306562965*Nr+vr,oe=.707106781*(yn=dr+tt),at=Xe+oe,Qe=Xe-oe;ke[he+5]=Qe+Zs,ke[he+3]=Qe-Zs,ke[he+1]=at+Mn,ke[he+7]=at-Mn,he+=8}for(he=0,ft=0;ft<8;++ft){Ge=ke[he],ut=ke[he+8],bt=ke[he+16],Ct=ke[he+24],Dt=ke[he+32],ce=ke[he+40],Je=ke[he+48];var Zt=Ge+(ct=ke[he+56]),aa=Ge-ct,Gn=ut+Je,Nn=ut-Je,En=bt+ce,ie=bt-ce,Ne=Ct+Dt,xe=Ct-Dt,ye=Zt+Ne,je=Zt-Ne,Se=Gn+En,Re=Gn-En;ke[he]=ye+Se,ke[he+32]=ye-Se;var qe=.707106781*(Re+je);ke[he+16]=je+qe,ke[he+48]=je-qe;var Ie=.382683433*((ye=xe+ie)-(Re=Nn+aa)),Be=.5411961*ye+Ie,Ue=1.306562965*Re+Ie,pt=.707106781*(Se=ie+Nn),jt=aa+pt,Ot=aa-pt;ke[he+40]=Ot+Be,ke[he+24]=Ot-Be,ke[he+8]=jt+Ue,ke[he+56]=jt-Ue,he++}for(ft=0;ft<64;++ft)gt=ke[ft]*Le[ft],p[ft]=gt>0?gt+.5|0:gt-.5|0;return p}(O,V),me=0;me<64;++me)g[k[me]]=H[me];var ae=g[0]-Y;Y=g[0],ae==0?X(q[0]):(X(q[h[R=32767+ae]]),X(f[R]));for(var be=63;be>0&&g[be]==0;)be--;if(be==0)return X(G),Y;for(var te,ge=1;ge<=be;){for(var re=ge;g[ge]==0&&ge<=be;)++ge;var Oe=ge-re;if(Oe>=16){te=Oe>>4;for(var Pe=1;Pe<=te;++Pe)X(W);Oe&=15}R=32767+g[ge],X(P[(Oe<<4)+h[R]]),X(f[R]),ge++}return be!=63&&X(G),Y}function ue(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(V){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var P=o((Y[q]*V+50)/100);P=Math.min(Math.max(P,1),255),l[k[q]]=P}for(var R=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],G=0;G<64;G++){var W=o((R[G]*V+50)/100);W=Math.min(Math.max(W,1),255),c[k[G]]=W}for(var H=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,ae=0;ae<8;ae++)for(var be=0;be<8;be++)d[me]=1/(l[k[me]]*H[ae]*H[be]*8),u[me]=1/(c[k[me]]*H[ae]*H[be]*8),me++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,V){V&&ue(V),m=new Array,v=0,x=7,Q(65496),Q(65504),Q(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),Q(1),Q(1),M(0),M(0),function(){Q(65499),Q(132),M(0);for(var ut=0;ut<64;ut++)M(l[ut]);M(1);for(var bt=0;bt<64;bt++)M(c[bt])}(),function(ut,bt){Q(65472),Q(17),M(8),Q(bt),Q(ut),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(O.width,O.height),function(){Q(65476),Q(418),M(0);for(var ut=0;ut<16;ut++)M(_[ut+1]);for(var bt=0;bt<=11;bt++)M(L[bt]);M(16);for(var Ct=0;Ct<16;Ct++)M(z[Ct+1]);for(var Dt=0;Dt<=161;Dt++)M(D[Dt]);M(1);for(var ce=0;ce<16;ce++)M(T[ce+1]);for(var Je=0;Je<=11;Je++)M(I[Je]);M(17);for(var ct=0;ct<16;ct++)M(B[ct+1]);for(var ft=0;ft<=161;ft++)M(J[ft])}(),Q(65498),Q(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var Y=0,q=0,P=0;v=0,x=7,this.encode.displayName="_encode_";for(var R,G,W,H,me,ae,be,te,ge,re=O.data,Oe=O.width,Pe=O.height,ke=4*Oe,Le=0;Le<Pe;){for(R=0;R<ke;){for(me=ke*Le+R,be=-1,te=0,ge=0;ge<64;ge++)ae=me+(te=ge>>3)*ke+(be=4*(7&ge)),Le+te>=Pe&&(ae-=ke*(Le+1+te-Pe)),R+be>=ke&&(ae-=R+be-ke+4),G=re[ae++],W=re[ae++],H=re[ae++],y[ge]=(C[G]+C[W+256>>0]+C[H+512>>0]>>16)-128,w[ge]=(C[G+768>>0]+C[W+1024>>0]+C[H+1280>>0]>>16)-128,N[ge]=(C[G+1280>>0]+C[W+1536>>0]+C[H+1792>>0]>>16)-128;Y=le(y,d,Y,t,n),q=le(w,u,q,r,a),P=le(N,u,P,r,a),R+=32}Le+=8}if(x>=0){var Ge=[];Ge[1]=x+1,Ge[0]=(1<<x+1)-1,X(Ge)}return Q(65497),new Uint8Array(m)},e=e||50,function(){for(var O=String.fromCharCode,V=0;V<256;V++)j[V]=O(V)}(),t=U(_,L),r=U(T,I),n=U(z,D),a=U(B,J),function(){for(var O=1,V=2,Y=1;Y<=15;Y++){for(var q=O;q<V;q++)h[32767+q]=Y,f[32767+q]=[],f[32767+q][1]=Y,f[32767+q][0]=q;for(var P=-(V-1);P<=-O;P++)h[32767+P]=Y,f[32767+P]=[],f[32767+P][1]=Y,f[32767+P][0]=V-1+P;O<<=1,V<<=1}}(),function(){for(var O=0;O<256;O++)C[O]=19595*O,C[O+256>>0]=38470*O,C[O+512>>0]=7471*O+32768,C[O+768>>0]=-11059*O,C[O+1024>>0]=-21709*O,C[O+1280>>0]=32768*O+8421375,C[O+1536>>0]=-27439*O,C[O+1792>>0]=-5329*O}(),ue(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function co(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TE(e){function t(_){if(!_)throw Error("assert :P")}function r(_,L,z){for(var D=0;4>D;D++)if(_[L+D]!=z.charCodeAt(D))return!0;return!1}function n(_,L,z,D,T){for(var I=0;I<T;I++)_[L+I]=z[D+I]}function a(_,L,z,D){for(var T=0;T<D;T++)_[L+T]=z}function s(_){return new Int32Array(_)}function o(_,L){for(var z=[],D=0;D<_;D++)z.push(new L);return z}function l(_,L){var z=[];return function D(T,I,B){for(var J=B[I],U=0;U<J&&(T.push(B.length>I+1?[]:new L),!(B.length<I+1));U++)D(T[U],I+1,B)}(z,0,_),z}var c=function(){var _=this;function L(b,S){for(var F=1<<S-1>>>0;b&F;)F>>>=1;return F?(b&F-1)+F:b}function z(b,S,F,K,Z){t(!(K%F));do b[S+(K-=F)]=Z;while(0<K)}function D(b,S,F,K,Z){if(t(2328>=Z),512>=Z)var ne=s(512);else if((ne=s(Z))==null)return 0;return function(se,de,pe,we,Ce,Me){var $e,De,nt=de,He=1<<pe,Ee=s(16),Te=s(16);for(t(Ce!=0),t(we!=null),t(se!=null),t(0<pe),De=0;De<Ce;++De){if(15<we[De])return 0;++Ee[we[De]]}if(Ee[0]==Ce)return 0;for(Te[1]=0,$e=1;15>$e;++$e){if(Ee[$e]>1<<$e)return 0;Te[$e+1]=Te[$e]+Ee[$e]}for(De=0;De<Ce;++De)$e=we[De],0<we[De]&&(Me[Te[$e]++]=De);if(Te[15]==1)return(we=new T).g=0,we.value=Me[0],z(se,nt,1,He,we),He;var Ze,dt=-1,rt=He-1,Lt=0,At=1,Gt=1,Et=1<<pe;for(De=0,$e=1,Ce=2;$e<=pe;++$e,Ce<<=1){if(At+=Gt<<=1,0>(Gt-=Ee[$e]))return 0;for(;0<Ee[$e];--Ee[$e])(we=new T).g=$e,we.value=Me[De++],z(se,nt+Lt,Ce,Et,we),Lt=L(Lt,$e)}for($e=pe+1,Ce=2;15>=$e;++$e,Ce<<=1){if(At+=Gt<<=1,0>(Gt-=Ee[$e]))return 0;for(;0<Ee[$e];--Ee[$e]){if(we=new T,(Lt&rt)!=dt){for(nt+=Et,Ze=1<<(dt=$e)-pe;15>dt&&!(0>=(Ze-=Ee[dt]));)++dt,Ze<<=1;He+=Et=1<<(Ze=dt-pe),se[de+(dt=Lt&rt)].g=Ze+pe,se[de+dt].value=nt-de-dt}we.g=$e-pe,we.value=Me[De++],z(se,nt+(Lt>>pe),Ce,Et,we),Lt=L(Lt,$e)}}return At!=2*Te[15]-1?0:He}(b,S,F,K,Z,ne)}function T(){this.value=this.g=0}function I(){this.value=this.g=0}function B(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pa,I)}function J(b,S,F,K){t(b!=null),t(S!=null),t(2147483648>K),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=F,b.Jd=S,b.Yc=F+K,b.Zc=4<=K?F+K-4+1:F,R(b)}function U(b,S){for(var F=0;0<S--;)F|=W(b,128)<<S;return F}function X(b,S){var F=U(b,S);return G(b)?-F:F}function M(b,S,F,K){var Z,ne=0;for(t(b!=null),t(S!=null),t(4294967288>K),b.Sb=K,b.Ra=0,b.u=0,b.h=0,4<K&&(K=4),Z=0;Z<K;++Z)ne+=S[F+Z]<<8*Z;b.Ra=ne,b.bb=K,b.oa=S,b.pa=F}function Q(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Lf-8>>>0,++b.bb,b.u-=8;Y(b)&&(b.h=1,b.u=0)}function le(b,S){if(t(0<=S),!b.h&&S<=Ff){var F=V(b)&Df[S];return b.u+=S,Q(b),F}return b.h=1,b.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(b){return b.Ra>>>(b.u&Lf-1)>>>0}function Y(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Lf}function q(b,S){b.u=S,b.h=Y(b)}function P(b){b.u>=Dm&&(t(b.u>=Dm),Q(b))}function R(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function G(b){return U(b,1)}function W(b,S){var F=b.Ca;0>b.b&&R(b);var K=b.b,Z=F*S>>>8,ne=(b.I>>>K>Z)+0;for(ne?(F-=Z,b.I-=Z+1<<K>>>0):F=Z+1,K=F,Z=0;256<=K;)Z+=8,K>>=8;return K=7^Z+Di[K],b.b-=K,b.Ca=(F<<K)-1,ne}function H(b,S,F){b[S+0]=F>>24&255,b[S+1]=F>>16&255,b[S+2]=F>>8&255,b[S+3]=F>>0&255}function me(b,S){return b[S+0]<<0|b[S+1]<<8}function ae(b,S){return me(b,S)|b[S+2]<<16}function be(b,S){return me(b,S)|me(b,S+2)<<16}function te(b,S){var F=1<<S;return t(b!=null),t(0<S),b.X=s(F),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function ge(b,S){t(b!=null),t(S!=null),t(b.Xa==S.Xa),n(S.X,0,b.X,0,1<<S.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Oe(b,S,F,K){t(F!=null),t(K!=null);var Z=F[0],ne=K[0];return Z==0&&(Z=(b*ne+S/2)/S),ne==0&&(ne=(S*Z+b/2)/b),0>=Z||0>=ne?0:(F[0]=Z,K[0]=ne,1)}function Pe(b,S){return b+(1<<S)-1>>>S}function ke(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function Le(b,S){_[S]=function(F,K,Z,ne,se,de,pe){var we;for(we=0;we<se;++we){var Ce=_[b](de[pe+we-1],Z,ne+we);de[pe+we]=ke(F[K+we],Ce)}}}function Ge(){this.ud=this.hd=this.jd=0}function ut(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function bt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Ct(b,S){return bt(b+(b-S+.5>>1))}function Dt(b,S,F){return Math.abs(S-F)-Math.abs(b-F)}function ce(b,S,F,K,Z,ne,se){for(K=ne[se-1],F=0;F<Z;++F)ne[se+F]=K=ke(b[S+F],K)}function Je(b,S,F,K,Z){var ne;for(ne=0;ne<F;++ne){var se=b[S+ne],de=se>>8&255,pe=16711935&(pe=(pe=16711935&se)+((de<<16)+de));K[Z+ne]=(4278255360&se)+pe>>>0}}function ct(b,S){S.jd=b>>0&255,S.hd=b>>8&255,S.ud=b>>16&255}function ft(b,S,F,K,Z,ne){var se;for(se=0;se<K;++se){var de=S[F+se],pe=de>>>8,we=de,Ce=255&(Ce=(Ce=de>>>16)+((b.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we=we+((b.hd<<24>>24)*(pe<<24>>24)>>>5))+((b.ud<<24>>24)*(Ce<<24>>24)>>>5)),Z[ne+se]=(4278255360&de)+(Ce<<16)+we}}function gt(b,S,F,K,Z){_[S]=function(ne,se,de,pe,we,Ce,Me,$e,De){for(pe=Me;pe<$e;++pe)for(Me=0;Me<De;++Me)we[Ce++]=Z(de[K(ne[se++])])},_[b]=function(ne,se,de,pe,we,Ce,Me){var $e=8>>ne.b,De=ne.Ea,nt=ne.K[0],He=ne.w;if(8>$e)for(ne=(1<<ne.b)-1,He=(1<<$e)-1;se<de;++se){var Ee,Te=0;for(Ee=0;Ee<De;++Ee)Ee&ne||(Te=K(pe[we++])),Ce[Me++]=Z(nt[Te&He]),Te>>=$e}else _["VP8LMapColor"+F](pe,we,nt,He,Ce,Me,se,de,De)}}function he(b,S,F,K,Z){for(F=S+F;S<F;){var ne=b[S++];K[Z++]=ne>>16&255,K[Z++]=ne>>8&255,K[Z++]=ne>>0&255}}function ze(b,S,F,K,Z){for(F=S+F;S<F;){var ne=b[S++];K[Z++]=ne>>16&255,K[Z++]=ne>>8&255,K[Z++]=ne>>0&255,K[Z++]=ne>>24&255}}function Xe(b,S,F,K,Z){for(F=S+F;S<F;){var ne=(se=b[S++])>>16&240|se>>12&15,se=se>>0&240|se>>28&15;K[Z++]=ne,K[Z++]=se}}function fe(b,S,F,K,Z){for(F=S+F;S<F;){var ne=(se=b[S++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;K[Z++]=ne,K[Z++]=se}}function tt(b,S,F,K,Z){for(F=S+F;S<F;){var ne=b[S++];K[Z++]=ne>>0&255,K[Z++]=ne>>8&255,K[Z++]=ne>>16&255}}function wt(b,S,F,K,Z,ne){if(ne==0)for(F=S+F;S<F;)H(K,((ne=b[S++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Z+=32;else n(K,Z,b,S,F)}function dr(b,S){_[S][0]=_[b+"0"],_[S][1]=_[b+"1"],_[S][2]=_[b+"2"],_[S][3]=_[b+"3"],_[S][4]=_[b+"4"],_[S][5]=_[b+"5"],_[S][6]=_[b+"6"],_[S][7]=_[b+"7"],_[S][8]=_[b+"8"],_[S][9]=_[b+"9"],_[S][10]=_[b+"10"],_[S][11]=_[b+"11"],_[S][12]=_[b+"12"],_[S][13]=_[b+"13"],_[S][14]=_[b+"0"],_[S][15]=_[b+"0"]}function xt(b){return b==pj||b==mj||b==dv||b==gj}function Xt(){this.eb=[],this.size=this.A=this.fb=0}function It(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xt,this.f.kb=new It,this.sd=null}function yn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function vr(b,S){var F=b.T,K=S.ba.f.RGBA,Z=K.eb,ne=K.fb+b.ka*K.A,se=Os[S.ba.S],de=b.y,pe=b.O,we=b.f,Ce=b.N,Me=b.ea,$e=b.W,De=S.cc,nt=S.dc,He=S.Mc,Ee=S.Nc,Te=b.ka,Ze=b.ka+b.T,dt=b.U,rt=dt+1>>1;for(Te==0?se(de,pe,null,null,we,Ce,Me,$e,we,Ce,Me,$e,Z,ne,null,null,dt):(se(S.ec,S.fc,de,pe,De,nt,He,Ee,we,Ce,Me,$e,Z,ne-K.A,Z,ne,dt),++F);Te+2<Ze;Te+=2)De=we,nt=Ce,He=Me,Ee=$e,Ce+=b.Rc,$e+=b.Rc,ne+=2*K.A,se(de,(pe+=2*b.fa)-b.fa,de,pe,De,nt,He,Ee,we,Ce,Me,$e,Z,ne-K.A,Z,ne,dt);return pe+=b.fa,b.j+Ze<b.o?(n(S.ec,S.fc,de,pe,dt),n(S.cc,S.dc,we,Ce,rt),n(S.Mc,S.Nc,Me,$e,rt),F--):1&Ze||se(de,pe,null,null,we,Ce,Me,$e,we,Ce,Me,$e,Z,ne+K.A,null,null,dt),F}function Zs(b,S,F){var K=b.F,Z=[b.J];if(K!=null){var ne=b.U,se=S.ba.S,de=se==cv||se==dv;S=S.ba.f.RGBA;var pe=[0],we=b.ka;pe[0]=b.T,b.Kb&&(we==0?--pe[0]:(--we,Z[0]-=b.width),b.j+b.ka+b.T==b.o&&(pe[0]=b.o-b.j-we));var Ce=S.eb;we=S.fb+we*S.A,b=sn(K,Z[0],b.width,ne,pe,Ce,we+(de?0:3),S.A),t(F==pe),b&&xt(se)&&Ts(Ce,we,de,ne,pe,S.A)}return 0}function Mn(b){var S=b.ma,F=S.ba.S,K=11>F,Z=F==ov||F==lv||F==cv||F==hj||F==12||xt(F);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Pm(S.Oa,b,Z?11:12))return 0;if(Z&&xt(F)&&ht(),b.da)alert("todo:use_scaling");else{if(K){if(S.Ib=Vt,b.Kb){if(F=b.U+1>>1,S.memory=s(b.U+2*F),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+F,S.Ib=vr,ht()}}else alert("todo:EmitYUV");Z&&(S.Jb=Zs,K&&Fe())}if(K&&!qA){for(b=0;256>b;++b)UW[b]=89858*(b-128)+fv>>uv,HW[b]=-22014*(b-128)+fv,qW[b]=-45773*(b-128),WW[b]=113618*(b-128)+fv>>uv;for(b=Bm;b<yj;++b)S=76283*(b-16)+fv>>uv,VW[b-Bm]=Qi(S,255),GW[b-Bm]=Qi(S+8>>4,15);qA=1}return 1}function oe(b){var S=b.ma,F=b.U,K=b.T;return t(!(1&b.ka)),0>=F||0>=K?0:(F=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,F),S.Dc+=F,1)}function at(b){b.ma.memory=null}function Qe(b,S,F,K){return le(b,8)!=47?0:(S[0]=le(b,14)+1,F[0]=le(b,14)+1,K[0]=le(b,1),le(b,3)!=0?0:!b.h)}function Zt(b,S){if(4>b)return b+1;var F=b-2>>1;return(2+(1&b)<<F)+le(S,F)+1}function aa(b,S){return 120<S?S-120:1<=(F=((F=CW[S-1])>>4)*b+(8-(15&F)))?F:1;var F}function Gn(b,S,F){var K=V(F),Z=b[S+=255&K].g-8;return 0<Z&&(q(F,F.u+8),K=V(F),S+=b[S].value,S+=K&(1<<Z)-1),q(F,F.u+b[S].g),b[S].value}function Nn(b,S,F){return F.g+=b.g,F.value+=b.value<<S>>>0,t(8>=F.g),b.g}function En(b,S,F){var K=b.xc;return t((S=K==0?0:b.vc[b.md*(F>>K)+(S>>K)])<b.Wb),b.Ya[S]}function ie(b,S,F,K){var Z=b.ab,ne=b.c*S,se=b.C;S=se+S;var de=F,pe=K;for(K=b.Ta,F=b.Ua;0<Z--;){var we=b.gc[Z],Ce=se,Me=S,$e=de,De=pe,nt=(pe=K,de=F,we.Ea);switch(t(Ce<Me),t(Me<=we.nc),we.hc){case 2:ev($e,De,(Me-Ce)*nt,pe,de);break;case 0:var He=Ce,Ee=Me,Te=pe,Ze=de,dt=(Et=we).Ea;He==0&&(uj($e,De,null,null,1,Te,Ze),ce($e,De+1,0,0,dt-1,Te,Ze+1),De+=dt,Ze+=dt,++He);for(var rt=1<<Et.b,Lt=rt-1,At=Pe(dt,Et.b),Gt=Et.K,Et=Et.w+(He>>Et.b)*At;He<Ee;){var Fr=Gt,Br=Et,Cr=1;for(Fm($e,De,Te,Ze-dt,1,Te,Ze);Cr<dt;){var Sr=(Cr&~Lt)+rt;Sr>dt&&(Sr=dt),(0,Ec[Fr[Br++]>>8&15])($e,De+ +Cr,Te,Ze+Cr-dt,Sr-Cr,Te,Ze+Cr),Cr=Sr}De+=dt,Ze+=dt,++He&Lt||(Et+=At)}Me!=we.nc&&n(pe,de-nt,pe,de+(Me-Ce-1)*nt,nt);break;case 1:for(nt=$e,Ee=De,dt=($e=we.Ea)-(Ze=$e&~(Te=(De=1<<we.b)-1)),He=Pe($e,we.b),rt=we.K,we=we.w+(Ce>>we.b)*He;Ce<Me;){for(Lt=rt,At=we,Gt=new Ge,Et=Ee+Ze,Fr=Ee+$e;Ee<Et;)ct(Lt[At++],Gt),iu(Gt,nt,Ee,De,pe,de),Ee+=De,de+=De;Ee<Fr&&(ct(Lt[At++],Gt),iu(Gt,nt,Ee,dt,pe,de),Ee+=dt,de+=dt),++Ce&Te||(we+=He)}break;case 3:if($e==pe&&De==de&&0<we.b){for(Ee=pe,$e=nt=de+(Me-Ce)*nt-(Ze=(Me-Ce)*Pe(we.Ea,we.b)),De=pe,Te=de,He=[],Ze=(dt=Ze)-1;0<=Ze;--Ze)He[Ze]=De[Te+Ze];for(Ze=dt-1;0<=Ze;--Ze)Ee[$e+Ze]=He[Ze];As(we,Ce,Me,pe,nt,pe,de)}else As(we,Ce,Me,$e,De,pe,de)}de=K,pe=F}pe!=F&&n(K,F,de,pe,ne)}function Ne(b,S){var F=b.V,K=b.Ba+b.c*b.C,Z=S-b.C;if(t(S<=b.l.o),t(16>=Z),0<Z){var ne=b.l,se=b.Ta,de=b.Ua,pe=ne.width;if(ie(b,Z,F,K),Z=de=[de],t((F=b.C)<(K=S)),t(ne.v<ne.va),K>ne.o&&(K=ne.o),F<ne.j){var we=ne.j-F;F=ne.j,Z[0]+=we*pe}if(F>=K?F=0:(Z[0]+=4*ne.v,ne.ka=F-ne.j,ne.U=ne.va-ne.v,ne.T=K-F,F=1),F){if(de=de[0],11>(F=b.ca).S){var Ce=F.f.RGBA,Me=(K=F.S,Z=ne.U,ne=ne.T,we=Ce.eb,Ce.A),$e=ne;for(Ce=Ce.fb+b.Ma*Ce.A;0<$e--;){var De=se,nt=de,He=Z,Ee=we,Te=Ce;switch(K){case sv:Fi(De,nt,He,Ee,Te);break;case ov:hi(De,nt,He,Ee,Te);break;case pj:hi(De,nt,He,Ee,Te),Ts(Ee,Te,0,He,1,0);break;case FA:Cl(De,nt,He,Ee,Te);break;case lv:wt(De,nt,He,Ee,Te,1);break;case mj:wt(De,nt,He,Ee,Te,1),Ts(Ee,Te,0,He,1,0);break;case cv:wt(De,nt,He,Ee,Te,0);break;case dv:wt(De,nt,He,Ee,Te,0),Ts(Ee,Te,1,He,1,0);break;case hj:Tc(De,nt,He,Ee,Te);break;case gj:Tc(De,nt,He,Ee,Te),an(Ee,Te,He,1,0);break;case LA:Al(De,nt,He,Ee,Te);break;default:t(0)}de+=pe,Ce+=Me}b.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=F.height)}}b.C=S,t(b.C<=b.i)}function xe(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var F=b.Ya[S].G,K=b.Ya[S].H;if(0<F[1][K[1]+0].g||0<F[2][K[2]+0].g||0<F[3][K[3]+0].g)return 0}return 1}function ye(b,S,F,K,Z,ne){if(b.Z!=0){var se=b.qd,de=b.rd;for(t(Fc[b.Z]!=null);S<F;++S)Fc[b.Z](se,de,K,Z,K,Z,ne),se=K,de=Z,Z+=ne;b.qd=se,b.rd=de}}function je(b,S){var F=b.l.ma,K=F.Z==0||F.Z==1?b.l.j:b.C;if(K=b.C<K?K:b.C,t(S<=b.l.o),S>K){var Z=b.l.width,ne=F.ca,se=F.tb+Z*K,de=b.V,pe=b.Ba+b.c*K,we=b.gc;t(b.ab==1),t(we[0].hc==3),tv(we[0],K,S,de,pe,ne,se),ye(F,K,S,ne,se,Z)}b.C=b.Ma=S}function Se(b,S,F,K,Z,ne,se){var de=b.$/K,pe=b.$%K,we=b.m,Ce=b.s,Me=F+b.$,$e=Me;Z=F+K*Z;var De=F+K*ne,nt=280+Ce.ua,He=b.Pb?de:16777216,Ee=0<Ce.ua?Ce.Wa:null,Te=Ce.wc,Ze=Me<De?En(Ce,pe,de):null;t(b.C<ne),t(De<=Z);var dt=!1;e:for(;;){for(;dt||Me<De;){var rt=0;if(de>=He){var Lt=Me-F;t((He=b).Pb),He.wd=He.m,He.xd=Lt,0<He.s.ua&&ge(He.s.Wa,He.s.vb),He=de+TW}if(pe&Te||(Ze=En(Ce,pe,de)),t(Ze!=null),Ze.Qb&&(S[Me]=Ze.qb,dt=!0),!dt)if(P(we),Ze.jc){rt=we,Lt=S;var At=Me,Gt=Ze.pd[V(rt)&Pa-1];t(Ze.jc),256>Gt.g?(q(rt,rt.u+Gt.g),Lt[At]=Gt.value,rt=0):(q(rt,rt.u+Gt.g-256),t(256<=Gt.value),rt=Gt.value),rt==0&&(dt=!0)}else rt=Gn(Ze.G[0],Ze.H[0],we);if(we.h)break;if(dt||256>rt){if(!dt)if(Ze.nd)S[Me]=(Ze.qb|rt<<8)>>>0;else{if(P(we),dt=Gn(Ze.G[1],Ze.H[1],we),P(we),Lt=Gn(Ze.G[2],Ze.H[2],we),At=Gn(Ze.G[3],Ze.H[3],we),we.h)break;S[Me]=(At<<24|dt<<16|rt<<8|Lt)>>>0}if(dt=!1,++Me,++pe>=K&&(pe=0,++de,se!=null&&de<=ne&&!(de%16)&&se(b,de),Ee!=null))for(;$e<Me;)rt=S[$e++],Ee.X[(506832829*rt&4294967295)>>>Ee.Mb]=rt}else if(280>rt){if(rt=Zt(rt-256,we),Lt=Gn(Ze.G[4],Ze.H[4],we),P(we),Lt=aa(K,Lt=Zt(Lt,we)),we.h)break;if(Me-F<Lt||Z-Me<rt)break e;for(At=0;At<rt;++At)S[Me+At]=S[Me+At-Lt];for(Me+=rt,pe+=rt;pe>=K;)pe-=K,++de,se!=null&&de<=ne&&!(de%16)&&se(b,de);if(t(Me<=Z),pe&Te&&(Ze=En(Ce,pe,de)),Ee!=null)for(;$e<Me;)rt=S[$e++],Ee.X[(506832829*rt&4294967295)>>>Ee.Mb]=rt}else{if(!(rt<nt))break e;for(dt=rt-280,t(Ee!=null);$e<Me;)rt=S[$e++],Ee.X[(506832829*rt&4294967295)>>>Ee.Mb]=rt;rt=Me,t(!(dt>>>(Lt=Ee).Xa)),S[rt]=Lt.X[dt],dt=!0}dt||t(we.h==Y(we))}if(b.Pb&&we.h&&Me<Z)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ge(b.s.vb,b.s.Wa);else{if(we.h)break e;se!=null&&se(b,de>ne?ne:de),b.a=0,b.$=Me-F}return 1}return b.a=3,0}function Re(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,t(b!=null)}function qe(){var b=new dj;return b==null?null:(b.a=0,b.xb=MA,dr("Predictor","VP8LPredictors"),dr("Predictor","VP8LPredictors_C"),dr("PredictorAdd","VP8LPredictorsAdd"),dr("PredictorAdd","VP8LPredictorsAdd_C"),ev=Je,iu=ft,Fi=he,hi=ze,Tc=Xe,Al=fe,Cl=tt,_.VP8LMapColor32b=If,_.VP8LMapColor8b=rv,b)}function Ie(b,S,F,K,Z){var ne=1,se=[b],de=[S],pe=K.m,we=K.s,Ce=null,Me=0;e:for(;;){if(F)for(;ne&&le(pe,1);){var $e=se,De=de,nt=K,He=1,Ee=nt.m,Te=nt.gc[nt.ab],Ze=le(Ee,2);if(nt.Oc&1<<Ze)ne=0;else{switch(nt.Oc|=1<<Ze,Te.hc=Ze,Te.Ea=$e[0],Te.nc=De[0],Te.K=[null],++nt.ab,t(4>=nt.ab),Ze){case 0:case 1:Te.b=le(Ee,3)+2,He=Ie(Pe(Te.Ea,Te.b),Pe(Te.nc,Te.b),0,nt,Te.K),Te.K=Te.K[0];break;case 3:var dt,rt=le(Ee,8)+1,Lt=16<rt?0:4<rt?1:2<rt?2:3;if($e[0]=Pe(Te.Ea,Lt),Te.b=Lt,dt=He=Ie(rt,1,0,nt,Te.K)){var At,Gt=rt,Et=Te,Fr=1<<(8>>Et.b),Br=s(Fr);if(Br==null)dt=0;else{var Cr=Et.K[0],Sr=Et.w;for(Br[0]=Et.K[0][0],At=1;At<1*Gt;++At)Br[At]=ke(Cr[Sr+At],Br[At-1]);for(;At<4*Fr;++At)Br[At]=0;Et.K[0]=null,Et.K[0]=Br,dt=1}}He=dt;break;case 2:break;default:t(0)}ne=He}}if(se=se[0],de=de[0],ne&&le(pe,1)&&!(ne=1<=(Me=le(pe,4))&&11>=Me)){K.a=3;break e}var Zr;if(Zr=ne)t:{var Yr,ur,Yn,Li=K,Qn=se,Ii=de,zr=Me,Zi=F,es=Li.m,va=Li.s,Oa=[null],mi=1,Ds=0,Go=EW[zr];r:for(;;){if(Zi&&le(es,1)){var ya=le(es,3)+2,Ol=Pe(Qn,ya),du=Pe(Ii,ya),zf=Ol*du;if(!Ie(Ol,du,0,Li,Oa))break r;for(Oa=Oa[0],va.xc=ya,Yr=0;Yr<zf;++Yr){var Lc=Oa[Yr]>>8&65535;Oa[Yr]=Lc,Lc>=mi&&(mi=Lc+1)}}if(es.h)break r;for(ur=0;5>ur;++ur){var Pn=IA[ur];!ur&&0<zr&&(Pn+=1<<zr),Ds<Pn&&(Ds=Pn)}var bj=o(mi*Go,T),GA=mi,KA=o(GA,B);if(KA==null)var pv=null;else t(65536>=GA),pv=KA;var zm=s(Ds);if(pv==null||zm==null||bj==null){Li.a=1;break r}var mv=bj;for(Yr=Yn=0;Yr<mi;++Yr){var so=pv[Yr],Uf=so.G,Wf=so.H,XA=0,gv=1,YA=0;for(ur=0;5>ur;++ur){Pn=IA[ur],Uf[ur]=mv,Wf[ur]=Yn,!ur&&0<zr&&(Pn+=1<<zr);a:{var xv,wj=Pn,vv=Li,Um=zm,YW=mv,QW=Yn,jj=0,Ic=vv.m,JW=le(Ic,1);if(a(Um,0,0,wj),JW){var ZW=le(Ic,1)+1,eq=le(Ic,1),QA=le(Ic,eq==0?1:8);Um[QA]=1,ZW==2&&(Um[QA=le(Ic,8)]=1);var yv=1}else{var JA=s(19),ZA=le(Ic,4)+4;if(19<ZA){vv.a=3;var bv=0;break a}for(xv=0;xv<ZA;++xv)JA[AW[xv]]=le(Ic,3);var Nj=void 0,Wm=void 0,e6=vv,tq=JA,wv=wj,t6=Um,Sj=0,Rc=e6.m,r6=8,n6=o(128,T);n:for(;D(n6,0,7,tq,19);){if(le(Rc,1)){var rq=2+2*le(Rc,3);if((Nj=2+le(Rc,rq))>wv)break n}else Nj=wv;for(Wm=0;Wm<wv&&Nj--;){P(Rc);var a6=n6[0+(127&V(Rc))];q(Rc,Rc.u+a6.g);var qf=a6.value;if(16>qf)t6[Wm++]=qf,qf!=0&&(r6=qf);else{var nq=qf==16,i6=qf-16,aq=_W[i6],s6=le(Rc,SW[i6])+aq;if(Wm+s6>wv)break n;for(var iq=nq?r6:0;0<s6--;)t6[Wm++]=iq}}Sj=1;break n}Sj||(e6.a=3),yv=Sj}(yv=yv&&!Ic.h)&&(jj=D(YW,QW,8,Um,wj)),yv&&jj!=0?bv=jj:(vv.a=3,bv=0)}if(bv==0)break r;if(gv&&kW[ur]==1&&(gv=mv[Yn].g==0),XA+=mv[Yn].g,Yn+=bv,3>=ur){var qm,_j=zm[0];for(qm=1;qm<Pn;++qm)zm[qm]>_j&&(_j=zm[qm]);YA+=_j}}if(so.nd=gv,so.Qb=0,gv&&(so.qb=(Uf[3][Wf[3]+0].value<<24|Uf[1][Wf[1]+0].value<<16|Uf[2][Wf[2]+0].value)>>>0,XA==0&&256>Uf[0][Wf[0]+0].value&&(so.Qb=1,so.qb+=Uf[0][Wf[0]+0].value<<8)),so.jc=!so.Qb&&6>YA,so.jc){var jv,Dl=so;for(jv=0;jv<Pa;++jv){var Mc=jv,$c=Dl.pd[Mc],Nv=Dl.G[0][Dl.H[0]+Mc];256<=Nv.value?($c.g=Nv.g+256,$c.value=Nv.value):($c.g=0,$c.value=0,Mc>>=Nn(Nv,8,$c),Mc>>=Nn(Dl.G[1][Dl.H[1]+Mc],16,$c),Mc>>=Nn(Dl.G[2][Dl.H[2]+Mc],0,$c),Nn(Dl.G[3][Dl.H[3]+Mc],24,$c))}}}va.vc=Oa,va.Wb=mi,va.Ya=pv,va.yc=bj,Zr=1;break t}Zr=0}if(!(ne=Zr)){K.a=3;break e}if(0<Me){if(we.ua=1<<Me,!te(we.Wa,Me)){K.a=1,ne=0;break e}}else we.ua=0;var kj=K,o6=se,sq=de,Aj=kj.s,Cj=Aj.xc;if(kj.c=o6,kj.i=sq,Aj.md=Pe(o6,Cj),Aj.wc=Cj==0?-1:(1<<Cj)-1,F){K.xb=RW;break e}if((Ce=s(se*de))==null){K.a=1,ne=0;break e}ne=(ne=Se(K,Ce,0,se,de,de,null))&&!pe.h;break e}return ne?(Z!=null?Z[0]=Ce:(t(Ce==null),t(F)),K.$=0,F||Re(we)):Re(we),ne}function Be(b,S){var F=b.c*b.i,K=F+S+16*S;return t(b.c<=S),b.V=s(K),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+F+S,1)}function Ue(b,S){var F=b.C,K=S-F,Z=b.V,ne=b.Ba+b.c*F;for(t(S<=b.l.o);0<K;){var se=16<K?16:K,de=b.l.ma,pe=b.l.width,we=pe*se,Ce=de.ca,Me=de.tb+pe*F,$e=b.Ta,De=b.Ua;ie(b,se,Z,ne),zn($e,De,Ce,Me,we),ye(de,F,F+se,Ce,Me,pe),K-=se,Z+=se*b.c,F+=se}t(F==S),b.C=b.Ma=S}function pt(){this.ub=this.yd=this.td=this.Rb=0}function jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function yt(){this.Yb=function(){var b=[];return function S(F,K,Z){for(var ne=Z[K],se=0;se<ne&&(F.push(Z.length>K+1?[]:0),!(Z.length<K+1));se++)S(F[se],K+1,Z)}(b,0,[3,11]),b}()}function Tt(){this.jb=s(3),this.Wc=l([4,8],yt),this.Xc=l([4,17],yt)}function er(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function Xr(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new eo),this.aa=0,this.l=new Wo}function Uo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function to(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new pt,this.Kc=new jt,this.ed=new er,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new Sl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,Kn),this.Pa=new Tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Uo),this.Hd=0,this.rb=Array(new Xr),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eo),this.L=this.aa=0,this.gd=l([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yi(){var b=new to;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,$m||($m=$x)),b}function $n(b,S,F){return b.a==0&&(b.a=S,b.sc=F,b.cb=0),0}function Rx(b,S,F){return 3<=F&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function Mx(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return $n(b,2,"null VP8Io passed to VP8GetHeaders()");var F=S.data,K=S.w,Z=S.ha;if(4>Z)return $n(b,7,"Truncated header.");var ne=F[K+0]|F[K+1]<<8|F[K+2]<<16,se=b.Od;if(se.Rb=!(1&ne),se.td=ne>>1&7,se.yd=ne>>4&1,se.ub=ne>>5,3<se.td)return $n(b,3,"Incorrect keyframe parameters.");if(!se.yd)return $n(b,4,"Frame not displayable.");K+=3,Z-=3;var de=b.Kc;if(se.Rb){if(7>Z)return $n(b,7,"cannot parse picture header");if(!Rx(F,K,Z))return $n(b,3,"Bad code word");de.c=16383&(F[K+4]<<8|F[K+3]),de.Td=F[K+4]>>6,de.i=16383&(F[K+6]<<8|F[K+5]),de.Ud=F[K+6]>>6,K+=7,Z-=7,b.za=de.c+15>>4,b.Ub=de.i+15>>4,S.width=de.c,S.height=de.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,a((ne=b.Pa).jb,0,255,ne.jb.length),t((ne=b.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(se.ub>Z)return $n(b,7,"bad partition length");J(ne=b.m,F,K,se.ub),K+=se.ub,Z-=se.ub,se.Rb&&(de.Ld=G(ne),de.Kd=G(ne)),de=b.Qa;var pe,we=b.Pa;if(t(ne!=null),t(de!=null),de.Cb=G(ne),de.Cb){if(de.Bb=G(ne),G(ne)){for(de.Fb=G(ne),pe=0;4>pe;++pe)de.Zb[pe]=G(ne)?X(ne,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=G(ne)?X(ne,6):0}if(de.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=G(ne)?U(ne,8):255}else de.Bb=0;if(ne.Ka)return $n(b,3,"cannot parse segment header");if((de=b.ed).zd=G(ne),de.Tb=U(ne,6),de.wb=U(ne,3),de.Pc=G(ne),de.Pc&&G(ne)){for(we=0;4>we;++we)G(ne)&&(de.vd[we]=X(ne,6));for(we=0;4>we;++we)G(ne)&&(de.od[we]=X(ne,6))}if(b.L=de.Tb==0?0:de.zd?1:2,ne.Ka)return $n(b,3,"cannot parse filter header");var Ce=Z;if(Z=pe=K,K=pe+Ce,de=Ce,b.Xb=(1<<U(b.m,2))-1,Ce<3*(we=b.Xb))F=7;else{for(pe+=3*we,de-=3*we,Ce=0;Ce<we;++Ce){var Me=F[Z+0]|F[Z+1]<<8|F[Z+2]<<16;Me>de&&(Me=de),J(b.Jc[+Ce],F,pe,Me),pe+=Me,de-=Me,Z+=3}J(b.Jc[+we],F,pe,de),F=pe<K?0:5}if(F!=0)return $n(b,F,"cannot parse partitions");for(F=U(pe=b.m,7),Z=G(pe)?X(pe,4):0,K=G(pe)?X(pe,4):0,de=G(pe)?X(pe,4):0,we=G(pe)?X(pe,4):0,pe=G(pe)?X(pe,4):0,Ce=b.Qa,Me=0;4>Me;++Me){if(Ce.Cb){var $e=Ce.Zb[Me];Ce.Fb||($e+=F)}else{if(0<Me){b.pb[Me]=b.pb[0];continue}$e=F}var De=b.pb[Me];De.Sc[0]=xj[Qi($e+Z,127)],De.Sc[1]=vj[Qi($e+0,127)],De.Eb[0]=2*xj[Qi($e+K,127)],De.Eb[1]=101581*vj[Qi($e+de,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=xj[Qi($e+we,117)],De.Qc[1]=vj[Qi($e+pe,127)],De.lc=$e+pe}if(!se.Rb)return $n(b,4,"Not a key frame.");for(G(ne),se=b.Pa,F=0;4>F;++F){for(Z=0;8>Z;++Z)for(K=0;3>K;++K)for(de=0;11>de;++de)we=W(ne,LW[F][Z][K][de])?U(ne,8):DW[F][Z][K][de],se.Wc[F][Z].Yb[K][de]=we;for(Z=0;17>Z;++Z)se.Xc[F][Z]=se.Wc[F][IW[Z]]}return b.kc=G(ne),b.kc&&(b.Bd=U(ne,8)),b.cb=1}function $x(b,S,F,K,Z,ne,se){var de=S[Z].Yb[F];for(F=0;16>Z;++Z){if(!W(b,de[F+0]))return Z;for(;!W(b,de[F+1]);)if(de=S[++Z].Yb[0],F=0,Z==16)return 16;var pe=S[Z+1].Yb;if(W(b,de[F+2])){var we=b,Ce=0;if(W(we,($e=de)[(Me=F)+3]))if(W(we,$e[Me+6])){for(de=0,Me=2*(Ce=W(we,$e[Me+8]))+($e=W(we,$e[Me+9+Ce])),Ce=0,$e=PW[Me];$e[de];++de)Ce+=Ce+W(we,$e[de]);Ce+=3+(8<<Me)}else W(we,$e[Me+7])?(Ce=7+2*W(we,165),Ce+=W(we,145)):Ce=5+W(we,159);else Ce=W(we,$e[Me+4])?3+W(we,$e[Me+5]):2;de=pe[2]}else Ce=1,de=pe[1];pe=se+OW[Z],0>(we=b).b&&R(we);var Me,$e=we.b,De=(Me=we.Ca>>1)-(we.I>>$e)>>31;--we.b,we.Ca+=De,we.Ca|=1,we.I-=(Me+1&De)<<$e,ne[pe]=((Ce^De)-De)*K[(0<Z)+0]}return 16}function gm(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function Gw(b,S){if(b==null)return 0;if(S==null)return $n(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Mx(b,S))return 0;if(t(b.cb),S.ac==null||S.ac(S)){S.ob&&(b.L=0);var F=hv[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=S.v-F>>4,b.zb=S.j-F>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=S.o+15+F>>4,b.Hb=S.va+15+F>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var K=b.ed;for(F=0;4>F;++F){var Z;if(b.Qa.Cb){var ne=b.Qa.Lb[F];b.Qa.Fb||(ne+=K.Tb)}else ne=K.Tb;for(Z=0;1>=Z;++Z){var se=b.gd[F][Z],de=ne;if(K.Pc&&(de+=K.vd[0],Z&&(de+=K.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<K.wb&&(pe=4<K.wb?pe>>2:pe>>1)>9-K.wb&&(pe=9-K.wb),1>pe&&(pe=1),se.dd=pe,se.tc=2*de+pe,se.ld=40<=de?2:15<=de?1:0}else se.tc=0;se.La=Z}}}F=0}else $n(b,6,"Frame setup failed"),F=b.a;if(F=F==0){if(F){b.$c=0,0<b.Aa||(b.Ic=XW);e:{F=b.Ic,K=4*(pe=b.za);var we=32*pe,Ce=pe+1,Me=0<b.L?pe*(0<b.Aa?2:1):0,$e=(b.Aa==2?2:1)*pe;if((se=K+832+(Z=3*(16*F+hv[b.L])/2*we)+(ne=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=se)F=0;else{if(se>b.Vb){if(b.Vb=0,b.Ec=s(se),b.Fc=0,b.Ec==null){F=$n(b,1,"no memory during frame initialization.");break e}b.Vb=se}se=b.Ec,de=b.Fc,b.Ac=se,b.Bc=de,de+=K,b.Gd=o(we,Uo),b.Hd=0,b.rb=o(Ce+1,Xr),b.sb=1,b.wa=Me?o(Me,Ir):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=pe),t(!0),b.oc=se,b.pc=de,de+=832,b.ya=o($e,eo),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=pe),b.R=16*pe,b.B=8*pe,pe=(we=hv[b.L])*b.R,we=we/2*b.B,b.sa=se,b.ta=de+pe,b.qa=b.sa,b.ra=b.ta+16*F*b.R+we,b.Ha=b.qa,b.Ia=b.ra+8*F*b.B+we,b.$c=0,de+=Z,b.mb=ne?se:null,b.nb=ne?de:null,t(de+ne<=b.Fc+b.Vb),gm(b),a(b.Ac,b.Bc,0,K),F=1}}if(F){if(S.ka=0,S.y=b.sa,S.O=b.ta,S.f=b.qa,S.N=b.ra,S.ea=b.Ha,S.Vd=b.Ia,S.fa=b.R,S.Rc=b.B,S.F=null,S.J=0,!av){for(F=-255;255>=F;++F)ia[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)Tl[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)Mm[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Bf[255+F]=0>F?0:255<F?255:F;av=1}Rf=Yw,El=Kw,Lm=zx,pi=Xw,Cs=Ux,Bn=Bx,Mf=jm,nv=nu,Im=cj,su=Nm,ou=lj,Pc=Cf,lu=Sm,$f=Qx,cu=Yx,Oc=Ho,Rm=kl,Es=oj,io[0]=qo,io[1]=Qw,io[2]=tj,io[3]=rj,io[4]=Hx,io[5]=kf,io[6]=Vx,io[7]=ym,io[8]=aj,io[9]=nj,Dc[0]=Wx,Dc[1]=Zw,Dc[2]=_l,Dc[3]=Sf,Dc[4]=Ha,Dc[5]=ej,Dc[6]=qx,Pl[0]=kc,Pl[1]=Jw,Pl[2]=ij,Pl[3]=bm,Pl[4]=ru,Pl[5]=sj,Pl[6]=wm,F=1}else F=0}F&&(F=function(De,nt){for(De.M=0;De.M<De.Va;++De.M){var He,Ee=De.Jc[De.M&De.Xb],Te=De.m,Ze=De;for(He=0;He<Ze.za;++He){var dt=Te,rt=Ze,Lt=rt.Ac,At=rt.Bc+4*He,Gt=rt.zc,Et=rt.ya[rt.aa+He];if(rt.Qa.Bb?Et.$b=W(dt,rt.Pa.jb[0])?2+W(dt,rt.Pa.jb[2]):W(dt,rt.Pa.jb[1]):Et.$b=0,rt.kc&&(Et.Ad=W(dt,rt.Bd)),Et.Za=!W(dt,145)+0,Et.Za){var Fr=Et.Ob,Br=0;for(rt=0;4>rt;++rt){var Cr,Sr=Gt[0+rt];for(Cr=0;4>Cr;++Cr){Sr=FW[Lt[At+Cr]][Sr];for(var Zr=RA[W(dt,Sr[0])];0<Zr;)Zr=RA[2*Zr+W(dt,Sr[Zr])];Sr=-Zr,Lt[At+Cr]=Sr}n(Fr,Br,Lt,At,4),Br+=4,Gt[0+rt]=Sr}}else Sr=W(dt,156)?W(dt,128)?1:3:W(dt,163)?2:0,Et.Ob[0]=Sr,a(Lt,At,Sr,4),a(Gt,0,Sr,4);Et.Dd=W(dt,142)?W(dt,114)?W(dt,183)?1:3:2:0}if(Ze.m.Ka)return $n(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(Ze=Ee,dt=(Te=De).rb[Te.sb-1],Lt=Te.rb[Te.sb+Te.ja],He=Te.ya[Te.aa+Te.ja],At=Te.kc?He.Ad:0)dt.la=Lt.la=0,He.Za||(dt.Na=Lt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Yr,ur;if(dt=Lt,Lt=Ze,At=Te.Pa.Xc,Gt=Te.ya[Te.aa+Te.ja],Et=Te.pb[Gt.$b],rt=Gt.ad,Fr=0,Br=Te.rb[Te.sb-1],Sr=Cr=0,a(rt,Fr,0,384),Gt.Za)var Yn=0,Li=At[3];else{Zr=s(16);var Qn=dt.Na+Br.Na;if(Qn=$m(Lt,At[1],Qn,Et.Eb,0,Zr,0),dt.Na=Br.Na=(0<Qn)+0,1<Qn)Rf(Zr,0,rt,Fr);else{var Ii=Zr[0]+3>>3;for(Zr=0;256>Zr;Zr+=16)rt[Fr+Zr]=Ii}Yn=1,Li=At[0]}var zr=15&dt.la,Zi=15&Br.la;for(Zr=0;4>Zr;++Zr){var es=1&Zi;for(Ii=ur=0;4>Ii;++Ii)zr=zr>>1|(es=(Qn=$m(Lt,Li,Qn=es+(1&zr),Et.Sc,Yn,rt,Fr))>Yn)<<7,ur=ur<<2|(3<Qn?3:1<Qn?2:rt[Fr+0]!=0),Fr+=16;zr>>=4,Zi=Zi>>1|es<<7,Cr=(Cr<<8|ur)>>>0}for(Li=zr,Yn=Zi>>4,Yr=0;4>Yr;Yr+=2){for(ur=0,zr=dt.la>>4+Yr,Zi=Br.la>>4+Yr,Zr=0;2>Zr;++Zr){for(es=1&Zi,Ii=0;2>Ii;++Ii)Qn=es+(1&zr),zr=zr>>1|(es=0<(Qn=$m(Lt,At[2],Qn,Et.Qc,0,rt,Fr)))<<3,ur=ur<<2|(3<Qn?3:1<Qn?2:rt[Fr+0]!=0),Fr+=16;zr>>=2,Zi=Zi>>1|es<<5}Sr|=ur<<4*Yr,Li|=zr<<4<<Yr,Yn|=(240&Zi)<<Yr}dt.la=Li,Br.la=Yn,Gt.Hc=Cr,Gt.Gc=Sr,Gt.ia=43690&Sr?0:Et.ia,At=!(Cr|Sr)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[He.$b][He.Za],Te.wa[Te.Y+Te.ja].La|=!At),Ze.Ka)return $n(De,7,"Premature end-of-file encountered.")}if(gm(De),Te=nt,Ze=1,He=(Ee=De).D,dt=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(He.M=Ee.M,He.uc=dt,Tm(Ee,He),Ze=1,He=(ur=Ee.D).Nb,dt=(Sr=hv[Ee.L])*Ee.R,Lt=Sr/2*Ee.B,Zr=16*He*Ee.R,Ii=8*He*Ee.B,At=Ee.sa,Gt=Ee.ta-dt+Zr,Et=Ee.qa,rt=Ee.ra-Lt+Ii,Fr=Ee.Ha,Br=Ee.Ia-Lt+Ii,Zi=(zr=ur.M)==0,Cr=zr>=Ee.Va-1,Ee.Aa==2&&Tm(Ee,ur),ur.uc)for(es=(Qn=Ee).D.M,t(Qn.D.uc),ur=Qn.yb;ur<Qn.Hb;++ur){Yn=ur,Li=es;var va=(Oa=(Pn=Qn).D).Nb;Yr=Pn.R;var Oa=Oa.wa[Oa.Y+Yn],mi=Pn.sa,Ds=Pn.ta+16*va*Yr+16*Yn,Go=Oa.dd,ya=Oa.tc;if(ya!=0)if(t(3<=ya),Pn.L==1)0<Yn&&Oc(mi,Ds,Yr,ya+4),Oa.La&&Es(mi,Ds,Yr,ya),0<Li&&cu(mi,Ds,Yr,ya+4),Oa.La&&Rm(mi,Ds,Yr,ya);else{var Ol=Pn.B,du=Pn.qa,zf=Pn.ra+8*va*Ol+8*Yn,Lc=Pn.Ha,Pn=Pn.Ia+8*va*Ol+8*Yn;va=Oa.ld,0<Yn&&(nv(mi,Ds,Yr,ya+4,Go,va),su(du,zf,Lc,Pn,Ol,ya+4,Go,va)),Oa.La&&(Pc(mi,Ds,Yr,ya,Go,va),$f(du,zf,Lc,Pn,Ol,ya,Go,va)),0<Li&&(Mf(mi,Ds,Yr,ya+4,Go,va),Im(du,zf,Lc,Pn,Ol,ya+4,Go,va)),Oa.La&&(ou(mi,Ds,Yr,ya,Go,va),lu(du,zf,Lc,Pn,Ol,ya,Go,va))}}if(Ee.ia&&alert("todo:DitherRow"),Te.put!=null){if(ur=16*zr,zr=16*(zr+1),Zi?(Te.y=Ee.sa,Te.O=Ee.ta+Zr,Te.f=Ee.qa,Te.N=Ee.ra+Ii,Te.ea=Ee.Ha,Te.W=Ee.Ia+Ii):(ur-=Sr,Te.y=At,Te.O=Gt,Te.f=Et,Te.N=rt,Te.ea=Fr,Te.W=Br),Cr||(zr-=Sr),zr>Te.o&&(zr=Te.o),Te.F=null,Te.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&ur<zr&&(Te.J=Cm(Ee,Te,ur,zr-ur),Te.F=Ee.mb,Te.F==null&&Te.F.length==0)){Ze=$n(Ee,3,"Could not decode alpha data.");break e}ur<Te.j&&(Sr=Te.j-ur,ur=Te.j,t(!(1&Sr)),Te.O+=Ee.R*Sr,Te.N+=Ee.B*(Sr>>1),Te.W+=Ee.B*(Sr>>1),Te.F!=null&&(Te.J+=Te.width*Sr)),ur<zr&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=ur-Te.j,Te.U=Te.va-Te.v,Te.T=zr-ur,Ze=Te.put(Te))}He+1!=Ee.Ic||Cr||(n(Ee.sa,Ee.ta-dt,At,Gt+16*Ee.R,dt),n(Ee.qa,Ee.ra-Lt,Et,rt+8*Ee.B,Lt),n(Ee.Ha,Ee.Ia-Lt,Fr,Br+8*Ee.B,Lt))}if(!Ze)return $n(De,6,"Output aborted.")}return 1}(b,S)),S.bc!=null&&S.bc(S),F&=1}return F?(b.cb=0,F):0}function ro(b,S,F,K,Z){Z=b[S+F+32*K]+(Z>>3),b[S+F+32*K]=-256&Z?0>Z?0:255:Z}function Nf(b,S,F,K,Z,ne){ro(b,S,0,F,K+Z),ro(b,S,1,F,K+ne),ro(b,S,2,F,K-ne),ro(b,S,3,F,K-Z)}function Oi(b){return(20091*b>>16)+b}function xm(b,S,F,K){var Z,ne=0,se=s(16);for(Z=0;4>Z;++Z){var de=b[S+0]+b[S+8],pe=b[S+0]-b[S+8],we=(35468*b[S+4]>>16)-Oi(b[S+12]),Ce=Oi(b[S+4])+(35468*b[S+12]>>16);se[ne+0]=de+Ce,se[ne+1]=pe+we,se[ne+2]=pe-we,se[ne+3]=de-Ce,ne+=4,S++}for(Z=ne=0;4>Z;++Z)de=(b=se[ne+0]+4)+se[ne+8],pe=b-se[ne+8],we=(35468*se[ne+4]>>16)-Oi(se[ne+12]),ro(F,K,0,0,de+(Ce=Oi(se[ne+4])+(35468*se[ne+12]>>16))),ro(F,K,1,0,pe+we),ro(F,K,2,0,pe-we),ro(F,K,3,0,de-Ce),ne++,K+=32}function Bx(b,S,F,K){var Z=b[S+0]+4,ne=35468*b[S+4]>>16,se=Oi(b[S+4]),de=35468*b[S+1]>>16;Nf(F,K,0,Z+se,b=Oi(b[S+1]),de),Nf(F,K,1,Z+ne,b,de),Nf(F,K,2,Z-ne,b,de),Nf(F,K,3,Z-se,b,de)}function Kw(b,S,F,K,Z){xm(b,S,F,K),Z&&xm(b,S+16,F,K+4)}function zx(b,S,F,K){El(b,S+0,F,K,1),El(b,S+32,F,K+128,1)}function Xw(b,S,F,K){var Z;for(b=b[S+0]+4,Z=0;4>Z;++Z)for(S=0;4>S;++S)ro(F,K,S,Z,b)}function Ux(b,S,F,K){b[S+0]&&pi(b,S+0,F,K),b[S+16]&&pi(b,S+16,F,K+4),b[S+32]&&pi(b,S+32,F,K+128),b[S+48]&&pi(b,S+48,F,K+128+4)}function Yw(b,S,F,K){var Z,ne=s(16);for(Z=0;4>Z;++Z){var se=b[S+0+Z]+b[S+12+Z],de=b[S+4+Z]+b[S+8+Z],pe=b[S+4+Z]-b[S+8+Z],we=b[S+0+Z]-b[S+12+Z];ne[0+Z]=se+de,ne[8+Z]=se-de,ne[4+Z]=we+pe,ne[12+Z]=we-pe}for(Z=0;4>Z;++Z)se=(b=ne[0+4*Z]+3)+ne[3+4*Z],de=ne[1+4*Z]+ne[2+4*Z],pe=ne[1+4*Z]-ne[2+4*Z],we=b-ne[3+4*Z],F[K+0]=se+de>>3,F[K+16]=we+pe>>3,F[K+32]=se-de>>3,F[K+48]=we-pe>>3,K+=64}function vm(b,S,F){var K,Z=S-32,ne=Ji,se=255-b[Z-1];for(K=0;K<F;++K){var de,pe=ne,we=se+b[S-1];for(de=0;de<F;++de)b[S+de]=pe[we+b[Z+de]];S+=32}}function Qw(b,S){vm(b,S,4)}function Jw(b,S){vm(b,S,8)}function Zw(b,S){vm(b,S,16)}function _l(b,S){var F;for(F=0;16>F;++F)n(b,S+32*F,b,S-32,16)}function Sf(b,S){var F;for(F=16;0<F;--F)a(b,S,b[S-1],16),S+=32}function _f(b,S,F){var K;for(K=0;16>K;++K)a(S,F+32*K,b,16)}function Wx(b,S){var F,K=16;for(F=0;16>F;++F)K+=b[S-1+32*F]+b[S+F-32];_f(K>>5,b,S)}function Ha(b,S){var F,K=8;for(F=0;16>F;++F)K+=b[S-1+32*F];_f(K>>4,b,S)}function ej(b,S){var F,K=8;for(F=0;16>F;++F)K+=b[S+F-32];_f(K>>4,b,S)}function qx(b,S){_f(128,b,S)}function tr(b,S,F){return b+2*S+F+2>>2}function tj(b,S){var F,K=S-32;for(K=new Uint8Array([tr(b[K-1],b[K+0],b[K+1]),tr(b[K+0],b[K+1],b[K+2]),tr(b[K+1],b[K+2],b[K+3]),tr(b[K+2],b[K+3],b[K+4])]),F=0;4>F;++F)n(b,S+32*F,K,0,K.length)}function rj(b,S){var F=b[S-1],K=b[S-1+32],Z=b[S-1+64],ne=b[S-1+96];H(b,S+0,16843009*tr(b[S-1-32],F,K)),H(b,S+32,16843009*tr(F,K,Z)),H(b,S+64,16843009*tr(K,Z,ne)),H(b,S+96,16843009*tr(Z,ne,ne))}function qo(b,S){var F,K=4;for(F=0;4>F;++F)K+=b[S+F-32]+b[S-1+32*F];for(K>>=3,F=0;4>F;++F)a(b,S+32*F,K,4)}function Hx(b,S){var F=b[S-1+0],K=b[S-1+32],Z=b[S-1+64],ne=b[S-1-32],se=b[S+0-32],de=b[S+1-32],pe=b[S+2-32],we=b[S+3-32];b[S+0+96]=tr(K,Z,b[S-1+96]),b[S+1+96]=b[S+0+64]=tr(F,K,Z),b[S+2+96]=b[S+1+64]=b[S+0+32]=tr(ne,F,K),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=tr(se,ne,F),b[S+3+64]=b[S+2+32]=b[S+1+0]=tr(de,se,ne),b[S+3+32]=b[S+2+0]=tr(pe,de,se),b[S+3+0]=tr(we,pe,de)}function Vx(b,S){var F=b[S+1-32],K=b[S+2-32],Z=b[S+3-32],ne=b[S+4-32],se=b[S+5-32],de=b[S+6-32],pe=b[S+7-32];b[S+0+0]=tr(b[S+0-32],F,K),b[S+1+0]=b[S+0+32]=tr(F,K,Z),b[S+2+0]=b[S+1+32]=b[S+0+64]=tr(K,Z,ne),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=tr(Z,ne,se),b[S+3+32]=b[S+2+64]=b[S+1+96]=tr(ne,se,de),b[S+3+64]=b[S+2+96]=tr(se,de,pe),b[S+3+96]=tr(de,pe,pe)}function kf(b,S){var F=b[S-1+0],K=b[S-1+32],Z=b[S-1+64],ne=b[S-1-32],se=b[S+0-32],de=b[S+1-32],pe=b[S+2-32],we=b[S+3-32];b[S+0+0]=b[S+1+64]=ne+se+1>>1,b[S+1+0]=b[S+2+64]=se+de+1>>1,b[S+2+0]=b[S+3+64]=de+pe+1>>1,b[S+3+0]=pe+we+1>>1,b[S+0+96]=tr(Z,K,F),b[S+0+64]=tr(K,F,ne),b[S+0+32]=b[S+1+96]=tr(F,ne,se),b[S+1+32]=b[S+2+96]=tr(ne,se,de),b[S+2+32]=b[S+3+96]=tr(se,de,pe),b[S+3+32]=tr(de,pe,we)}function ym(b,S){var F=b[S+0-32],K=b[S+1-32],Z=b[S+2-32],ne=b[S+3-32],se=b[S+4-32],de=b[S+5-32],pe=b[S+6-32],we=b[S+7-32];b[S+0+0]=F+K+1>>1,b[S+1+0]=b[S+0+64]=K+Z+1>>1,b[S+2+0]=b[S+1+64]=Z+ne+1>>1,b[S+3+0]=b[S+2+64]=ne+se+1>>1,b[S+0+32]=tr(F,K,Z),b[S+1+32]=b[S+0+96]=tr(K,Z,ne),b[S+2+32]=b[S+1+96]=tr(Z,ne,se),b[S+3+32]=b[S+2+96]=tr(ne,se,de),b[S+3+64]=tr(se,de,pe),b[S+3+96]=tr(de,pe,we)}function nj(b,S){var F=b[S-1+0],K=b[S-1+32],Z=b[S-1+64],ne=b[S-1+96];b[S+0+0]=F+K+1>>1,b[S+2+0]=b[S+0+32]=K+Z+1>>1,b[S+2+32]=b[S+0+64]=Z+ne+1>>1,b[S+1+0]=tr(F,K,Z),b[S+3+0]=b[S+1+32]=tr(K,Z,ne),b[S+3+32]=b[S+1+64]=tr(Z,ne,ne),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=ne}function aj(b,S){var F=b[S-1+0],K=b[S-1+32],Z=b[S-1+64],ne=b[S-1+96],se=b[S-1-32],de=b[S+0-32],pe=b[S+1-32],we=b[S+2-32];b[S+0+0]=b[S+2+32]=F+se+1>>1,b[S+0+32]=b[S+2+64]=K+F+1>>1,b[S+0+64]=b[S+2+96]=Z+K+1>>1,b[S+0+96]=ne+Z+1>>1,b[S+3+0]=tr(de,pe,we),b[S+2+0]=tr(se,de,pe),b[S+1+0]=b[S+3+32]=tr(F,se,de),b[S+1+32]=b[S+3+64]=tr(K,F,se),b[S+1+64]=b[S+3+96]=tr(Z,K,F),b[S+1+96]=tr(ne,Z,K)}function ij(b,S){var F;for(F=0;8>F;++F)n(b,S+32*F,b,S-32,8)}function bm(b,S){var F;for(F=0;8>F;++F)a(b,S,b[S-1],8),S+=32}function tu(b,S,F){var K;for(K=0;8>K;++K)a(S,F+32*K,b,8)}function kc(b,S){var F,K=8;for(F=0;8>F;++F)K+=b[S+F-32]+b[S-1+32*F];tu(K>>4,b,S)}function sj(b,S){var F,K=4;for(F=0;8>F;++F)K+=b[S+F-32];tu(K>>3,b,S)}function ru(b,S){var F,K=4;for(F=0;8>F;++F)K+=b[S-1+32*F];tu(K>>3,b,S)}function wm(b,S){tu(128,b,S)}function Af(b,S,F){var K=b[S-F],Z=b[S+0],ne=3*(Z-K)+fj[1020+b[S-2*F]-b[S+F]],se=iv[112+(ne+4>>3)];b[S-F]=Ji[255+K+iv[112+(ne+3>>3)]],b[S+0]=Ji[255+Z-se]}function Gx(b,S,F,K){var Z=b[S+0],ne=b[S+F];return Ps[255+b[S-2*F]-b[S-F]]>K||Ps[255+ne-Z]>K}function Kx(b,S,F,K){return 4*Ps[255+b[S-F]-b[S+0]]+Ps[255+b[S-2*F]-b[S+F]]<=K}function Xx(b,S,F,K,Z){var ne=b[S-3*F],se=b[S-2*F],de=b[S-F],pe=b[S+0],we=b[S+F],Ce=b[S+2*F],Me=b[S+3*F];return 4*Ps[255+de-pe]+Ps[255+se-we]>K?0:Ps[255+b[S-4*F]-ne]<=Z&&Ps[255+ne-se]<=Z&&Ps[255+se-de]<=Z&&Ps[255+Me-Ce]<=Z&&Ps[255+Ce-we]<=Z&&Ps[255+we-pe]<=Z}function Yx(b,S,F,K){var Z=2*K+1;for(K=0;16>K;++K)Kx(b,S+K,F,Z)&&Af(b,S+K,F)}function Ho(b,S,F,K){var Z=2*K+1;for(K=0;16>K;++K)Kx(b,S+K*F,1,Z)&&Af(b,S+K*F,1)}function kl(b,S,F,K){var Z;for(Z=3;0<Z;--Z)Yx(b,S+=4*F,F,K)}function oj(b,S,F,K){var Z;for(Z=3;0<Z;--Z)Ho(b,S+=4,F,K)}function Ac(b,S,F,K,Z,ne,se,de){for(ne=2*ne+1;0<Z--;){if(Xx(b,S,F,ne,se))if(Gx(b,S,F,de))Af(b,S,F);else{var pe=b,we=S,Ce=F,Me=pe[we-2*Ce],$e=pe[we-Ce],De=pe[we+0],nt=pe[we+Ce],He=pe[we+2*Ce],Ee=27*(Ze=fj[1020+3*(De-$e)+fj[1020+Me-nt]])+63>>7,Te=18*Ze+63>>7,Ze=9*Ze+63>>7;pe[we-3*Ce]=Ji[255+pe[we-3*Ce]+Ze],pe[we-2*Ce]=Ji[255+Me+Te],pe[we-Ce]=Ji[255+$e+Ee],pe[we+0]=Ji[255+De-Ee],pe[we+Ce]=Ji[255+nt-Te],pe[we+2*Ce]=Ji[255+He-Ze]}S+=K}}function no(b,S,F,K,Z,ne,se,de){for(ne=2*ne+1;0<Z--;){if(Xx(b,S,F,ne,se))if(Gx(b,S,F,de))Af(b,S,F);else{var pe=b,we=S,Ce=F,Me=pe[we-Ce],$e=pe[we+0],De=pe[we+Ce],nt=iv[112+((He=3*($e-Me))+4>>3)],He=iv[112+(He+3>>3)],Ee=nt+1>>1;pe[we-2*Ce]=Ji[255+pe[we-2*Ce]+Ee],pe[we-Ce]=Ji[255+Me+He],pe[we+0]=Ji[255+$e-nt],pe[we+Ce]=Ji[255+De-Ee]}S+=K}}function jm(b,S,F,K,Z,ne){Ac(b,S,F,1,16,K,Z,ne)}function nu(b,S,F,K,Z,ne){Ac(b,S,1,F,16,K,Z,ne)}function lj(b,S,F,K,Z,ne){var se;for(se=3;0<se;--se)no(b,S+=4*F,F,1,16,K,Z,ne)}function Cf(b,S,F,K,Z,ne){var se;for(se=3;0<se;--se)no(b,S+=4,1,F,16,K,Z,ne)}function cj(b,S,F,K,Z,ne,se,de){Ac(b,S,Z,1,8,ne,se,de),Ac(F,K,Z,1,8,ne,se,de)}function Nm(b,S,F,K,Z,ne,se,de){Ac(b,S,1,Z,8,ne,se,de),Ac(F,K,1,Z,8,ne,se,de)}function Sm(b,S,F,K,Z,ne,se,de){no(b,S+4*Z,Z,1,8,ne,se,de),no(F,K+4*Z,Z,1,8,ne,se,de)}function Qx(b,S,F,K,Z,ne,se,de){no(b,S+4,1,Z,8,ne,se,de),no(F,K+4,1,Z,8,ne,se,de)}function Ef(){this.ba=new Ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _m(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function km(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jx(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new T}function dj(){this.xb=this.a=0,this.l=new Wo,this.ca=new Ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jx,this.ab=0,this.gc=o(4,km),this.Oc=0}function Tf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function au(b,S,F,K,Z,ne,se){for(b=b==null?0:b[S+0],S=0;S<se;++S)Z[ne+S]=b+F[K+S]&255,b=Z[ne+S]}function Am(b,S,F,K,Z,ne,se){var de;if(b==null)au(null,null,F,K,Z,ne,se);else for(de=0;de<se;++de)Z[ne+de]=b[S+de]+F[K+de]&255}function Cc(b,S,F,K,Z,ne,se){if(b==null)au(null,null,F,K,Z,ne,se);else{var de,pe=b[S+0],we=pe,Ce=pe;for(de=0;de<se;++de)we=Ce+(pe=b[S+de])-we,Ce=F[K+de]+(-256&we?0>we?0:255:we)&255,we=pe,Z[ne+de]=Ce}}function Cm(b,S,F,K){var Z=S.width,ne=S.o;if(t(b!=null&&S!=null),0>F||0>=K||F+K>ne)return null;if(!b.Cc){if(b.ga==null){var se;if(b.ga=new Tf,(se=b.ga==null)||(se=S.width*S.o,t(b.Gb.length==0),b.Gb=s(se),b.Uc=0,b.Gb==null?se=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,se=1),se=!se),!se){se=b.ga;var de=b.Fa,pe=b.P,we=b.qc,Ce=b.mb,Me=b.nb,$e=pe+1,De=we-1,nt=se.l;if(t(de!=null&&Ce!=null&&S!=null),Fc[0]=null,Fc[1]=au,Fc[2]=Am,Fc[3]=Cc,se.ca=Ce,se.tb=Me,se.c=S.width,se.i=S.height,t(0<se.c&&0<se.i),1>=we)S=0;else if(se.$a=de[pe+0]>>0&3,se.Z=de[pe+0]>>2&3,se.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||pe)S=0;else if(nt.put=oe,nt.ac=Mn,nt.bc=at,nt.ma=se,nt.width=S.width,nt.height=S.height,nt.Da=S.Da,nt.v=S.v,nt.va=S.va,nt.j=S.j,nt.o=S.o,se.$a)e:{t(se.$a==1),S=qe();t:for(;;){if(S==null){S=0;break e}if(t(se!=null),se.mc=S,S.c=se.c,S.i=se.i,S.l=se.l,S.l.ma=se,S.l.width=se.c,S.l.height=se.i,S.a=0,M(S.m,de,$e,De),!Ie(se.c,se.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&xe(S.s)?(se.ic=1,de=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(de),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(se.ic=0,S=Be(S,se.c)),!S))break t;S=1;break e}se.mc=null,S=0}else S=De>=se.c*se.i;se=!S}if(se)return null;b.ga.Lc!=1?b.Ga=0:K=ne-F}t(b.ga!=null),t(F+K<=ne);e:{if(S=(de=b.ga).c,ne=de.l.o,de.$a==0){if($e=b.rc,De=b.Vc,nt=b.Fa,pe=b.P+1+F*S,we=b.mb,Ce=b.nb+F*S,t(pe<=b.P+b.qc),de.Z!=0)for(t(Fc[de.Z]!=null),se=0;se<K;++se)Fc[de.Z]($e,De,nt,pe,we,Ce,S),$e=we,De=Ce,Ce+=S,pe+=S;else for(se=0;se<K;++se)n(we,Ce,nt,pe,S),$e=we,De=Ce,Ce+=S,pe+=S;b.rc=$e,b.Vc=De}else{if(t(de.mc!=null),S=F+K,t((se=de.mc)!=null),t(S<=se.i),se.C>=S)S=1;else if(de.ic||Fe(),de.ic){de=se.V,$e=se.Ba,De=se.c;var He=se.i,Ee=(nt=1,pe=se.$/De,we=se.$%De,Ce=se.m,Me=se.s,se.$),Te=De*He,Ze=De*S,dt=Me.wc,rt=Ee<Ze?En(Me,we,pe):null;t(Ee<=Te),t(S<=He),t(xe(Me));t:for(;;){for(;!Ce.h&&Ee<Ze;){if(we&dt||(rt=En(Me,we,pe)),t(rt!=null),P(Ce),256>(He=Gn(rt.G[0],rt.H[0],Ce)))de[$e+Ee]=He,++Ee,++we>=De&&(we=0,++pe<=S&&!(pe%16)&&je(se,pe));else{if(!(280>He)){nt=0;break t}He=Zt(He-256,Ce);var Lt,At=Gn(rt.G[4],rt.H[4],Ce);if(P(Ce),!(Ee>=(At=aa(De,At=Zt(At,Ce)))&&Te-Ee>=He)){nt=0;break t}for(Lt=0;Lt<He;++Lt)de[$e+Ee+Lt]=de[$e+Ee+Lt-At];for(Ee+=He,we+=He;we>=De;)we-=De,++pe<=S&&!(pe%16)&&je(se,pe);Ee<Ze&&we&dt&&(rt=En(Me,we,pe))}t(Ce.h==Y(Ce))}je(se,pe>S?S:pe);break t}!nt||Ce.h&&Ee<Te?(nt=0,se.a=Ce.h?5:3):se.$=Ee,S=nt}else S=Se(se,se.V,se.Ba,se.c,se.i,S,Ue);if(!S){K=0;break e}}F+K>=ne&&(b.Cc=1),K=1}if(!K)return null;if(b.Cc&&((K=b.ga)!=null&&(K.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+F*Z}function E(b,S,F,K,Z,ne){for(;0<Z--;){var se,de=b,pe=S+(F?1:0),we=b,Ce=S+(F?0:3);for(se=0;se<K;++se){var Me=we[Ce+4*se];Me!=255&&(Me*=32897,de[pe+4*se+0]=de[pe+4*se+0]*Me>>23,de[pe+4*se+1]=de[pe+4*se+1]*Me>>23,de[pe+4*se+2]=de[pe+4*se+2]*Me>>23)}S+=ne}}function ee(b,S,F,K,Z){for(;0<K--;){var ne;for(ne=0;ne<F;++ne){var se=b[S+2*ne+0],de=15&(we=b[S+2*ne+1]),pe=4369*de,we=(240&we|we>>4)*pe>>16;b[S+2*ne+0]=(240&se|se>>4)*pe>>16&240|(15&se|se<<4)*pe>>16>>4&15,b[S+2*ne+1]=240&we|de}S+=Z}}function _e(b,S,F,K,Z,ne,se,de){var pe,we,Ce=255;for(we=0;we<Z;++we){for(pe=0;pe<K;++pe){var Me=b[S+pe];ne[se+4*pe]=Me,Ce&=Me}S+=F,se+=de}return Ce!=255}function Ae(b,S,F,K,Z){var ne;for(ne=0;ne<Z;++ne)F[K+ne]=b[S+ne]>>8}function Fe(){Ts=E,an=ee,sn=_e,zn=Ae}function Ve(b,S,F){_[b]=function(K,Z,ne,se,de,pe,we,Ce,Me,$e,De,nt,He,Ee,Te,Ze,dt){var rt,Lt=dt-1>>1,At=de[pe+0]|we[Ce+0]<<16,Gt=Me[$e+0]|De[nt+0]<<16;t(K!=null);var Et=3*At+Gt+131074>>2;for(S(K[Z+0],255&Et,Et>>16,He,Ee),ne!=null&&(Et=3*Gt+At+131074>>2,S(ne[se+0],255&Et,Et>>16,Te,Ze)),rt=1;rt<=Lt;++rt){var Fr=de[pe+rt]|we[Ce+rt]<<16,Br=Me[$e+rt]|De[nt+rt]<<16,Cr=At+Fr+Gt+Br+524296,Sr=Cr+2*(Fr+Gt)>>3;Et=Sr+At>>1,At=(Cr=Cr+2*(At+Br)>>3)+Fr>>1,S(K[Z+2*rt-1],255&Et,Et>>16,He,Ee+(2*rt-1)*F),S(K[Z+2*rt-0],255&At,At>>16,He,Ee+(2*rt-0)*F),ne!=null&&(Et=Cr+Gt>>1,At=Sr+Br>>1,S(ne[se+2*rt-1],255&Et,Et>>16,Te,Ze+(2*rt-1)*F),S(ne[se+2*rt+0],255&At,At>>16,Te,Ze+(2*rt+0)*F)),At=Fr,Gt=Br}1&dt||(Et=3*At+Gt+131074>>2,S(K[Z+dt-1],255&Et,Et>>16,He,Ee+(dt-1)*F),ne!=null&&(Et=3*Gt+At+131074>>2,S(ne[se+dt-1],255&Et,Et>>16,Te,Ze+(dt-1)*F)))}}function ht(){Os[sv]=MW,Os[ov]=$A,Os[FA]=$W,Os[lv]=BA,Os[cv]=zA,Os[hj]=UA,Os[LA]=BW,Os[pj]=$A,Os[mj]=BA,Os[dv]=zA,Os[gj]=UA}function Ft(b){return b&~zW?0>b?0:255:b>>WA}function Wt(b,S){return Ft((19077*b>>8)+(26149*S>>8)-14234)}function sr(b,S,F){return Ft((19077*b>>8)-(6419*S>>8)-(13320*F>>8)+8708)}function nr(b,S){return Ft((19077*b>>8)+(33050*S>>8)-17685)}function kr(b,S,F,K,Z){K[Z+0]=Wt(b,F),K[Z+1]=sr(b,S,F),K[Z+2]=nr(b,S)}function Sn(b,S,F,K,Z){K[Z+0]=nr(b,S),K[Z+1]=sr(b,S,F),K[Z+2]=Wt(b,F)}function Tn(b,S,F,K,Z){var ne=sr(b,S,F);S=ne<<3&224|nr(b,S)>>3,K[Z+0]=248&Wt(b,F)|ne>>5,K[Z+1]=S}function Xn(b,S,F,K,Z){var ne=240&nr(b,S)|15;K[Z+0]=240&Wt(b,F)|sr(b,S,F)>>4,K[Z+1]=ne}function Va(b,S,F,K,Z){K[Z+0]=255,kr(b,S,F,K,Z+1)}function xa(b,S,F,K,Z){Sn(b,S,F,K,Z),K[Z+3]=255}function ao(b,S,F,K,Z){kr(b,S,F,K,Z),K[Z+3]=255}function Qi(b,S){return 0>b?0:b>S?S:b}function Vo(b,S,F){_[b]=function(K,Z,ne,se,de,pe,we,Ce,Me){for(var $e=Ce+(-2&Me)*F;Ce!=$e;)S(K[Z+0],ne[se+0],de[pe+0],we,Ce),S(K[Z+1],ne[se+0],de[pe+0],we,Ce+F),Z+=2,++se,++pe,Ce+=2*F;1&Me&&S(K[Z+0],ne[se+0],de[pe+0],we,Ce)}}function Zx(b,S,F){return F==0?b==0?S==0?6:5:S==0?4:0:F}function Em(b,S,F,K,Z){switch(b>>>30){case 3:El(S,F,K,Z,0);break;case 2:Bn(S,F,K,Z);break;case 1:pi(S,F,K,Z)}}function Tm(b,S){var F,K,Z=S.M,ne=S.Nb,se=b.oc,de=b.pc+40,pe=b.oc,we=b.pc+584,Ce=b.oc,Me=b.pc+600;for(F=0;16>F;++F)se[de+32*F-1]=129;for(F=0;8>F;++F)pe[we+32*F-1]=129,Ce[Me+32*F-1]=129;for(0<Z?se[de-1-32]=pe[we-1-32]=Ce[Me-1-32]=129:(a(se,de-32-1,127,21),a(pe,we-32-1,127,9),a(Ce,Me-32-1,127,9)),K=0;K<b.za;++K){var $e=S.ya[S.aa+K];if(0<K){for(F=-1;16>F;++F)n(se,de+32*F-4,se,de+32*F+12,4);for(F=-1;8>F;++F)n(pe,we+32*F-4,pe,we+32*F+4,4),n(Ce,Me+32*F-4,Ce,Me+32*F+4,4)}var De=b.Gd,nt=b.Hd+K,He=$e.ad,Ee=$e.Hc;if(0<Z&&(n(se,de-32,De[nt].y,0,16),n(pe,we-32,De[nt].f,0,8),n(Ce,Me-32,De[nt].ea,0,8)),$e.Za){var Te=se,Ze=de-32+16;for(0<Z&&(K>=b.za-1?a(Te,Ze,De[nt].y[15],4):n(Te,Ze,De[nt+1].y,0,4)),F=0;4>F;F++)Te[Ze+128+F]=Te[Ze+256+F]=Te[Ze+384+F]=Te[Ze+0+F];for(F=0;16>F;++F,Ee<<=2)Te=se,Ze=de+HA[F],io[$e.Ob[F]](Te,Ze),Em(Ee,He,16*+F,Te,Ze)}else if(Te=Zx(K,Z,$e.Ob[0]),Dc[Te](se,de),Ee!=0)for(F=0;16>F;++F,Ee<<=2)Em(Ee,He,16*+F,se,de+HA[F]);for(F=$e.Gc,Te=Zx(K,Z,$e.Dd),Pl[Te](pe,we),Pl[Te](Ce,Me),Ee=He,Te=pe,Ze=we,255&($e=F>>0)&&(170&$e?Lm(Ee,256,Te,Ze):Cs(Ee,256,Te,Ze)),$e=Ce,Ee=Me,255&(F>>=8)&&(170&F?Lm(He,320,$e,Ee):Cs(He,320,$e,Ee)),Z<b.Ub-1&&(n(De[nt].y,0,se,de+480,16),n(De[nt].f,0,pe,we+224,8),n(De[nt].ea,0,Ce,Me+224,8)),F=8*ne*b.B,De=b.sa,nt=b.ta+16*K+16*ne*b.R,He=b.qa,$e=b.ra+8*K+F,Ee=b.Ha,Te=b.Ia+8*K+F,F=0;16>F;++F)n(De,nt+F*b.R,se,de+32*F,16);for(F=0;8>F;++F)n(He,$e+F*b.B,pe,we+32*F,8),n(Ee,Te+F*b.B,Ce,Me+32*F,8)}}function Pf(b,S,F,K,Z,ne,se,de,pe){var we=[0],Ce=[0],Me=0,$e=pe!=null?pe.kd:0,De=pe??new _m;if(b==null||12>F)return 7;De.data=b,De.w=S,De.ha=F,S=[S],F=[F],De.gb=[De.gb];e:{var nt=S,He=F,Ee=De.gb;if(t(b!=null),t(He!=null),t(Ee!=null),Ee[0]=0,12<=He[0]&&!r(b,nt[0],"RIFF")){if(r(b,nt[0]+8,"WEBP")){Ee=3;break e}var Te=be(b,nt[0]+4);if(12>Te||4294967286<Te){Ee=3;break e}if($e&&Te>He[0]-8){Ee=7;break e}Ee[0]=Te,nt[0]+=12,He[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Te=0<De.gb[0],F=F[0];;){e:{var Ze=b;He=S,Ee=F;var dt=we,rt=Ce,Lt=nt=[0];if((Et=Me=[Me])[0]=0,8>Ee[0])Ee=7;else{if(!r(Ze,He[0],"VP8X")){if(be(Ze,He[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var At=be(Ze,He[0]+8),Gt=1+ae(Ze,He[0]+12);if(2147483648<=Gt*(Ze=1+ae(Ze,He[0]+15))){Ee=3;break e}Lt!=null&&(Lt[0]=At),dt!=null&&(dt[0]=Gt),rt!=null&&(rt[0]=Ze),He[0]+=18,Ee[0]-=18,Et[0]=1}Ee=0}}if(Me=Me[0],nt=nt[0],Ee!=0)return Ee;if(He=!!(2&nt),!Te&&Me)return 3;if(ne!=null&&(ne[0]=!!(16&nt)),se!=null&&(se[0]=He),de!=null&&(de[0]=0),se=we[0],nt=Ce[0],Me&&He&&pe==null){Ee=0;break}if(4>F){Ee=7;break}if(Te&&Me||!Te&&!Me&&!r(b,S[0],"ALPH")){F=[F],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{At=b,Ee=S,Te=F;var Et=De.gb;dt=De.na,rt=De.P,Lt=De.Sa,Gt=22,t(At!=null),t(Te!=null),Ze=Ee[0];var Fr=Te[0];for(t(dt!=null),t(Lt!=null),dt[0]=null,rt[0]=null,Lt[0]=0;;){if(Ee[0]=Ze,Te[0]=Fr,8>Fr){Ee=7;break e}var Br=be(At,Ze+4);if(4294967286<Br){Ee=3;break e}var Cr=8+Br+1&-2;if(Gt+=Cr,0<Et&&Gt>Et){Ee=3;break e}if(!r(At,Ze,"VP8 ")||!r(At,Ze,"VP8L")){Ee=0;break e}if(Fr[0]<Cr){Ee=7;break e}r(At,Ze,"ALPH")||(dt[0]=At,rt[0]=Ze+8,Lt[0]=Br),Ze+=Cr,Fr-=Cr}}if(F=F[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Ee!=0)break}F=[F],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Et=b,Ee=S,Te=F,dt=De.gb[0],rt=De.Ja,Lt=De.xa,At=Ee[0],Ze=!r(Et,At,"VP8 "),Gt=!r(Et,At,"VP8L"),t(Et!=null),t(Te!=null),t(rt!=null),t(Lt!=null),8>Te[0])Ee=7;else{if(Ze||Gt){if(Et=be(Et,At+4),12<=dt&&Et>dt-12){Ee=3;break e}if($e&&Et>Te[0]-8){Ee=7;break e}rt[0]=Et,Ee[0]+=8,Te[0]-=8,Lt[0]=Gt}else Lt[0]=5<=Te[0]&&Et[At+0]==47&&!(Et[At+4]>>5),rt[0]=Te[0];Ee=0}if(F=F[0],De.Ja=De.Ja[0],De.xa=De.xa[0],S=S[0],Ee!=0)break;if(4294967286<De.Ja)return 3;if(de==null||He||(de[0]=De.xa?2:1),se=[se],nt=[nt],De.xa){if(5>F){Ee=7;break}de=se,$e=nt,He=ne,b==null||5>F?b=0:5<=F&&b[S+0]==47&&!(b[S+4]>>5)?(Te=[0],Et=[0],dt=[0],M(rt=new O,b,S,F),Qe(rt,Te,Et,dt)?(de!=null&&(de[0]=Te[0]),$e!=null&&($e[0]=Et[0]),He!=null&&(He[0]=dt[0]),b=1):b=0):b=0}else{if(10>F){Ee=7;break}de=nt,b==null||10>F||!Rx(b,S+3,F-3)?b=0:($e=b[S+0]|b[S+1]<<8|b[S+2]<<16,He=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=De.Ja||!He||!b?b=0:(se&&(se[0]=He),de&&(de[0]=b),b=1))}if(!b||(se=se[0],nt=nt[0],Me&&(we[0]!=se||Ce[0]!=nt)))return 3;pe!=null&&(pe[0]=De,pe.offset=S-pe.w,t(4294967286>S-pe.w),t(pe.offset==pe.ha-F));break}return Ee==0||Ee==7&&Me&&pe==null?(ne!=null&&(ne[0]|=De.na!=null&&0<De.na.length),K!=null&&(K[0]=se),Z!=null&&(Z[0]=nt),0):Ee}function Pm(b,S,F){var K=S.width,Z=S.height,ne=0,se=0,de=K,pe=Z;if(S.Da=b!=null&&0<b.Da,S.Da&&(de=b.cd,pe=b.bd,ne=b.v,se=b.j,11>F||(ne&=-2,se&=-2),0>ne||0>se||0>=de||0>=pe||ne+de>K||se+pe>Z))return 0;if(S.v=ne,S.j=se,S.va=ne+de,S.o=se+pe,S.U=de,S.T=pe,S.da=b!=null&&0<b.da,S.da){if(!Oe(de,pe,F=[b.ib],ne=[b.hb]))return 0;S.ib=F[0],S.hb=ne[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*K/4&&S.hb<3*Z/4,S.Kb=0),1}function Om(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function Of(b,S,F,K){if(K==null||0>=b||0>=S)return 2;if(F!=null){if(F.Da){var Z=F.cd,ne=F.bd,se=-2&F.v,de=-2&F.j;if(0>se||0>de||0>=Z||0>=ne||se+Z>b||de+ne>S)return 2;b=Z,S=ne}if(F.da){if(!Oe(b,S,Z=[F.ib],ne=[F.hb]))return 2;b=Z[0],S=ne[0]}}K.width=b,K.height=S;e:{var pe=K.width,we=K.height;if(b=K.S,0>=pe||0>=we||!(b>=sv&&13>b))b=2;else{if(0>=K.Rd&&K.sd==null){se=ne=Z=S=0;var Ce=(de=pe*VA[b])*we;if(11>b||(ne=(we+1)/2*(S=(pe+1)/2),b==12&&(se=(Z=pe)*we)),(we=s(Ce+2*ne+se))==null){b=1;break e}K.sd=we,11>b?((pe=K.f.RGBA).eb=we,pe.fb=0,pe.A=de,pe.size=Ce):((pe=K.f.kb).y=we,pe.O=0,pe.fa=de,pe.Fd=Ce,pe.f=we,pe.N=0+Ce,pe.Ab=S,pe.Cd=ne,pe.ea=we,pe.W=0+Ce+ne,pe.Db=S,pe.Ed=ne,b==12&&(pe.F=we,pe.J=0+Ce+2*ne),pe.Tc=se,pe.lb=Z)}if(S=1,Z=K.S,ne=K.width,se=K.height,Z>=sv&&13>Z)if(11>Z)b=K.f.RGBA,S&=(de=Math.abs(b.A))*(se-1)+ne<=b.size,S&=de>=ne*VA[Z],S&=b.eb!=null;else{b=K.f.kb,de=(ne+1)/2,Ce=(se+1)/2,pe=Math.abs(b.fa),we=Math.abs(b.Ab);var Me=Math.abs(b.Db),$e=Math.abs(b.lb),De=$e*(se-1)+ne;S&=pe*(se-1)+ne<=b.Fd,S&=we*(Ce-1)+de<=b.Cd,S=(S&=Me*(Ce-1)+de<=b.Ed)&pe>=ne&we>=de&Me>=de,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,Z==12&&(S&=$e>=ne,S&=De<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||F!=null&&F.fd&&(b=Om(K)),b}var Pa=64,Df=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ff=24,Lf=32,Dm=8,Di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(b){return b},_.Predictor2=function(b,S,F){return S[F+0]},_.Predictor3=function(b,S,F){return S[F+1]},_.Predictor4=function(b,S,F){return S[F-1]},_.Predictor5=function(b,S,F){return ut(ut(b,S[F+1]),S[F+0])},_.Predictor6=function(b,S,F){return ut(b,S[F-1])},_.Predictor7=function(b,S,F){return ut(b,S[F+0])},_.Predictor8=function(b,S,F){return ut(S[F-1],S[F+0])},_.Predictor9=function(b,S,F){return ut(S[F+0],S[F+1])},_.Predictor10=function(b,S,F){return ut(ut(b,S[F-1]),ut(S[F+0],S[F+1]))},_.Predictor11=function(b,S,F){var K=S[F+0];return 0>=Dt(K>>24&255,b>>24&255,(S=S[F-1])>>24&255)+Dt(K>>16&255,b>>16&255,S>>16&255)+Dt(K>>8&255,b>>8&255,S>>8&255)+Dt(255&K,255&b,255&S)?K:b},_.Predictor12=function(b,S,F){var K=S[F+0];return(bt((b>>24&255)+(K>>24&255)-((S=S[F-1])>>24&255))<<24|bt((b>>16&255)+(K>>16&255)-(S>>16&255))<<16|bt((b>>8&255)+(K>>8&255)-(S>>8&255))<<8|bt((255&b)+(255&K)-(255&S)))>>>0},_.Predictor13=function(b,S,F){var K=S[F-1];return(Ct((b=ut(b,S[F+0]))>>24&255,K>>24&255)<<24|Ct(b>>16&255,K>>16&255)<<16|Ct(b>>8&255,K>>8&255)<<8|Ct(b>>0&255,K>>0&255))>>>0};var uj=_.PredictorAdd0;_.PredictorAdd1=ce,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Fm=_.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var ev,As=_.ColorIndexInverseTransform,If=_.MapARGB,tv=_.VP8LColorIndexInverseTransformAlpha,rv=_.MapAlpha,Ec=_.VP8LPredictorsAdd=[];Ec.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var iu,Fi,hi,Tc,Al,Cl,Rf,El,Bn,Lm,pi,Cs,Mf,nv,Im,su,ou,Pc,lu,$f,cu,Oc,Rm,Es,Ts,an,sn,zn,ia=s(511),Tl=s(2041),Mm=s(225),Bf=s(767),av=0,fj=Tl,iv=Mm,Ji=Bf,Ps=ia,sv=0,ov=1,FA=2,lv=3,cv=4,hj=5,LA=6,pj=7,mj=8,dv=9,gj=10,SW=[2,3,7],_W=[3,3,11],IA=[280,256,256,256,40],kW=[0,1,1,1,0],AW=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],CW=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],EW=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],TW=8,xj=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vj=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$m=null,PW=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],OW=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],RA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DW=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FW=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LW=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IW=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Dc=[],io=[],Pl=[],RW=1,MA=2,Fc=[],Os=[];Ve("UpsampleRgbLinePair",kr,3),Ve("UpsampleBgrLinePair",Sn,3),Ve("UpsampleRgbaLinePair",ao,4),Ve("UpsampleBgraLinePair",xa,4),Ve("UpsampleArgbLinePair",Va,4),Ve("UpsampleRgba4444LinePair",Xn,2),Ve("UpsampleRgb565LinePair",Tn,2);var MW=_.UpsampleRgbLinePair,$W=_.UpsampleBgrLinePair,$A=_.UpsampleRgbaLinePair,BA=_.UpsampleBgraLinePair,zA=_.UpsampleArgbLinePair,UA=_.UpsampleRgba4444LinePair,BW=_.UpsampleRgb565LinePair,uv=16,fv=1<<uv-1,Bm=-227,yj=482,WA=6,zW=(256<<WA)-1,qA=0,UW=s(256),WW=s(256),qW=s(256),HW=s(256),VW=s(yj-Bm),GW=s(yj-Bm);Vo("YuvToRgbRow",kr,3),Vo("YuvToBgrRow",Sn,3),Vo("YuvToRgbaRow",ao,4),Vo("YuvToBgraRow",xa,4),Vo("YuvToArgbRow",Va,4),Vo("YuvToRgba4444Row",Xn,2),Vo("YuvToRgb565Row",Tn,2);var HA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hv=[0,2,8],KW=[8,7,6,4,4,2,2,2,1,1,1,1],XW=1;this.WebPDecodeRGBA=function(b,S,F,K,Z){var ne=ov,se=new Ef,de=new Ar;se.ba=de,de.S=ne,de.width=[de.width],de.height=[de.height];var pe=de.width,we=de.height,Ce=new yn;if(Ce==null||b==null)var Me=2;else t(Ce!=null),Me=Pf(b,S,F,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Me!=0?pe=0:(pe!=null&&(pe[0]=Ce.width[0]),we!=null&&(we[0]=Ce.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],K!=null&&(K[0]=de.width),Z!=null&&(Z[0]=de.height);e:{if(K=new Wo,(Z=new _m).data=b,Z.w=S,Z.ha=F,Z.kd=1,S=[0],t(Z!=null),((b=Pf(Z.data,Z.w,Z.ha,null,null,null,S,null,Z))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(t(se!=null),K.data=Z.data,K.w=Z.w+Z.offset,K.ha=Z.ha-Z.offset,K.put=oe,K.ac=Mn,K.bc=at,K.ma=se,Z.xa){if((b=qe())==null){se=1;break e}if(function($e,De){var nt=[0],He=[0],Ee=[0];t:for(;;){if($e==null)return 0;if(De==null)return $e.a=2,0;if($e.l=De,$e.a=0,M($e.m,De.data,De.w,De.ha),!Qe($e.m,nt,He,Ee)){$e.a=3;break t}if($e.xb=MA,De.width=nt[0],De.height=He[0],!Ie(nt[0],He[0],1,$e,null))break t;return 1}return t($e.a!=0),0}(b,K)){if(K=(S=Of(K.width,K.height,se.Oa,se.ba))==0){t:{K=b;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((F=K.l)!=null),t((Z=F.ma)!=null),K.xb!=0){if(K.ca=Z.ba,K.tb=Z.tb,t(K.ca!=null),!Pm(Z.Oa,F,lv)){K.a=2;break r}if(!Be(K,F.width)||F.da)break r;if((F.da||xt(K.ca.S))&&Fe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Fe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!te(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Se(K,K.V,K.Ba,K.c,K.i,F.o,Ne))break r;Z.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(S=b.a)}else S=b.a}else{if((b=new Yi)==null){se=1;break e}if(b.Fa=Z.na,b.P=Z.P,b.qc=Z.Sa,Mx(b,K)){if((S=Of(K.width,K.height,se.Oa,se.ba))==0){if(b.Aa=0,F=se.Oa,t((Z=b)!=null),F!=null){if(0<(pe=0>(pe=F.Md)?0:100<pe?255:255*pe/100)){for(we=Ce=0;4>we;++we)12>(Me=Z.pb[we]).lc&&(Me.ia=pe*KW[0>Me.lc?0:Me.lc]>>3),Ce|=Me.ia;Ce&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=F.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Gw(b,K)||(S=b.a)}}else S=b.a}S==0&&se.Oa!=null&&se.Oa.fd&&(S=Om(se.ba))}se=S}ne=se!=0?null:11>ne?de.f.RGBA.eb:de.f.kb.y}else ne=null;return ne};var VA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,L){for(var z="",D=0;D<4;D++)z+=String.fromCharCode(_[L++]);return z}function u(_,L){return(_[L+0]<<0|_[L+1]<<8|_[L+2]<<16)>>>0}function f(_,L){return(_[L+0]<<0|_[L+1]<<8|_[L+2]<<16|_[L+3]<<24)>>>0}new c;var h=[0],p=[0],g=[],m=new c,v=e,x=function(_,L){var z={},D=0,T=!1,I=0,B=0;if(z.frames=[],!function(V,Y,q,P){for(var R=0;R<P;R++)if(V[Y+R]!=q.charCodeAt(R))return!0;return!1}(_,L,"RIFF",4)){for(f(_,L+=4),L+=8;L<_.length;){var J=d(_,L),U=f(_,L+=4);L+=4;var X=U+(1&U);switch(J){case"VP8 ":case"VP8L":z.frames[D]===void 0&&(z.frames[D]={}),(le=z.frames[D]).src_off=T?B:L-8,le.src_size=I+U+8,D++,T&&(T=!1,I=0,B=0);break;case"VP8X":(le=z.header={}).feature_flags=_[L];var M=L+4;le.canvas_width=1+u(_,M),M+=3,le.canvas_height=1+u(_,M),M+=3;break;case"ALPH":T=!0,I=X+8,B=L-8;break;case"ANIM":(le=z.header).bgcolor=f(_,L),M=L+4,le.loop_count=(ue=_)[(O=M)+0]<<0|ue[O+1]<<8,M+=2;break;case"ANMF":var Q,le;(le=z.frames[D]={}).offset_x=2*u(_,L),L+=3,le.offset_y=2*u(_,L),L+=3,le.width=1+u(_,L),L+=3,le.height=1+u(_,L),L+=3,le.duration=u(_,L),L+=3,Q=_[L++],le.dispose=1&Q,le.blend=Q>>1&1}J!="ANMF"&&(L+=X)}var ue,O;return z}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,w=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var j=w[0],C=m.WebPDecodeRGBA(v,j.src_off,j.src_size,p,h);j.rgba=C,j.imgwidth=p[0],j.imgheight=h[0];for(var k=0;k<p[0]*h[0]*4;k++)g[k]=C[k];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof $4=="function"},r=function(h,p,g,m){var v=4,x=o;switch(m){case e.image_compression.FAST:v=1,x=s;break;case e.image_compression.MEDIUM:v=6,x=l;break;case e.image_compression.SLOW:v=9,x=c}h=n(h,p,g,x);var y=$4(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,g,m){for(var v,x,y,w=h.length/p,N=new Uint8Array(h.length+w),j=u(),C=0;C<w;C+=1){if(y=C*p,v=h.subarray(y,y+p),m)N.set(m(v,g,x),y+C);else{for(var k,_=j.length,L=[];k<_;k+=1)L[k]=j[k](v,g,x);var z=f(L.concat());N.set(L[z],y+C)}x=v}return N},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},s=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var x=0;x<v;x+=1)g=h[x-p]||0,m[x+1]=h[x]-g+256&255;return m},o=function(h,p,g){var m,v=[],x=h.length;v[0]=2;for(var y=0;y<x;y+=1)m=g&&g[y]||0,v[y+1]=h[y]-m+256&255;return v},l=function(h,p,g){var m,v,x=[],y=h.length;x[0]=3;for(var w=0;w<y;w+=1)m=h[w-p]||0,v=g&&g[w]||0,x[w+1]=h[w]+256-(m+v>>>1)&255;return x},c=function(h,p,g){var m,v,x,y,w=[],N=h.length;w[0]=4;for(var j=0;j<N;j+=1)m=h[j-p]||0,v=g&&g[j]||0,x=g&&g[j-p]||0,y=d(m,v,x),w[j+1]=h[j]-y+256&255;return w},d=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),x=Math.abs(h+p-g-g);return m<=v&&m<=x?h:v<=x?p:g},u=function(){return[a,s,o,l,c]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,x,y,w,N,j,C,k,_,L,z,D,T,I,B,J=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new Nee(h)).imgData,x=y.bits,v=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){_=(k=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,z=new Uint8Array(_*y.colors),L=new Uint8Array(_);var X,M=y.pixelBitlength-y.bits;for(I=0,B=0;I<_;I++){for(T=k[I],X=0;X<M;)z[B++]=T>>>X&255,X+=y.bits;L[I]=T>>>X&255}}if(y.bits===16){_=(k=new Uint32Array(y.decodePixels().buffer)).length,z=new Uint8Array(_*(32/y.pixelBitlength)*y.colors),L=new Uint8Array(_*(32/y.pixelBitlength)),D=y.colors>1,I=0,B=0;for(var Q=0;I<_;)T=k[I++],z[B++]=T>>>0&255,D&&(z[B++]=T>>>16&255,T=k[I++],z[B++]=T>>>0&255),L[Q++]=T>>>16&255;x=8}m!==e.image_compression.NONE&&t()?(h=r(z,y.width*y.colors,y.colors,m),C=r(L,y.width,1,m)):(h=z,C=L,J=void 0)}if(y.colorType===3&&(v=this.color_spaces.INDEXED,j=y.palette,y.transparency.indexed)){var le=y.transparency.indexed,ue=0;for(I=0,_=le.length;I<_;++I)ue+=le[I];if((ue/=255)===_-1&&le.indexOf(0)!==-1)w=[le.indexOf(0)];else if(ue!==_){for(k=y.decodePixels(),L=new Uint8Array(k.length),I=0,_=k.length;I<_;I++)L[I]=le[k[I]];C=r(L,y.width,1)}}var O=function(V){var Y;switch(V){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(m);return J===this.decode.FLATE_DECODE&&(U="/Predictor "+O+" "),U+="/Colors "+N+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:g,data:h,index:p,filter:J,decodeParameters:U,transparency:w,palette:j,sMask:C,predictor:O,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:v}}}})(qt.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new See(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new AN(100).encode(d,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(qt.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){en.log("bit decode error:"+r)}},co.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},co.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,d=s>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},co.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=a*this.width*4+4*s;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},co.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},co.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new co(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new AN(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(qt.API),TE.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new TE(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},d=new AN(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(qt.API),qt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],f=n[d+1],h=n[d+2],p=n[d+3];s[l++]=u,s[l++]=f,s[l++]=h,o[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yf=qt.API,a1=Yf.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,m=l[0]||c,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(h=f&&qr(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,v.push((l[n]||m)/c+h)),g=n;return v},kE=Yf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Yf.processArabic&&(e=Yf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:a1.apply(this,arguments).reduce(function(s,o){return s+o},0)},AE=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},CE=function(e,t,r){r||(r={});var n,a,s,o,l,c,d,u=[],f=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=a1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),y=[];m.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(j,C){return(C&&j.length?`
`:"")+j})):y.push(N[0])}),m=y,c=kE.apply(this,[x,r])}for(s=0,o=m.length;s<o;s++){var w=0;if(n=m[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(g=(a=a1.apply(this,[n,r])).reduce(function(N,j){return N+j},0))>t||w){if(g>t){for(l=AE.apply(this,[n,a,t-(h+p),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,j){return N+j},0)}else u=[n];f.push(u),h=g+c,p=v}else u.push(n),h+=p+g,p=v}return d=c?function(N,j){return(j?x:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(d)},Yf.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(CE.apply(this,[n[l],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,g,m,v=["{"];for(var x in f){if(h=f[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=s(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),m="-"):(g=s(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(qr(h)!=="object")throw new Error("Don't know what to do with value type "+qr(h)+".");g=o(h)}v.push(p+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},x=1,y=v,w=[],N="",j="",C=f.length-1,k=1;k<C;k+=1)(m=f[k])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([y,g]),y={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=y,g=void 0,y=p[0]):m=="-"?x=-1:g===void 0?r.hasOwnProperty(m)?(N+=r[m],g=parseInt(N,16)*x,x=1,N=""):N+=m:r.hasOwnProperty(m)?(j+=r[m],y[g]=parseInt(j,16)*x,x=1,g=void 0,j=""):j+=m;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(qt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(P0(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(qt),function(e){function t(){return(Yt.canvg?Promise.resolve(Yt.canvg):F4(()=>import("./index.es-B-bH1M3R.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}qt.API.addSvgAsImage=function(r,n,a,s,o,l,c,d){if(isNaN(n)||isNaN(a))throw en.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw en.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,s,o,c,d)})}}(),qt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},qt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,f=0;function h(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(qr(e)==="object"){for(a in e)if(s=e[a],h(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(u=0;u<s[d].length;u+=1)typeof s[d][u]!="number"&&(n=!1);n===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(qt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,h=s.length;f<h;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(s){var o,l,c,d,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(p,g){return p-g})).length;f<h;f++)o=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=d();u({data:p,addLength1:!0,objectId:m}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ih(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+ih(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+ih(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=d();u({data:h,addLength1:!0,objectId:g}),c("endobj");var m=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ih(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+ih(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,d=s.y,u=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,v="",x=0,y="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(y=l,m=p,Array.isArray(l)&&(y=l[0]),x=0;x<y.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(o=g[m].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),o||y[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=y[x]:v+="";var N="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?N=h(v,m).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(N=r(v,g[m])),f.isHex=!0,{text:N,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])}(qt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(qt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,d,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var N=function(D){var T=D.charCodeAt(),I=T>>8,B=m[I];return B!==void 0?f[256*B+(255&T)]:I===252||I===253?"AL":x.test(I)?"L":I===8?"R":"N"},j=function(D){for(var T,I=0;I<D.length;I++){if((T=N(D.charAt(I)))==="L")return!1;if(T==="R")return!0}return!1},C=function(D,T,I,B){var J,U,X,M,Q=T[B];switch(Q){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Q="AN");break;case"AL":y=!0,Q="R";break;case"WS":Q="N";break;case"CS":B<1||B+1>=T.length||(J=I[B-1])!=="EN"&&J!=="AN"||(U=T[B+1])!=="EN"&&U!=="AN"?Q="N":y&&(U="AN"),Q=U===J?U:"N";break;case"ES":Q=(J=B>0?I[B-1]:"B")==="EN"&&B+1<T.length&&T[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&I[B-1]==="EN"){Q="EN";break}if(y){Q="N";break}for(X=B+1,M=T.length;X<M&&T[X]==="ET";)X++;Q=X<M&&T[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(M=T.length,X=B+1;X<M&&T[X]==="NSM";)X++;if(X<M){var le=D[B],ue=le>=1425&&le<=2303||le===64286;if(J=T[X],ue&&(J==="R"||J==="AL")){Q="R";break}}}Q=B<1||(J=T[B-1])==="B"?"N":I[B-1];break;case"B":y=!1,a=!0,Q=w;break;case"S":s=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Q="N"}return Q},k=function(D,T,I){var B=D.split("");return I&&_(B,I,{hiLevel:w}),B.reverse(),T&&T.reverse(),B.join("")},_=function(D,T,I){var B,J,U,X,M,Q=-1,le=D.length,ue=0,O=[],V=w?p:h,Y=[];for(y=!1,a=!1,s=!1,J=0;J<le;J++)Y[J]=N(D[J]);for(U=0;U<le;U++){if(M=ue,O[U]=C(D,Y,O,U),B=240&(ue=V[M][g[O[U]]]),ue&=15,T[U]=X=V[ue][5],B>0)if(B===16){for(J=Q;J<U;J++)T[J]=1;Q=-1}else Q=-1;if(V[ue][6])Q===-1&&(Q=U);else if(Q>-1){for(J=Q;J<U;J++)T[J]=X;Q=-1}Y[U]==="B"&&(T[U]=0),I.hiLevel|=X}s&&function(q,P,R){for(var G=0;G<R;G++)if(q[G]==="S"){P[G]=w;for(var W=G-1;W>=0&&q[W]==="WS";W--)P[W]=w}}(Y,T,le)},L=function(D,T,I,B,J){if(!(J.hiLevel<D)){if(D===1&&w===1&&!a)return T.reverse(),void(I&&I.reverse());for(var U,X,M,Q,le=T.length,ue=0;ue<le;){if(B[ue]>=D){for(M=ue+1;M<le&&B[M]>=D;)M++;for(Q=ue,X=M-1;Q<X;Q++,X--)U=T[Q],T[Q]=T[X],T[X]=U,I&&(U=I[Q],I[Q]=I[X],I[X]=U);ue=M}ue++}}},z=function(D,T,I){var B=D.split(""),J={hiLevel:w};return I||(I=[]),_(B,I,J),function(U,X,M){if(M.hiLevel!==0&&u)for(var Q,le=0;le<U.length;le++)X[le]===1&&(Q=v.indexOf(U[le]))>=0&&(U[le]=v[Q+1])}(B,I,J),L(2,B,T,I,J),L(1,B,T,I,J),B.join("")};return this.__bidiEngine__.doBidiReorder=function(D,T,I){if(function(J,U){if(U)for(var X=0;X<J.length;X++)U[X]=X;l===void 0&&(l=j(J)),d===void 0&&(d=j(J))}(D,T),o||!c||d)if(o&&c&&l^d)w=l?1:0,D=k(D,T,I);else if(!o&&c&&d)w=l?1:0,D=z(D,T,I),D=k(D,T);else if(!o||l||c||d){if(o&&!c&&l^d)D=k(D,T),l?(w=0,D=z(D,T,I)):(w=1,D=z(D,T,I),D=k(D,T));else if(o&&l&&!c&&d)w=1,D=z(D,T,I),D=k(D,T);else if(!o&&!c&&l^d){var B=u;l?(w=1,D=z(D,T,I),w=0,u=!1,D=z(D,T,I),u=B):(w=0,D=z(D,T,I),D=k(D,T),w=1,u=!1,D=z(D,T,I),u=B,D=k(D,T))}}else w=0,D=z(D,T,I);else w=l?1:0,D=z(D,T,I);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,d=D.isOutputRtl,u=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(qt),qt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Md(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new $ee(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _ee(this.contents),this.head=new Aee(this),this.name=new Oee(this),this.cmap=new CM(this),this.toUnicode={},this.hhea=new Cee(this),this.maxp=new Dee(this),this.hmtx=new Fee(this),this.post=new Tee(this),this.os2=new Eee(this),this.loca=new Mee(this),this.glyf=new Lee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Bo,Md=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),_ee=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,d,u,f,h,p,g,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),u=16*p-f,(a=new Md).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(u),s=16*p,d=a.pos+s,l=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(d),a.writeInt(h.length),g=g.concat(h),m==="head"&&(l=d),d+=h.length;d%4;)g.push(0),d++;return a.write(g),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=EM.call(r);r.length%4;)r.push(0);for(s=new Md(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),kee={}.hasOwnProperty,wl=function(e,t){for(var r in t)kee.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Bo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Aee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Md).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),PE=function(){function e(t,r){var n,a,s,o,l,c,d,u,f,h,p,g,m,v,x,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,s=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(t.readUInt16());return j}(),t.pos+=2,m=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(t.readUInt16());return j}(),d=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(t.readUInt16());return j}(),u=function(){var N,j;for(j=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)j.push(t.readUInt16());return j}(),a=(this.length-t.pos+this.offset)/2,l=function(){var N,j;for(j=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)j.push(t.readUInt16());return j}(),c=x=0,w=s.length;x<w;c=++x)for(v=s[c],n=y=g=m[c];g<=v?y<=v:y>=v;n=g<=v?++y:--y)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-g)-(h-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,s,o,l,c,d,u,f,h,p,g,m,v,x,y,w,N,j,C,k,_,L,z,D,T,I,B,J,U,X,M,Q,le,ue,O,V,Y,q,P,R,G,W,H,me,ae;switch(B=new Md,o=Object.keys(t).sort(function(be,te){return be-te}),r){case"macroman":for(m=0,v=function(){var be=[];for(g=0;g<256;++g)be.push(0);return be}(),y={0:0},s={},J=0,Q=o.length;J<Q;J++)y[W=t[a=o[J]]]==null&&(y[W]=++m),s[a]={old:t[a],new:y[t[a]]},v[a]=y[t[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(v),{charMap:s,subtable:B.data,maxGlyphID:m+1};case"unicode":for(T=[],f=[],w=0,y={},n={},x=d=null,U=0,le=o.length;U<le;U++)y[j=t[a=o[U]]]==null&&(y[j]=++w),n[a]={old:j,new:y[j]},l=y[j]-a,x!=null&&l===d||(x&&f.push(x),T.push(a),d=l),x=a;for(x&&f.push(x),f.push(65535),T.push(65535),z=2*(L=T.length),_=2*Math.pow(Math.log(L)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,k=2*L-_,c=[],C=[],p=[],g=X=0,ue=T.length;X<ue;g=++X){if(D=T[g],u=f[g],D===65535){c.push(0),C.push(0);break}if(D-(I=n[D].new)>=32768)for(c.push(0),C.push(2*(p.length+L-g)),a=M=D;D<=u?M<=u:M>=u;a=D<=u?++M:--M)p.push(n[a].new);else c.push(I-D),C.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*L+2*p.length),B.writeUInt16(0),B.writeUInt16(z),B.writeUInt16(_),B.writeUInt16(h),B.writeUInt16(k),R=0,O=f.length;R<O;R++)a=f[R],B.writeUInt16(a);for(B.writeUInt16(0),G=0,V=T.length;G<V;G++)a=T[G],B.writeUInt16(a);for(H=0,Y=c.length;H<Y;H++)l=c[H],B.writeUInt16(l);for(me=0,q=C.length;me<q;me++)N=C[me],B.writeUInt16(N);for(ae=0,P=p.length;ae<P;ae++)m=p[ae],B.writeUInt16(m);return{charMap:n,subtable:B.data,maxGlyphID:w+1}}},e}(),CM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new PE(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=PE.encode(r,n),(s=new Md).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),Cee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Eee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Tee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),Pee=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Oee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,o,l,c,d,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=f=0,h=a.length;f<h;o=++f)s=a[o],r.pos=s.offset,u=r.readString(s.length),l=new Pee(u,s),d[p=s.nameID]==null&&(d[p]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),Dee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Fee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,o,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)o=h[u],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)d.push(this.widths.push(a));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),EM=[].slice,Lee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,o,l,c,d,u,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Md(n.read(s))).readShort(),u=c.readShort(),h=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new Ree(c,u,h,d,f):new Iee(c,l,u,h,d,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)s=r[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),Iee=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Ree=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Md(EM.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Mee=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,Bo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<a.length;++l)if(a[l]=s,o<n.length&&n[o]==l){++o,a[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),$ee=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,d,u,f,h,p,g,m,v,x;for(a in n=CM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},x=n.charMap)p[(c=x[a]).old]=c.new;for(g in h=n.maxGlyphID,o)g in p||(p[g]=h++);return u=function(y){var w,N;for(w in N={},y)N[y[w]]=w;return N}(p),f=Object.keys(u).sort(function(y,w){return y-w}),m=function(){var y,w,N;for(N=[],y=0,w=f.length;y<w;y++)l=f[y],N.push(u[l]);return N}(),s=this.font.glyf.encode(o,m,p),d=this.font.loca.encode(s.offsets,m),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();qt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Uy={};Uy.version="0.18.5";var TM=1252,Bee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],PM=function(e){Bee.indexOf(e)!=-1&&(TM=e)};function zee(){PM(1252)}var yg=function(e){PM(e)};function Uee(){yg(1200),zee()}var i1=function(t){return String.fromCharCode(t)},OE=function(t){return String.fromCharCode(t)},ju,fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bg(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),s=r>>2,n=e.charCodeAt(d++),o=(r&3)<<4|n>>4,a=e.charCodeAt(d++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=fd.charAt(s)+fd.charAt(o)+fd.charAt(l)+fd.charAt(c);return t}function dc(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)s=fd.indexOf(e.charAt(d++)),o=fd.indexOf(e.charAt(d++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=fd.indexOf(e.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=fd.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Lr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),jc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ef(e){return Lr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function DE(e){return Lr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var _o=function(t){return Lr?jc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function H2(e){if(typeof ArrayBuffer>"u")return _o(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function wx(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Wee(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ma=Lr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:jc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function qee(e){for(var t=[],r=0,n=e.length+250,a=ef(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=ef(65535),n=65530)}return t.push(a.slice(0,r)),Ma(t)}var O0=/\u0000/g,s1=/[\u0001-\u0006]/g;function Bh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ao(e,t){var r=""+e;return r.length>=t?r:Ln("0",t-r.length)+r}function tk(e,t){var r=""+e;return r.length>=t?r:Ln(" ",t-r.length)+r}function Wy(e,t){var r=""+e;return r.length>=t?r:r+Ln(" ",t-r.length)}function Hee(e,t){var r=""+Math.round(e);return r.length>=t?r:Ln("0",t-r.length)+r}function Vee(e,t){var r=""+e;return r.length>=t?r:Ln("0",t-r.length)+r}var FE=Math.pow(2,32);function Qf(e,t){if(e>FE||e<-FE)return Hee(e,t);var r=Math.round(e);return Vee(r,t)}function qy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var LE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],CN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gee(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Rn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},IE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Hy(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+s,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=s):(u=d,l=o)),!r)return[0,n*l,u];var h=Math.floor(n*l/u);return[h,n*l-h*u,u]}function o1(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=tte(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var OM=new Date(1899,11,31,0,0,0),Xee=OM.getTime(),Yee=new Date(1900,2,1,0,0,0);function DM(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Yee&&(r+=24*60*60*1e3),(r-(Xee+(e.getTimezoneOffset()-OM.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function rk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Qee(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Jee(e){var t=e<0?12:11,r=rk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Zee(e){var t=rk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ete(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Jee(e):t===10?r=e.toFixed(10).substr(0,12):r=Zee(e),rk(Qee(r.toUpperCase()))}function V4(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ete(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return $d(14,DM(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function tte(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function rte(e,t,r,n){var a="",s=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return CN[r.m-1][1];case 5:return CN[r.m-1][0];default:return CN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return LE[r.q][0];default:return LE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ao(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=Ao(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Ao(c,d):"";return u}function hd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var FM=/%/g;function nte(e,t,r){var n=t.replace(FM,""),a=t.length-n.length;return Jl(e,n,r*Math.pow(10,2*a))+Ln("%",a)}function ate(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Jl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function LM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var IM=/# (\?+)( ?)\/( ?)(\d+)/;function ite(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Ln(" ",e[1].length+1+e[4].length):tk(o,e[1].length)+e[2]+"/"+e[3]+Ao(l,e[4].length))}function ste(e,t,r){return r+(t===0?"":""+t)+Ln(" ",e[1].length+2+e[4].length)}var RM=/^#*0*\.([0#]+)/,MM=/\).*[0#]/,$M=/\(###\) ###\\?-####/;function bi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function RE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ME(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ote(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function lte(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Rs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(MM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rs("n",n,r):"("+Rs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ate(e,t,r);if(t.indexOf("%")!==-1)return nte(e,t,r);if(t.indexOf("E")!==-1)return LM(t,r);if(t.charCodeAt(0)===36)return"$"+Rs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Qf(c,t.length);if(t.match(/^[#?]+$/))return a=Qf(r,0),a==="0"&&(a=""),a.length>t.length?a:bi(t.substr(0,t.length-a.length))+a;if(s=t.match(IM))return ite(s,c,d);if(t.match(/^#+0+$/))return d+Qf(c,t.length-t.indexOf("0"));if(s=t.match(RM))return a=RE(r,s[1].length).replace(/^([^\.]+)$/,"$1."+bi(s[1])).replace(/\.$/,"."+bi(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Ln("0",bi(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+RE(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+hd(Qf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rs(e,t,-r):hd(""+(Math.floor(r)+ote(r,s[1].length)))+"."+Ao(ME(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Rs(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Bh(Rs(e,t.replace(/[\\-]/g,""),r)),o=0,Bh(Bh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match($M))return a=Rs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Hy(c,Math.pow(10,o)-1,!1),a=""+d,u=Jl("n",s[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=Wy(l[2],o),u.length<s[4].length&&(u=bi(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Hy(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?tk(l[1],o)+s[2]+"/"+s[3]+Wy(l[2],o):Ln(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Qf(r,0),t.length<=a.length?a:bi(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return bi(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=ME(r,s[1].length),r<0?"-"+Rs(e,t,-r):hd(lte(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ao(0,3-g.length):"")+g})+"."+Ao(o,s[1].length);switch(t){case"###,##0.00":return Rs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=hd(Qf(c,0));return p!=="0"?d+p:"";case"###,###.00":return Rs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Rs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function cte(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Jl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function dte(e,t,r){var n=t.replace(FM,""),a=t.length-n.length;return Jl(e,n,r*Math.pow(10,2*a))+Ln("%",a)}function BM(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+BM(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Qo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(MM)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Qo("n",n,r):"("+Qo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return cte(e,t,r);if(t.indexOf("%")!==-1)return dte(e,t,r);if(t.indexOf("E")!==-1)return BM(t,r);if(t.charCodeAt(0)===36)return"$"+Qo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Ao(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:bi(t.substr(0,t.length-a.length))+a;if(s=t.match(IM))return ste(s,c,d);if(t.match(/^#+0+$/))return d+Ao(c,t.length-t.indexOf("0"));if(s=t.match(RM))return a=(""+r).replace(/^([^\.]+)$/,"$1."+bi(s[1])).replace(/\.$/,"."+bi(s[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Ln("0",bi(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+hd(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Qo(e,t,-r):hd(""+r)+"."+Ln("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Qo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Bh(Qo(e,t.replace(/[\\-]/g,""),r)),o=0,Bh(Bh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match($M))return a=Qo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Hy(c,Math.pow(10,o)-1,!1),a=""+d,u=Jl("n",s[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=Wy(l[2],o),u.length<s[4].length&&(u=bi(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Hy(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?tk(l[1],o)+s[2]+"/"+s[3]+Wy(l[2],o):Ln(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:bi(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return bi(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Qo(e,t,-r):hd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ao(0,3-g.length):"")+g})+"."+Ao(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=hd(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return Qo(e,t.slice(0,t.lastIndexOf(".")),r)+bi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Jl(e,t,r){return(r|0)===r?Qo(e,t,r):Rs(e,t,r)}function ute(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var zM=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function UM(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":qy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(zM))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function fte(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",d,u,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!qy(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=o1(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=o1(t,r),d==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"上":var m={t:l,v:l};if(d==null&&(d=o1(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(m.v=d.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(m.v=d.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(d!=null&&(m.v=d.H>=12?"下午":"上午"),m.t="T",o+=5,h="h"):(m.t="t",++o),d==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(zM)){if(d==null&&(d=o1(t,r),d==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",UM(e)||(a[a.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,x=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",N;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=rte(a[o].t.charCodeAt(0),a[o].v,d,x),a[o].t="t";break;case"n":case"?":for(N=o+1;a[N]!=null&&((l=a[N].t)==="?"||l==="D"||(l===" "||l==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[o].v+=a[N].v,a[N]={v:"",t:";"},++N;w+=a[o].v,o=N-1;break;case"G":a[o].t="t",a[o].v=V4(t,r);break}var j="",C,k;if(w.length>0){w.charCodeAt(0)==40?(C=t<0&&w.charCodeAt(0)===45?-t:t,k=Jl("n",w,C)):(C=t<0&&n>1?-t:t,k=Jl("n",w,C),C<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),N=k.length-1;var _=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){_=o;break}var L=a.length;if(_===a.length&&k.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(N>=a[o].v.length-1?(N-=a[o].v.length,a[o].v=k.substr(N+1,a[o].v.length)):N<0?a[o].v="":(a[o].v=k.substr(0,N+1),N=-1),a[o].t="t",L=o);N>=0&&L<a.length&&(a[L].v=k.substr(0,N+1)+a[L].v)}else if(_!==a.length&&k.indexOf("E")===-1){for(N=k.indexOf(".")-1,o=_;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===_?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(u+1);u>=0;--u)N>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(j=k.charAt(N--)+j);a[o].v=j,a[o].t="t",L=o}for(N>=0&&L<a.length&&(a[L].v=k.substr(0,N+1)+a[L].v),N=k.indexOf(".")+1,o=_;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==_)){for(u=a[o].v.indexOf(".")>-1&&o===_?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,u);u<a[o].v.length;++u)N<k.length&&(j+=k.charAt(N++));a[o].v=j,a[o].t="t",L=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Jl(a[o].t,a[o].v,C),a[o].t="t");var z="";for(o=0;o!==a.length;++o)a[o]!=null&&(z+=a[o].v);return z}var $E=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function BE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function hte(e,t){var r=ute(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match($E),l=r[1].match($E);return BE(t,o)?[n,r[0]]:BE(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function $d(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Rn)[e],n==null&&(n=r.table&&r.table[IE[e]]||Rn[IE[e]]),n==null&&(n=Kee[e]||"General");break}if(qy(n,0))return V4(t,r);t instanceof Date&&(t=DM(t,r.date1904));var a=hte(n,t);if(qy(a[1]))return V4(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return fte(a[1],t,r,a[0])}function WM(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Rn[r]==null){t<0&&(t=r);continue}if(Rn[r]==e){t=r;break}}t<0&&(t=391)}return Rn[t]=e,t}function V2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&WM(e[t],t)}function G2(){Rn=Gee()}var qM=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pte(e){var t=typeof e=="number"?Rn[e]:e;return t=t.replace(qM,"(\\d+)"),new RegExp("^"+t+"$")}function mte(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(qM)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&a==-1&&s==-1?u:d+"T"+u}var gte=function(){var e={};e.version="1.2.0";function t(){for(var k=0,_=new Array(256),L=0;L!=256;++L)k=L,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,_[L]=k;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(k){var _=0,L=0,z=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)D[z]=k[z];for(z=0;z!=256;++z)for(L=k[z],_=256+z;_<4096;_+=256)L=D[_]=L>>>8^k[L&255];var T=[];for(z=1;z!=16;++z)T[z-1]=typeof Int32Array<"u"?D.subarray(z*256,z*256+256):D.slice(z*256,z*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],x=a[12],y=a[13],w=a[14];function N(k,_){for(var L=_^-1,z=0,D=k.length;z<D;)L=L>>>8^r[(L^k.charCodeAt(z++))&255];return~L}function j(k,_){for(var L=_^-1,z=k.length-15,D=0;D<z;)L=w[k[D++]^L&255]^y[k[D++]^L>>8&255]^x[k[D++]^L>>16&255]^v[k[D++]^L>>>24]^m[k[D++]]^g[k[D++]]^p[k[D++]]^h[k[D++]]^f[k[D++]]^u[k[D++]]^d[k[D++]]^c[k[D++]]^l[k[D++]]^o[k[D++]]^s[k[D++]]^r[k[D++]];for(z+=15;D<z;)L=L>>>8^r[(L^k[D++])&255];return~L}function C(k,_){for(var L=_^-1,z=0,D=k.length,T=0,I=0;z<D;)T=k.charCodeAt(z++),T<128?L=L>>>8^r[(L^T)&255]:T<2048?(L=L>>>8^r[(L^(192|T>>6&31))&255],L=L>>>8^r[(L^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,I=k.charCodeAt(z++)&1023,L=L>>>8^r[(L^(240|T>>8&7))&255],L=L>>>8^r[(L^(128|T>>2&63))&255],L=L>>>8^r[(L^(128|I>>6&15|(T&3)<<4))&255],L=L>>>8^r[(L^(128|I&63))&255]):(L=L>>>8^r[(L^(224|T>>12&15))&255],L=L>>>8^r[(L^(128|T>>6&63))&255],L=L>>>8^r[(L^(128|T&63))&255]);return~L}return e.table=r,e.bstr=N,e.buf=j,e.str=C,e}(),Qr=function(){var t={};t.version="1.2.1";function r(ie,Ne){for(var xe=ie.split("/"),ye=Ne.split("/"),je=0,Se=0,Re=Math.min(xe.length,ye.length);je<Re;++je){if(Se=xe[je].length-ye[je].length)return Se;if(xe[je]!=ye[je])return xe[je]<ye[je]?-1:1}return xe.length-ye.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var Ne=ie.lastIndexOf("/");return Ne===-1?ie:ie.slice(0,Ne+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var Ne=ie.lastIndexOf("/");return Ne===-1?ie:ie.slice(Ne+1)}function s(ie,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var xe=Ne.getHours();xe=xe<<6|Ne.getMinutes(),xe=xe<<5|Ne.getSeconds()>>>1,ie.write_shift(2,xe);var ye=Ne.getFullYear()-1980;ye=ye<<4|Ne.getMonth()+1,ye=ye<<5|Ne.getDate(),ie.write_shift(2,ye)}function o(ie){var Ne=ie.read_shift(2)&65535,xe=ie.read_shift(2)&65535,ye=new Date,je=xe&31;xe>>>=5;var Se=xe&15;xe>>>=4,ye.setMilliseconds(0),ye.setFullYear(xe+1980),ye.setMonth(Se-1),ye.setDate(je);var Re=Ne&31;Ne>>>=5;var qe=Ne&63;return Ne>>>=6,ye.setHours(Ne),ye.setMinutes(qe),ye.setSeconds(Re<<1),ye}function l(ie){ls(ie,0);for(var Ne={},xe=0;ie.l<=ie.length-4;){var ye=ie.read_shift(2),je=ie.read_shift(2),Se=ie.l+je,Re={};switch(ye){case 21589:xe=ie.read_shift(1),xe&1&&(Re.mtime=ie.read_shift(4)),je>5&&(xe&2&&(Re.atime=ie.read_shift(4)),xe&4&&(Re.ctime=ie.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}ie.l=Se,Ne[ye]=Re}return Ne}var c;function d(){return c||(c={})}function u(ie,Ne){if(ie[0]==80&&ie[1]==75)return It(ie,Ne);if((ie[0]|32)==109&&(ie[1]|32)==105)return at(ie,Ne);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var xe=3,ye=512,je=0,Se=0,Re=0,qe=0,Ie=0,Be=[],Ue=ie.slice(0,512);ls(Ue,0);var pt=f(Ue);switch(xe=pt[0],xe){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(pt[1]==0)return It(ie,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+xe)}ye!==512&&(Ue=ie.slice(0,ye),ls(Ue,28));var jt=ie.slice(0,ye);h(Ue,xe);var Ot=Ue.read_shift(4,"i");if(xe===3&&Ot!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ot);Ue.l+=4,Re=Ue.read_shift(4,"i"),Ue.l+=4,Ue.chk("00100000","Mini Stream Cutoff Size: "),qe=Ue.read_shift(4,"i"),je=Ue.read_shift(4,"i"),Ie=Ue.read_shift(4,"i"),Se=Ue.read_shift(4,"i");for(var yt=-1,Tt=0;Tt<109&&(yt=Ue.read_shift(4,"i"),!(yt<0));++Tt)Be[Tt]=yt;var er=p(ie,ye);v(Ie,Se,er,ye,Be);var Ir=y(er,Re,Be,ye);Ir[Re].name="!Directory",je>0&&qe!==I&&(Ir[qe].name="!MiniFAT"),Ir[Be[0]].name="!FAT",Ir.fat_addrs=Be,Ir.ssz=ye;var Xr={},Kn=[],eo=[],Sl=[];w(Re,Ir,er,Kn,je,Xr,eo,qe),g(eo,Sl,Kn),Kn.shift();var Uo={FileIndex:eo,FullPaths:Sl};return Ne&&Ne.raw&&(Uo.raw={header:jt,sectors:er}),Uo}function f(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(B,"Header Signature: "),ie.l+=16;var Ne=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),Ne]}function h(ie,Ne){var xe=9;switch(ie.l+=2,xe=ie.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+xe);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+xe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+xe)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function p(ie,Ne){for(var xe=Math.ceil(ie.length/Ne)-1,ye=[],je=1;je<xe;++je)ye[je-1]=ie.slice(je*Ne,(je+1)*Ne);return ye[xe-1]=ie.slice(xe*Ne),ye}function g(ie,Ne,xe){for(var ye=0,je=0,Se=0,Re=0,qe=0,Ie=xe.length,Be=[],Ue=[];ye<Ie;++ye)Be[ye]=Ue[ye]=ye,Ne[ye]=xe[ye];for(;qe<Ue.length;++qe)ye=Ue[qe],je=ie[ye].L,Se=ie[ye].R,Re=ie[ye].C,Be[ye]===ye&&(je!==-1&&Be[je]!==je&&(Be[ye]=Be[je]),Se!==-1&&Be[Se]!==Se&&(Be[ye]=Be[Se])),Re!==-1&&(Be[Re]=ye),je!==-1&&ye!=Be[ye]&&(Be[je]=Be[ye],Ue.lastIndexOf(je)<qe&&Ue.push(je)),Se!==-1&&ye!=Be[ye]&&(Be[Se]=Be[ye],Ue.lastIndexOf(Se)<qe&&Ue.push(Se));for(ye=1;ye<Ie;++ye)Be[ye]===ye&&(Se!==-1&&Be[Se]!==Se?Be[ye]=Be[Se]:je!==-1&&Be[je]!==je&&(Be[ye]=Be[je]));for(ye=1;ye<Ie;++ye)if(ie[ye].type!==0){if(qe=ye,qe!=Be[qe])do qe=Be[qe],Ne[ye]=Ne[qe]+"/"+Ne[ye];while(qe!==0&&Be[qe]!==-1&&qe!=Be[qe]);Be[ye]=-1}for(Ne[0]+="/",ye=1;ye<Ie;++ye)ie[ye].type!==2&&(Ne[ye]+="/")}function m(ie,Ne,xe){for(var ye=ie.start,je=ie.size,Se=[],Re=ye;xe&&je>0&&Re>=0;)Se.push(Ne.slice(Re*T,Re*T+T)),je-=T,Re=Nu(xe,Re*4);return Se.length===0?Ke(0):Ma(Se).slice(0,ie.size)}function v(ie,Ne,xe,ye,je){var Se=I;if(ie===I){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Re=xe[ie],qe=(ye>>>2)-1;if(!Re)return;for(var Ie=0;Ie<qe&&(Se=Nu(Re,Ie*4))!==I;++Ie)je.push(Se);v(Nu(Re,ye-4),Ne-1,xe,ye,je)}}function x(ie,Ne,xe,ye,je){var Se=[],Re=[];je||(je=[]);var qe=ye-1,Ie=0,Be=0;for(Ie=Ne;Ie>=0;){je[Ie]=!0,Se[Se.length]=Ie,Re.push(ie[Ie]);var Ue=xe[Math.floor(Ie*4/ye)];if(Be=Ie*4&qe,ye<4+Be)throw new Error("FAT boundary crossed: "+Ie+" 4 "+ye);if(!ie[Ue])break;Ie=Nu(ie[Ue],Be)}return{nodes:Se,data:KE([Re])}}function y(ie,Ne,xe,ye){var je=ie.length,Se=[],Re=[],qe=[],Ie=[],Be=ye-1,Ue=0,pt=0,jt=0,Ot=0;for(Ue=0;Ue<je;++Ue)if(qe=[],jt=Ue+Ne,jt>=je&&(jt-=je),!Re[jt]){Ie=[];var yt=[];for(pt=jt;pt>=0;){yt[pt]=!0,Re[pt]=!0,qe[qe.length]=pt,Ie.push(ie[pt]);var Tt=xe[Math.floor(pt*4/ye)];if(Ot=pt*4&Be,ye<4+Ot)throw new Error("FAT boundary crossed: "+pt+" 4 "+ye);if(!ie[Tt]||(pt=Nu(ie[Tt],Ot),yt[pt]))break}Se[jt]={nodes:qe,data:KE([Ie])}}return Se}function w(ie,Ne,xe,ye,je,Se,Re,qe){for(var Ie=0,Be=ye.length?2:0,Ue=Ne[ie].data,pt=0,jt=0,Ot;pt<Ue.length;pt+=128){var yt=Ue.slice(pt,pt+128);ls(yt,64),jt=yt.read_shift(2),Ot=ok(yt,0,jt-Be),ye.push(Ot);var Tt={name:Ot,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},er=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);er!==0&&(Tt.ct=N(yt,yt.l-8));var Ir=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Ir!==0&&(Tt.mt=N(yt,yt.l-8)),Tt.start=yt.read_shift(4,"i"),Tt.size=yt.read_shift(4,"i"),Tt.size<0&&Tt.start<0&&(Tt.size=Tt.type=0,Tt.start=I,Tt.name=""),Tt.type===5?(Ie=Tt.start,je>0&&Ie!==I&&(Ne[Ie].name="!StreamData")):Tt.size>=4096?(Tt.storage="fat",Ne[Tt.start]===void 0&&(Ne[Tt.start]=x(xe,Tt.start,Ne.fat_addrs,Ne.ssz)),Ne[Tt.start].name=Tt.name,Tt.content=Ne[Tt.start].data.slice(0,Tt.size)):(Tt.storage="minifat",Tt.size<0?Tt.size=0:Ie!==I&&Tt.start!==I&&Ne[Ie]&&(Tt.content=m(Tt,Ne[Ie].data,(Ne[qe]||{}).data))),Tt.content&&ls(Tt.content,0),Se[Ot]=Tt,Re.push(Tt)}}function N(ie,Ne){return new Date((us(ie,Ne+4)/1e7*Math.pow(2,32)+us(ie,Ne)/1e7-11644473600)*1e3)}function j(ie,Ne){return d(),u(c.readFileSync(ie),Ne)}function C(ie,Ne){var xe=Ne&&Ne.type;switch(xe||Lr&&Buffer.isBuffer(ie)&&(xe="buffer"),xe||"base64"){case"file":return j(ie,Ne);case"base64":return u(_o(dc(ie)),Ne);case"binary":return u(_o(ie),Ne)}return u(ie,Ne)}function k(ie,Ne){var xe=Ne||{},ye=xe.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ye+"/",ie.FileIndex[0]={name:ye,type:5}),xe.CLSID&&(ie.FileIndex[0].clsid=xe.CLSID),_(ie)}function _(ie){var Ne="Sh33tJ5";if(!Qr.find(ie,"/"+Ne)){var xe=Ke(4);xe[0]=55,xe[1]=xe[3]=50,xe[2]=54,ie.FileIndex.push({name:Ne,type:2,content:xe,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+Ne),L(ie)}}function L(ie,Ne){k(ie);for(var xe=!1,ye=!1,je=ie.FullPaths.length-1;je>=0;--je){var Se=ie.FileIndex[je];switch(Se.type){case 0:ye?xe=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Se.R*Se.L*Se.C)&&(xe=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(xe=!0);break;default:xe=!0;break}}if(!(!xe&&!Ne)){var Re=new Date(1987,1,19),qe=0,Ie=Object.create?Object.create(null):{},Be=[];for(je=0;je<ie.FullPaths.length;++je)Ie[ie.FullPaths[je]]=!0,ie.FileIndex[je].type!==0&&Be.push([ie.FullPaths[je],ie.FileIndex[je]]);for(je=0;je<Be.length;++je){var Ue=n(Be[je][0]);ye=Ie[Ue],ye||(Be.push([Ue,{name:a(Ue).replace("/",""),type:1,clsid:U,ct:Re,mt:Re,content:null}]),Ie[Ue]=!0)}for(Be.sort(function(Ot,yt){return r(Ot[0],yt[0])}),ie.FullPaths=[],ie.FileIndex=[],je=0;je<Be.length;++je)ie.FullPaths[je]=Be[je][0],ie.FileIndex[je]=Be[je][1];for(je=0;je<Be.length;++je){var pt=ie.FileIndex[je],jt=ie.FullPaths[je];if(pt.name=a(jt).replace("/",""),pt.L=pt.R=pt.C=-(pt.color=1),pt.size=pt.content?pt.content.length:0,pt.start=0,pt.clsid=pt.clsid||U,je===0)pt.C=Be.length>1?1:-1,pt.size=0,pt.type=5;else if(jt.slice(-1)=="/"){for(qe=je+1;qe<Be.length&&n(ie.FullPaths[qe])!=jt;++qe);for(pt.C=qe>=Be.length?-1:qe,qe=je+1;qe<Be.length&&n(ie.FullPaths[qe])!=n(jt);++qe);pt.R=qe>=Be.length?-1:qe,pt.type=1}else n(ie.FullPaths[je+1]||"")==n(jt)&&(pt.R=je+1),pt.type=2}}}function z(ie,Ne){var xe=Ne||{};if(xe.fileType=="mad")return Qe(ie,xe);switch(L(ie),xe.fileType){case"zip":return yn(ie,xe)}var ye=function(Ot){for(var yt=0,Tt=0,er=0;er<Ot.FileIndex.length;++er){var Ir=Ot.FileIndex[er];if(Ir.content){var Xr=Ir.content.length;Xr>0&&(Xr<4096?yt+=Xr+63>>6:Tt+=Xr+511>>9)}}for(var Kn=Ot.FullPaths.length+3>>2,eo=yt+7>>3,Sl=yt+127>>7,Uo=eo+Tt+Kn+Sl,to=Uo+127>>7,Wo=to<=109?0:Math.ceil((to-109)/127);Uo+to+Wo+127>>7>to;)Wo=++to<=109?0:Math.ceil((to-109)/127);var Yi=[1,Wo,to,Sl,Kn,Tt,yt,0];return Ot.FileIndex[0].size=yt<<6,Yi[7]=(Ot.FileIndex[0].start=Yi[0]+Yi[1]+Yi[2]+Yi[3]+Yi[4]+Yi[5])+(Yi[6]+7>>3),Yi}(ie),je=Ke(ye[7]<<9),Se=0,Re=0;{for(Se=0;Se<8;++Se)je.write_shift(1,J[Se]);for(Se=0;Se<8;++Se)je.write_shift(2,0);for(je.write_shift(2,62),je.write_shift(2,3),je.write_shift(2,65534),je.write_shift(2,9),je.write_shift(2,6),Se=0;Se<3;++Se)je.write_shift(2,0);for(je.write_shift(4,0),je.write_shift(4,ye[2]),je.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),je.write_shift(4,0),je.write_shift(4,4096),je.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:I),je.write_shift(4,ye[3]),je.write_shift(-4,ye[1]?ye[0]-1:I),je.write_shift(4,ye[1]),Se=0;Se<109;++Se)je.write_shift(-4,Se<ye[2]?ye[1]+Se:-1)}if(ye[1])for(Re=0;Re<ye[1];++Re){for(;Se<236+Re*127;++Se)je.write_shift(-4,Se<ye[2]?ye[1]+Se:-1);je.write_shift(-4,Re===ye[1]-1?I:Re+1)}var qe=function(Ot){for(Re+=Ot;Se<Re-1;++Se)je.write_shift(-4,Se+1);Ot&&(++Se,je.write_shift(-4,I))};for(Re=Se=0,Re+=ye[1];Se<Re;++Se)je.write_shift(-4,X.DIFSECT);for(Re+=ye[2];Se<Re;++Se)je.write_shift(-4,X.FATSECT);qe(ye[3]),qe(ye[4]);for(var Ie=0,Be=0,Ue=ie.FileIndex[0];Ie<ie.FileIndex.length;++Ie)Ue=ie.FileIndex[Ie],Ue.content&&(Be=Ue.content.length,!(Be<4096)&&(Ue.start=Re,qe(Be+511>>9)));for(qe(ye[6]+7>>3);je.l&511;)je.write_shift(-4,X.ENDOFCHAIN);for(Re=Se=0,Ie=0;Ie<ie.FileIndex.length;++Ie)Ue=ie.FileIndex[Ie],Ue.content&&(Be=Ue.content.length,!(!Be||Be>=4096)&&(Ue.start=Re,qe(Be+63>>6)));for(;je.l&511;)je.write_shift(-4,X.ENDOFCHAIN);for(Se=0;Se<ye[4]<<2;++Se){var pt=ie.FullPaths[Se];if(!pt||pt.length===0){for(Ie=0;Ie<17;++Ie)je.write_shift(4,0);for(Ie=0;Ie<3;++Ie)je.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)je.write_shift(4,0);continue}Ue=ie.FileIndex[Se],Se===0&&(Ue.start=Ue.size?Ue.start-1:I);var jt=Se===0&&xe.root||Ue.name;if(Be=2*(jt.length+1),je.write_shift(64,jt,"utf16le"),je.write_shift(2,Be),je.write_shift(1,Ue.type),je.write_shift(1,Ue.color),je.write_shift(-4,Ue.L),je.write_shift(-4,Ue.R),je.write_shift(-4,Ue.C),Ue.clsid)je.write_shift(16,Ue.clsid,"hex");else for(Ie=0;Ie<4;++Ie)je.write_shift(4,0);je.write_shift(4,Ue.state||0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,Ue.start),je.write_shift(4,Ue.size),je.write_shift(4,0)}for(Se=1;Se<ie.FileIndex.length;++Se)if(Ue=ie.FileIndex[Se],Ue.size>=4096)if(je.l=Ue.start+1<<9,Lr&&Buffer.isBuffer(Ue.content))Ue.content.copy(je,je.l,0,Ue.size),je.l+=Ue.size+511&-512;else{for(Ie=0;Ie<Ue.size;++Ie)je.write_shift(1,Ue.content[Ie]);for(;Ie&511;++Ie)je.write_shift(1,0)}for(Se=1;Se<ie.FileIndex.length;++Se)if(Ue=ie.FileIndex[Se],Ue.size>0&&Ue.size<4096)if(Lr&&Buffer.isBuffer(Ue.content))Ue.content.copy(je,je.l,0,Ue.size),je.l+=Ue.size+63&-64;else{for(Ie=0;Ie<Ue.size;++Ie)je.write_shift(1,Ue.content[Ie]);for(;Ie&63;++Ie)je.write_shift(1,0)}if(Lr)je.l=je.length;else for(;je.l<je.length;)je.write_shift(1,0);return je}function D(ie,Ne){var xe=ie.FullPaths.map(function(Ie){return Ie.toUpperCase()}),ye=xe.map(function(Ie){var Be=Ie.split("/");return Be[Be.length-(Ie.slice(-1)=="/"?2:1)]}),je=!1;Ne.charCodeAt(0)===47?(je=!0,Ne=xe[0].slice(0,-1)+Ne):je=Ne.indexOf("/")!==-1;var Se=Ne.toUpperCase(),Re=je===!0?xe.indexOf(Se):ye.indexOf(Se);if(Re!==-1)return ie.FileIndex[Re];var qe=!Se.match(s1);for(Se=Se.replace(O0,""),qe&&(Se=Se.replace(s1,"!")),Re=0;Re<xe.length;++Re)if((qe?xe[Re].replace(s1,"!"):xe[Re]).replace(O0,"")==Se||(qe?ye[Re].replace(s1,"!"):ye[Re]).replace(O0,"")==Se)return ie.FileIndex[Re];return null}var T=64,I=-2,B="d0cf11e0a1b11ae1",J=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(ie,Ne,xe){d();var ye=z(ie,xe);c.writeFileSync(Ne,ye)}function Q(ie){for(var Ne=new Array(ie.length),xe=0;xe<ie.length;++xe)Ne[xe]=String.fromCharCode(ie[xe]);return Ne.join("")}function le(ie,Ne){var xe=z(ie,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return d(),c.writeFileSync(Ne.filename,xe),xe;case"binary":return typeof xe=="string"?xe:Q(xe);case"base64":return bg(typeof xe=="string"?xe:Q(xe));case"buffer":if(Lr)return Buffer.isBuffer(xe)?xe:jc(xe);case"array":return typeof xe=="string"?_o(xe):xe}return xe}var ue;function O(ie){try{var Ne=ie.InflateRaw,xe=new Ne;if(xe._processChunk(new Uint8Array([3,0]),xe._finishFlushFlag),xe.bytesRead)ue=ie;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function V(ie,Ne){if(!ue)return xt(ie,Ne);var xe=ue.InflateRaw,ye=new xe,je=ye._processChunk(ie.slice(ie.l),ye._finishFlushFlag);return ie.l+=ye.bytesRead,je}function Y(ie){return ue?ue.deflateRawSync(ie):gt(ie)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],R=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(ie){var Ne=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var W=typeof Uint8Array<"u",H=W?new Uint8Array(256):[],me=0;me<256;++me)H[me]=G(me);function ae(ie,Ne){var xe=H[ie&255];return Ne<=8?xe>>>8-Ne:(xe=xe<<8|H[ie>>8&255],Ne<=16?xe>>>16-Ne:(xe=xe<<8|H[ie>>16&255],xe>>>24-Ne))}function be(ie,Ne){var xe=Ne&7,ye=Ne>>>3;return(ie[ye]|(xe<=6?0:ie[ye+1]<<8))>>>xe&3}function te(ie,Ne){var xe=Ne&7,ye=Ne>>>3;return(ie[ye]|(xe<=5?0:ie[ye+1]<<8))>>>xe&7}function ge(ie,Ne){var xe=Ne&7,ye=Ne>>>3;return(ie[ye]|(xe<=4?0:ie[ye+1]<<8))>>>xe&15}function re(ie,Ne){var xe=Ne&7,ye=Ne>>>3;return(ie[ye]|(xe<=3?0:ie[ye+1]<<8))>>>xe&31}function Oe(ie,Ne){var xe=Ne&7,ye=Ne>>>3;return(ie[ye]|(xe<=1?0:ie[ye+1]<<8))>>>xe&127}function Pe(ie,Ne,xe){var ye=Ne&7,je=Ne>>>3,Se=(1<<xe)-1,Re=ie[je]>>>ye;return xe<8-ye||(Re|=ie[je+1]<<8-ye,xe<16-ye)||(Re|=ie[je+2]<<16-ye,xe<24-ye)||(Re|=ie[je+3]<<24-ye),Re&Se}function ke(ie,Ne,xe){var ye=Ne&7,je=Ne>>>3;return ye<=5?ie[je]|=(xe&7)<<ye:(ie[je]|=xe<<ye&255,ie[je+1]=(xe&7)>>8-ye),Ne+3}function Le(ie,Ne,xe){var ye=Ne&7,je=Ne>>>3;return xe=(xe&1)<<ye,ie[je]|=xe,Ne+1}function Ge(ie,Ne,xe){var ye=Ne&7,je=Ne>>>3;return xe<<=ye,ie[je]|=xe&255,xe>>>=8,ie[je+1]=xe,Ne+8}function ut(ie,Ne,xe){var ye=Ne&7,je=Ne>>>3;return xe<<=ye,ie[je]|=xe&255,xe>>>=8,ie[je+1]=xe&255,ie[je+2]=xe>>>8,Ne+16}function bt(ie,Ne){var xe=ie.length,ye=2*xe>Ne?2*xe:Ne+5,je=0;if(xe>=Ne)return ie;if(Lr){var Se=DE(ye);if(ie.copy)ie.copy(Se);else for(;je<ie.length;++je)Se[je]=ie[je];return Se}else if(W){var Re=new Uint8Array(ye);if(Re.set)Re.set(ie);else for(;je<xe;++je)Re[je]=ie[je];return Re}return ie.length=ye,ie}function Ct(ie){for(var Ne=new Array(ie),xe=0;xe<ie;++xe)Ne[xe]=0;return Ne}function Dt(ie,Ne,xe){var ye=1,je=0,Se=0,Re=0,qe=0,Ie=ie.length,Be=W?new Uint16Array(32):Ct(32);for(Se=0;Se<32;++Se)Be[Se]=0;for(Se=Ie;Se<xe;++Se)ie[Se]=0;Ie=ie.length;var Ue=W?new Uint16Array(Ie):Ct(Ie);for(Se=0;Se<Ie;++Se)Be[je=ie[Se]]++,ye<je&&(ye=je),Ue[Se]=0;for(Be[0]=0,Se=1;Se<=ye;++Se)Be[Se+16]=qe=qe+Be[Se-1]<<1;for(Se=0;Se<Ie;++Se)qe=ie[Se],qe!=0&&(Ue[Se]=Be[qe+16]++);var pt=0;for(Se=0;Se<Ie;++Se)if(pt=ie[Se],pt!=0)for(qe=ae(Ue[Se],ye)>>ye-pt,Re=(1<<ye+4-pt)-1;Re>=0;--Re)Ne[qe|Re<<pt]=pt&15|Se<<4;return ye}var ce=W?new Uint16Array(512):Ct(512),Je=W?new Uint16Array(32):Ct(32);if(!W){for(var ct=0;ct<512;++ct)ce[ct]=0;for(ct=0;ct<32;++ct)Je[ct]=0}(function(){for(var ie=[],Ne=0;Ne<32;Ne++)ie.push(5);Dt(ie,Je,32);var xe=[];for(Ne=0;Ne<=143;Ne++)xe.push(8);for(;Ne<=255;Ne++)xe.push(9);for(;Ne<=279;Ne++)xe.push(7);for(;Ne<=287;Ne++)xe.push(8);Dt(xe,ce,288)})();var ft=function(){for(var Ne=W?new Uint8Array(32768):[],xe=0,ye=0;xe<R.length-1;++xe)for(;ye<R[xe+1];++ye)Ne[ye]=xe;for(;ye<32768;++ye)Ne[ye]=29;var je=W?new Uint8Array(259):[];for(xe=0,ye=0;xe<P.length-1;++xe)for(;ye<P[xe+1];++ye)je[ye]=xe;function Se(qe,Ie){for(var Be=0;Be<qe.length;){var Ue=Math.min(65535,qe.length-Be),pt=Be+Ue==qe.length;for(Ie.write_shift(1,+pt),Ie.write_shift(2,Ue),Ie.write_shift(2,~Ue&65535);Ue-- >0;)Ie[Ie.l++]=qe[Be++]}return Ie.l}function Re(qe,Ie){for(var Be=0,Ue=0,pt=W?new Uint16Array(32768):[];Ue<qe.length;){var jt=Math.min(65535,qe.length-Ue);if(jt<10){for(Be=ke(Ie,Be,+(Ue+jt==qe.length)),Be&7&&(Be+=8-(Be&7)),Ie.l=Be/8|0,Ie.write_shift(2,jt),Ie.write_shift(2,~jt&65535);jt-- >0;)Ie[Ie.l++]=qe[Ue++];Be=Ie.l*8;continue}Be=ke(Ie,Be,+(Ue+jt==qe.length)+2);for(var Ot=0;jt-- >0;){var yt=qe[Ue];Ot=(Ot<<5^yt)&32767;var Tt=-1,er=0;if((Tt=pt[Ot])&&(Tt|=Ue&-32768,Tt>Ue&&(Tt-=32768),Tt<Ue))for(;qe[Tt+er]==qe[Ue+er]&&er<250;)++er;if(er>2){yt=je[er],yt<=22?Be=Ge(Ie,Be,H[yt+1]>>1)-1:(Ge(Ie,Be,3),Be+=5,Ge(Ie,Be,H[yt-23]>>5),Be+=3);var Ir=yt<8?0:yt-4>>2;Ir>0&&(ut(Ie,Be,er-P[yt]),Be+=Ir),yt=Ne[Ue-Tt],Be=Ge(Ie,Be,H[yt]>>3),Be-=3;var Xr=yt<4?0:yt-2>>1;Xr>0&&(ut(Ie,Be,Ue-Tt-R[yt]),Be+=Xr);for(var Kn=0;Kn<er;++Kn)pt[Ot]=Ue&32767,Ot=(Ot<<5^qe[Ue])&32767,++Ue;jt-=er-1}else yt<=143?yt=yt+48:Be=Le(Ie,Be,1),Be=Ge(Ie,Be,H[yt]),pt[Ot]=Ue&32767,++Ue}Be=Ge(Ie,Be,0)-1}return Ie.l=(Be+7)/8|0,Ie.l}return function(Ie,Be){return Ie.length<8?Se(Ie,Be):Re(Ie,Be)}}();function gt(ie){var Ne=Ke(50+Math.floor(ie.length*1.1)),xe=ft(ie,Ne);return Ne.slice(0,xe)}var he=W?new Uint16Array(32768):Ct(32768),ze=W?new Uint16Array(32768):Ct(32768),Xe=W?new Uint16Array(128):Ct(128),fe=1,tt=1;function wt(ie,Ne){var xe=re(ie,Ne)+257;Ne+=5;var ye=re(ie,Ne)+1;Ne+=5;var je=ge(ie,Ne)+4;Ne+=4;for(var Se=0,Re=W?new Uint8Array(19):Ct(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Be=W?new Uint8Array(8):Ct(8),Ue=W?new Uint8Array(8):Ct(8),pt=Re.length,jt=0;jt<je;++jt)Re[q[jt]]=Se=te(ie,Ne),Ie<Se&&(Ie=Se),Be[Se]++,Ne+=3;var Ot=0;for(Be[0]=0,jt=1;jt<=Ie;++jt)Ue[jt]=Ot=Ot+Be[jt-1]<<1;for(jt=0;jt<pt;++jt)(Ot=Re[jt])!=0&&(qe[jt]=Ue[Ot]++);var yt=0;for(jt=0;jt<pt;++jt)if(yt=Re[jt],yt!=0){Ot=H[qe[jt]]>>8-yt;for(var Tt=(1<<7-yt)-1;Tt>=0;--Tt)Xe[Ot|Tt<<yt]=yt&7|jt<<3}var er=[];for(Ie=1;er.length<xe+ye;)switch(Ot=Xe[Oe(ie,Ne)],Ne+=Ot&7,Ot>>>=3){case 16:for(Se=3+be(ie,Ne),Ne+=2,Ot=er[er.length-1];Se-- >0;)er.push(Ot);break;case 17:for(Se=3+te(ie,Ne),Ne+=3;Se-- >0;)er.push(0);break;case 18:for(Se=11+Oe(ie,Ne),Ne+=7;Se-- >0;)er.push(0);break;default:er.push(Ot),Ie<Ot&&(Ie=Ot);break}var Ir=er.slice(0,xe),Xr=er.slice(xe);for(jt=xe;jt<286;++jt)Ir[jt]=0;for(jt=ye;jt<30;++jt)Xr[jt]=0;return fe=Dt(Ir,he,286),tt=Dt(Xr,ze,30),Ne}function dr(ie,Ne){if(ie[0]==3&&!(ie[1]&3))return[ef(Ne),2];for(var xe=0,ye=0,je=DE(Ne||1<<18),Se=0,Re=je.length>>>0,qe=0,Ie=0;!(ye&1);){if(ye=te(ie,xe),xe+=3,ye>>>1)ye>>1==1?(qe=9,Ie=5):(xe=wt(ie,xe),qe=fe,Ie=tt);else{xe&7&&(xe+=8-(xe&7));var Be=ie[xe>>>3]|ie[(xe>>>3)+1]<<8;if(xe+=32,Be>0)for(!Ne&&Re<Se+Be&&(je=bt(je,Se+Be),Re=je.length);Be-- >0;)je[Se++]=ie[xe>>>3],xe+=8;continue}for(;;){!Ne&&Re<Se+32767&&(je=bt(je,Se+32767),Re=je.length);var Ue=Pe(ie,xe,qe),pt=ye>>>1==1?ce[Ue]:he[Ue];if(xe+=pt&15,pt>>>=4,!(pt>>>8&255))je[Se++]=pt;else{if(pt==256)break;pt-=257;var jt=pt<8?0:pt-4>>2;jt>5&&(jt=0);var Ot=Se+P[pt];jt>0&&(Ot+=Pe(ie,xe,jt),xe+=jt),Ue=Pe(ie,xe,Ie),pt=ye>>>1==1?Je[Ue]:ze[Ue],xe+=pt&15,pt>>>=4;var yt=pt<4?0:pt-2>>1,Tt=R[pt];for(yt>0&&(Tt+=Pe(ie,xe,yt),xe+=yt),!Ne&&Re<Ot&&(je=bt(je,Ot+100),Re=je.length);Se<Ot;)je[Se]=je[Se-Tt],++Se}}}return Ne?[je,xe+7>>>3]:[je.slice(0,Se),xe+7>>>3]}function xt(ie,Ne){var xe=ie.slice(ie.l||0),ye=dr(xe,Ne);return ie.l+=ye[1],ye[0]}function Xt(ie,Ne){if(ie)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function It(ie,Ne){var xe=ie;ls(xe,0);var ye=[],je=[],Se={FileIndex:ye,FullPaths:je};k(Se,{root:Ne.root});for(var Re=xe.length-4;(xe[Re]!=80||xe[Re+1]!=75||xe[Re+2]!=5||xe[Re+3]!=6)&&Re>=0;)--Re;xe.l=Re+4,xe.l+=4;var qe=xe.read_shift(2);xe.l+=6;var Ie=xe.read_shift(4);for(xe.l=Ie,Re=0;Re<qe;++Re){xe.l+=20;var Be=xe.read_shift(4),Ue=xe.read_shift(4),pt=xe.read_shift(2),jt=xe.read_shift(2),Ot=xe.read_shift(2);xe.l+=8;var yt=xe.read_shift(4),Tt=l(xe.slice(xe.l+pt,xe.l+pt+jt));xe.l+=pt+jt+Ot;var er=xe.l;xe.l=yt+4,Ar(xe,Be,Ue,Se,Tt),xe.l=er}return Se}function Ar(ie,Ne,xe,ye,je){ie.l+=2;var Se=ie.read_shift(2),Re=ie.read_shift(2),qe=o(ie);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=ie.read_shift(4),Be=ie.read_shift(4),Ue=ie.read_shift(4),pt=ie.read_shift(2),jt=ie.read_shift(2),Ot="",yt=0;yt<pt;++yt)Ot+=String.fromCharCode(ie[ie.l++]);if(jt){var Tt=l(ie.slice(ie.l,ie.l+jt));(Tt[21589]||{}).mt&&(qe=Tt[21589].mt),((je||{})[21589]||{}).mt&&(qe=je[21589].mt)}ie.l+=jt;var er=ie.slice(ie.l,ie.l+Be);switch(Re){case 8:er=V(ie,Ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var Ir=!1;Se&8&&(Ie=ie.read_shift(4),Ie==134695760&&(Ie=ie.read_shift(4),Ir=!0),Be=ie.read_shift(4),Ue=ie.read_shift(4)),Be!=Ne&&Xt(Ir,"Bad compressed size: "+Ne+" != "+Be),Ue!=xe&&Xt(Ir,"Bad uncompressed size: "+xe+" != "+Ue),aa(ye,Ot,er,{unsafe:!0,mt:qe})}function yn(ie,Ne){var xe=Ne||{},ye=[],je=[],Se=Ke(1),Re=xe.compression?8:0,qe=0,Ie=0,Be=0,Ue=0,pt=0,jt=ie.FullPaths[0],Ot=jt,yt=ie.FileIndex[0],Tt=[],er=0;for(Ie=1;Ie<ie.FullPaths.length;++Ie)if(Ot=ie.FullPaths[Ie].slice(jt.length),yt=ie.FileIndex[Ie],!(!yt.size||!yt.content||Ot=="Sh33tJ5")){var Ir=Ue,Xr=Ke(Ot.length);for(Be=0;Be<Ot.length;++Be)Xr.write_shift(1,Ot.charCodeAt(Be)&127);Xr=Xr.slice(0,Xr.l),Tt[pt]=gte.buf(yt.content,0);var Kn=yt.content;Re==8&&(Kn=Y(Kn)),Se=Ke(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,qe),Se.write_shift(2,Re),yt.mt?s(Se,yt.mt):Se.write_shift(4,0),Se.write_shift(-4,Tt[pt]),Se.write_shift(4,Kn.length),Se.write_shift(4,yt.content.length),Se.write_shift(2,Xr.length),Se.write_shift(2,0),Ue+=Se.length,ye.push(Se),Ue+=Xr.length,ye.push(Xr),Ue+=Kn.length,ye.push(Kn),Se=Ke(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,qe),Se.write_shift(2,Re),Se.write_shift(4,0),Se.write_shift(-4,Tt[pt]),Se.write_shift(4,Kn.length),Se.write_shift(4,yt.content.length),Se.write_shift(2,Xr.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,Ir),er+=Se.l,je.push(Se),er+=Xr.length,je.push(Xr),++pt}return Se=Ke(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,pt),Se.write_shift(2,pt),Se.write_shift(4,er),Se.write_shift(4,Ue),Se.write_shift(2,0),Ma([Ma(ye),Ma(je),Se])}var Nr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vt(ie,Ne){if(ie.ctype)return ie.ctype;var xe=ie.name||"",ye=xe.match(/\.([^\.]+)$/);return ye&&Nr[ye[1]]||Ne&&(ye=(xe=Ne).match(/[\.\\]([^\.\\])+$/),ye&&Nr[ye[1]])?Nr[ye[1]]:"application/octet-stream"}function vr(ie){for(var Ne=bg(ie),xe=[],ye=0;ye<Ne.length;ye+=76)xe.push(Ne.slice(ye,ye+76));return xe.join(`\r
`)+`\r
`}function Zs(ie){var Ne=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var Ue=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ue.length==1?"0"+Ue:Ue)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var xe=[],ye=Ne.split(`\r
`),je=0;je<ye.length;++je){var Se=ye[je];if(Se.length==0){xe.push("");continue}for(var Re=0;Re<Se.length;){var qe=76,Ie=Se.slice(Re,Re+qe);Ie.charAt(qe-1)=="="?qe--:Ie.charAt(qe-2)=="="?qe-=2:Ie.charAt(qe-3)=="="&&(qe-=3),Ie=Se.slice(Re,Re+qe),Re+=qe,Re<Se.length&&(Ie+="="),xe.push(Ie)}}return xe.join(`\r
`)}function Mn(ie){for(var Ne=[],xe=0;xe<ie.length;++xe){for(var ye=ie[xe];xe<=ie.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+ie[++xe];Ne.push(ye)}for(var je=0;je<Ne.length;++je)Ne[je]=Ne[je].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return _o(Ne.join(`\r
`))}function oe(ie,Ne,xe){for(var ye="",je="",Se="",Re,qe=0;qe<10;++qe){var Ie=Ne[qe];if(!Ie||Ie.match(/^\s*$/))break;var Be=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":ye=Be[2].trim();break;case"content-type":Se=Be[2].trim();break;case"content-transfer-encoding":je=Be[2].trim();break}}switch(++qe,je.toLowerCase()){case"base64":Re=_o(dc(Ne.slice(qe).join("")));break;case"quoted-printable":Re=Mn(Ne.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+je)}var Ue=aa(ie,ye.slice(xe.length),Re,{unsafe:!0});Se&&(Ue.ctype=Se)}function at(ie,Ne){if(Q(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var xe=Ne&&Ne.root||"",ye=(Lr&&Buffer.isBuffer(ie)?ie.toString("binary"):Q(ie)).split(`\r
`),je=0,Se="";for(je=0;je<ye.length;++je)if(Se=ye[je],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),xe||(xe=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,xe.length)!=xe))for(;xe.length>0&&(xe=xe.slice(0,xe.length-1),xe=xe.slice(0,xe.lastIndexOf("/")+1),Se.slice(0,xe.length)!=xe););var Re=(ye[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var qe="--"+(Re[1]||""),Ie=[],Be=[],Ue={FileIndex:Ie,FullPaths:Be};k(Ue);var pt,jt=0;for(je=0;je<ye.length;++je){var Ot=ye[je];Ot!==qe&&Ot!==qe+"--"||(jt++&&oe(Ue,ye.slice(pt,je),xe),pt=je)}return Ue}function Qe(ie,Ne){var xe=Ne||{},ye=xe.boundary||"SheetJS";ye="------="+ye;for(var je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Se=ie.FullPaths[0],Re=Se,qe=ie.FileIndex[0],Ie=1;Ie<ie.FullPaths.length;++Ie)if(Re=ie.FullPaths[Ie].slice(Se.length),qe=ie.FileIndex[Ie],!(!qe.size||!qe.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(er){return"_x"+er.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(er){return"_u"+er.charCodeAt(0).toString(16)+"_"});for(var Be=qe.content,Ue=Lr&&Buffer.isBuffer(Be)?Be.toString("binary"):Q(Be),pt=0,jt=Math.min(1024,Ue.length),Ot=0,yt=0;yt<=jt;++yt)(Ot=Ue.charCodeAt(yt))>=32&&Ot<128&&++pt;var Tt=pt>=jt*4/5;je.push(ye),je.push("Content-Location: "+(xe.root||"file:///C:/SheetJS/")+Re),je.push("Content-Transfer-Encoding: "+(Tt?"quoted-printable":"base64")),je.push("Content-Type: "+Vt(qe,Re)),je.push(""),je.push(Tt?Zs(Ue):vr(Ue))}return je.push(ye+`--\r
`),je.join(`\r
`)}function Zt(ie){var Ne={};return k(Ne,ie),Ne}function aa(ie,Ne,xe,ye){var je=ye&&ye.unsafe;je||k(ie);var Se=!je&&Qr.find(ie,Ne);if(!Se){var Re=ie.FullPaths[0];Ne.slice(0,Re.length)==Re?Re=Ne:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+Ne).replace("//","/")),Se={name:a(Ne),type:2},ie.FileIndex.push(Se),ie.FullPaths.push(Re),je||Qr.utils.cfb_gc(ie)}return Se.content=xe,Se.size=xe?xe.length:0,ye&&(ye.CLSID&&(Se.clsid=ye.CLSID),ye.mt&&(Se.mt=ye.mt),ye.ct&&(Se.ct=ye.ct)),Se}function Gn(ie,Ne){k(ie);var xe=Qr.find(ie,Ne);if(xe){for(var ye=0;ye<ie.FileIndex.length;++ye)if(ie.FileIndex[ye]==xe)return ie.FileIndex.splice(ye,1),ie.FullPaths.splice(ye,1),!0}return!1}function Nn(ie,Ne,xe){k(ie);var ye=Qr.find(ie,Ne);if(ye){for(var je=0;je<ie.FileIndex.length;++je)if(ie.FileIndex[je]==ye)return ie.FileIndex[je].name=a(xe),ie.FullPaths[je]=xe,!0}return!1}function En(ie){L(ie,!0)}return t.find=D,t.read=C,t.parse=u,t.write=le,t.writeFile=M,t.utils={cfb_new:Zt,cfb_add:aa,cfb_del:Gn,cfb_mov:Nn,cfb_gc:En,ReadShift:F0,CheckField:l$,prep_blob:ls,bconcat:Ma,use_zlib:O,_deflateRaw:gt,_inflateRaw:xt,consts:X},t}();function xte(e){return typeof e=="string"?H2(e):Array.isArray(e)?Wee(e):e}function jx(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=H2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?jg(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([xte(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=wx(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function qa(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function zE(e,t){for(var r=[],n=qa(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function nk(e){for(var t=[],r=qa(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function K2(e){for(var t=[],r=qa(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function vte(e){for(var t=[],r=qa(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Vy=new Date(1899,11,30,0,0,0);function Vi(e,t){var r=e.getTime(),n=Vy.getTime()+(e.getTimezoneOffset()-Vy.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var HM=new Date,yte=Vy.getTime()+(HM.getTimezoneOffset()-Vy.getTimezoneOffset())*6e4,UE=HM.getTimezoneOffset();function VM(e){var t=new Date;return t.setTime(e*24*60*60*1e3+yte),t.getTimezoneOffset()!==UE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-UE)*6e4),t}var WE=new Date("2017-02-19T19:06:09.000Z"),GM=isNaN(WE.getFullYear())?new Date("2/19/17"):WE,bte=GM.getFullYear()==2017;function Ei(e,t){var r=new Date(e);if(bte)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(GM.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function X2(e,t){if(Lr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Gi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Gi(e[r]));return t}function Ln(e,t){for(var r="";r.length<t;)r+=e;return r}function Zl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var wte=["january","february","march","april","may","june","july","august","september","october","november","december"];function wg(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&wte.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function br(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Lr?n=jc(r):n=qee(r),Qr.utils.cfb_add(e,t,n)}Qr.utils.cfb_add(e,t,r)}else e.file(t,r)}function ak(){return Qr.utils.cfb_new()}var na=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,jte={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ik=nk(jte),sk=/[&<>'"]/g,Nte=/[\u0000-\u0008\u000b-\u001f]/g;function Hr(e){var t=e+"";return t.replace(sk,function(r){return ik[r]}).replace(Nte,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function qE(e){return Hr(e).replace(/ /g,"_x0020_")}var KM=/[\u0000-\u001f]/g;function Ste(e){var t=e+"";return t.replace(sk,function(r){return ik[r]}).replace(/\n/g,"<br/>").replace(KM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _te(e){var t=e+"";return t.replace(sk,function(r){return ik[r]}).replace(KM,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function kte(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ate(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function EN(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function HE(e){var t=ef(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function VE(e){return jc(e,"binary").toString("utf8")}var l1="foo bar bazâð£",D0=Lr&&(VE(l1)==EN(l1)&&VE||HE(l1)==EN(l1)&&HE)||EN,jg=Lr?function(e){return jc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Cte=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),XM=/(^\s|\s$|\n)/;function $a(e,t){return"<"+e+(t.match(XM)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ng(e){return qa(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Nt(e,t,r){return"<"+e+(r!=null?Ng(r):"")+(t!=null?(t.match(XM)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function G4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Ete(e,t){switch(typeof e){case"string":var r=Nt("vt:lpwstr",Hr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Nt((e|0)==e?"vt:i4":"vt:r8",Hr(String(e)));case"boolean":return Nt("vt:bool",e?"true":"false")}if(e instanceof Date)return Nt("vt:filetime",G4(e));throw new Error("Unable to serialize "+e)}var ka={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Jp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ds={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Tte(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Pte(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var GE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},KE=Lr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:jc(t)})):GE(e)}:GE,XE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(y0(e,a)));return n.join("").replace(O0,"")},ok=Lr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(O0,""):XE(e,t,r)}:XE,YE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},YM=Lr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):YE(e,t,r)}:YE,QE=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(sh(e,a)));return n.join("")},Nx=Lr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):QE(t,r,n)}:QE,QM=function(e,t){var r=us(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},JM=QM,ZM=function(e,t){var r=us(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},e$=ZM,t$=function(e,t){var r=2*us(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},r$=t$,n$=function(t,r){var n=us(t,r);return n>0?ok(t,r+4,r+4+n):""},a$=n$,i$=function(e,t){var r=us(e,t);return r>0?Nx(e,t+4,t+4+r):""},s$=i$,o$=function(e,t){return Tte(e,t)},Gy=o$,lk=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Lr&&(JM=function(t,r){if(!Buffer.isBuffer(t))return QM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},e$=function(t,r){if(!Buffer.isBuffer(t))return ZM(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},r$=function(t,r){if(!Buffer.isBuffer(t))return t$(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},a$=function(t,r){if(!Buffer.isBuffer(t))return n$(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},s$=function(t,r){if(!Buffer.isBuffer(t))return i$(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Gy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):o$(t,r)},lk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var sh=function(e,t){return e[t]},y0=function(e,t){return e[t+1]*256+e[t]},Ote=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},us=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Nu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Dte=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function F0(e,t){var r="",n,a,s=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,Lr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(y0(this,d)),d+=2;e*=2;break;case"utf8":r=Nx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=ok(this,this.l,this.l+e);break;case"wstr":return F0.call(this,e,"dbcs");case"lpstr-ansi":r=JM(this,this.l),e=4+us(this,this.l);break;case"lpstr-cp":r=e$(this,this.l),e=4+us(this,this.l);break;case"lpwstr":r=r$(this,this.l),e=4+2*us(this,this.l);break;case"lpp4":e=4+us(this,this.l),r=a$(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+us(this,this.l),r=s$(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=sh(this,this.l+e++))!==0;)s.push(i1(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=y0(this,this.l+e))!==0;)s.push(i1(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=sh(this,d),this.l=d+1,l=F0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(i1(y0(this,d))),d+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=sh(this,d),this.l=d+1,l=F0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(i1(sh(this,d))),d+=1}r=s.join("");break;default:switch(e){case 1:return n=sh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Ote:y0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Nu:Dte)(this,this.l),this.l+=4,n):(a=us(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Gy(this,this.l):a=Gy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=YM(this,this.l,e);break}}return this.l+=e,r}var Fte=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Lte=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Ite=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Rte(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Ite(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Fte(this,t,this.l);break;case 8:if(n=8,r==="f"){Pte(this,t,this.l);break}case 16:break;case-4:n=4,Lte(this,t,this.l);break}return this.l+=n,this}function l$(e,t){var r=YM(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ls(e,t){e.l=t,e.read_shift=F0,e.chk=l$,e.write_shift=Rte}function xl(e,t){e.l+=t}function Ke(e){var t=ef(e);return ls(t,0),t}function qi(){var e=[],t=Lr?256:2048,r=function(d){var u=Ke(d);return ls(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},o=function(){return a(),Ma(e)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function lt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=Toe[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&lk(r)&&e.push(r)}}function L0(e,t,r){var n=Gi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function JE(e,t,r){var n=Gi(e);return n.s=L0(n.s,t.s,r),n.e=L0(n.e,t.s,r),n}function I0(e,t){if(e.cRel&&e.c<0)for(e=Gi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Gi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Gr(e);return!e.cRel&&e.cRel!=null&&(r=Bte(r)),!e.rRel&&e.rRel!=null&&(r=Mte(r)),r}function TN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+li(e.s.c)+":"+(e.e.cRel?"":"$")+li(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ua(e.s.r)+":"+(e.e.rRel?"":"$")+Ua(e.e.r):I0(e.s,t.biff)+":"+I0(e.e,t.biff)}function ck(e){return parseInt($te(e),10)-1}function Ua(e){return""+(e+1)}function Mte(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $te(e){return e.replace(/\$(\d+)$/,"$1")}function dk(e){for(var t=zte(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function li(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Bte(e){return e.replace(/^([A-Z])/,"$$$1")}function zte(e){return e.replace(/^\$([A-Z])/,"$1")}function Ute(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Aa(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Gr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ss(e){var t=e.indexOf(":");return t==-1?{s:Aa(e),e:Aa(e)}:{s:Aa(e.slice(0,t)),e:Aa(e.slice(t+1))}}function ta(e,t){return typeof t>"u"||typeof t=="number"?ta(e.s,e.e):(typeof e!="string"&&(e=Gr(e)),typeof t!="string"&&(t=Gr(t)),e==t?e:e+":"+t)}function vn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ZE(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=$d(e.z,r?Vi(t):t)}catch{}try{return e.w=$d((e.XF||{}).numFmtId||(r?14:0),r?Vi(t):t)}catch{return""+t}}function uc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Sx[e.v]||e.v:t==null?ZE(e,e.v):ZE(e,t))}function pf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function c$(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Aa(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=vn(s["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=o+f,m=l+h;if(d.s.r>g&&(d.s.r=g),d.s.c>m&&(d.s.c=m),d.e.r<g&&(d.e.r=g),d.e.c<m&&(d.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Rn[14],n.cellDates?(p.t="d",p.w=$d(p.z,Vi(p.v))):(p.t="n",p.v=Vi(p.v),p.w=$d(p.z,p.v))):p.t="s";if(a)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var v=Gr({c:m,r:g});s[v]&&s[v].z&&(p.z=s[v].z),s[v]=p}}}return d.s.c<1e7&&(s["!ref"]=ta(d)),s}function Zp(e,t){return c$(null,e,t)}function Wte(e){return e.read_shift(4,"i")}function Po(e,t){return t||(t=Ke(4)),t.write_shift(4,e),t}function ci(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ca(e,t){var r=!1;return t==null&&(r=!0,t=Ke(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function qte(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Hte(e,t){return t||(t=Ke(4)),t.write_shift(2,0),t.write_shift(2,0),t}function uk(e,t){var r=e.l,n=e.read_shift(1),a=ci(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(qte(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Vte(e,t){var r=!1;return t==null&&(r=!0,t=Ke(15+4*e.t.length)),t.write_shift(1,0),Ca(e.t,t),r?t.slice(0,t.l):t}var Gte=uk;function Kte(e,t){var r=!1;return t==null&&(r=!0,t=Ke(23+4*e.t.length)),t.write_shift(1,1),Ca(e.t,t),t.write_shift(4,1),Hte({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Ys(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function mf(e,t){return t==null&&(t=Ke(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xf(e,t){return t==null&&(t=Ke(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Xte=ci,d$=Ca;function fk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ky(e,t){var r=!1;return t==null&&(r=!0,t=Ke(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Yte=ci,K4=fk,hk=Ky;function u$(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Gy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Nu(t,0)>>2;return r?a/100:a}function f$(e,t){t==null&&(t=Ke(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function h$(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Qte(e,t){return t||(t=Ke(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var vf=h$,em=Qte;function tm(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function tf(e,t){return(t||Ke(8)).write_shift(8,e,"f")}function Jte(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=ore[a];d&&(t.rgb=dT(d));break;case 2:t.rgb=dT([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Xy(e,t){if(t||(t=Ke(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Zte(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ere(e,t){t||(t=Ke(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var p$=2,is=3,c1=11,Yy=19,d1=64,tre=65,rre=71,nre=4108,are=4126,Ia=80,eT={1:{n:"CodePage",t:p$},2:{n:"Category",t:Ia},3:{n:"PresentationFormat",t:Ia},4:{n:"ByteCount",t:is},5:{n:"LineCount",t:is},6:{n:"ParagraphCount",t:is},7:{n:"SlideCount",t:is},8:{n:"NoteCount",t:is},9:{n:"HiddenCount",t:is},10:{n:"MultimediaClipCount",t:is},11:{n:"ScaleCrop",t:c1},12:{n:"HeadingPairs",t:nre},13:{n:"TitlesOfParts",t:are},14:{n:"Manager",t:Ia},15:{n:"Company",t:Ia},16:{n:"LinksUpToDate",t:c1},17:{n:"CharacterCount",t:is},19:{n:"SharedDoc",t:c1},22:{n:"HyperlinksChanged",t:c1},23:{n:"AppVersion",t:is,p:"version"},24:{n:"DigSig",t:tre},26:{n:"ContentType",t:Ia},27:{n:"ContentStatus",t:Ia},28:{n:"Language",t:Ia},29:{n:"Version",t:Ia},255:{},2147483648:{n:"Locale",t:Yy},2147483651:{n:"Behavior",t:Yy},1919054434:{}},tT={1:{n:"CodePage",t:p$},2:{n:"Title",t:Ia},3:{n:"Subject",t:Ia},4:{n:"Author",t:Ia},5:{n:"Keywords",t:Ia},6:{n:"Comments",t:Ia},7:{n:"Template",t:Ia},8:{n:"LastAuthor",t:Ia},9:{n:"RevNumber",t:Ia},10:{n:"EditTime",t:d1},11:{n:"LastPrinted",t:d1},12:{n:"CreatedDate",t:d1},13:{n:"ModifiedDate",t:d1},14:{n:"PageCount",t:is},15:{n:"WordCount",t:is},16:{n:"CharCount",t:is},17:{n:"Thumbnail",t:rre},18:{n:"Application",t:Ia},19:{n:"DocSecurity",t:is},255:{},2147483648:{n:"Locale",t:Yy},2147483651:{n:"Behavior",t:Yy},1919054434:{}};function ire(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var sre=ire([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ore=Gi(sre),Sx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lre={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},u1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function m$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function g$(e,t){var r=vte(lre),n=[],a;n[n.length]=na,n[n.length]=Nt("Types",null,{xmlns:ka.CT,"xmlns:xsd":ka.xsd,"xmlns:xsi":ka.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Nt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Nt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:u1[c][t.bookType]||u1[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:u1[c][t.bookType]||u1[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function x$(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function zh(e){var t=[na,Nt("Relationships",null,{xmlns:ka.RELS})];return qa(e["!id"]).forEach(function(r){t[t.length]=Nt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Wr(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Tr.HLINK,Tr.XPATH,Tr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function cre(e){var t=[na];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function rT(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function dre(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function ure(e){var t=[na];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(rT(e[r][0],e[r][1])),t.push(dre("",e[r][0]));return t.push(rT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function v$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Uy.version+"</meta:generator></office:meta></office:document-meta>"}var zu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function PN(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Hr(t),n[n.length]=r?Nt(e,t,r):$a(e,t))}function y$(e,t){var r=t||{},n=[na,Nt("cp:coreProperties",null,{"xmlns:cp":ka.CORE_PROPS,"xmlns:dc":ka.dc,"xmlns:dcterms":ka.dcterms,"xmlns:dcmitype":ka.dcmitype,"xmlns:xsi":ka.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&PN("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:G4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&PN("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:G4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=zu.length;++s){var o=zu[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&PN(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Uh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],b$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function w$(e){var t=[],r=Nt;return e||(e={}),e.Application="SheetJS",t[t.length]=na,t[t.length]=Nt("Properties",null,{xmlns:ka.EXT_PROPS,"xmlns:vt":ka.vt}),Uh.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Hr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Hr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function j$(e){var t=[na,Nt("Properties",null,{xmlns:ka.CUST_PROPS,"xmlns:vt":ka.vt})];if(!e)return t.join("");var r=1;return qa(e).forEach(function(a){++r,t[t.length]=Nt("property",Ete(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Hr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var nT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function fre(e,t){var r=[];return qa(nT).map(function(n){for(var a=0;a<zu.length;++a)if(zu[a][1]==n)return zu[a];for(a=0;a<Uh.length;++a)if(Uh[a][1]==n)return Uh[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push($a(nT[n[1]]||n[1],a))}}),Nt("DocumentProperties",r.join(""),{xmlns:ds.o})}function hre(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&qa(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<zu.length;++o)if(s==zu[o][1])return;for(o=0;o<Uh.length;++o)if(s==Uh[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Nt(qE(s),l,{"dt:dt":c}))}}),t&&qa(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Nt(qE(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+ds.o+'">'+a.join("")+"</"+n+">"}function pre(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=Ke(8);return o.write_shift(4,n),o.write_shift(4,a),o}function aT(e,t){var r=Ke(4),n=Ke(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ke(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=pre(t);break;case 31:case 80:for(n=Ke(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ma([r,n])}var N$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mre(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function iT(e,t,r){var n=Ke(8),a=[],s=[],o=8,l=0,c=Ke(8),d=Ke(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),s.push(c),a.push(d),o+=8+c.length,!t){d=Ke(8),d.write_shift(4,0),a.unshift(d);var u=[Ke(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ke(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ma(u),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(N$.indexOf(e[l][0])>-1||b$.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=aT(g.t,h)}else{var v=mre(h);v==-1&&(v=31,h=String(h)),c=aT(v,h)}s.push(c),d=Ke(8),d.write_shift(4,t?p:2+l),a.push(d),o+=8+c.length}var x=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,x),x+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),Ma([n].concat(a).concat(s))}function sT(e,t,r,n,a,s){var o=Ke(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Qr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=iT(e,r,n);if(l.push(c),a){var d=iT(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ma(l)}function gre(e,t){t||(t=Ke(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function xre(e,t){return e.read_shift(t)===1}function wi(e,t){return t||(t=Ke(2)),t.write_shift(2,+!!e),t}function S$(e){return e.read_shift(2,"u")}function $s(e,t){return t||(t=Ke(2)),t.write_shift(2,e),t}function _$(e,t,r){return r||(r=Ke(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function k$(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function vre(e){var t=e.t||"",r=Ke(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ke(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ma(a)}function yre(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function bre(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):yre(e,n,r)}function wre(e,t,r){if(r.biff>5)return bre(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function A$(e,t,r){return r||(r=Ke(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function oT(e,t){t||(t=Ke(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function jre(e){var t=Ke(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),oT(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&oT(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function rf(e,t,r,n){return n||(n=Ke(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Nre(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function Sre(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function C$(e,t){return t||(t=Ke(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function pk(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ke(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _re(e,t){var r=!t||t.biff==8,n=Ke(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function kre(e,t){var r=!t||t.biff>=8?2:1,n=Ke(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Are(e,t){var r=Ke(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=vre(e[a]);var s=Ma([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function Cre(){var e=Ke(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ere(e){var t=Ke(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Tre(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=Ke(a);return s.write_shift(2,(e.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Pre(e,t,r,n){var a=Ke(10);return rf(e,t,n,a),a.write_shift(4,r),a}function Ore(e,t,r,n,a){var s=!a||a.biff==8,o=Ke(8+ +s+(1+s)*r.length);return rf(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function Dre(e,t,r,n){var a=r&&r.biff==5;n||(n=Ke(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function Fre(e,t){var r=t.biff==8||!t.biff?4:2,n=Ke(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function lT(e,t,r,n){var a=r&&r.biff==5;n||(n=Ke(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Lre(e){var t=Ke(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Ire(e,t,r,n,a,s){var o=Ke(8);return rf(e,t,n,o),_$(r,s,o),o}function Rre(e,t,r,n){var a=Ke(14);return rf(e,t,n,a),tf(r,a),a}function Mre(e,t,r){if(r.biff<8)return $re(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Nre(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function $re(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=k$(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Bre(e){var t=Ke(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)C$(e[r],t);return t}function zre(e){var t=Ke(24),r=Aa(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ma([t,jre(e[1])])}function Ure(e){var t=e[1].Tooltip,r=Ke(10+2*(t.length+1));r.write_shift(2,2048);var n=Aa(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Wre(e){return e||(e=Ke(4)),e.write_shift(2,1),e.write_shift(2,1),e}function qre(e,t,r){if(!r.cellStyles)return xl(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function Hre(e,t){var r=Ke(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Vre(e){for(var t=Ke(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Gre(e,t,r){var n=Ke(15);return kx(n,e,t),n.write_shift(8,r,"f"),n}function Kre(e,t,r){var n=Ke(9);return kx(n,e,t),n.write_shift(2,r),n}var Xre=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=nk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=ef(1);switch(c.type){case"base64":u=_o(dc(l));break;case"binary":u=_o(l);break;case"buffer":case"array":u=l;break}ls(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var x=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],N={},j=Math.min(u.length,f==2?521:v-10-(p?264:0)),C=g?32:11;u.l<j&&u[u.l]!=13;)switch(N={},N.name=ju.utils.decode(y,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,N.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),f==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&w.push(N),f!=2&&(u.l+=g?13:14),N.type){case"B":(!p||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var k=0,_=0;for(d[0]=[],_=0;_!=w.length;++_)d[0][_]=w[_].name;for(;m-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,d[++k]=[],_=0,_=0;_!=w.length;++_){var L=u.slice(u.l,u.l+w[_].len);u.l+=w[_].len,ls(L,0);var z=ju.utils.decode(y,L);switch(w[_].type){case"C":z.trim().length&&(d[k][_]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[k][_]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[k][_]=z;break;case"F":d[k][_]=parseFloat(z.trim());break;case"+":case"I":d[k][_]=g?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[k][_]=!0;break;case"N":case"F":d[k][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[k][_]="##MEMO##"+(g?parseInt(z.trim(),10):L.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[k][_]=+z||0);break;case"@":d[k][_]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":d[k][_]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":d[k][_]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][_]=-L.read_shift(-8,"f");break;case"B":if(p&&w[_].len==8){d[k][_]=L.read_shift(8,"f");break}case"G":case"P":L.l+=w[_].len;break;case"0":if(w[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Zp(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return pf(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&yg(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=qi(),f=tb(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=l["!cols"]||[],m=0,v=0,x=0,y=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++x;continue}if(h[m]!=null){if(++x,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var w=vn(l["!ref"]),N=[],j=[],C=[];for(m=0;m<=w.e.c-w.s.c;++m){var k="",_="",L=0,z=[];for(v=0;v<p.length;++v)p[v][m]!=null&&z.push(p[v][m]);if(z.length==0||h[m]==null){N[m]="?";continue}for(v=0;v<z.length;++v){switch(typeof z[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=z[v]instanceof Date?"D":"C";break;default:_="C"}L=Math.max(L,String(z[v]).length),k=k&&k!=_?"C":_}L>250&&(L=250),_=((g[m]||{}).DBF||{}).type,_=="C"&&g[m].DBF.len>L&&(L=g[m].DBF.len),k=="B"&&_=="N"&&(k="N",C[m]=g[m].DBF.dec,L=g[m].DBF.len),j[m]=k=="C"||_=="N"?L:s[k]||0,y+=j[m],N[m]=k}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*x),D.write_shift(2,y),m=0;m<4;++m)D.write_shift(4,0);for(D.write_shift(4,0|(+t[TM]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var T=u.next(32),I=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,I,"sbcs"),T.write_shift(1,N[m]=="?"?"C":N[m],"sbcs"),T.write_shift(4,v),T.write_shift(1,j[m]||s[N[m]]||0),T.write_shift(1,C[m]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=j[m]||s[N[m]]||0}var B=u.next(264);for(B.write_shift(4,13),m=0;m<65;++m)B.write_shift(4,0);for(m=0;m<p.length;++m){var J=u.next(y);for(J.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(N[v]){case"L":J.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":J.write_shift(8,p[m][v]||0,"f");break;case"N":var U="0";for(typeof p[m][v]=="number"&&(U=p[m][v].toFixed(C[v]||0)),x=0;x<j[v]-U.length;++x)J.write_shift(1,32);J.write_shift(1,U,"sbcs");break;case"D":p[m][v]?(J.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),J.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),J.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):J.write_shift(8,"00000000","sbcs");break;case"C":var X=String(p[m][v]!=null?p[m][v]:"").slice(0,j[v]);for(J.write_shift(1,X,"sbcs"),x=0;x<j[v]-X.length;++x)J.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Yre=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+qa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?OE(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:OE(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(dc(h),p);case"binary":return s(h,p);case"buffer":return s(Lr&&Buffer.isBuffer(h)?h.toString("binary"):wx(h),p);case"array":return s(X2(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,x=0,y=0,w=[],N=[],j=null,C={},k=[],_=[],L=[],z=0,D;for(+p.codepage>=0&&yg(+p.codepage);x!==g.length;++x){z=0;var T=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=T.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),B=I[0],J;if(T.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&N.push(T.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,X=!1,M=!1,Q=!1,le=-1,ue=-1;for(y=1;y<I.length;++y)switch(I[y].charAt(0)){case"A":break;case"X":v=parseInt(I[y].slice(1))-1,X=!0;break;case"Y":for(m=parseInt(I[y].slice(1))-1,X||(v=0),D=w.length;D<=m;++D)w[D]=[];break;case"K":J=I[y].slice(1),J.charAt(0)==='"'?J=J.slice(1,J.length-1):J==="TRUE"?J=!0:J==="FALSE"?J=!1:isNaN(Zl(J))?isNaN(wg(J).getDate())||(J=Ei(J)):(J=Zl(J),j!==null&&UM(j)&&(J=VM(J))),U=!0;break;case"E":Q=!0;var O=Kne(I[y].slice(1),{r:m,c:v});w[m][v]=[w[m][v],O];break;case"S":M=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":le=parseInt(I[y].slice(1))-1;break;case"C":ue=parseInt(I[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(U&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=J:w[m][v]=J,j=null),M){if(Q)throw new Error("SYLK shared formula cannot have own formula");var V=le>-1&&w[le][ue];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=Xne(V[1],{r:m-le,c:v-ue})}break;case"F":var Y=0;for(y=1;y<I.length;++y)switch(I[y].charAt(0)){case"X":v=parseInt(I[y].slice(1))-1,++Y;break;case"Y":for(m=parseInt(I[y].slice(1))-1,D=w.length;D<=m;++D)w[D]=[];break;case"M":z=parseInt(I[y].slice(1))/20;break;case"F":break;case"G":break;case"P":j=N[parseInt(I[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=I[y].slice(1).split(" "),D=parseInt(L[0],10);D<=parseInt(L[1],10);++D)z=parseInt(L[2],10),_[D-1]=z===0?{hidden:!0}:{wch:z},mk(_[D-1]);break;case"C":v=parseInt(I[y].slice(1))-1,_[v]||(_[v]={});break;case"R":m=parseInt(I[y].slice(1))-1,k[m]||(k[m]={}),z>0?(k[m].hpt=z,k[m].hpx=D$(z)):z===0&&(k[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}Y<1&&(j=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return k.length>0&&(C["!rows"]=k),_.length>0&&(C["!cols"]=_),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,C]}function o(h,p){var g=a(h,p),m=g[0],v=g[1],x=Zp(m,p);return qa(v).forEach(function(y){x[y]=v[y]}),x}function l(h,p){return pf(o(h,p),p)}function c(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+xk(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function d(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Qy(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Jy(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Zy(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=vn(h["!ref"]),x,y=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&d(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var N=v.s.r;N<=v.e.r;++N)for(var j=v.s.c;j<=v.e.c;++j){var C=Gr({r:N,c:j});x=y?(h[N]||[])[j]:h[C],!(!x||x.v==null&&(!x.f||x.F))&&m.push(c(x,h,N,j))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),Qre=function(){function e(s,o){switch(o.type){case"base64":return t(dc(s),o);case"binary":return t(s,o);case"buffer":return t(Lr&&Buffer.isBuffer(s)?s.toString("binary"):wx(s),o);case"array":return t(X2(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var h=l[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=l[u]||"";(m.match(/["]/g)||[]).length&1&&u<l.length-1;)m+=`
`+l[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],d=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][d]=!0:m==="FALSE"?f[c][d]=!1:isNaN(Zl(g))?isNaN(wg(g).getDate())?f[c][d]=g:f[c][d]=Ei(g):f[c][d]=Zl(g),++d;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][d++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Zp(e(s,o),o)}function n(s,o){return pf(r(s,o),o)}var a=function(){var s=function(c,d,u,f,h){c.push(d),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=vn(c["!ref"]),f,h=Array.isArray(c);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,u.e.r-u.s.r+1,""),s(d,"TUPLES",0,u.e.c-u.s.c+1,""),s(d,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(d,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Gr({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){o(d,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,v,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=$d(f.z||Rn[14],Vi(Ei(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var x=`\r
`,y=d.join(x);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),E$=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,x=[];v!==p.length;++v){var y=p[v].trim().split(":");if(y[0]==="cell"){var w=Aa(y[1]);if(x.length<=w.r)for(g=x.length;g<=w.r;++g)x[g]||(x[g]=[]);switch(g=w.r,m=w.c,y[2]){case"t":x[g][m]=e(y[3]);break;case"v":x[g][m]=+y[3];break;case"vtf":var N=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[g][m]=!!+y[4];break;default:x[g][m]=+y[4];break}y[2]=="vtf"&&(x[g][m]=[x[g][m],N])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return Zp(r(f,h),h)}function a(f,h){return pf(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=Ss(f["!ref"]),x=Array.isArray(f),y=v.s.r;y<=v.e.r;++y)for(var w=v.s.c;w<=v.e.c;++w)if(m=Gr({r:y,c:w}),g=x?(f[y]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var N=Vi(Ei(g.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=g.w||$d(g.z||Rn[14],N);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Jre=function(){function e(u,f,h,p,g){g.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Zl(u))?isNaN(wg(u).getDate())?f[h][p]=u:f[h][p]=Ei(u):f[h][p]=Zl(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,x=0,y=0;y<=m;++y)x=g[y].indexOf(" "),x==-1?x=g[y].length:x++,v=Math.max(v,x);for(y=0;y<=m;++y){p[y]=[];var w=0;for(e(g[y].slice(0,v).trim(),p,y,w,h),w=1;w<=(g[y].length-v)/10+1;++w)e(g[y].slice(v+(w-1)*10,v+w*10).trim(),p,y,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(u,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,x=0,y=0,w=0,N=0,j=p.charCodeAt(0),C=!1,k=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var L=h.dateNF!=null?pte(h.dateNF):null;function z(){var D=u.slice(w,N),T={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)T.t="z";else if(h.raw)T.t="s",T.v=D;else if(D.trim().length===0)T.t="s",T.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(T.t="s",T.v=D.slice(2,-1).replace(/""/g,'"')):Yne(D)?(T.t="n",T.f=D.slice(1)):(T.t="s",T.v=D);else if(D=="TRUE")T.t="b",T.v=!0;else if(D=="FALSE")T.t="b",T.v=!1;else if(!isNaN(y=Zl(D)))T.t="n",h.cellText!==!1&&(T.w=D),T.v=y;else if(!isNaN(wg(D).getDate())||L&&D.match(L)){T.z=h.dateNF||Rn[14];var I=0;L&&D.match(L)&&(D=mte(D,h.dateNF,D.match(L)||[]),I=1),h.cellDates?(T.t="d",T.v=Ei(D,I)):(T.t="n",T.v=Vi(Ei(D,I))),h.cellText!==!1&&(T.w=$d(T.z,T.v instanceof Date?Vi(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=D;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][x]=T):g[Gr({c:x,r:v})]=T),w=N+1,_=u.charCodeAt(w),m.e.c<x&&(m.e.c=x),m.e.r<v&&(m.e.r=v),k==j)++x;else if(x=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;N<u.length;++N)switch(k=u.charCodeAt(N)){case 34:_===34&&(C=!C);break;case j:case 10:case 13:if(!C&&z())break e;break}return N-w>0&&z(),g["!ref"]=ta(m),g}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Zp(t(u,f),f)}function l(u,f){var h="",p=f.type=="string"?[0,0,0,0]:dle(u,f);switch(f.type){case"base64":h=dc(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof ju<"u"?h=ju.utils.decode(f.codepage,u):h=Lr&&Buffer.isBuffer(u)?u.toString("binary"):wx(u);break;case"array":h=X2(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=D0(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=D0(h):f.type=="binary"&&typeof ju<"u"&&f.codepage&&(h=ju.utils.decode(f.codepage,ju.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?E$.to_sheet(f.type=="string"?h:D0(h),f):o(h,f)}function c(u,f){return pf(l(u,f),f)}function d(u){for(var f=[],h=vn(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],x=h.s.c;x<=h.e.c;++x){var y=Gr({r:m,c:x});if(p=g?(u[m]||[])[x]:u[y],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(uc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(x===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),cT=function(){function e(O,V,Y){if(O){ls(O,O.l||0);for(var q=Y.Enum||le;O.l<O.length;){var P=O.read_shift(2),R=q[P]||q[65535],G=O.read_shift(2),W=O.l+G,H=R.f&&R.f(O,G,Y);if(O.l=W,V(H,R,P))return}}}function t(O,V){switch(V.type){case"base64":return r(_o(dc(O)),V);case"binary":return r(_o(O),V);case"buffer":case"array":return r(O,V)}throw"Unsupported type "+V.type}function r(O,V){if(!O)return O;var Y=V||{},q=Y.dense?[]:{},P="Sheet1",R="",G=0,W={},H=[],me=[],ae={s:{r:0,c:0},e:{r:0,c:0}},be=Y.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)Y.Enum=le,e(O,function(Oe,Pe,ke){switch(ke){case 0:Y.vers=Oe,Oe>=4096&&(Y.qpro=!0);break;case 6:ae=Oe;break;case 204:Oe&&(R=Oe);break;case 222:R=Oe;break;case 15:case 51:Y.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:ke==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=Y.dateNF||Rn[14],Y.cellDates&&(Oe[1].t="d",Oe[1].v=VM(Oe[1].v))),Y.qpro&&Oe[3]>G&&(q["!ref"]=ta(ae),W[P]=q,H.push(P),q=Y.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},G=Oe[3],P=R||"Sheet"+(G+1),R="");var Le=Y.dense?(q[Oe[0].r]||[])[Oe[0].c]:q[Gr(Oe[0])];if(Le){Le.t=Oe[1].t,Le.v=Oe[1].v,Oe[1].z!=null&&(Le.z=Oe[1].z),Oe[1].f!=null&&(Le.f=Oe[1].f);break}Y.dense?(q[Oe[0].r]||(q[Oe[0].r]=[]),q[Oe[0].r][Oe[0].c]=Oe[1]):q[Gr(Oe[0])]=Oe[1];break}},Y);else if(O[2]==26||O[2]==14)Y.Enum=ue,O[2]==14&&(Y.qpro=!0,O.l=0),e(O,function(Oe,Pe,ke){switch(ke){case 204:P=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>G&&(q["!ref"]=ta(ae),W[P]=q,H.push(P),q=Y.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},G=Oe[3],P="Sheet"+(G+1)),be>0&&Oe[0].r>=be)break;Y.dense?(q[Oe[0].r]||(q[Oe[0].r]=[]),q[Oe[0].r][Oe[0].c]=Oe[1]):q[Gr(Oe[0])]=Oe[1],ae.e.c<Oe[0].c&&(ae.e.c=Oe[0].c),ae.e.r<Oe[0].r&&(ae.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(me[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:me[Oe[0]]=Oe[1],Oe[0]==G&&(P=Oe[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(q["!ref"]=ta(ae),W[R||P]=q,H.push(R||P),!me.length)return{SheetNames:H,Sheets:W};for(var te={},ge=[],re=0;re<me.length;++re)W[H[re]]?(ge.push(me[re]||H[re]),te[me[re]]=W[me[re]]||W[H[re]]):(ge.push(me[re]),te[me[re]]={"!ref":"A1"});return{SheetNames:ge,Sheets:te}}function n(O,V){var Y=V||{};if(+Y.codepage>=0&&yg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var q=qi(),P=vn(O["!ref"]),R=Array.isArray(O),G=[];St(q,0,s(1030)),St(q,6,c(P));for(var W=Math.min(P.e.r,8191),H=P.s.r;H<=W;++H)for(var me=Ua(H),ae=P.s.c;ae<=P.e.c;++ae){H===P.s.r&&(G[ae]=li(ae));var be=G[ae]+me,te=R?(O[H]||[])[ae]:O[be];if(!(!te||te.t=="z"))if(te.t=="n")(te.v|0)==te.v&&te.v>=-32768&&te.v<=32767?St(q,13,p(H,ae,te.v)):St(q,14,m(H,ae,te.v));else{var ge=uc(te);St(q,15,f(H,ae,ge.slice(0,239)))}}return St(q,1),q.end()}function a(O,V){var Y=V||{};if(+Y.codepage>=0&&yg(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var q=qi();St(q,0,o(O));for(var P=0,R=0;P<O.SheetNames.length;++P)(O.Sheets[O.SheetNames[P]]||{})["!ref"]&&St(q,27,Q(O.SheetNames[P],R++));var G=0;for(P=0;P<O.SheetNames.length;++P){var W=O.Sheets[O.SheetNames[P]];if(!(!W||!W["!ref"])){for(var H=vn(W["!ref"]),me=Array.isArray(W),ae=[],be=Math.min(H.e.r,8191),te=H.s.r;te<=be;++te)for(var ge=Ua(te),re=H.s.c;re<=H.e.c;++re){te===H.s.r&&(ae[re]=li(re));var Oe=ae[re]+ge,Pe=me?(W[te]||[])[re]:W[Oe];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")St(q,23,z(te,re,G,Pe.v));else{var ke=uc(Pe);St(q,22,k(te,re,G,ke.slice(0,239)))}}++G}}return St(q,1),q.end()}function s(O){var V=Ke(2);return V.write_shift(2,O),V}function o(O){var V=Ke(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var Y=0,q=0,P=0,R=0;R<O.SheetNames.length;++R){var G=O.SheetNames[R],W=O.Sheets[G];if(!(!W||!W["!ref"])){++P;var H=Ss(W["!ref"]);Y<H.e.r&&(Y=H.e.r),q<H.e.c&&(q=H.e.c)}}return Y>8191&&(Y=8191),V.write_shift(2,Y),V.write_shift(1,P),V.write_shift(1,q),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(O,V,Y){var q={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&Y.qpro?(q.s.c=O.read_shift(1),O.l++,q.s.r=O.read_shift(2),q.e.c=O.read_shift(1),O.l++,q.e.r=O.read_shift(2),q):(q.s.c=O.read_shift(2),q.s.r=O.read_shift(2),V==12&&Y.qpro&&(O.l+=2),q.e.c=O.read_shift(2),q.e.r=O.read_shift(2),V==12&&Y.qpro&&(O.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(O){var V=Ke(8);return V.write_shift(2,O.s.c),V.write_shift(2,O.s.r),V.write_shift(2,O.e.c),V.write_shift(2,O.e.r),V}function d(O,V,Y){var q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(q[0].c=O.read_shift(1),q[3]=O.read_shift(1),q[0].r=O.read_shift(2),O.l+=2):(q[2]=O.read_shift(1),q[0].c=O.read_shift(2),q[0].r=O.read_shift(2)),q}function u(O,V,Y){var q=O.l+V,P=d(O,V,Y);if(P[1].t="s",Y.vers==20768){O.l++;var R=O.read_shift(1);return P[1].v=O.read_shift(R,"utf8"),P}return Y.qpro&&O.l++,P[1].v=O.read_shift(q-O.l,"cstr"),P}function f(O,V,Y){var q=Ke(7+Y.length);q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,O),q.write_shift(1,39);for(var P=0;P<q.length;++P){var R=Y.charCodeAt(P);q.write_shift(1,R>=128?95:R)}return q.write_shift(1,0),q}function h(O,V,Y){var q=d(O,V,Y);return q[1].v=O.read_shift(2,"i"),q}function p(O,V,Y){var q=Ke(7);return q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,O),q.write_shift(2,Y,"i"),q}function g(O,V,Y){var q=d(O,V,Y);return q[1].v=O.read_shift(8,"f"),q}function m(O,V,Y){var q=Ke(13);return q.write_shift(1,255),q.write_shift(2,V),q.write_shift(2,O),q.write_shift(8,Y,"f"),q}function v(O,V,Y){var q=O.l+V,P=d(O,V,Y);if(P[1].v=O.read_shift(8,"f"),Y.qpro)O.l=q;else{var R=O.read_shift(2);N(O.slice(O.l,O.l+R),P),O.l+=R}return P}function x(O,V,Y){var q=V&32768;return V&=-32769,V=(q?O:0)+(V>=8192?V-16384:V),(q?"":"$")+(Y?li(V):Ua(V))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(O,V){ls(O,0);for(var Y=[],q=0,P="",R="",G="",W="";O.l<O.length;){var H=O[O.l++];switch(H){case 0:Y.push(O.read_shift(8,"f"));break;case 1:R=x(V[0].c,O.read_shift(2),!0),P=x(V[0].r,O.read_shift(2),!1),Y.push(R+P);break;case 2:{var me=x(V[0].c,O.read_shift(2),!0),ae=x(V[0].r,O.read_shift(2),!1);R=x(V[0].c,O.read_shift(2),!0),P=x(V[0].r,O.read_shift(2),!1),Y.push(me+ae+":"+R+P)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(O.read_shift(2));break;case 6:{for(var be="";H=O[O.l++];)be+=String.fromCharCode(H);Y.push('"'+be.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:W=Y.pop(),G=Y.pop(),Y.push(["AND","OR"][H-20]+"("+G+","+W+")");break;default:if(H<32&&w[H])W=Y.pop(),G=Y.pop(),Y.push(G+w[H]+W);else if(y[H]){if(q=y[H][1],q==69&&(q=O[O.l++]),q>Y.length){console.error("WK1 bad formula parse 0x"+H.toString(16)+":|"+Y.join("|")+"|");return}var te=Y.slice(-q);Y.length-=q,Y.push(y[H][0]+"("+te.join(",")+")")}else return H<=7?console.error("WK1 invalid opcode "+H.toString(16)):H<=24?console.error("WK1 unsupported op "+H.toString(16)):H<=30?console.error("WK1 invalid opcode "+H.toString(16)):H<=115?console.error("WK1 unsupported function opcode "+H.toString(16)):console.error("WK1 unrecognized opcode "+H.toString(16))}}Y.length==1?V[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function j(O){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=O.read_shift(2),V[3]=O[O.l++],V[0].c=O[O.l++],V}function C(O,V){var Y=j(O);return Y[1].t="s",Y[1].v=O.read_shift(V-4,"cstr"),Y}function k(O,V,Y,q){var P=Ke(6+q.length);P.write_shift(2,O),P.write_shift(1,Y),P.write_shift(1,V),P.write_shift(1,39);for(var R=0;R<q.length;++R){var G=q.charCodeAt(R);P.write_shift(1,G>=128?95:G)}return P.write_shift(1,0),P}function _(O,V){var Y=j(O);Y[1].v=O.read_shift(2);var q=Y[1].v>>1;if(Y[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return Y[1].v=q,Y}function L(O,V){var Y=j(O),q=O.read_shift(4),P=O.read_shift(4),R=O.read_shift(2);if(R==65535)return q===0&&P===3221225472?(Y[1].t="e",Y[1].v=15):q===0&&P===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var G=R&32768;return R=(R&32767)-16446,Y[1].v=(1-G*2)*(P*Math.pow(2,R+32)+q*Math.pow(2,R)),Y}function z(O,V,Y,q){var P=Ke(14);if(P.write_shift(2,O),P.write_shift(1,Y),P.write_shift(1,V),q==0)return P.write_shift(4,0),P.write_shift(4,0),P.write_shift(2,65535),P;var R=0,G=0,W=0,H=0;return q<0&&(R=1,q=-q),G=Math.log2(q)|0,q/=Math.pow(2,G-31),H=q>>>0,H&2147483648||(q/=2,++G,H=q>>>0),q-=H,H|=2147483648,H>>>=0,q*=Math.pow(2,32),W=q>>>0,P.write_shift(4,W),P.write_shift(4,H),G+=16383+(R?32768:0),P.write_shift(2,G),P}function D(O,V){var Y=L(O);return O.l+=V-14,Y}function T(O,V){var Y=j(O),q=O.read_shift(4);return Y[1].v=q>>6,Y}function I(O,V){var Y=j(O),q=O.read_shift(8,"f");return Y[1].v=q,Y}function B(O,V){var Y=I(O);return O.l+=V-10,Y}function J(O,V){return O[O.l+V-1]==0?O.read_shift(V,"cstr"):""}function U(O,V){var Y=O[O.l++];Y>V-1&&(Y=V-1);for(var q="";q.length<Y;)q+=String.fromCharCode(O[O.l++]);return q}function X(O,V,Y){if(!(!Y.qpro||V<21)){var q=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var P=O.read_shift(V-21,"cstr");return[q,P]}}function M(O,V){for(var Y={},q=O.l+V;O.l<q;){var P=O.read_shift(2);if(P==14e3){for(Y[P]=[0,""],Y[P][0]=O.read_shift(2);O[O.l];)Y[P][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return Y}function Q(O,V){var Y=Ke(5+O.length);Y.write_shift(2,14e3),Y.write_shift(2,V);for(var q=0;q<O.length;++q){var P=O.charCodeAt(q);Y[Y.l++]=P>127?95:P}return Y[Y.l++]=0,Y}var le={0:{n:"BOF",f:S$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:J},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:J},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Zre=/^\s|\s$|[\t\n\r]/;function T$(e,t){if(!t.bookSST)return"";var r=[na];r[r.length]=Nt("sst",null,{xmlns:Jp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(Zre)&&(s+=' xml:space="preserve"'),s+=">"+Hr(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function ene(e){return[e.read_shift(4),e.read_shift(4)]}function tne(e,t){return t||(t=Ke(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var rne=Vte;function nne(e){var t=qi();lt(t,159,tne(e));for(var r=0;r<e.length;++r)lt(t,19,rne(e[r]));return lt(t,160),t.end()}function ane(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function P$(e){var t=0,r,n=ane(e),a=n.length+1,s,o,l,c,d;for(r=ef(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var ine=function(){function e(a,s){switch(s.type){case"base64":return t(dc(a),s);case"binary":return t(a,s);case"buffer":return t(Lr&&Buffer.isBuffer(a)?a.toString("binary"):wx(a),s);case"array":return t(X2(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var x={v,t:"s"};Array.isArray(l)?l[f][m]=x:l[Gr({r:f,c:m})]=x}break}p=h.lastIndex}m>d.e.c&&(d.e.c=m)}),l["!ref"]=ta(d),l}function r(a,s){return pf(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=vn(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Gr({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(uc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function dT(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var sne=6,ec=sne;function Qy(e){return Math.floor((e+Math.round(128/ec)/256)*ec)}function Jy(e){return Math.floor((e-5)/ec*100+.5)/100}function X4(e){return Math.round((e*ec+5)/ec*256)/256}function mk(e){e.width?(e.wpx=Qy(e.width),e.wch=Jy(e.wpx),e.MDW=ec):e.wpx?(e.wch=Jy(e.wpx),e.width=X4(e.wch),e.MDW=ec):typeof e.wch=="number"&&(e.width=X4(e.wch),e.wpx=Qy(e.width),e.MDW=ec),e.customWidth&&delete e.customWidth}var one=96,O$=one;function Zy(e){return e*96/O$}function D$(e){return e*O$/96}function lne(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Nt("numFmt",null,{numFmtId:n,formatCode:Hr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Nt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function cne(e){var t=[];return t[t.length]=Nt("cellXfs",null),e.forEach(function(r){t[t.length]=Nt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Nt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function F$(e,t){var r=[na,Nt("styleSheet",null,{xmlns:Jp[0],"xmlns:vt":ka.vt})],n;return e.SSF&&(n=lne(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=cne(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function dne(e,t){var r=e.read_shift(2),n=ci(e);return[r,n]}function une(e,t,r){r||(r=Ke(6+4*t.length)),r.write_shift(2,e),Ca(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function fne(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Zte(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Jte(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ci(e),n}function hne(e,t){t||(t=Ke(25+4*32)),t.write_shift(2,e.sz*20),ere(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Xy(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Ca(e.name,t),t.length>t.l?t.slice(0,t.l):t}var pne=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ON,mne=xl;function uT(e,t){t||(t=Ke(4*3+8*7+16*1)),ON||(ON=nk(pne));var r=ON[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Xy({auto:1},t),Xy({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function gne(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function L$(e,t,r){r||(r=Ke(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function n0(e,t){return t||(t=Ke(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var xne=xl;function vne(e,t){return t||(t=Ke(51)),t.write_shift(1,0),n0(null,t),n0(null,t),n0(null,t),n0(null,t),n0(null,t),t.length>t.l?t.slice(0,t.l):t}function yne(e,t){return t||(t=Ke(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Ky(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function bne(e,t,r){var n=Ke(2052);return n.write_shift(4,e),Ky(t,n),Ky(r,n),n.length>n.l?n.slice(0,n.l):n}function wne(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(lt(e,615,Po(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&lt(e,44,une(a,t[a]))}),lt(e,616))}}function jne(e){var t=1;lt(e,611,Po(t)),lt(e,43,hne({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),lt(e,612)}function Nne(e){var t=2;lt(e,603,Po(t)),lt(e,45,uT({patternType:"none"})),lt(e,45,uT({patternType:"gray125"})),lt(e,604)}function Sne(e){var t=1;lt(e,613,Po(t)),lt(e,46,vne()),lt(e,614)}function _ne(e){var t=1;lt(e,626,Po(t)),lt(e,47,L$({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),lt(e,627)}function kne(e,t){lt(e,617,Po(t.length)),t.forEach(function(r){lt(e,47,L$(r,0))}),lt(e,618)}function Ane(e){var t=1;lt(e,619,Po(t)),lt(e,48,yne({xfId:0,builtinId:0,name:"Normal"})),lt(e,620)}function Cne(e){var t=0;lt(e,505,Po(t)),lt(e,506)}function Ene(e){var t=0;lt(e,508,bne(t,"TableStyleMedium9","PivotStyleMedium4")),lt(e,509)}function Tne(e,t){var r=qi();return lt(r,278),wne(r,e.SSF),jne(r),Nne(r),Sne(r),_ne(r),kne(r,t.cellXfs),Ane(r),Cne(r),Ene(r),lt(r,279),r.end()}function I$(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[na];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Pne(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ci(e)}}function One(e){var t=Ke(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ca(e.name,t),t.slice(0,t.l)}function Dne(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Fne(e){var t=Ke(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Lne(e,t){var r=Ke(8+2*t.length);return r.write_shift(4,e),Ca(t,r),r.slice(0,r.l)}function Ine(e){return e.l+=4,e.read_shift(4)!=0}function Rne(e,t){var r=Ke(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Mne(){var e=qi();return lt(e,332),lt(e,334,Po(1)),lt(e,335,One({name:"XLDAPR",version:12e4,flags:3496657072})),lt(e,336),lt(e,339,Lne(1,"XLDAPR")),lt(e,52),lt(e,35,Po(514)),lt(e,4096,Po(0)),lt(e,4097,$s(1)),lt(e,36),lt(e,53),lt(e,340),lt(e,337,Rne(1)),lt(e,51,Fne([[1,0]])),lt(e,338),lt(e,333),e.end()}function R$(){var e=[na];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function $ne(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Gr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var wh=1024;function M$(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Nt("xml",null,{"xmlns:v":ds.v,"xmlns:o":ds.o,"xmlns:x":ds.x,"xmlns:mv":ds.mv}).replace(/\/>/,">"),Nt("o:shapelayout",Nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Nt("v:shapetype",[Nt("v:stroke",null,{joinstyle:"miter"}),Nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];wh<e*1e3;)wh+=1e3;return t.forEach(function(s){var o=Aa(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Nt("v:fill",c,l),u={on:"t",obscured:"t"};++wh,a=a.concat(["<v:shape"+Ng({id:"_x0000_s"+wh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Nt("v:shadow",null,u),Nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$a("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),$a("x:AutoFill","False"),$a("x:Row",String(o.r)),$a("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function $$(e){var t=[na,Nt("comments",null,{xmlns:Jp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Hr(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Hr(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push($a("t",Hr(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push($a("t",Hr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Bne(e,t,r){var n=[na,Nt("ThreadedComments",null,{xmlns:ka.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Nt("threadedComment",$a("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function zne(e){var t=[na,Nt("personList",null,{xmlns:ka.TCMNT,"xmlns:x":Jp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Nt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Une(e){var t={};t.iauthor=e.read_shift(4);var r=vf(e);return t.rfx=r.s,t.ref=Gr(r.s),e.l+=16,t}function Wne(e,t){return t==null&&(t=Ke(36)),t.write_shift(4,e[1].iauthor),em(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var qne=ci;function Hne(e){return Ca(e.slice(0,54))}function Vne(e){var t=qi(),r=[];return lt(t,628),lt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),lt(t,632,Hne(a.a)))})}),lt(t,631),lt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Aa(n[0]),e:Aa(n[0])};lt(t,635,Wne([s,a])),a.t&&a.t.length>0&&lt(t,637,Kte(a)),lt(t,636),delete a.iauthor})}),lt(t,634),lt(t,629),t.end()}function Gne(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Qr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var B$=["xlsb","xlsm","xlam","biff8","xla"],Kne=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+li(u)+(c?"":"$")+Ua(d)}return function(a,s){return t=s,a.replace(e,r)}}(),gk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,xk=function(){return function(t,r){return t.replace(gk,function(n,a,s,o,l,c){var d=dk(o)-(s?0:r.c),u=ck(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",h=d==0?"":s?d+1:"["+d+"]";return a+"R"+f+"C"+h})}}();function Xne(e,t){return e.replace(gk,function(r,n,a,s,o,l){return n+(a=="$"?a+s:li(dk(s)+t.c))+(o=="$"?o+l:Ua(ck(l)+t.r))})}function Yne(e){return e.length!=1}function Jn(e){e.l+=1}function Bd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function z$(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return U$(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Bd(e),l=Bd(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function U$(e){var t=Bd(e),r=Bd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Qne(e,t,r){if(r.biff<8)return U$(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Bd(e),o=Bd(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function W$(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Jne(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Bd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Jne(e){var t=Bd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Zne(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function eae(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return tae(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function tae(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function rae(e,t,r){var n=(e[e.l++]&96)>>5,a=z$(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function nae(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=z$(e,s,r);return[n,a,o]}function aae(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function iae(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function sae(e,t,r){var n=(e[e.l++]&96)>>5,a=Qne(e,t-1,r);return[n,a]}function oae(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function fT(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function lae(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function cae(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function dae(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function uae(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function fae(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function q$(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function hae(e){return e.read_shift(2),q$(e)}function pae(e){return e.read_shift(2),q$(e)}function mae(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=W$(e,0,r);return[n,a]}function gae(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=eae(e,0,r);return[n,a]}function xae(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=W$(e,0,r);return[n,a,s]}function vae(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[vie[a],G$[a],n]}function yae(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:bae(e);return[a,(s[0]===0?G$:xie)[s[1]]]}function bae(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function wae(e,t,r){e.l+=r&&r.biff==2?3:4}function jae(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Nae(e){return e.l++,Sx[e.read_shift(1)]}function Sae(e){return e.l++,e.read_shift(2)}function _ae(e){return e.l++,e.read_shift(1)!==0}function kae(e){return e.l++,tm(e)}function Aae(e,t,r){return e.l++,k$(e,t-1,r)}function Cae(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xre(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Sx[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=tm(e);break;case 2:r[1]=wre(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Eae(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?vf:Sre)(e));return a}function Tae(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=Cae(e,r.biff);return o}function Pae(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function Oae(e,t,r){if(r.biff==5)return Dae(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function Dae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Fae(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Lae(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Iae(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Rae(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var Mae=xl,$ae=xl,Bae=xl;function _x(e,t,r){return e.l+=2,[Zne(e)]}function vk(e){return e.l+=6,[]}var zae=_x,Uae=vk,Wae=vk,qae=_x;function H$(e){return e.l+=2,[S$(e),e.read_shift(2)&1]}var Hae=_x,Vae=H$,Gae=vk,Kae=_x,Xae=_x,Yae=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Qae(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=Yae[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function Jae(e){return e.l+=2,[e.read_shift(4)]}function Zae(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function eie(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function tie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function rie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function nie(e){return e.l+=4,[0,0]}var hT={1:{n:"PtgExp",f:jae},2:{n:"PtgTbl",f:Bae},3:{n:"PtgAdd",f:Jn},4:{n:"PtgSub",f:Jn},5:{n:"PtgMul",f:Jn},6:{n:"PtgDiv",f:Jn},7:{n:"PtgPower",f:Jn},8:{n:"PtgConcat",f:Jn},9:{n:"PtgLt",f:Jn},10:{n:"PtgLe",f:Jn},11:{n:"PtgEq",f:Jn},12:{n:"PtgGe",f:Jn},13:{n:"PtgGt",f:Jn},14:{n:"PtgNe",f:Jn},15:{n:"PtgIsect",f:Jn},16:{n:"PtgUnion",f:Jn},17:{n:"PtgRange",f:Jn},18:{n:"PtgUplus",f:Jn},19:{n:"PtgUminus",f:Jn},20:{n:"PtgPercent",f:Jn},21:{n:"PtgParen",f:Jn},22:{n:"PtgMissArg",f:Jn},23:{n:"PtgStr",f:Aae},26:{n:"PtgSheet",f:Zae},27:{n:"PtgEndSheet",f:eie},28:{n:"PtgErr",f:Nae},29:{n:"PtgBool",f:_ae},30:{n:"PtgInt",f:Sae},31:{n:"PtgNum",f:kae},32:{n:"PtgArray",f:oae},33:{n:"PtgFunc",f:vae},34:{n:"PtgFuncVar",f:yae},35:{n:"PtgName",f:Pae},36:{n:"PtgRef",f:mae},37:{n:"PtgArea",f:rae},38:{n:"PtgMemArea",f:Fae},39:{n:"PtgMemErr",f:Mae},40:{n:"PtgMemNoMem",f:$ae},41:{n:"PtgMemFunc",f:Lae},42:{n:"PtgRefErr",f:Iae},43:{n:"PtgAreaErr",f:aae},44:{n:"PtgRefN",f:gae},45:{n:"PtgAreaN",f:sae},46:{n:"PtgMemAreaN",f:tie},47:{n:"PtgMemNoMemN",f:rie},57:{n:"PtgNameX",f:Oae},58:{n:"PtgRef3d",f:xae},59:{n:"PtgArea3d",f:nae},60:{n:"PtgRefErr3d",f:Rae},61:{n:"PtgAreaErr3d",f:iae},255:{}},aie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iie={1:{n:"PtgElfLel",f:H$},2:{n:"PtgElfRw",f:Kae},3:{n:"PtgElfCol",f:zae},6:{n:"PtgElfRwV",f:Xae},7:{n:"PtgElfColV",f:qae},10:{n:"PtgElfRadical",f:Hae},11:{n:"PtgElfRadicalS",f:Gae},13:{n:"PtgElfColS",f:Uae},15:{n:"PtgElfColSV",f:Wae},16:{n:"PtgElfRadicalLel",f:Vae},25:{n:"PtgList",f:Qae},29:{n:"PtgSxName",f:Jae},255:{}},sie={0:{n:"PtgAttrNoop",f:nie},1:{n:"PtgAttrSemi",f:fae},2:{n:"PtgAttrIf",f:dae},4:{n:"PtgAttrChoose",f:lae},8:{n:"PtgAttrGoto",f:cae},16:{n:"PtgAttrSum",f:wae},32:{n:"PtgAttrBaxcel",f:fT},33:{n:"PtgAttrBaxcel",f:fT},64:{n:"PtgAttrSpace",f:hae},65:{n:"PtgAttrSpaceSemi",f:pae},128:{n:"PtgAttrIfError",f:uae},255:{}};function oie(e,t,r,n){if(n.biff<8)return xl(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Tae(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Eae(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(xl(e,t)),s}function lie(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=hT[s]||hT[aie[s]],(s===24||s===25)&&(a=(s===24?iie:sie)[e[e.l+1]]),!a||!a.f?xl(e,t):o.push([a.n,a.f(e,t,r)]);return o}function cie(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var die={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function uie(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function V$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function pT(e,t,r){var n=V$(e,t,r);return n=="#REF"?n:uie(n,r)}function pp(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",x=0,y=e[0].length;x<y;++x){var w=e[0][x];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=Ln(" ",e[0][m][1][1]);break;case 1:v=Ln("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}d=d+v,m=-1}l.push(d+die[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=L0(w[1][1],o,a),l.push(I0(u,s));break;case"PtgRefN":u=r?L0(w[1][1],r,a):w[1][1],l.push(I0(u,s));break;case"PtgRef3d":f=w[1][1],u=L0(w[1][2],o,a),g=pT(n,f,a),l.push(g+"!"+I0(u,s));break;case"PtgFunc":case"PtgFuncVar":var N=w[1][0],j=w[1][1];N||(N=0),N&=127;var C=N==0?[]:l.slice(-N);l.length-=N,j==="User"&&(j=C.shift()),l.push(j+"("+C.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":p=JE(w[1][1],r?{s:r}:o,a),l.push(TN(p,a));break;case"PtgArea":p=JE(w[1][1],o,a),l.push(TN(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],g=pT(n,f,a),l.push(g+"!"+TN(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var k=(n.names||[])[h-1]||(n[0]||[])[h],_=k?k.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),l.push(_);break;case"PtgNameX":var L=w[1][1];h=w[1][2];var z;if(a.biff<=5)L<0&&(L=-L),n[L]&&(z=n[L][h]);else{var D="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][h]&&n[L][h].itab>0&&(D=n.SheetNames[n[L][h].itab-1]+"!"):D=n.SheetNames[h-1]+"!"),n[L]&&n[L][h])D+=n[L][h].Name;else if(n[0]&&n[0][h])D+=n[0][h].Name;else{var T=(V$(n,L,a)||"").split(";;");T[h-1]?D=T[h-1]:D+="SH33TJSERRX"}l.push(D);break}z||(z={Name:"SH33TJSERRY"}),l.push(z.Name);break;case"PtgParen":var I="(",B=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:I=Ln(" ",e[0][m][1][1])+I;break;case 3:I=Ln("\r",e[0][m][1][1])+I;break;case 4:B=Ln(" ",e[0][m][1][1])+B;break;case 5:B=Ln("\r",e[0][m][1][1])+B;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(I+l.pop()+B);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var J={c:r.c,r:r.r};if(n.sharedf[Gr(u)]){var U=n.sharedf[Gr(u)];l.push(pp(U,o,J,n,a))}else{var X=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(pp(d[1],o,J,n,a)),X=!0;break}X||l.push(w[1])}break;case"PtgArray":l.push("{"+cie(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&M.indexOf(e[0][x][0])==-1){w=e[0][m];var Q=!0;switch(w[1][0]){case 4:Q=!1;case 0:v=Ln(" ",w[1][1]);break;case 5:Q=!1;case 1:v=Ln("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((Q?v:"")+l.pop()+(Q?"":v)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function fie(e){if(e==null){var t=Ke(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return tf(e);return tf(0)}function hie(e,t,r,n,a){var s=rf(t,r,a),o=fie(e.v),l=Ke(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Ke(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=Ma([s,o,l,d]);return f}function Y2(e,t,r){var n=e.read_shift(4),a=lie(e,n,r),s=e.read_shift(4),o=s>0?oie(e,s,a,r):null;return[a,o]}var pie=Y2,Q2=Y2,mie=Y2,gie=Y2,xie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},G$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},vie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yie(e){var t="of:="+e.replace(gk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function bie(e){return e.replace(/\./,"!")}var R0=typeof Map<"u";function yk(e,t,r){var n=0,a=e.length;if(r){if(R0?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=R0?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(R0?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function J2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ec=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Jy(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=X4(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function K$(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Yd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){WM(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function wie(e,t,r){if(e&&e["!ref"]){var n=vn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function jie(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ta(e[r])+'"/>';return t+"</mergeCells>"}function Nie(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=jg(Hr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Nt("outlinePr",null,d)}!s&&!l||(a[a.length]=Nt("sheetPr",l,o))}var Sie=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_ie=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function kie(e){var t={sheet:1};return Sie.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),_ie.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=P$(e.password).toString(16).toUpperCase()),Nt("sheetProtection",null,t)}function Aie(e){return K$(e),Nt("pageMargins",null,e)}function Cie(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Nt("col",null,J2(a,n)));return r[r.length]="</cols>",r.join("")}function Eie(e,t,r,n){var a=typeof e.ref=="string"?e.ref:ta(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Ss(a);o.s.r==o.e.r&&(o.e.r=Ss(t["!ref"]).e.r,a=ta(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Nt("autoFilter",null,{ref:a})}function Tie(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Nt("sheetViews",Nt("sheetView",null,a),{})}function Pie(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Sx[e.v];break;case"d":n&&n.cellDates?a=Ei(e.v,-1).toISOString():(e=Gi(e),e.t="n",a=""+(e.v=Vi(Ei(e.v)))),typeof e.z>"u"&&(e.z=Rn[14]);break;default:a=e.v;break}var l=$a("v",Hr(a)),c={r:t},d=Yd(n.cellXfs,e,n);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=$a("v",""+yk(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Nt("f",Hr(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Nt("c",l,c)}function Oie(e,t,r,n){var a=[],s=[],o=vn(e["!ref"]),l="",c,d="",u=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:d},v,x=-1;for(h=o.s.c;h<=o.e.c;++h)u[h]=li(h);for(f=o.s.r;f<=o.e.r;++f){for(s=[],d=Ua(f),h=o.s.c;h<=o.e.c;++h){c=u[h]+d;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(l=Pie(y,c,e,t))!=null&&s.push(l)}(s.length>0||p&&p[f])&&(m={r:d},p&&p[f]&&(v=p[f],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=Zy(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),a[a.length]=Nt("row",s.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},v=p[f],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=Zy(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level),a[a.length]=Nt("row","",m));return a.join("")}function X$(e,t,r,n){var a=[na,Nt("worksheet",null,{xmlns:Jp[0],"xmlns:r":ka.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var d=c["!ref"]||"A1",u=vn(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ta(u)}n||(n={}),c["!comments"]=[];var f=[];Nie(c,r,e,t,a),a[a.length]=Nt("dimension",null,{ref:d}),a[a.length]=Tie(c,t,e,r),t.sheetFormat&&(a[a.length]=Nt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Cie(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Oie(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=kie(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Eie(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=jie(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=Wr(n,-1,Hr(m[1].Target).replace(/#.*$/,""),Tr.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=Hr(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=Hr(m[1].Tooltip)),a[a.length]=Nt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Aie(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=$a("ignoredErrors",Nt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(g=Wr(n,-1,"../drawings/drawing"+(e+1)+".xml",Tr.DRAW),a[a.length]=Nt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Wr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tr.VML),a[a.length]=Nt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Die(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function Fie(e,t,r){var n=Ke(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=Zy(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){d.c=p;var g=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Gr(d)];g&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function Lie(e,t,r,n){var a=Fie(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&lt(e,0,a)}var Iie=vf,Rie=em;function Mie(){}function $ie(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Xte(e),r}function Bie(e,t,r){r==null&&(r=Ke(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Xy({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),d$(e,r),r.slice(0,r.l)}function zie(e){var t=Ys(e);return[t]}function Uie(e,t,r){return r==null&&(r=Ke(8)),mf(t,r)}function Wie(e){var t=gf(e);return[t]}function qie(e,t,r){return r==null&&(r=Ke(4)),xf(t,r)}function Hie(e){var t=Ys(e),r=e.read_shift(1);return[t,r,"b"]}function Vie(e,t,r){return r==null&&(r=Ke(9)),mf(t,r),r.write_shift(1,e.v?1:0),r}function Gie(e){var t=gf(e),r=e.read_shift(1);return[t,r,"b"]}function Kie(e,t,r){return r==null&&(r=Ke(5)),xf(t,r),r.write_shift(1,e.v?1:0),r}function Xie(e){var t=Ys(e),r=e.read_shift(1);return[t,r,"e"]}function Yie(e,t,r){return r==null&&(r=Ke(9)),mf(t,r),r.write_shift(1,e.v),r}function Qie(e){var t=gf(e),r=e.read_shift(1);return[t,r,"e"]}function Jie(e,t,r){return r==null&&(r=Ke(8)),xf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Zie(e){var t=Ys(e),r=e.read_shift(4);return[t,r,"s"]}function ese(e,t,r){return r==null&&(r=Ke(12)),mf(t,r),r.write_shift(4,t.v),r}function tse(e){var t=gf(e),r=e.read_shift(4);return[t,r,"s"]}function rse(e,t,r){return r==null&&(r=Ke(8)),xf(t,r),r.write_shift(4,t.v),r}function nse(e){var t=Ys(e),r=tm(e);return[t,r,"n"]}function ase(e,t,r){return r==null&&(r=Ke(16)),mf(t,r),tf(e.v,r),r}function ise(e){var t=gf(e),r=tm(e);return[t,r,"n"]}function sse(e,t,r){return r==null&&(r=Ke(12)),xf(t,r),tf(e.v,r),r}function ose(e){var t=Ys(e),r=u$(e);return[t,r,"n"]}function lse(e,t,r){return r==null&&(r=Ke(12)),mf(t,r),f$(e.v,r),r}function cse(e){var t=gf(e),r=u$(e);return[t,r,"n"]}function dse(e,t,r){return r==null&&(r=Ke(8)),xf(t,r),f$(e.v,r),r}function use(e){var t=Ys(e),r=uk(e);return[t,r,"is"]}function fse(e){var t=Ys(e),r=ci(e);return[t,r,"str"]}function hse(e,t,r){return r==null&&(r=Ke(12+4*e.v.length)),mf(t,r),Ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pse(e){var t=gf(e),r=ci(e);return[t,r,"str"]}function mse(e,t,r){return r==null&&(r=Ke(8+4*e.v.length)),xf(t,r),Ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function gse(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Q2(e,n-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=n;return o}function xse(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Q2(e,n-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=n;return o}function vse(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var s=tm(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Q2(e,n-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=n;return o}function yse(e,t,r){var n=e.l+t,a=Ys(e);a.r=r["!row"];var s=ci(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Q2(e,n-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=n;return o}var bse=vf,wse=em;function jse(e,t){return t==null&&(t=Ke(4)),t.write_shift(4,e),t}function Nse(e,t){var r=e.l+t,n=vf(e),a=fk(e),s=ci(e),o=ci(e),l=ci(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function Sse(e,t){var r=Ke(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));em({s:Aa(e[0]),e:Aa(e[0])},r),hk("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ca(a||"",r),Ca(e[1].Tooltip||"",r),Ca("",r),r.slice(0,r.l)}function _se(){}function kse(e,t,r){var n=e.l+t,a=h$(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=pie(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Ase(e,t,r){var n=e.l+t,a=vf(e),s=[a];if(r.cellFormula){var o=gie(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function Cse(e,t,r){r==null&&(r=Ke(18));var n=J2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Y$=["left","right","top","bottom","header","footer"];function Ese(e){var t={};return Y$.forEach(function(r){t[r]=tm(e)}),t}function Tse(e,t){return t==null&&(t=Ke(6*8)),K$(e),Y$.forEach(function(r){tf(e[r],t)}),t}function Pse(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ose(e,t,r){r==null&&(r=Ke(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Dse(e){var t=Ke(24);return t.write_shift(4,4),t.write_shift(4,1),em(e,t),t}function Fse(e,t){return t==null&&(t=Ke(16*4+2)),t.write_shift(2,e.password?P$(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Lse(){}function Ise(){}function Rse(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Gi(t),t.z=t.z||Rn[14],t.v=Vi(Ei(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Yd(a.cellXfs,t,a),t.l&&s["!links"].push([Gr(c),t.l]),t.c&&s["!comments"].push([Gr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=yk(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?lt(e,18,rse(t,c)):lt(e,7,ese(t,c))):(c.t="str",o?lt(e,17,mse(t,c)):lt(e,6,hse(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?lt(e,13,dse(t,c)):lt(e,2,lse(t,c)):o?lt(e,16,sse(t,c)):lt(e,5,ase(t,c)),!0;case"b":return c.t="b",o?lt(e,15,Kie(t,c)):lt(e,4,Vie(t,c)),!0;case"e":return c.t="e",o?lt(e,14,Jie(t,c)):lt(e,3,Yie(t,c)),!0}return o?lt(e,12,qie(t,c)):lt(e,1,Uie(t,c)),!0}function Mse(e,t,r,n){var a=vn(t["!ref"]||"A1"),s,o="",l=[];lt(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Ua(u),Lie(e,t,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(l[h]=li(h)),s=l[h]+o;var p=c?(t[u]||[])[h]:t[s];if(!p){f=!1;continue}f=Rse(e,p,u,h,n,t,f)}}lt(e,146)}function $se(e,t){!t||!t["!merges"]||(lt(e,177,jse(t["!merges"].length)),t["!merges"].forEach(function(r){lt(e,176,wse(r))}),lt(e,178))}function Bse(e,t){!t||!t["!cols"]||(lt(e,390),t["!cols"].forEach(function(r,n){r&&lt(e,60,Cse(n,r))}),lt(e,391))}function zse(e,t){!t||!t["!ref"]||(lt(e,648),lt(e,649,Dse(vn(t["!ref"]))),lt(e,650))}function Use(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Wr(r,-1,n[1].Target.replace(/#.*$/,""),Tr.HLINK);lt(e,494,Sse(n,a))}}),delete t["!links"]}function Wse(e,t,r,n){if(t["!comments"].length>0){var a=Wr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tr.VML);lt(e,551,hk("rId"+a)),t["!legacy"]=a}}function qse(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:ta(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ss(s);l.s.r==l.e.r&&(l.e.r=Ss(t["!ref"]).e.r,s=ta(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),lt(e,161,em(vn(s))),lt(e,162)}}function Hse(e,t,r){lt(e,133),lt(e,137,Ose(t,r)),lt(e,138),lt(e,134)}function Vse(e,t){t["!protect"]&&lt(e,535,Fse(t["!protect"]))}function Gse(e,t,r,n){var a=qi(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=vn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],lt(a,129),(r.vbaraw||o["!outline"])&&lt(a,147,Bie(l,o["!outline"])),lt(a,148,Rie(c)),Hse(a,o,r.Workbook),Bse(a,o),Mse(a,o,e,t),Vse(a,o),qse(a,o,r,e),$se(a,o),Use(a,o,n),o["!margins"]&&lt(a,476,Tse(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&zse(a,o),Wse(a,o,e,n),lt(a,130),a.end()}function Kse(e,t){e.l+=10;var r=ci(e);return{name:r}}var Xse=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Yse(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ate(e.Workbook.WBProps.date1904)?"true":"false"}var Qse="][*?/\\".split("");function Q$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Qse.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Jse(e,t,r){e.forEach(function(n,a){Q$(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Zse(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Jse(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)wie(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function J$(e){var t=[na];t[t.length]=Nt("workbook",null,{xmlns:Jp[0],"xmlns:r":ka.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Xse.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Nt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Hr(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Nt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Nt("definedName",Hr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function eoe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=K4(e),r.name=ci(e),r}function toe(e,t){return t||(t=Ke(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),hk(e.strRelID,t),Ca(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function roe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ci(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function noe(e,t){t||(t=Ke(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),d$(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function aoe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Yte(e),o=mie(e,0,r),l=fk(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function ioe(e,t){lt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};lt(e,156,toe(a))}lt(e,144)}function soe(e,t){t||(t=Ke(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ca("SheetJS",t),Ca(Uy.version,t),Ca(Uy.version,t),Ca("7262",t),t.length>t.l?t.slice(0,t.l):t}function ooe(e,t){t||(t=Ke(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function loe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(lt(e,135),lt(e,158,ooe(a)),lt(e,136))}}function coe(e,t){var r=qi();return lt(r,131),lt(r,128,soe()),lt(r,153,noe(e.Workbook&&e.Workbook.WBProps||null)),loe(r,e),ioe(r,e),lt(r,132),r.end()}function doe(e,t,r){return(t.slice(-4)===".bin"?coe:J$)(e)}function uoe(e,t,r,n,a){return(t.slice(-4)===".bin"?Gse:X$)(e,r,n,a)}function foe(e,t,r){return(t.slice(-4)===".bin"?Tne:F$)(e,r)}function hoe(e,t,r){return(t.slice(-4)===".bin"?nne:T$)(e,r)}function poe(e,t,r){return(t.slice(-4)===".bin"?Vne:$$)(e)}function moe(e){return(e.slice(-4)===".bin"?Mne:R$)()}function goe(e,t){var r=[];return e.Props&&r.push(fre(e.Props,t)),e.Custprops&&r.push(hre(e.Props,e.Custprops)),r.join("")}function xoe(){return""}function voe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Nt("NumberFormat",null,{"ss:Format":Hr(Rn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Nt("Style",s.join(""),o))}),Nt("Styles",r.join(""))}function Z$(e){return Nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+xk(e.Ref,{r:0,c:0})})}function yoe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Z$(a)))}return Nt("Names",r.join(""))}function boe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(Z$(l)))}return s.join("")}function woe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Nt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Nt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push($a("ProtectContents","True")),e["!protect"].objects&&a.push($a("ProtectObjects","True")),e["!protect"].scenarios&&a.push($a("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push($a("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push($a("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Nt("WorksheetOptions",a.join(""),{xmlns:ds.x})}function joe(e){return e.map(function(t){var r=kte(t.t||""),n=Nt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Nt("Comment",n,{"ss:Author":t.a})}).join("")}function Noe(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Hr(xk(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Aa(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Hr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Hr(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Sx[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Rn[14]);break;case"s":f="String",h=_te(e.v||"");break}var p=Yd(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=joe(e.c)),Nt("Cell",m,l)}function Soe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=D$(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function _oe(e,t,r,n){if(!e["!ref"])return"";var a=vn(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,x){mk(v);var y=!!v.width,w=J2(x,v),N={"ss:Index":x+1};y&&(N["ss:Width"]=Qy(w.width)),v.hidden&&(N["ss:Hidden"]="1"),l.push(Nt("Column",null,N))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[Soe(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>d)&&!(s[o].e.c<f)&&!(s[o].e.r<d)){(s[o].s.c!=f||s[o].s.r!=d)&&(h=!0);break}if(!h){var p={r:d,c:f},g=Gr(p),m=c?(e[d]||[])[f]:e[g];u.push(Noe(m,g,e,t,r,n,p))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function koe(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?boe(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?_oe(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(woe(s,t,e,r)),n.join("")}function Aoe(e,t){t||(t={}),e.SSF||(e.SSF=Gi(Rn)),e.SSF&&(G2(),V2(e.SSF),t.revssf=K2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Yd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(goe(e,t)),r.push(xoe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Nt("Worksheet",koe(n,t,e),{"ss:Name":Hr(e.SheetNames[n])}));return r[2]=voe(e,t),r[3]=yoe(e),na+Nt("Workbook",r.join(""),{xmlns:ds.ss,"xmlns:o":ds.o,"xmlns:x":ds.x,"xmlns:ss":ds.ss,"xmlns:dt":ds.dt,"xmlns:html":ds.html})}var DN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Coe(e,t){var r=[],n=[],a=[],s=0,o,l=zE(eT,"n"),c=zE(tT,"n");if(e.Props)for(o=qa(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=qa(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var d=[];for(s=0;s<a.length;++s)N$.indexOf(a[s][0])>-1||b$.indexOf(a[s][0])>-1||a[s][1]!=null&&d.push(a[s]);n.length&&Qr.utils.cfb_add(t,"/SummaryInformation",sT(n,DN.SI,c,tT)),(r.length||d.length)&&Qr.utils.cfb_add(t,"/DocumentSummaryInformation",sT(r,DN.DSI,l,eT,d.length?d:null,DN.UDI))}function Eoe(e,t){var r=t||{},n=Qr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Qr.utils.cfb_add(n,a,e9(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Coe(e,n),r.biff==8&&e.vbaraw&&Gne(n,Qr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Toe={0:{f:Die},1:{f:zie},2:{f:ose},3:{f:Xie},4:{f:Hie},5:{f:nse},6:{f:fse},7:{f:Zie},8:{f:yse},9:{f:vse},10:{f:gse},11:{f:xse},12:{f:Wie},13:{f:cse},14:{f:Qie},15:{f:Gie},16:{f:ise},17:{f:pse},18:{f:tse},19:{f:uk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:aoe},40:{},42:{},43:{f:fne},44:{f:dne},45:{f:mne},46:{f:xne},47:{f:gne},48:{},49:{f:Wte},50:{},51:{f:Dne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qre},62:{f:use},63:{f:$ne},64:{f:Lse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:xl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Pse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$ie},148:{f:Iie,p:16},151:{f:_se},152:{},153:{f:roe},154:{},155:{},156:{f:eoe},157:{},158:{},159:{T:1,f:ene},160:{T:-1},161:{T:1,f:vf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bse},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Pne},336:{T:-1},337:{f:Ine,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:K4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Mre},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kse},427:{f:Ase},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ese},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Mie},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Nse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:K4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:qne},633:{T:1},634:{T:-1},635:{T:1,f:Une},636:{T:-1},637:{f:Gte},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Kse},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ise},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function St(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&lk(r)&&e.push(r)}}function Poe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return St(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,s),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function kx(e,t,r){return e||(e=Ke(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Ooe(e,t,r,n){var a=Ke(9);return kx(a,e,t),_$(r,n||"b",a),a}function Doe(e,t,r){var n=Ke(8+2*r.length);return kx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Foe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Vi(Ei(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?St(e,2,Kre(r,n,a)):St(e,3,Gre(r,n,a));return;case"b":case"e":St(e,5,Ooe(r,n,t.v,t.t));return;case"s":case"str":St(e,4,Doe(r,n,(t.v||"").slice(0,255)));return}St(e,1,kx(null,r,n))}function Loe(e,t,r,n){var a=Array.isArray(t),s=vn(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=ta(s)}for(var d=s.s.r;d<=s.e.r;++d){l=Ua(d);for(var u=s.s.c;u<=s.e.c;++u){d===s.s.r&&(c[u]=li(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&Foe(e,f,d,u)}}}function Ioe(e,t){for(var r=t||{},n=qi(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return St(n,r.biff==4?1033:r.biff==3?521:9,pk(e,16,r)),Loe(n,e.Sheets[e.SheetNames[a]],a,r),St(n,10),n.end()}function Roe(e,t,r){St(e,49,Tre({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Moe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&St(e,1054,Dre(a,t[a],r))})}function $oe(e,t){var r=Ke(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),St(e,2151,r),r=Ke(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),C$(vn(t["!ref"]||"A1"),r),r.write_shift(4,4),St(e,2152,r)}function Boe(e,t){for(var r=0;r<16;++r)St(e,224,lT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){St(e,224,lT(n,0,t))})}function zoe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];St(e,440,zre(n)),n[1].Tooltip&&St(e,2048,Ure(n))}delete t["!links"]}function Uoe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&St(e,125,Hre(J2(a,n),a))})}}function Woe(e,t,r,n,a){var s=16+Yd(a.cellXfs,t,a);if(t.v==null&&!t.bf){St(e,513,rf(r,n,s));return}if(t.bf)St(e,6,hie(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?Vi(Ei(t.v)):t.v;St(e,515,Rre(r,n,o,s));break;case"b":case"e":St(e,517,Ire(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=yk(a.Strings,t.v,a.revStrings);St(e,253,Pre(r,n,l,s))}else St(e,516,Ore(r,n,(t.v||"").slice(0,255),s,a));break;default:St(e,513,rf(r,n,s))}}function qoe(e,t,r){var n=qi(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),d=t.biff==8,u,f="",h=[],p=vn(s["!ref"]||"A1"),g=d?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}St(n,2057,pk(r,16,t)),St(n,13,$s(1)),St(n,12,$s(100)),St(n,15,wi(!0)),St(n,17,wi(!1)),St(n,16,tf(.001)),St(n,95,wi(!0)),St(n,42,wi(!1)),St(n,43,wi(!1)),St(n,130,$s(1)),St(n,128,Lre()),St(n,131,wi(!1)),St(n,132,wi(!1)),d&&Uoe(n,s["!cols"]),St(n,512,Fre(p,t)),d&&(s["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=Ua(m);for(var v=p.s.c;v<=p.e.c;++v){m===p.s.r&&(h[v]=li(v)),u=h[v]+f;var x=c?(s[m]||[])[v]:s[u];x&&(Woe(n,x,m,v,t),d&&x.l&&s["!links"].push([u,x.l]))}}var y=l.CodeName||l.name||a;return d&&St(n,574,Ere((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&St(n,229,Bre(s["!merges"])),d&&zoe(n,s),St(n,442,A$(y)),d&&$oe(n,s),St(n,10),n.end()}function Hoe(e,t,r){var n=qi(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(St(n,2057,pk(e,5,r)),r.bookType=="xla"&&St(n,135),St(n,225,l?$s(1200):null),St(n,193,gre(2)),c&&St(n,191),c&&St(n,192),St(n,226),St(n,92,_re("SheetJS",r)),St(n,66,$s(l?1200:1252)),l&&St(n,353,$s(0)),l&&St(n,448),St(n,317,Vre(e.SheetNames.length)),l&&e.vbaraw&&St(n,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";St(n,442,A$(d))}St(n,156,$s(17)),St(n,25,wi(!1)),St(n,18,wi(!1)),St(n,19,$s(0)),l&&St(n,431,wi(!1)),l&&St(n,444,$s(0)),St(n,61,Cre()),St(n,64,wi(!1)),St(n,141,$s(0)),St(n,34,wi(Yse(e)=="true")),St(n,14,wi(!0)),l&&St(n,439,wi(!1)),St(n,218,$s(0)),Roe(n,e,r),Moe(n,e.SSF,r),Boe(n,r),l&&St(n,352,wi(!1));var u=n.end(),f=qi();l&&St(f,140,Wre()),l&&r.Strings&&Poe(f,252,Are(r.Strings)),St(f,10);var h=f.end(),p=qi(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var v=u.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var x=s[m]||{};St(p,133,kre({pos:v,hs:x.Hidden||0,dt:0,name:e.SheetNames[m]},r)),v+=t[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var w=[];return u.length&&w.push(u),y.length&&w.push(y),h.length&&w.push(h),Ma(w)}function Voe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Gi(Rn)),e&&e.SSF&&(G2(),V2(e.SSF),r.revssf=K2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,bk(r),r.cellXfs=[],Yd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=qoe(a,r,e);return n.unshift(Hoe(e,n,r)),Ma(n)}function e9(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ss(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Voe(e,t);case 4:case 3:case 2:return Ioe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Goe(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Gr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[u],h=f&&f.v!=null&&(f.h||Ste(f.w||(uc(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,s.push(Nt("td",h,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var Koe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xoe="</body></html>";function Yoe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function t9(e,t){var r=t||{},n=r.header!=null?r.header:Koe,a=r.footer!=null?r.footer:Xoe,s=[n],o=Ss(e["!ref"]);r.dense=Array.isArray(e),s.push(Yoe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(Goe(e,o,l,r));return s.push("</table>"+a),s.join("")}function r9(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Aa(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=Ss(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,x=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&m<c;++g){var N=l[g];if(mT(N)){if(n.display)continue;p[m]={hidden:!0}}var j=N.children;for(v=x=0;v<j.length;++v){var C=j[v];if(!(n.display&&mT(C))){var k=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Cte(C.innerHTML),_=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var L=f[h];L.s.c==x+s&&L.s.r<m+a&&m+a<=L.e.r&&(x=L.e.c+1-s,h=-1)}w=+C.getAttribute("colspan")||1,((y=+C.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:x+s},e:{r:m+a+(y||1)-1,c:x+s+(w||1)-1}});var z={t:"s",v:k},D=C.getAttribute("data-t")||C.getAttribute("t")||"";k!=null&&(k.length==0?z.t=D||"z":n.raw||k.trim().length==0||D=="s"||(k==="TRUE"?z={t:"b",v:!0}:k==="FALSE"?z={t:"b",v:!1}:isNaN(Zl(k))?isNaN(wg(k).getDate())||(z={t:"d",v:Ei(k)},n.cellDates||(z={t:"n",v:Vi(z.v)}),z.z=n.dateNF||Rn[14]):z={t:"n",v:Zl(k)})),z.z===void 0&&_!=null&&(z.z=_);var T="",I=C.getElementsByTagName("A");if(I&&I.length)for(var B=0;B<I.length&&!(I[B].hasAttribute("href")&&(T=I[B].getAttribute("href"),T.charAt(0)!="#"));++B);T&&T.charAt(0)!="#"&&(z.l={Target:T}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][x+s]=z):e[Gr({c:x+s,r:m+a})]=z,d.e.c<x+s&&(d.e.c=x+s),x+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,m-1+a),e["!ref"]=ta(d),m>=c&&(e["!fullref"]=ta((d.e.r=l.length-g+m-1+a,d))),e}function n9(e,t){var r=t||{},n=r.dense?[]:{};return r9(n,e,t)}function Qoe(e,t){return pf(n9(e,t),t)}function mT(e){var t="",r=Joe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Joe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Zoe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ng({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return na+t}}(),gT=function(){var e=function(s){return Hr(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+Hr(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Ss(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,g=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",v=s["!rows"]||[];for(d=0;d<f.s.r;++d)m=v[d]?' table:style-name="ro'+v[d].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;d<=f.e.r;++d){for(m=v[d]?' table:style-name="ro'+v[d].ods+'"':"",c.push("        <table:table-row"+m+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var x=!1,y={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>d)&&!(h[p].e.c<u)&&!(h[p].e.r<d)){(h[p].s.c!=u||h[p].s.r!=d)&&(x=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(x){c.push(r);continue}var N=Gr({r:d,c:u}),j=g?(s[d]||[])[u]:s[N];if(j&&j.f&&(y["table:formula"]=Hr(yie(j.f)),j.F&&j.F.slice(0,N.length)==N)){var C=Ss(j.F);y["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,y["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":w=j.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=j.v?"true":"false";break;case"n":w=j.w||String(j.v||0),y["office:value-type"]="float",y["office:value"]=j.v||0;break;case"s":case"str":w=j.v==null?"":j.v,y["office:value-type"]="string";break;case"d":w=j.w||Ei(j.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Ei(j.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(w);if(j.l&&j.l.Target){var _=j.l.Target;_=_.charAt(0)=="#"?"#"+bie(_.slice(1)):_,_.charAt(0)!="#"&&!_.match(/^\w+:/)&&(_="../"+_),k=Nt("text:a",k,{"xlink:href":_.replace(/&/g,"&amp;")})}c.push("          "+Nt("table:table-cell",Nt("text:p",k,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;mk(f),f.ods=l;var h=d["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[na],d=Ng({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Ng({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(v$().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function a9(e,t){if(t.bookType=="fods")return gT(e,t);var r=ak(),n="",a=[],s=[];return n="mimetype",br(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",br(r,n,gT(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",br(r,n,Zoe(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",br(r,n,na+v$()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",br(r,n,ure(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",br(r,n,cre(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function eb(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ele(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):_o(jg(e))}function tle(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function zd(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function rle(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function Sg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ur(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Wh(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function oa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Sg(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Sg(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:s};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Da(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Ur(n*8+a.type)),a.type==2&&t.push(Ur(a.data.length)),t.push(a.data))})}),zd(t)}function uo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Sg(e,n),s=oa(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Wh(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=oa(l.data),d=Wh(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=s[3])!=null&&t[0]&&(o.merge=Wh(s[3][0].data)>>>0>0),r.push(o)}return r}function Jf(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ur(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ur(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Ur(o.data.length)}],n[2].push({data:Da(o.meta),type:2})});var s=Da(n);t.push(Ur(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),zd(t)}function nle(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Sg(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(s==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[zd(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=zd(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function fo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(nle(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return zd(t)}function Zf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Ur(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return zd(t)}function FN(e,t){var r=new Uint8Array(32),n=eb(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,rle(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function LN(e,t){var r=new Uint8Array(32),n=eb(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Hc(e){var t=oa(e);return Sg(t[1][0].data)}function ale(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&Wh(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=eb(e[7][0].data),u=0,f=[],h=eb(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){d.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}d.setUint16(m*2,u,!0),h.setUint16(m*2,p,!0);var v,x;switch(typeof t[m]){case"string":v=FN({t:"s",v:t[m]},r),x=LN({t:"s",v:t[m]},r);break;case"number":v=FN({t:"n",v:t[m]},r),x=LN({t:"n",v:t[m]},r);break;case"boolean":v=FN({t:"b",v:t[m]},r),x=LN({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(v),u+=v.length,g.push(x),p+=x.length,++c}for(e[2][0].data=Ur(c);m<e[7][0].data.length/2;++m)d.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=zd(f),e[3][0].data=zd(g),c}function ile(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ss(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ta(n)));var s=tb(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var l={},c=[],d=Qr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(V,Y){return[V,d.FullPaths[Y]]}).forEach(function(V){var Y=V[0],q=V[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var P=Y.content,R=fo(P),G=uo(R);G.forEach(function(W){c.push(W.id),l[W.id]={deps:[],location:q,type:Wh(W.messages[0].meta[1][0].data)}})}}),c.sort(function(V,Y){return V-Y});var u=c.filter(function(V){return V>1}).map(function(V){return[V,Ur(V)]});d.FileIndex.map(function(V,Y){return[V,d.FullPaths[Y]]}).forEach(function(V){var Y=V[0];if(V[1],!!Y.name.match(/\.iwa/)){var q=uo(fo(Y.content));q.forEach(function(P){P.messages.forEach(function(R){u.forEach(function(G){P.messages.some(function(W){return Wh(W.meta[1][0].data)!=11006&&tle(W.data,G[1])})&&l[G[0]].deps.push(P.id)})})})}});for(var f=Qr.find(d,l[1].location),h=uo(fo(f.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var v=Hc(oa(p.messages[0].data)[1][0].data);for(f=Qr.find(d,l[v].location),h=uo(fo(f.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(p=m);for(v=Hc(oa(p.messages[0].data)[2][0].data),f=Qr.find(d,l[v].location),h=uo(fo(f.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(p=m);for(v=Hc(oa(p.messages[0].data)[2][0].data),f=Qr.find(d,l[v].location),h=uo(fo(f.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(p=m);var x=oa(p.messages[0].data);{x[6][0].data=Ur(n.e.r+1),x[7][0].data=Ur(n.e.c+1);var y=Hc(x[46][0].data),w=Qr.find(d,l[y].location),N=uo(fo(w.content));{for(var j=0;j<N.length&&N[j].id!=y;++j);if(N[j].id!=y)throw"Bad ColumnRowUIDMapArchive";var C=oa(N[j].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var k=0;k<=n.e.c;++k){var _=[];_[1]=_[2]=[{type:0,data:Ur(k+420690)}],C[1].push({type:2,data:Da(_)}),C[2].push({type:0,data:Ur(k)}),C[3].push({type:0,data:Ur(k)})}C[4]=[],C[5]=[],C[6]=[];for(var L=0;L<=n.e.r;++L)_=[],_[1]=_[2]=[{type:0,data:Ur(L+726270)}],C[4].push({type:2,data:Da(_)}),C[5].push({type:0,data:Ur(L)}),C[6].push({type:0,data:Ur(L)});N[j].messages[0].data=Da(C)}w.content=Zf(Jf(N)),w.size=w.content.length,delete x[46];var z=oa(x[4][0].data);{z[7][0].data=Ur(n.e.r+1);var D=oa(z[1][0].data),T=Hc(D[2][0].data);w=Qr.find(d,l[T].location),N=uo(fo(w.content));{if(N[0].id!=T)throw"Bad HeaderStorageBucket";var I=oa(N[0].messages[0].data);for(L=0;L<s.length;++L){var B=oa(I[2][0].data);B[1][0].data=Ur(L),B[4][0].data=Ur(s[L].length),I[2][L]={type:I[2][0].type,data:Da(B)}}N[0].messages[0].data=Da(I)}w.content=Zf(Jf(N)),w.size=w.content.length;var J=Hc(z[2][0].data);w=Qr.find(d,l[J].location),N=uo(fo(w.content));{if(N[0].id!=J)throw"Bad HeaderStorageBucket";for(I=oa(N[0].messages[0].data),k=0;k<=n.e.c;++k)B=oa(I[2][0].data),B[1][0].data=Ur(k),B[4][0].data=Ur(n.e.r+1),I[2][k]={type:I[2][0].type,data:Da(B)};N[0].messages[0].data=Da(I)}w.content=Zf(Jf(N)),w.size=w.content.length;var U=Hc(z[4][0].data);(function(){for(var V=Qr.find(d,l[U].location),Y=uo(fo(V.content)),q,P=0;P<Y.length;++P){var R=Y[P];R.id==U&&(q=R)}var G=oa(q.messages[0].data);{G[3]=[];var W=[];o.forEach(function(ae,be){W[1]=[{type:0,data:Ur(be)}],W[2]=[{type:0,data:Ur(1)}],W[3]=[{type:2,data:ele(ae)}],G[3].push({type:2,data:Da(W)})})}q.messages[0].data=Da(G);var H=Jf(Y),me=Zf(H);V.content=me,V.size=V.content.length})();var X=oa(z[3][0].data);{var M=X[1][0];delete X[2];var Q=oa(M.data);{var le=Hc(Q[2][0].data);(function(){for(var V=Qr.find(d,l[le].location),Y=uo(fo(V.content)),q,P=0;P<Y.length;++P){var R=Y[P];R.id==le&&(q=R)}var G=oa(q.messages[0].data);{delete G[6],delete X[7];var W=new Uint8Array(G[5][0].data);G[5]=[];for(var H=0,me=0;me<=n.e.r;++me){var ae=oa(W);H+=ale(ae,s[me],o),ae[1][0].data=Ur(me),G[5].push({data:Da(ae),type:2})}G[1]=[{type:0,data:Ur(n.e.c+1)}],G[2]=[{type:0,data:Ur(n.e.r+1)}],G[3]=[{type:0,data:Ur(H)}],G[4]=[{type:0,data:Ur(n.e.r+1)}]}q.messages[0].data=Da(G);var be=Jf(Y),te=Zf(be);V.content=te,V.size=V.content.length})()}M.data=Da(Q)}z[3][0].data=Da(X)}x[4][0].data=Da(z)}p.messages[0].data=Da(x);var ue=Jf(h),O=Zf(ue);return f.content=O,f.size=f.content.length,d}function sle(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function bk(e){sle([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function ole(e,t){return t.bookType=="ods"?a9(e,t):t.bookType=="numbers"?ile(e,t):t.bookType=="xlsb"?lle(e,t):cle(e,t)}function lle(e,t){wh=1024,e&&!e.SSF&&(e.SSF=Gi(Rn)),e&&e.SSF&&(G2(),V2(e.SSF),t.revssf=K2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,R0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=B$.indexOf(t.bookType)>-1,a=m$();bk(t=t||{});var s=ak(),o="",l=0;if(t.cellXfs=[],Yd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",br(s,o,y$(e.Props,t)),a.coreprops.push(o),Wr(t.rels,2,o,Tr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,br(s,o,w$(e.Props)),a.extprops.push(o),Wr(t.rels,3,o,Tr.EXT_PROPS),e.Custprops!==e.Props&&qa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",br(s,o,j$(e.Custprops)),a.custprops.push(o),Wr(t.rels,4,o,Tr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,br(s,o,uoe(l-1,o,t,e,u)),a.sheets.push(o),Wr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Tr.WS[0])}if(f){var p=f["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,br(s,m,poe(p,m)),a.comments.push(m),Wr(u,-1,"../comments"+l+"."+r,Tr.CMNT),g=!0),f["!legacy"]&&g&&br(s,"xl/drawings/vmlDrawing"+l+".vml",M$(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&br(s,x$(o),zh(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,br(s,o,hoe(t.Strings,o,t)),a.strs.push(o),Wr(t.wbrels,-1,"sharedStrings."+r,Tr.SST)),o="xl/workbook."+r,br(s,o,doe(e,o)),a.workbooks.push(o),Wr(t.rels,1,o,Tr.WB),o="xl/theme/theme1.xml",br(s,o,I$(e.Themes,t)),a.themes.push(o),Wr(t.wbrels,-1,"theme/theme1.xml",Tr.THEME),o="xl/styles."+r,br(s,o,foe(e,o,t)),a.styles.push(o),Wr(t.wbrels,-1,"styles."+r,Tr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",br(s,o,e.vbaraw),a.vba.push(o),Wr(t.wbrels,-1,"vbaProject.bin",Tr.VBA)),o="xl/metadata."+r,br(s,o,moe(o)),a.metadata.push(o),Wr(t.wbrels,-1,"metadata."+r,Tr.XLMETA),br(s,"[Content_Types].xml",g$(a,t)),br(s,"_rels/.rels",zh(t.rels)),br(s,"xl/_rels/workbook."+r+".rels",zh(t.wbrels)),delete t.revssf,delete t.ssf,s}function cle(e,t){wh=1024,e&&!e.SSF&&(e.SSF=Gi(Rn)),e&&e.SSF&&(G2(),V2(e.SSF),t.revssf=K2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,R0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=B$.indexOf(t.bookType)>-1,a=m$();bk(t=t||{});var s=ak(),o="",l=0;if(t.cellXfs=[],Yd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",br(s,o,y$(e.Props,t)),a.coreprops.push(o),Wr(t.rels,2,o,Tr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,br(s,o,w$(e.Props)),a.extprops.push(o),Wr(t.rels,3,o,Tr.EXT_PROPS),e.Custprops!==e.Props&&qa(e.Custprops||{}).length>0&&(o="docProps/custom.xml",br(s,o,j$(e.Custprops)),a.custprops.push(o),Wr(t.rels,4,o,Tr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,br(s,o,X$(l-1,t,e,f)),a.sheets.push(o),Wr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Tr.WS[0])}if(h){var g=h["!comments"],m=!1,v="";if(g&&g.length>0){var x=!1;g.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(x=!0)})}),x&&(v="xl/threadedComments/threadedComment"+l+"."+r,br(s,v,Bne(g,u,t)),a.threadedcomments.push(v),Wr(f,-1,"../threadedComments/threadedComment"+l+"."+r,Tr.TCMNT)),v="xl/comments"+l+"."+r,br(s,v,$$(g)),a.comments.push(v),Wr(f,-1,"../comments"+l+"."+r,Tr.CMNT),m=!0}h["!legacy"]&&m&&br(s,"xl/drawings/vmlDrawing"+l+".vml",M$(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&br(s,x$(o),zh(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,br(s,o,T$(t.Strings,t)),a.strs.push(o),Wr(t.wbrels,-1,"sharedStrings."+r,Tr.SST)),o="xl/workbook."+r,br(s,o,J$(e)),a.workbooks.push(o),Wr(t.rels,1,o,Tr.WB),o="xl/theme/theme1.xml",br(s,o,I$(e.Themes,t)),a.themes.push(o),Wr(t.wbrels,-1,"theme/theme1.xml",Tr.THEME),o="xl/styles."+r,br(s,o,F$(e,t)),a.styles.push(o),Wr(t.wbrels,-1,"styles."+r,Tr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",br(s,o,e.vbaraw),a.vba.push(o),Wr(t.wbrels,-1,"vbaProject.bin",Tr.VBA)),o="xl/metadata."+r,br(s,o,R$()),a.metadata.push(o),Wr(t.wbrels,-1,"metadata."+r,Tr.XLMETA),u.length>1&&(o="xl/persons/person.xml",br(s,o,zne(u)),a.people.push(o),Wr(t.wbrels,-1,"persons/person.xml",Tr.PEOPLE)),br(s,"[Content_Types].xml",g$(a,t)),br(s,"_rels/.rels",zh(t.rels)),br(s,"xl/_rels/workbook."+r+".rels",zh(t.wbrels)),delete t.revssf,delete t.ssf,s}function dle(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=dc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function i9(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return jx(t.file,Qr.write(e,{type:Lr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Qr.write(e,t)}function ule(e,t){var r=Gi(t||{}),n=ole(e,r);return fle(n,r)}function fle(e,t){var r={},n=Lr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Qr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(H2(a))}return t.password&&typeof encrypt_agile<"u"?i9(encrypt_agile(a,t.password),t):t.type==="file"?jx(t.file,a):t.type=="string"?D0(a):a}function hle(e,t){var r=t||{},n=Eoe(e,r);return i9(n,r)}function Jo(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return bg(jg(n));case"binary":return jg(n);case"string":return e;case"file":return jx(t.file,n,"utf8");case"buffer":return Lr?jc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Jo(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ple(e,t){switch(t.type){case"base64":return bg(e);case"binary":return e;case"string":return e;case"file":return jx(t.file,e,"binary");case"buffer":return Lr?jc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function f1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?bg(r):t.type=="string"?D0(r):r;case"file":return jx(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function s9(e,t){Uee(),Zse(e);var r=Gi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=s9(e,r);return r.type="array",H2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Jo(Aoe(e,r),r);case"slk":case"sylk":return Jo(Yre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Jo(t9(e.Sheets[e.SheetNames[a]],r),r);case"txt":return ple(o9(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Jo(wk(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Jo(Qre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return f1(Xre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Jo(Jre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Jo(ine.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Jo(E$.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Jo(a9(e,r),r);case"wk1":return f1(cT.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return f1(cT.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),f1(e9(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),hle(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ule(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function mle(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function sl(e,t,r){var n={};return n.type="file",n.file=t,mle(n),s9(e,n)}function gle(e,t,r,n,a,s,o,l){var c=Ua(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=o?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(d===void 0)continue;s[p]!=null&&(h[s[p]]=d);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[p]]=null;else if(d!==void 0)h[s[p]]=d;else if(u&&m===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?m:uc(g,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function tb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=vn(u);break;case"number":c=vn(e["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var f=Ua(c.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),x=c.s.r,y=0,w={};v&&!e[x]&&(e[x]=[]);var N=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(N[y]||{}).hidden)switch(h[y]=li(y),r=v?e[x][y]:e[h[y]+f],n){case 1:s[y]=y-c.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=uc(r,null,d),m=w[o]||0,!m)w[o]=1;else{do l=o+"_"+m++;while(w[l]);w[o]=m,w[l]=1}s[y]=l}for(x=c.s.r+a;x<=c.e.r;++x)if(!(j[x]||{}).hidden){var C=gle(e,c,x,h,n,s,v,d);(C.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(p[g++]=C.row)}return p.length=g,p}var xT=/"/g;function xle(e,t,r,n,a,s,o,l){for(var c=!0,d=[],u="",f=Ua(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(l.rawNumbers&&p.t=="n"?p.v:uc(p,null,l));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===s||m===34||l.forceQuotes){u='"'+u.replace(xT,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(xT,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function wk(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=vn(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=li(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=xle(e,a,v,f,o,c,s,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((m++?l:"")+u)));return delete n.dense,r.join("")}function o9(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=wk(e,t);return r}function vle(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=vn(e["!ref"]),s="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=li(l);for(var u=a.s.r;u<=a.e.r;++u)for(s=Ua(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=d?(e[u]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function l9(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Aa(n.origin):n.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=vn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){qa(m).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var y=m[x],w="z",N="",j=Gr({c:l+p,r:o+v+a});d=_g(s,j),y&&typeof y=="object"&&!(y instanceof Date)?s[j]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",n.cellDates||(w="n",y=Vi(y)),N=n.dateNF||Rn[14]):y===null&&n.nullError&&(w="e",y=0),d?(d.t=w,d.v=y,delete d.w,delete d.R,N&&(d.z=N)):s[j]=d={t:w,v:y},N&&(d.z=N))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var g=Ua(o);if(a)for(p=0;p<h.length;++p)s[li(p+l)+g]={t:"s",v:h[p]};return s["!ref"]=ta(u),s}function yle(e,t){return l9(null,e,t)}function _g(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Aa(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?_g(e,Gr(t)):_g(e,Gr({r:t,c:r||0}))}function ble(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function wle(){return{SheetNames:[],Sheets:{}}}function jle(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Q$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Nle(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=ble(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Sle(e,t){return e.z=t,e}function c9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function _le(e,t,r){return c9(e,"#"+t,r)}function kle(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ale(e,t,r,n){for(var a=typeof t!="string"?t:vn(t),s=typeof t=="string"?t:ta(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=_g(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var fr={encode_col:li,encode_row:Ua,encode_cell:Gr,encode_range:ta,decode_col:dk,decode_row:ck,split_cell:Ute,decode_cell:Aa,decode_range:Ss,format_cell:uc,sheet_add_aoa:c$,sheet_add_json:l9,sheet_add_dom:r9,aoa_to_sheet:Zp,json_to_sheet:yle,table_to_sheet:n9,table_to_book:Qoe,sheet_to_csv:wk,sheet_to_txt:o9,sheet_to_json:tb,sheet_to_html:t9,sheet_to_formulae:vle,sheet_to_row_object_array:tb,sheet_get_cell:_g,book_new:wle,book_append_sheet:jle,book_set_sheet_visibility:Nle,cell_set_number_format:Sle,cell_set_hyperlink:c9,cell_set_internal_link:_le,cell_add_comment:kle,sheet_set_array_formula:Ale,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Cle=Array.isArray,Xi=Cle,Ele=typeof _v=="object"&&_v&&_v.Object===Object&&_v,d9=Ele,Tle=d9,Ple=typeof self=="object"&&self&&self.Object===Object&&self,Ole=Tle||Ple||Function("return this")(),jl=Ole,Dle=jl,Fle=Dle.Symbol,Ax=Fle,vT=Ax,u9=Object.prototype,Lle=u9.hasOwnProperty,Ile=u9.toString,a0=vT?vT.toStringTag:void 0;function Rle(e){var t=Lle.call(e,a0),r=e[a0];try{e[a0]=void 0;var n=!0}catch{}var a=Ile.call(e);return n&&(t?e[a0]=r:delete e[a0]),a}var Mle=Rle,$le=Object.prototype,Ble=$le.toString;function zle(e){return Ble.call(e)}var Ule=zle,yT=Ax,Wle=Mle,qle=Ule,Hle="[object Null]",Vle="[object Undefined]",bT=yT?yT.toStringTag:void 0;function Gle(e){return e==null?e===void 0?Vle:Hle:bT&&bT in Object(e)?Wle(e):qle(e)}var Nc=Gle;function Kle(e){return e!=null&&typeof e=="object"}var Sc=Kle,Xle=Nc,Yle=Sc,Qle="[object Symbol]";function Jle(e){return typeof e=="symbol"||Yle(e)&&Xle(e)==Qle}var rm=Jle,Zle=Xi,ece=rm,tce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rce=/^\w*$/;function nce(e,t){if(Zle(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ece(e)?!0:rce.test(e)||!tce.test(e)||t!=null&&e in Object(t)}var jk=nce;function ace(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qd=ace;const nm=$r(Qd);var ice=Nc,sce=Qd,oce="[object AsyncFunction]",lce="[object Function]",cce="[object GeneratorFunction]",dce="[object Proxy]";function uce(e){if(!sce(e))return!1;var t=ice(e);return t==lce||t==cce||t==oce||t==dce}var Nk=uce;const rr=$r(Nk);var fce=jl,hce=fce["__core-js_shared__"],pce=hce,IN=pce,wT=function(){var e=/[^.]+$/.exec(IN&&IN.keys&&IN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mce(e){return!!wT&&wT in e}var gce=mce,xce=Function.prototype,vce=xce.toString;function yce(e){if(e!=null){try{return vce.call(e)}catch{}try{return e+""}catch{}}return""}var f9=yce,bce=Nk,wce=gce,jce=Qd,Nce=f9,Sce=/[\\^$.*+?()[\]{}|]/g,_ce=/^\[object .+?Constructor\]$/,kce=Function.prototype,Ace=Object.prototype,Cce=kce.toString,Ece=Ace.hasOwnProperty,Tce=RegExp("^"+Cce.call(Ece).replace(Sce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pce(e){if(!jce(e)||wce(e))return!1;var t=bce(e)?Tce:_ce;return t.test(Nce(e))}var Oce=Pce;function Dce(e,t){return e==null?void 0:e[t]}var Fce=Dce,Lce=Oce,Ice=Fce;function Rce(e,t){var r=Ice(e,t);return Lce(r)?r:void 0}var yf=Rce,Mce=yf,$ce=Mce(Object,"create"),Z2=$ce,jT=Z2;function Bce(){this.__data__=jT?jT(null):{},this.size=0}var zce=Bce;function Uce(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Wce=Uce,qce=Z2,Hce="__lodash_hash_undefined__",Vce=Object.prototype,Gce=Vce.hasOwnProperty;function Kce(e){var t=this.__data__;if(qce){var r=t[e];return r===Hce?void 0:r}return Gce.call(t,e)?t[e]:void 0}var Xce=Kce,Yce=Z2,Qce=Object.prototype,Jce=Qce.hasOwnProperty;function Zce(e){var t=this.__data__;return Yce?t[e]!==void 0:Jce.call(t,e)}var ede=Zce,tde=Z2,rde="__lodash_hash_undefined__";function nde(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tde&&t===void 0?rde:t,this}var ade=nde,ide=zce,sde=Wce,ode=Xce,lde=ede,cde=ade;function am(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}am.prototype.clear=ide;am.prototype.delete=sde;am.prototype.get=ode;am.prototype.has=lde;am.prototype.set=cde;var dde=am;function ude(){this.__data__=[],this.size=0}var fde=ude;function hde(e,t){return e===t||e!==e&&t!==t}var Sk=hde,pde=Sk;function mde(e,t){for(var r=e.length;r--;)if(pde(e[r][0],t))return r;return-1}var ew=mde,gde=ew,xde=Array.prototype,vde=xde.splice;function yde(e){var t=this.__data__,r=gde(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():vde.call(t,r,1),--this.size,!0}var bde=yde,wde=ew;function jde(e){var t=this.__data__,r=wde(t,e);return r<0?void 0:t[r][1]}var Nde=jde,Sde=ew;function _de(e){return Sde(this.__data__,e)>-1}var kde=_de,Ade=ew;function Cde(e,t){var r=this.__data__,n=Ade(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Ede=Cde,Tde=fde,Pde=bde,Ode=Nde,Dde=kde,Fde=Ede;function im(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}im.prototype.clear=Tde;im.prototype.delete=Pde;im.prototype.get=Ode;im.prototype.has=Dde;im.prototype.set=Fde;var tw=im,Lde=yf,Ide=jl,Rde=Lde(Ide,"Map"),_k=Rde,NT=dde,Mde=tw,$de=_k;function Bde(){this.size=0,this.__data__={hash:new NT,map:new($de||Mde),string:new NT}}var zde=Bde;function Ude(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wde=Ude,qde=Wde;function Hde(e,t){var r=e.__data__;return qde(t)?r[typeof t=="string"?"string":"hash"]:r.map}var rw=Hde,Vde=rw;function Gde(e){var t=Vde(this,e).delete(e);return this.size-=t?1:0,t}var Kde=Gde,Xde=rw;function Yde(e){return Xde(this,e).get(e)}var Qde=Yde,Jde=rw;function Zde(e){return Jde(this,e).has(e)}var eue=Zde,tue=rw;function rue(e,t){var r=tue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nue=rue,aue=zde,iue=Kde,sue=Qde,oue=eue,lue=nue;function sm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sm.prototype.clear=aue;sm.prototype.delete=iue;sm.prototype.get=sue;sm.prototype.has=oue;sm.prototype.set=lue;var kk=sm,h9=kk,cue="Expected a function";function Ak(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cue);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Ak.Cache||h9),r}Ak.Cache=h9;var p9=Ak;const due=$r(p9);var uue=p9,fue=500;function hue(e){var t=uue(e,function(n){return r.size===fue&&r.clear(),n}),r=t.cache;return t}var pue=hue,mue=pue,gue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xue=/\\(\\)?/g,vue=mue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gue,function(r,n,a,s){t.push(a?s.replace(xue,"$1"):n||r)}),t}),yue=vue;function bue(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Ck=bue,ST=Ax,wue=Ck,jue=Xi,Nue=rm,Sue=1/0,_T=ST?ST.prototype:void 0,kT=_T?_T.toString:void 0;function m9(e){if(typeof e=="string")return e;if(jue(e))return wue(e,m9)+"";if(Nue(e))return kT?kT.call(e):"";var t=e+"";return t=="0"&&1/e==-Sue?"-0":t}var _ue=m9,kue=_ue;function Aue(e){return e==null?"":kue(e)}var g9=Aue,Cue=Xi,Eue=jk,Tue=yue,Pue=g9;function Oue(e,t){return Cue(e)?e:Eue(e,t)?[e]:Tue(Pue(e))}var x9=Oue,Due=rm,Fue=1/0;function Lue(e){if(typeof e=="string"||Due(e))return e;var t=e+"";return t=="0"&&1/e==-Fue?"-0":t}var nw=Lue,Iue=x9,Rue=nw;function Mue(e,t){t=Iue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Rue(t[r++])];return r&&r==n?e:void 0}var Ek=Mue,$ue=Ek;function Bue(e,t,r){var n=e==null?void 0:$ue(e,t);return n===void 0?r:n}var v9=Bue;const bs=$r(v9);function zue(e){return e==null}var Uue=zue;const cr=$r(Uue);var Wue=Nc,que=Xi,Hue=Sc,Vue="[object String]";function Gue(e){return typeof e=="string"||!que(e)&&Hue(e)&&Wue(e)==Vue}var Kue=Gue;const Cx=$r(Kue);var y9={exports:{}},Kr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=Symbol.for("react.element"),Pk=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),lw=Symbol.for("react.context"),Xue=Symbol.for("react.server_context"),cw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),uw=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),Yue=Symbol.for("react.offscreen"),b9;b9=Symbol.for("react.module.reference");function Qs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tk:switch(e=e.type,e){case aw:case sw:case iw:case dw:case uw:return e;default:switch(e=e&&e.$$typeof,e){case Xue:case lw:case cw:case hw:case fw:case ow:return e;default:return t}}case Pk:return t}}}Kr.ContextConsumer=lw;Kr.ContextProvider=ow;Kr.Element=Tk;Kr.ForwardRef=cw;Kr.Fragment=aw;Kr.Lazy=hw;Kr.Memo=fw;Kr.Portal=Pk;Kr.Profiler=sw;Kr.StrictMode=iw;Kr.Suspense=dw;Kr.SuspenseList=uw;Kr.isAsyncMode=function(){return!1};Kr.isConcurrentMode=function(){return!1};Kr.isContextConsumer=function(e){return Qs(e)===lw};Kr.isContextProvider=function(e){return Qs(e)===ow};Kr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tk};Kr.isForwardRef=function(e){return Qs(e)===cw};Kr.isFragment=function(e){return Qs(e)===aw};Kr.isLazy=function(e){return Qs(e)===hw};Kr.isMemo=function(e){return Qs(e)===fw};Kr.isPortal=function(e){return Qs(e)===Pk};Kr.isProfiler=function(e){return Qs(e)===sw};Kr.isStrictMode=function(e){return Qs(e)===iw};Kr.isSuspense=function(e){return Qs(e)===dw};Kr.isSuspenseList=function(e){return Qs(e)===uw};Kr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===aw||e===sw||e===iw||e===dw||e===uw||e===Yue||typeof e=="object"&&e!==null&&(e.$$typeof===hw||e.$$typeof===fw||e.$$typeof===ow||e.$$typeof===lw||e.$$typeof===cw||e.$$typeof===b9||e.getModuleId!==void 0)};Kr.typeOf=Qs;y9.exports=Kr;var w9=y9.exports,Que=Nc,Jue=Sc,Zue="[object Number]";function efe(e){return typeof e=="number"||Jue(e)&&Que(e)==Zue}var j9=efe;const tfe=$r(j9);var rfe=j9;function nfe(e){return rfe(e)&&e!=+e}var afe=nfe;const Ex=$r(afe);var _i=function(t){return t===0?0:t>0?1:-1},Eu=function(t){return Cx(t)&&t.indexOf("%")===t.length-1},_t=function(t){return tfe(t)&&!Ex(t)},ma=function(t){return _t(t)||Cx(t)},ife=0,om=function(t){var r=++ife;return"".concat(t||"").concat(r)},ki=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(t)&&!Cx(t))return n;var s;if(Eu(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Ex(s)&&(s=n),a&&s>r&&(s=r),s},Zc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},sfe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},fs=function(t,r){return _t(t)&&_t(r)?function(n){return t+n*(r-t)}:function(){return r}};function rb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):bs(n,t))===r})}function qh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Y4(e){"@babel/helpers - typeof";return Y4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y4(e)}var ofe=["viewBox","children"],lfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AT=["points","pathLength"],RN={svg:ofe,polygon:AT,polyline:AT},Ok=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!nm(n))return null;var a={};return Object.keys(n).forEach(function(s){Ok.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},cfe=function(t,r,n){return function(a){return t(r,n,a),null}},nf=function(t,r,n){if(!nm(t)||Y4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Ok.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=cfe(o,r,n))}),a},dfe=["children"],ufe=["children"];function CT(e,t){if(e==null)return{};var r=ffe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ffe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q4(e){"@babel/helpers - typeof";return Q4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q4(e)}var ET={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},tc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},TT=null,MN=null,Dk=function e(t){if(t===TT&&Array.isArray(MN))return MN;var r=[];return A.Children.forEach(t,function(n){cr(n)||(w9.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),MN=r,TT=t,r};function ws(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return tc(a)}):n=[tc(t)],Dk(e).forEach(function(a){var s=bs(a,"type.displayName")||bs(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function os(e,t){var r=ws(e,t);return r&&r[0]}var PT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!_t(n)||n<=0||!_t(a)||a<=0)},hfe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pfe=function(t){return t&&t.type&&Cx(t.type)&&hfe.indexOf(t.type)>=0},mfe=function(t){return t&&Q4(t)==="object"&&"clipDot"in t},gfe=function(t,r,n,a){var s,o=(s=RN==null?void 0:RN[a])!==null&&s!==void 0?s:[];return!rr(t)&&(a&&o.includes(r)||lfe.includes(r))||n&&Ok.includes(r)},Kt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!nm(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;gfe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},J4=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return OT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!OT(s,o))return!1}return!0},OT=function(t,r){if(cr(t)&&cr(r))return!0;if(!cr(t)&&!cr(r)){var n=t.props||{},a=n.children,s=CT(n,dfe),o=r.props||{},l=o.children,c=CT(o,ufe);return a&&l?qh(s,c)&&J4(a,l):!a&&!l?qh(s,c):!1}return!1},DT=function(t,r){var n=[],a={};return Dk(t).forEach(function(s,o){if(pfe(s))n.push(s);else if(s){var l=tc(s.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(s,l,o);n.push(f),a[l]=!0}}}),n},xfe=function(t){var r=t&&t.type;return r&&ET[r]?ET[r]:null},vfe=function(t,r){return Dk(r).indexOf(t)},yfe=["children","width","height","viewBox","className","style","title","desc"];function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z4.apply(this,arguments)}function bfe(e,t){if(e==null)return{};var r=wfe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,d=bfe(e,yfe),u=a||{width:r,height:n,x:0,y:0},f=mr("recharts-surface",s);return ve.createElement("svg",Z4({},Kt(d,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ve.createElement("title",null,l),ve.createElement("desc",null,c),t)}var jfe=["children","className"];function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}function Nfe(e,t){if(e==null)return{};var r=Sfe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Or=ve.forwardRef(function(e,t){var r=e.children,n=e.className,a=Nfe(e,jfe),s=mr("recharts-layer",n);return ve.createElement("g",tS({className:s},Kt(a,!0),{ref:t}),r)}),Oo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function _fe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var kfe=_fe,Afe=kfe;function Cfe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Afe(e,t,r)}var Efe=Cfe,Tfe="\\ud800-\\udfff",Pfe="\\u0300-\\u036f",Ofe="\\ufe20-\\ufe2f",Dfe="\\u20d0-\\u20ff",Ffe=Pfe+Ofe+Dfe,Lfe="\\ufe0e\\ufe0f",Ife="\\u200d",Rfe=RegExp("["+Ife+Tfe+Ffe+Lfe+"]");function Mfe(e){return Rfe.test(e)}var N9=Mfe;function $fe(e){return e.split("")}var Bfe=$fe,S9="\\ud800-\\udfff",zfe="\\u0300-\\u036f",Ufe="\\ufe20-\\ufe2f",Wfe="\\u20d0-\\u20ff",qfe=zfe+Ufe+Wfe,Hfe="\\ufe0e\\ufe0f",Vfe="["+S9+"]",rS="["+qfe+"]",nS="\\ud83c[\\udffb-\\udfff]",Gfe="(?:"+rS+"|"+nS+")",_9="[^"+S9+"]",k9="(?:\\ud83c[\\udde6-\\uddff]){2}",A9="[\\ud800-\\udbff][\\udc00-\\udfff]",Kfe="\\u200d",C9=Gfe+"?",E9="["+Hfe+"]?",Xfe="(?:"+Kfe+"(?:"+[_9,k9,A9].join("|")+")"+E9+C9+")*",Yfe=E9+C9+Xfe,Qfe="(?:"+[_9+rS+"?",rS,k9,A9,Vfe].join("|")+")",Jfe=RegExp(nS+"(?="+nS+")|"+Qfe+Yfe,"g");function Zfe(e){return e.match(Jfe)||[]}var ehe=Zfe,the=Bfe,rhe=N9,nhe=ehe;function ahe(e){return rhe(e)?nhe(e):the(e)}var ihe=ahe,she=Efe,ohe=N9,lhe=ihe,che=g9;function dhe(e){return function(t){t=che(t);var r=ohe(t)?lhe(t):void 0,n=r?r[0]:t.charAt(0),a=r?she(r,1).join(""):t.slice(1);return n[e]()+a}}var uhe=dhe,fhe=uhe,hhe=fhe("toUpperCase"),phe=hhe;const pw=$r(phe);function ln(e){return function(){return e}}const T9=Math.cos,ab=Math.sin,zo=Math.sqrt,ib=Math.PI,mw=2*ib,aS=Math.PI,iS=2*aS,vu=1e-6,mhe=iS-vu;function P9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ghe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return P9;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class xhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?P9:ghe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vu)if(!(Math.abs(f*c-d*u)>vu)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-l,m=c*c+d*d,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(h),w=s*Math.tan((aS-Math.acos((m+h-v)/(2*x*y)))/2),N=w/y,j=w/x;Math.abs(N-1)>vu&&this._append`L${t+N*u},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*p>u*g)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>vu||Math.abs(this._y1-u)>vu)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%iS+iS),h>mhe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>vu&&this._append`A${n},${n},0,${+(h>=aS)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xhe(t)}function Lk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function O9(e){this._context=e}O9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gw(e){return new O9(e)}function D9(e){return e[0]}function F9(e){return e[1]}function L9(e,t){var r=ln(!0),n=null,a=gw,s=null,o=Fk(l);e=typeof e=="function"?e:e===void 0?D9:ln(e),t=typeof t=="function"?t:t===void 0?F9:ln(t);function l(c){var d,u=(c=Lk(c)).length,f,h=!1,p;for(n==null&&(s=a(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,d,c),+t(f,d,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ln(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ln(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ln(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function h1(e,t,r){var n=null,a=ln(!0),s=null,o=gw,l=null,c=Fk(d);e=typeof e=="function"?e:e===void 0?D9:ln(+e),t=typeof t=="function"?t:ln(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?F9:ln(+r);function d(f){var h,p,g,m=(f=Lk(f)).length,v,x=!1,y,w=new Array(m),N=new Array(m);for(s==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),N[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):N[h]))}if(y)return l=null,y+""||null}function u(){return L9().defined(a).curve(o).context(s)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:ln(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ln(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ln(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:ln(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ln(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ln(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ln(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),d):o},d.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),d):s},d}class I9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function vhe(e){return new I9(e,!0)}function yhe(e){return new I9(e,!1)}const Ik={draw(e,t){const r=zo(t/ib);e.moveTo(r,0),e.arc(0,0,r,0,mw)}},bhe={draw(e,t){const r=zo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},R9=zo(1/3),whe=R9*2,jhe={draw(e,t){const r=zo(t/whe),n=r*R9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Nhe={draw(e,t){const r=zo(t),n=-r/2;e.rect(n,n,r,r)}},She=.8908130915292852,M9=ab(ib/10)/ab(7*ib/10),_he=ab(mw/10)*M9,khe=-T9(mw/10)*M9,Ahe={draw(e,t){const r=zo(t*She),n=_he*r,a=khe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=mw*s/5,l=T9(o),c=ab(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},$N=zo(3),Che={draw(e,t){const r=-zo(t/($N*3));e.moveTo(0,r*2),e.lineTo(-$N*r,-r),e.lineTo($N*r,-r),e.closePath()}},Fs=-.5,Ls=zo(3)/2,sS=1/zo(12),Ehe=(sS/2+1)*3,The={draw(e,t){const r=zo(t/Ehe),n=r/2,a=r*sS,s=n,o=r*sS+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Fs*n-Ls*a,Ls*n+Fs*a),e.lineTo(Fs*s-Ls*o,Ls*s+Fs*o),e.lineTo(Fs*l-Ls*c,Ls*l+Fs*c),e.lineTo(Fs*n+Ls*a,Fs*a-Ls*n),e.lineTo(Fs*s+Ls*o,Fs*o-Ls*s),e.lineTo(Fs*l+Ls*c,Fs*c-Ls*l),e.closePath()}};function Phe(e,t){let r=null,n=Fk(a);e=typeof e=="function"?e:ln(e||Ik),t=typeof t=="function"?t:ln(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:ln(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:ln(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function sb(){}function ob(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $9(e){this._context=e}$9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ohe(e){return new $9(e)}function B9(e){this._context=e}B9.prototype={areaStart:sb,areaEnd:sb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dhe(e){return new B9(e)}function z9(e){this._context=e}z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fhe(e){return new z9(e)}function U9(e){this._context=e}U9.prototype={areaStart:sb,areaEnd:sb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lhe(e){return new U9(e)}function FT(e){return e<0?-1:1}function LT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(FT(s)+FT(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function IT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function BN(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function lb(e){this._context=e}lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:BN(this,this._t0,IT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,BN(this,IT(this,r=LT(this,e,t)),r);break;default:BN(this,this._t0,r=LT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function W9(e){this._context=new q9(e)}(W9.prototype=Object.create(lb.prototype)).point=function(e,t){lb.prototype.point.call(this,t,e)};function q9(e){this._context=e}q9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Ihe(e){return new lb(e)}function Rhe(e){return new W9(e)}function H9(e){this._context=e}H9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RT(e),a=RT(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RT(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Mhe(e){return new H9(e)}function xw(e,t){this._context=e,this._t=t}xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $he(e){return new xw(e,.5)}function Bhe(e){return new xw(e,0)}function zhe(e){return new xw(e,1)}function mp(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function oS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uhe(e,t){return e[t]}function Whe(e){const t=[];return t.key=e,t}function qhe(){var e=ln([]),t=oS,r=mp,n=Uhe;function a(s){var o=Array.from(e.apply(this,arguments),Whe),l,c=o.length,d=-1,u;for(const f of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,s)]).data=f;for(l=0,u=Lk(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ln(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:ln(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?oS:typeof s=="function"?s:ln(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??mp,a):r},a}function Hhe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}mp(e,t)}}function Vhe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}mp(e,t)}}function Ghe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}c+=f,d+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,mp(e,t)}}function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}var Khe=["type","size","sizeType"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lS.apply(this,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Xhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xhe(e,t,r){return t=Yhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yhe(e){var t=Qhe(e,"string");return kg(t)=="symbol"?t:t+""}function Qhe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jhe(e,t){if(e==null)return{};var r=Zhe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V9={symbolCircle:Ik,symbolCross:bhe,symbolDiamond:jhe,symbolSquare:Nhe,symbolStar:Ahe,symbolTriangle:Che,symbolWye:The},epe=Math.PI/180,tpe=function(t){var r="symbol".concat(pw(t));return V9[r]||Ik},rpe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*epe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},npe=function(t,r){V9["symbol".concat(pw(t))]=r},Rk=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Jhe(t,Khe),d=$T($T({},c),{},{type:n,size:s,sizeType:l}),u=function(){var v=tpe(n),x=Phe().type(v).size(rpe(s,l,n));return x()},f=d.className,h=d.cx,p=d.cy,g=Kt(d,!0);return h===+h&&p===+p&&s===+s?ve.createElement("path",lS({},g,{className:mr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Rk.registerSymbol=npe;function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ape(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ipe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function spe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K9(n.key),n)}}function ope(e,t,r){return t&&spe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lpe(e,t,r){return t=cb(t),cpe(e,G9()?Reflect.construct(t,r||[],cb(e).constructor):t.apply(e,r))}function cpe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(e)}function dpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G9=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(e)}function upe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(e,t)}function Ag(e,t,r){return t=K9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=fpe(e,"string");return gp(t)=="symbol"?t:t+""}function fpe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is=32,Mk=function(e){function t(){return ipe(this,t),lpe(this,t,arguments)}return upe(t,e),ope(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Is/2,o=Is/6,l=Is/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Is,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Is,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ve.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-Is,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(n.legendIcon)){var d=ape({},n);return delete d.legendIcon,ve.cloneElement(n.legendIcon,d)}return ve.createElement(Rk,{fill:c,cx:s,cy:s,size:Is,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Is,height:Is},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||c,v=mr(Ag(Ag({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=rr(p.value)?null:p.value;Oo(!rr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?d:p.color;return ve.createElement("li",cS({className:v,style:f,key:"legend-item-".concat(g)},nf(n.props,p,g)),ve.createElement(eS,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(x,p,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(A.PureComponent);Ag(Mk,"displayName","Legend");Ag(Mk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hpe=tw;function ppe(){this.__data__=new hpe,this.size=0}var mpe=ppe;function gpe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xpe=gpe;function vpe(e){return this.__data__.get(e)}var ype=vpe;function bpe(e){return this.__data__.has(e)}var wpe=bpe,jpe=tw,Npe=_k,Spe=kk,_pe=200;function kpe(e,t){var r=this.__data__;if(r instanceof jpe){var n=r.__data__;if(!Npe||n.length<_pe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Spe(n)}return r.set(e,t),this.size=r.size,this}var Ape=kpe,Cpe=tw,Epe=mpe,Tpe=xpe,Ppe=ype,Ope=wpe,Dpe=Ape;function lm(e){var t=this.__data__=new Cpe(e);this.size=t.size}lm.prototype.clear=Epe;lm.prototype.delete=Tpe;lm.prototype.get=Ppe;lm.prototype.has=Ope;lm.prototype.set=Dpe;var X9=lm,Fpe="__lodash_hash_undefined__";function Lpe(e){return this.__data__.set(e,Fpe),this}var Ipe=Lpe;function Rpe(e){return this.__data__.has(e)}var Mpe=Rpe,$pe=kk,Bpe=Ipe,zpe=Mpe;function db(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $pe;++t<r;)this.add(e[t])}db.prototype.add=db.prototype.push=Bpe;db.prototype.has=zpe;var Y9=db;function Upe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Q9=Upe;function Wpe(e,t){return e.has(t)}var J9=Wpe,qpe=Y9,Hpe=Q9,Vpe=J9,Gpe=1,Kpe=2;function Xpe(e,t,r,n,a,s){var o=r&Gpe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=s.get(e),u=s.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=r&Kpe?new qpe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=o?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Hpe(t,function(x,y){if(!Vpe(p,y)&&(g===x||a(g,x,r,n,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Z9=Xpe,Ype=jl,Qpe=Ype.Uint8Array,Jpe=Qpe;function Zpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var eme=Zpe;function tme(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $k=tme,zT=Ax,UT=Jpe,rme=Sk,nme=Z9,ame=eme,ime=$k,sme=1,ome=2,lme="[object Boolean]",cme="[object Date]",dme="[object Error]",ume="[object Map]",fme="[object Number]",hme="[object RegExp]",pme="[object Set]",mme="[object String]",gme="[object Symbol]",xme="[object ArrayBuffer]",vme="[object DataView]",WT=zT?zT.prototype:void 0,zN=WT?WT.valueOf:void 0;function yme(e,t,r,n,a,s,o){switch(r){case vme:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xme:return!(e.byteLength!=t.byteLength||!s(new UT(e),new UT(t)));case lme:case cme:case fme:return rme(+e,+t);case dme:return e.name==t.name&&e.message==t.message;case hme:case mme:return e==t+"";case ume:var l=ame;case pme:var c=n&sme;if(l||(l=ime),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=ome,o.set(e,t);var u=nme(l(e),l(t),n,a,s,o);return o.delete(e),u;case gme:if(zN)return zN.call(e)==zN.call(t)}return!1}var bme=yme;function wme(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var eB=wme,jme=eB,Nme=Xi;function Sme(e,t,r){var n=t(e);return Nme(e)?n:jme(n,r(e))}var _me=Sme;function kme(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Ame=kme;function Cme(){return[]}var Eme=Cme,Tme=Ame,Pme=Eme,Ome=Object.prototype,Dme=Ome.propertyIsEnumerable,qT=Object.getOwnPropertySymbols,Fme=qT?function(e){return e==null?[]:(e=Object(e),Tme(qT(e),function(t){return Dme.call(e,t)}))}:Pme,Lme=Fme;function Ime(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Rme=Ime,Mme=Nc,$me=Sc,Bme="[object Arguments]";function zme(e){return $me(e)&&Mme(e)==Bme}var Ume=zme,HT=Ume,Wme=Sc,tB=Object.prototype,qme=tB.hasOwnProperty,Hme=tB.propertyIsEnumerable,Vme=HT(function(){return arguments}())?HT:function(e){return Wme(e)&&qme.call(e,"callee")&&!Hme.call(e,"callee")},Bk=Vme,ub={exports:{}};function Gme(){return!1}var Kme=Gme;ub.exports;(function(e,t){var r=jl,n=Kme,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(ub,ub.exports);var rB=ub.exports,Xme=9007199254740991,Yme=/^(?:0|[1-9]\d*)$/;function Qme(e,t){var r=typeof e;return t=t??Xme,!!t&&(r=="number"||r!="symbol"&&Yme.test(e))&&e>-1&&e%1==0&&e<t}var zk=Qme,Jme=9007199254740991;function Zme(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jme}var Uk=Zme,e0e=Nc,t0e=Uk,r0e=Sc,n0e="[object Arguments]",a0e="[object Array]",i0e="[object Boolean]",s0e="[object Date]",o0e="[object Error]",l0e="[object Function]",c0e="[object Map]",d0e="[object Number]",u0e="[object Object]",f0e="[object RegExp]",h0e="[object Set]",p0e="[object String]",m0e="[object WeakMap]",g0e="[object ArrayBuffer]",x0e="[object DataView]",v0e="[object Float32Array]",y0e="[object Float64Array]",b0e="[object Int8Array]",w0e="[object Int16Array]",j0e="[object Int32Array]",N0e="[object Uint8Array]",S0e="[object Uint8ClampedArray]",_0e="[object Uint16Array]",k0e="[object Uint32Array]",pn={};pn[v0e]=pn[y0e]=pn[b0e]=pn[w0e]=pn[j0e]=pn[N0e]=pn[S0e]=pn[_0e]=pn[k0e]=!0;pn[n0e]=pn[a0e]=pn[g0e]=pn[i0e]=pn[x0e]=pn[s0e]=pn[o0e]=pn[l0e]=pn[c0e]=pn[d0e]=pn[u0e]=pn[f0e]=pn[h0e]=pn[p0e]=pn[m0e]=!1;function A0e(e){return r0e(e)&&t0e(e.length)&&!!pn[e0e(e)]}var C0e=A0e;function E0e(e){return function(t){return e(t)}}var nB=E0e,fb={exports:{}};fb.exports;(function(e,t){var r=d9,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(fb,fb.exports);var T0e=fb.exports,P0e=C0e,O0e=nB,VT=T0e,GT=VT&&VT.isTypedArray,D0e=GT?O0e(GT):P0e,aB=D0e,F0e=Rme,L0e=Bk,I0e=Xi,R0e=rB,M0e=zk,$0e=aB,B0e=Object.prototype,z0e=B0e.hasOwnProperty;function U0e(e,t){var r=I0e(e),n=!r&&L0e(e),a=!r&&!n&&R0e(e),s=!r&&!n&&!a&&$0e(e),o=r||n||a||s,l=o?F0e(e.length,String):[],c=l.length;for(var d in e)(t||z0e.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||M0e(d,c)))&&l.push(d);return l}var W0e=U0e,q0e=Object.prototype;function H0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||q0e;return e===r}var V0e=H0e;function G0e(e,t){return function(r){return e(t(r))}}var iB=G0e,K0e=iB,X0e=K0e(Object.keys,Object),Y0e=X0e,Q0e=V0e,J0e=Y0e,Z0e=Object.prototype,ege=Z0e.hasOwnProperty;function tge(e){if(!Q0e(e))return J0e(e);var t=[];for(var r in Object(e))ege.call(e,r)&&r!="constructor"&&t.push(r);return t}var rge=tge,nge=Nk,age=Uk;function ige(e){return e!=null&&age(e.length)&&!nge(e)}var Tx=ige,sge=W0e,oge=rge,lge=Tx;function cge(e){return lge(e)?sge(e):oge(e)}var vw=cge,dge=_me,uge=Lme,fge=vw;function hge(e){return dge(e,fge,uge)}var pge=hge,KT=pge,mge=1,gge=Object.prototype,xge=gge.hasOwnProperty;function vge(e,t,r,n,a,s){var o=r&mge,l=KT(e),c=l.length,d=KT(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:xge.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var w=o?n(y,x,h,t,e,s):n(x,y,h,e,t,s);if(!(w===void 0?x===y||a(x,y,r,n,s):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(m=!1)}return s.delete(e),s.delete(t),m}var yge=vge,bge=yf,wge=jl,jge=bge(wge,"DataView"),Nge=jge,Sge=yf,_ge=jl,kge=Sge(_ge,"Promise"),Age=kge,Cge=yf,Ege=jl,Tge=Cge(Ege,"Set"),sB=Tge,Pge=yf,Oge=jl,Dge=Pge(Oge,"WeakMap"),Fge=Dge,uS=Nge,fS=_k,hS=Age,pS=sB,mS=Fge,oB=Nc,cm=f9,XT="[object Map]",Lge="[object Object]",YT="[object Promise]",QT="[object Set]",JT="[object WeakMap]",ZT="[object DataView]",Ige=cm(uS),Rge=cm(fS),Mge=cm(hS),$ge=cm(pS),Bge=cm(mS),yu=oB;(uS&&yu(new uS(new ArrayBuffer(1)))!=ZT||fS&&yu(new fS)!=XT||hS&&yu(hS.resolve())!=YT||pS&&yu(new pS)!=QT||mS&&yu(new mS)!=JT)&&(yu=function(e){var t=oB(e),r=t==Lge?e.constructor:void 0,n=r?cm(r):"";if(n)switch(n){case Ige:return ZT;case Rge:return XT;case Mge:return YT;case $ge:return QT;case Bge:return JT}return t});var zge=yu,UN=X9,Uge=Z9,Wge=bme,qge=yge,eP=zge,tP=Xi,rP=rB,Hge=aB,Vge=1,nP="[object Arguments]",aP="[object Array]",p1="[object Object]",Gge=Object.prototype,iP=Gge.hasOwnProperty;function Kge(e,t,r,n,a,s){var o=tP(e),l=tP(t),c=o?aP:eP(e),d=l?aP:eP(t);c=c==nP?p1:c,d=d==nP?p1:d;var u=c==p1,f=d==p1,h=c==d;if(h&&rP(e)){if(!rP(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new UN),o||Hge(e)?Uge(e,t,r,n,a,s):Wge(e,t,c,r,n,a,s);if(!(r&Vge)){var p=u&&iP.call(e,"__wrapped__"),g=f&&iP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return s||(s=new UN),a(m,v,r,n,s)}}return h?(s||(s=new UN),qge(e,t,r,n,a,s)):!1}var Xge=Kge,Yge=Xge,sP=Sc;function lB(e,t,r,n,a){return e===t?!0:e==null||t==null||!sP(e)&&!sP(t)?e!==e&&t!==t:Yge(e,t,r,n,lB,a)}var Wk=lB,Qge=X9,Jge=Wk,Zge=1,exe=2;function txe(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new Qge;if(n)var h=n(d,u,c,e,t,f);if(!(h===void 0?Jge(u,d,Zge|exe,n,f):h))return!1}}return!0}var rxe=txe,nxe=Qd;function axe(e){return e===e&&!nxe(e)}var cB=axe,ixe=cB,sxe=vw;function oxe(e){for(var t=sxe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ixe(a)]}return t}var lxe=oxe;function cxe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var dB=cxe,dxe=rxe,uxe=lxe,fxe=dB;function hxe(e){var t=uxe(e);return t.length==1&&t[0][2]?fxe(t[0][0],t[0][1]):function(r){return r===e||dxe(r,e,t)}}var pxe=hxe;function mxe(e,t){return e!=null&&t in Object(e)}var gxe=mxe,xxe=x9,vxe=Bk,yxe=Xi,bxe=zk,wxe=Uk,jxe=nw;function Nxe(e,t,r){t=xxe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=jxe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&wxe(a)&&bxe(o,a)&&(yxe(e)||vxe(e)))}var Sxe=Nxe,_xe=gxe,kxe=Sxe;function Axe(e,t){return e!=null&&kxe(e,t,_xe)}var Cxe=Axe,Exe=Wk,Txe=v9,Pxe=Cxe,Oxe=jk,Dxe=cB,Fxe=dB,Lxe=nw,Ixe=1,Rxe=2;function Mxe(e,t){return Oxe(e)&&Dxe(t)?Fxe(Lxe(e),t):function(r){var n=Txe(r,e);return n===void 0&&n===t?Pxe(r,e):Exe(t,n,Ixe|Rxe)}}var $xe=Mxe;function Bxe(e){return e}var dm=Bxe;function zxe(e){return function(t){return t==null?void 0:t[e]}}var Uxe=zxe,Wxe=Ek;function qxe(e){return function(t){return Wxe(t,e)}}var Hxe=qxe,Vxe=Uxe,Gxe=Hxe,Kxe=jk,Xxe=nw;function Yxe(e){return Kxe(e)?Vxe(Xxe(e)):Gxe(e)}var Qxe=Yxe,Jxe=pxe,Zxe=$xe,eve=dm,tve=Xi,rve=Qxe;function nve(e){return typeof e=="function"?e:e==null?eve:typeof e=="object"?tve(e)?Zxe(e[0],e[1]):Jxe(e):rve(e)}var Nl=nve;function ave(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var uB=ave;function ive(e){return e!==e}var sve=ive;function ove(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var lve=ove,cve=uB,dve=sve,uve=lve;function fve(e,t,r){return t===t?uve(e,t,r):cve(e,dve,r)}var hve=fve,pve=hve;function mve(e,t){var r=e==null?0:e.length;return!!r&&pve(e,t,0)>-1}var gve=mve;function xve(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var vve=xve;function yve(){}var bve=yve,WN=sB,wve=bve,jve=$k,Nve=1/0,Sve=WN&&1/jve(new WN([,-0]))[1]==Nve?function(e){return new WN(e)}:wve,_ve=Sve,kve=Y9,Ave=gve,Cve=vve,Eve=J9,Tve=_ve,Pve=$k,Ove=200;function Dve(e,t,r){var n=-1,a=Ave,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Cve;else if(s>=Ove){var d=t?null:Tve(e);if(d)return Pve(d);o=!1,a=Eve,c=new kve}else c=t?[]:l;e:for(;++n<s;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var Fve=Dve,Lve=Nl,Ive=Fve;function Rve(e,t){return e&&e.length?Ive(e,Lve(t)):[]}var Mve=Rve;const oP=$r(Mve);function fB(e,t,r){return t===!0?oP(e,r):rr(t)?oP(e,t):e}function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}var $ve=["ref"];function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){yw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pB(n.key),n)}}function zve(e,t,r){return t&&cP(e.prototype,t),r&&cP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uve(e,t,r){return t=hb(t),Wve(e,hB()?Reflect.construct(t,r||[],hb(e).constructor):t.apply(e,r))}function Wve(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qve(e)}function qve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hB=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(e)}function Hve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gS(e,t)}function yw(e,t,r){return t=pB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pB(e){var t=Vve(e,"string");return xp(t)=="symbol"?t:t+""}function Vve(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gve(e,t){if(e==null)return{};var r=Kve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xve(e){return e.value}function Yve(e,t){if(ve.isValidElement(e))return ve.cloneElement(e,t);if(typeof e=="function")return ve.createElement(e,t);t.ref;var r=Gve(t,$ve);return ve.createElement(Mk,r)}var dP=1,Uu=function(e){function t(){var r;Bve(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Uve(this,t,[].concat(a)),yw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Hve(t,e),zve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>dP||Math.abs(a.height-this.lastBoundingBox.height)>dP)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Il({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((d||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Il(Il({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=Il(Il({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ve.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Yve(s,Il(Il({},this.props),{},{payload:fB(u,d,Xve)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Il(Il({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&_t(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);yw(Uu,"displayName","Legend");yw(Uu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uP=Ax,Qve=Bk,Jve=Xi,fP=uP?uP.isConcatSpreadable:void 0;function Zve(e){return Jve(e)||Qve(e)||!!(fP&&e&&e[fP])}var e1e=Zve,t1e=eB,r1e=e1e;function mB(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=r1e),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?mB(l,t-1,r,n,a):t1e(a,l):n||(a[a.length]=l)}return a}var gB=mB;function n1e(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var a1e=n1e,i1e=a1e,s1e=i1e(),o1e=s1e,l1e=o1e,c1e=vw;function d1e(e,t){return e&&l1e(e,t,c1e)}var xB=d1e,u1e=Tx;function f1e(e,t){return function(r,n){if(r==null)return r;if(!u1e(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var h1e=f1e,p1e=xB,m1e=h1e,g1e=m1e(p1e),qk=g1e,x1e=qk,v1e=Tx;function y1e(e,t){var r=-1,n=v1e(e)?Array(e.length):[];return x1e(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var vB=y1e;function b1e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var w1e=b1e,hP=rm;function j1e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=hP(e),o=t!==void 0,l=t===null,c=t===t,d=hP(t);if(!l&&!d&&!s&&e>t||s&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!d&&e<t||d&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var N1e=j1e,S1e=N1e;function _1e(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=S1e(a[n],s[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var k1e=_1e,qN=Ck,A1e=Ek,C1e=Nl,E1e=vB,T1e=w1e,P1e=nB,O1e=k1e,D1e=dm,F1e=Xi;function L1e(e,t,r){t.length?t=qN(t,function(s){return F1e(s)?function(o){return A1e(o,s.length===1?s[0]:s)}:s}):t=[D1e];var n=-1;t=qN(t,P1e(C1e));var a=E1e(e,function(s,o,l){var c=qN(t,function(d){return d(s)});return{criteria:c,index:++n,value:s}});return T1e(a,function(s,o){return O1e(s,o,r)})}var I1e=L1e;function R1e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var M1e=R1e,$1e=M1e,pP=Math.max;function B1e(e,t,r){return t=pP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=pP(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),$1e(e,this,l)}}var z1e=B1e;function U1e(e){return function(){return e}}var W1e=U1e,q1e=yf,H1e=function(){try{var e=q1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yB=H1e,V1e=W1e,mP=yB,G1e=dm,K1e=mP?function(e,t){return mP(e,"toString",{configurable:!0,enumerable:!1,value:V1e(t),writable:!0})}:G1e,X1e=K1e,Y1e=800,Q1e=16,J1e=Date.now;function Z1e(e){var t=0,r=0;return function(){var n=J1e(),a=Q1e-(n-r);if(r=n,a>0){if(++t>=Y1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eye=Z1e,tye=X1e,rye=eye,nye=rye(tye),aye=nye,iye=dm,sye=z1e,oye=aye;function lye(e,t){return oye(sye(e,t,iye),e+"")}var cye=lye,dye=Sk,uye=Tx,fye=zk,hye=Qd;function pye(e,t,r){if(!hye(r))return!1;var n=typeof t;return(n=="number"?uye(r)&&fye(t,r.length):n=="string"&&t in r)?dye(r[t],e):!1}var bw=pye,mye=gB,gye=I1e,xye=cye,gP=bw,vye=xye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&gP(e,t[0],t[1])?t=[]:r>2&&gP(t[0],t[1],t[2])&&(t=[t[0]]),gye(e,mye(t,1),[])}),yye=vye;const Hk=$r(yye);function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}function bye(e,t){return Sye(e)||Nye(e,t)||jye(e,t)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(e,t){if(e){if(typeof e=="string")return xP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xP(e,t)}}function xP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Sye(e){if(Array.isArray(e))return e}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){_ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ye(e,t,r){return t=kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Aye(e,"string");return Cg(t)=="symbol"?t:t+""}function Aye(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cye(e){return Array.isArray(e)&&ma(e[0])&&ma(e[1])?e.join(" ~ "):e}var Eye=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(u&&u.length){var T={padding:0,margin:0},I=(h?Hk(u,h):u).map(function(B,J){if(B.type==="none")return null;var U=HN({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),X=B.formatter||f||Cye,M=B.value,Q=B.name,le=M,ue=Q;if(X&&le!=null&&ue!=null){var O=X(M,Q,B,J,u);if(Array.isArray(O)){var V=bye(O,2);le=V[0],ue=V[1]}else le=O}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:U},ma(ue)?ve.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,ma(ue)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},le),ve.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},N=HN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=HN({margin:0},d),C=!cr(m),k=C?m:"",_=mr("recharts-default-tooltip",p),L=mr("recharts-tooltip-label",g);C&&v&&u!==void 0&&u!==null&&(k=v(m,u));var z=y?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",xS({className:_,style:N},z),ve.createElement("p",{className:L,style:j},ve.isValidElement(k)?k:"".concat(k)),w())};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function m1(e,t,r){return t=Tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tye(e){var t=Pye(e,"string");return Eg(t)=="symbol"?t:t+""}function Pye(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i0="recharts-tooltip-wrapper",Oye={visibility:"hidden"};function Dye(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return mr(i0,m1(m1(m1(m1({},"".concat(i0,"-right"),_t(r)&&t&&_t(t.x)&&r>=t.x),"".concat(i0,"-left"),_t(r)&&t&&_t(t.x)&&r<t.x),"".concat(i0,"-bottom"),_t(n)&&t&&_t(t.y)&&n>=t.y),"".concat(i0,"-top"),_t(n)&&t&&_t(t.y)&&n<t.y))}function yP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(s&&_t(s[n]))return s[n];var u=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?u:f;if(o[n]){var h=u,p=c[n];return h<p?Math.max(f,c[n]):Math.max(u,c[n])}var g=f+l,m=c[n]+d;return g>m?Math.max(u,c[n]):Math.max(f,c[n])}function Fye(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Lye(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=yP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=yP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Fye({translateX:u,translateY:f,useTranslate3d:l})):d=Oye,{cssProperties:d,cssClasses:Dye({translateX:u,translateY:f,coordinate:r})}}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){yS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wB(n.key),n)}}function Mye(e,t,r){return t&&Rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ye(e,t,r){return t=pb(t),Bye(e,bB()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function Bye(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zye(e)}function zye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bB=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function Uye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vS(e,t)}function yS(e,t,r){return t=wB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=Wye(e,"string");return vp(t)=="symbol"?t:t+""}function Wye(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=1,qye=function(e){function t(){var r;Iye(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=$ye(this,t,[].concat(a)),yS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Uye(t,e),Mye(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jP||Math.abs(n.height-this.state.lastBoundingBox.height)>jP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,w=Lye({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=w.cssClasses,j=w.cssProperties,C=wP(wP({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return ve.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(_){n.wrapperNode=_}},d)}}])}(A.PureComponent),Hye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fl={isSsr:Hye(),get:function(t){return fl[t]},set:function(t,r){if(typeof t=="string")fl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){fl[a]=t[a]})}}};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NB(n.key),n)}}function Kye(e,t,r){return t&&Gye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xye(e,t,r){return t=mb(t),Yye(e,jB()?Reflect.construct(t,r||[],mb(e).constructor):t.apply(e,r))}function Yye(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jB=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bS(e,t)}function Vk(e,t,r){return t=NB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NB(e){var t=Zye(e,"string");return yp(t)=="symbol"?t:t+""}function Zye(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ebe(e){return e.dataKey}function tbe(e,t){return ve.isValidElement(e)?ve.cloneElement(e,t):typeof e=="function"?ve.createElement(e,t):ve.createElement(Eye,t)}var ca=function(e){function t(){return Vye(this,t),Xye(this,t,arguments)}return Jye(t,e),Kye(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,N=a.wrapperStyle,j=g??[];f&&j.length&&(j=fB(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,ebe));var C=j.length>0;return ve.createElement(qye,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:u,hasPayload:C,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:N},tbe(d,SP(SP({},this.props),{},{payload:j})))}}])}(A.PureComponent);Vk(ca,"displayName","Tooltip");Vk(ca,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rbe=jl,nbe=function(){return rbe.Date.now()},abe=nbe,ibe=/\s/;function sbe(e){for(var t=e.length;t--&&ibe.test(e.charAt(t)););return t}var obe=sbe,lbe=obe,cbe=/^\s+/;function dbe(e){return e&&e.slice(0,lbe(e)+1).replace(cbe,"")}var ube=dbe,fbe=ube,_P=Qd,hbe=rm,kP=NaN,pbe=/^[-+]0x[0-9a-f]+$/i,mbe=/^0b[01]+$/i,gbe=/^0o[0-7]+$/i,xbe=parseInt;function vbe(e){if(typeof e=="number")return e;if(hbe(e))return kP;if(_P(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_P(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fbe(e);var r=mbe.test(e);return r||gbe.test(e)?xbe(e.slice(2),r?2:8):pbe.test(e)?kP:+e}var SB=vbe,ybe=Qd,VN=abe,AP=SB,bbe="Expected a function",wbe=Math.max,jbe=Math.min;function Nbe(e,t,r){var n,a,s,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(bbe);t=AP(t)||0,ybe(r)&&(u=!!r.leading,f="maxWait"in r,s=f?wbe(AP(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(C){var k=n,_=a;return n=a=void 0,d=C,o=e.apply(_,k),o}function g(C){return d=C,l=setTimeout(x,t),u?p(C):o}function m(C){var k=C-c,_=C-d,L=t-k;return f?jbe(L,s-_):L}function v(C){var k=C-c,_=C-d;return c===void 0||k>=t||k<0||f&&_>=s}function x(){var C=VN();if(v(C))return y(C);l=setTimeout(x,m(C))}function y(C){return l=void 0,h&&n?p(C):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function N(){return l===void 0?o:y(VN())}function j(){var C=VN(),k=v(C);if(n=arguments,a=this,c=C,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return j.cancel=w,j.flush=N,j}var Sbe=Nbe,_be=Sbe,kbe=Qd,Abe="Expected a function";function Cbe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Abe);return kbe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),_be(e,t,{leading:n,maxWait:t,trailing:a})}var Ebe=Cbe;const _B=$r(Ebe);function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Tbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tbe(e,t,r){return t=Pbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pbe(e){var t=Obe(e,"string");return Tg(t)=="symbol"?t:t+""}function Obe(e,t){if(Tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dbe(e,t){return Rbe(e)||Ibe(e,t)||Lbe(e,t)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lbe(e,t){if(e){if(typeof e=="string")return EP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EP(e,t)}}function EP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ibe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Rbe(e){if(Array.isArray(e))return e}var Hi=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,x=e.className,y=e.onResize,w=e.style,N=w===void 0?{}:w,j=A.useRef(null),C=A.useRef();C.current=y,A.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=A.useState({containerWidth:a.width,containerHeight:a.height}),_=Dbe(k,2),L=_[0],z=_[1],D=A.useCallback(function(I,B){z(function(J){var U=Math.round(I),X=Math.round(B);return J.containerWidth===U&&J.containerHeight===X?J:{containerWidth:U,containerHeight:X}})},[]);A.useEffect(function(){var I=function(Q){var le,ue=Q[0].contentRect,O=ue.width,V=ue.height;D(O,V),(le=C.current)===null||le===void 0||le.call(C,O,V)};m>0&&(I=_B(I,m,{trailing:!0,leading:!1}));var B=new ResizeObserver(I),J=j.current.getBoundingClientRect(),U=J.width,X=J.height;return D(U,X),B.observe(j.current),function(){B.disconnect()}},[D,m]);var T=A.useMemo(function(){var I=L.containerWidth,B=L.containerHeight;if(I<0||B<0)return null;Oo(Eu(o)||Eu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Oo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=Eu(o)?I:o,U=Eu(c)?B:c;r&&r>0&&(J?U=J/r:U&&(J=U*r),h&&U>h&&(U=h)),Oo(J>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,U,o,c,u,f,r);var X=!Array.isArray(p)&&tc(p.type).endsWith("Chart");return ve.Children.map(p,function(M){return w9.isElement(M)?A.cloneElement(M,g1({width:J,height:U},X?{style:g1({height:"100%",width:"100%",maxHeight:U,maxWidth:J},M.props.style)}:{})):M})},[r,p,c,h,f,u,L,o]);return ve.createElement("div",{id:v?"".concat(v):void 0,className:mr("recharts-responsive-container",x),style:g1(g1({},N),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:h}),ref:j},T)}),Ro=function(t){return null};Ro.displayName="Cell";function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Mbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mbe(e,t,r){return t=$be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $be(e){var t=Bbe(e,"string");return Pg(t)=="symbol"?t:t+""}function Bbe(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh={widthCache:{},cacheCount:0},zbe=2e3,Ube={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PP="recharts_measurement_span";function Wbe(e){var t=wS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var M0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fl.isSsr)return{width:0,height:0};var n=Wbe(r),a=JSON.stringify({text:t,copyStyle:n});if(eh.widthCache[a])return eh.widthCache[a];try{var s=document.getElementById(PP);s||(s=document.createElement("span"),s.setAttribute("id",PP),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=wS(wS({},Ube),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return eh.widthCache[a]=c,++eh.cacheCount>zbe&&(eh.cacheCount=0,eh.widthCache={}),c}catch{return{width:0,height:0}}},qbe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function gb(e,t){return Kbe(e)||Gbe(e,t)||Vbe(e,t)||Hbe()}function Hbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vbe(e,t){if(e){if(typeof e=="string")return OP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(e,t)}}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Kbe(e){if(Array.isArray(e))return e}function Xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qbe(n.key),n)}}function Ybe(e,t,r){return t&&DP(e.prototype,t),r&&DP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qbe(e){var t=Jbe(e,"string");return Og(t)=="symbol"?t:t+""}function Jbe(e,t){if(Og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t2e=Object.keys(kB),jh="NaN";function r2e(e,t){return e*kB[t]}var x1=function(){function e(t,r){Xbe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Zbe.test(r)&&(this.num=NaN,this.unit=""),t2e.includes(r)&&(this.num=r2e(t,r),this.unit="px")}return Ybe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=e2e.exec(r))!==null&&n!==void 0?n:[],s=gb(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function AB(e){if(e.includes(jh))return jh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=FP.exec(t))!==null&&r!==void 0?r:[],a=gb(n,4),s=a[1],o=a[2],l=a[3],c=x1.parse(s??""),d=x1.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return jh;t=t.replace(FP,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=LP.exec(t))!==null&&f!==void 0?f:[],p=gb(h,4),g=p[1],m=p[2],v=p[3],x=x1.parse(g??""),y=x1.parse(v??""),w=m==="+"?x.add(y):x.subtract(y);if(w.isNaN())return jh;t=t.replace(LP,w.toString())}return t}var IP=/\(([^()]*)\)/;function n2e(e){for(var t=e;t.includes("(");){var r=IP.exec(t),n=gb(r,2),a=n[1];t=t.replace(IP,AB(a))}return t}function a2e(e){var t=e.replace(/\s+/g,"");return t=n2e(t),t=AB(t),t}function i2e(e){try{return a2e(e)}catch{return jh}}function GN(e){var t=i2e(e.slice(5,-1));return t===jh?"":t}var s2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o2e=["dx","dy","angle","className","breakAll"];function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(this,arguments)}function RP(e,t){if(e==null)return{};var r=l2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MP(e,t){return f2e(e)||u2e(e,t)||d2e(e,t)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(e,t){if(e){if(typeof e=="string")return $P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(e,t)}}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function f2e(e){if(Array.isArray(e))return e}var CB=/[ \f\n\r\t\v\u2028\u2029]+/,EB=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];cr(r)||(n?s=r.toString().split(""):s=r.toString().split(CB));var o=s.map(function(c){return{word:c,width:M0(c,a).width}}),l=n?0:M0(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},h2e=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=_t(o),f=l,h=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(U,X){var M=X.word,Q=X.width,le=U[U.length-1];if(le&&(a==null||s||le.width+Q+n<Number(a)))le.words.push(M),le.width+=Q+n;else{var ue={words:[M],width:Q};U.push(ue)}return U},[])},p=h(r),g=function(J){return J.reduce(function(U,X){return U.width>X.width?U:X})};if(!u)return p;for(var m="…",v=function(J){var U=f.slice(0,J),X=EB({breakAll:d,style:c,children:U+m}).wordsWithComputedWidth,M=h(X),Q=M.length>o||g(M).width>Number(a);return[Q,M]},x=0,y=f.length-1,w=0,N;x<=y&&w<=f.length-1;){var j=Math.floor((x+y)/2),C=j-1,k=v(C),_=MP(k,2),L=_[0],z=_[1],D=v(j),T=MP(D,1),I=T[0];if(!L&&!I&&(x=j+1),L&&I&&(y=j-1),!L&&I){N=z;break}w++}return N||p},BP=function(t){var r=cr(t)?[]:t.toString().split(CB);return[{words:r}]},p2e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!fl.isSsr){var c,d,u=EB({breakAll:o,children:a,style:s});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;c=f,d=h}else return BP(a);return h2e({breakAll:o,children:a,maxLines:l,style:s},c,d,r,n)}return BP(a)},zP="#808080",af=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,x=v===void 0?zP:v,y=RP(t,s2e),w=A.useMemo(function(){return p2e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,j=y.dy,C=y.angle,k=y.className,_=y.breakAll,L=RP(y,o2e);if(!ma(n)||!ma(s))return null;var z=n+(_t(N)?N:0),D=s+(_t(j)?j:0),T;switch(m){case"start":T=GN("calc(".concat(d,")"));break;case"middle":T=GN("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:T=GN("calc(".concat(w.length-1," * -").concat(l,")"));break}var I=[];if(f){var B=w[0].width,J=y.width;I.push("scale(".concat((_t(J)?J/B:1)/B,")"))}return C&&I.push("rotate(".concat(C,", ").concat(z,", ").concat(D,")")),I.length&&(L.transform=I.join(" ")),ve.createElement("text",jS({},Kt(L,!0),{x:z,y:D,className:mr("recharts-text",k),textAnchor:p,fill:x.includes("url")?zP:x}),w.map(function(U,X){var M=U.words.join(_?"":" ");return ve.createElement("tspan",{x:z,dy:X===0?T:l,key:"".concat(M,"-").concat(X)},M)}))};function Cd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gk(e){let t,r,n;e.length!==2?(t=Cd,r=(l,c)=>Cd(e(l),c),n=(l,c)=>e(l)-c):(t=e===Cd||e===m2e?e:g2e,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function g2e(){return 0}function TB(e){return e===null?NaN:+e}function*x2e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const v2e=Gk(Cd),Px=v2e.right;Gk(TB).center;class UP extends Map{constructor(t,r=w2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(WP(this,t))}has(t){return super.has(WP(this,t))}set(t,r){return super.set(y2e(this,t),r)}delete(t){return super.delete(b2e(this,t))}}function WP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function y2e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function b2e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w2e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function j2e(e=Cd){if(e===Cd)return PB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const N2e=Math.sqrt(50),S2e=Math.sqrt(10),_2e=Math.sqrt(2);function xb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=N2e?10:s>=S2e?5:s>=_2e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?xb(e,t,r*2):[l,c,d]}function NS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?xb(t,e,r):xb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function SS(e,t,r){return t=+t,e=+e,r=+r,xb(e,t,r)[2]}function _S(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?SS(t,e,r):SS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function qP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OB(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?PB:j2e(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+h)),g=Math.min(n,Math.floor(t+(c-d)*f/c+h));OB(e,t,p,g,a)}const s=e[t];let o=r,l=n;for(s0(e,r,t),a(e[n],s)>0&&s0(e,r,n);o<l;){for(s0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?s0(e,r,l):(++l,s0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function s0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function k2e(e,t,r){if(e=Float64Array.from(x2e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return HP(e);if(t>=1)return qP(e);var n,a=(n-1)*t,s=Math.floor(a),o=qP(OB(e,s).subarray(0,s+1)),l=HP(e.subarray(s+1));return o+(l-o)*(a-s)}}function A2e(e,t,r=TB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function C2e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Js(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _c(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kS=Symbol("implicit");function Kk(){var e=new UP,t=[],r=[],n=kS;function a(s){let o=e.get(s);if(o===void 0){if(n!==kS)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new UP;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Kk(t,r).unknown(n)},Js.apply(a,arguments),a}function Dg(){var e=Kk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;s=(m-g)/Math.max(1,h-c+d*2),l&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*u,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=C2e(h).map(function(x){return g+s*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Dg(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Js.apply(f(),arguments)}function DB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DB(t())},e}function $0(){return DB(Dg.apply(null,arguments).paddingInner(1))}function Xk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ox(){}var Fg=.7,vb=1/Fg,Hh="\\s*([+-]?\\d+)\\s*",Lg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E2e=/^#([0-9a-f]{3,8})$/,T2e=new RegExp(`^rgb\\(${Hh},${Hh},${Hh}\\)$`),P2e=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),O2e=new RegExp(`^rgba\\(${Hh},${Hh},${Hh},${Lg}\\)$`),D2e=new RegExp(`^rgba\\(${hl},${hl},${hl},${Lg}\\)$`),F2e=new RegExp(`^hsl\\(${Lg},${hl},${hl}\\)$`),L2e=new RegExp(`^hsla\\(${Lg},${hl},${hl},${Lg}\\)$`),VP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xk(Ox,Ig,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GP,formatHex:GP,formatHex8:I2e,formatHsl:R2e,formatRgb:KP,toString:KP});function GP(){return this.rgb().formatHex()}function I2e(){return this.rgb().formatHex8()}function R2e(){return LB(this).formatHsl()}function KP(){return this.rgb().formatRgb()}function Ig(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E2e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?XP(t):r===3?new Bi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?v1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?v1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=T2e.exec(e))?new Bi(t[1],t[2],t[3],1):(t=P2e.exec(e))?new Bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=O2e.exec(e))?v1(t[1],t[2],t[3],t[4]):(t=D2e.exec(e))?v1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=F2e.exec(e))?JP(t[1],t[2]/100,t[3]/100,1):(t=L2e.exec(e))?JP(t[1],t[2]/100,t[3]/100,t[4]):VP.hasOwnProperty(e)?XP(VP[e]):e==="transparent"?new Bi(NaN,NaN,NaN,0):null}function XP(e){return new Bi(e>>16&255,e>>8&255,e&255,1)}function v1(e,t,r,n){return n<=0&&(e=t=r=NaN),new Bi(e,t,r,n)}function M2e(e){return e instanceof Ox||(e=Ig(e)),e?(e=e.rgb(),new Bi(e.r,e.g,e.b,e.opacity)):new Bi}function AS(e,t,r,n){return arguments.length===1?M2e(e):new Bi(e,t,r,n??1)}function Bi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Xk(Bi,AS,FB(Ox,{brighter(e){return e=e==null?vb:Math.pow(vb,e),new Bi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fg:Math.pow(Fg,e),new Bi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bi(Wu(this.r),Wu(this.g),Wu(this.b),yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YP,formatHex:YP,formatHex8:$2e,formatRgb:QP,toString:QP}));function YP(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}`}function $2e(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}${Tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function QP(){const e=yb(this.opacity);return`${e===1?"rgb(":"rgba("}${Wu(this.r)}, ${Wu(this.g)}, ${Wu(this.b)}${e===1?")":`, ${e})`}`}function yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tu(e){return e=Wu(e),(e<16?"0":"")+e.toString(16)}function JP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ko(e,t,r,n)}function LB(e){if(e instanceof ko)return new ko(e.h,e.s,e.l,e.opacity);if(e instanceof Ox||(e=Ig(e)),!e)return new ko;if(e instanceof ko)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new ko(o,l,c,e.opacity)}function B2e(e,t,r,n){return arguments.length===1?LB(e):new ko(e,t,r,n??1)}function ko(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Xk(ko,B2e,FB(Ox,{brighter(e){return e=e==null?vb:Math.pow(vb,e),new ko(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fg:Math.pow(Fg,e),new ko(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Bi(KN(e>=240?e-240:e+120,a,n),KN(e,a,n),KN(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ko(ZP(this.h),y1(this.s),y1(this.l),yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yb(this.opacity);return`${e===1?"hsl(":"hsla("}${ZP(this.h)}, ${y1(this.s)*100}%, ${y1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ZP(e){return e=(e||0)%360,e<0?e+360:e}function y1(e){return Math.max(0,Math.min(1,e||0))}function KN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Yk=e=>()=>e;function z2e(e,t){return function(r){return e+r*t}}function U2e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function W2e(e){return(e=+e)==1?IB:function(t,r){return r-t?U2e(t,r,e):Yk(isNaN(t)?r:t)}}function IB(e,t){var r=t-e;return r?z2e(e,r):Yk(isNaN(e)?t:e)}const eO=function e(t){var r=W2e(t);function n(a,s){var o=r((a=AS(a)).r,(s=AS(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),d=IB(a.opacity,s.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function q2e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function H2e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V2e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=um(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function G2e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K2e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=um(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var CS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XN=new RegExp(CS.source,"g");function X2e(e){return function(){return e}}function Y2e(e){return function(t){return e(t)+""}}function Q2e(e,t){var r=CS.lastIndex=XN.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=CS.exec(e))&&(a=XN.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:bb(n,a)})),r=XN.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Y2e(c[0].x):X2e(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function um(e,t){var r=typeof t,n;return t==null||r==="boolean"?Yk(t):(r==="number"?bb:r==="string"?(n=Ig(t))?(t=n,eO):Q2e:t instanceof Ig?eO:t instanceof Date?G2e:H2e(t)?q2e:Array.isArray(t)?V2e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K2e:bb)(e,t)}function Qk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function J2e(e,t){t===void 0&&(t=e,e=um);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Z2e(e){return function(){return e}}function wb(e){return+e}var tO=[0,1];function Ai(e){return e}function ES(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Z2e(isNaN(t)?NaN:.5)}function ewe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function twe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=ES(a,n),s=r(o,s)):(n=ES(n,a),s=r(s,o)),function(l){return s(n(l))}}function rwe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ES(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Px(e,l,1,n)-1;return s[c](a[c](l))}}function Dx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ww(){var e=tO,t=tO,r=um,n,a,s,o=Ai,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==Ai&&(o=ewe(e[0],e[h-1])),l=h>2?rwe:twe,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((d||(d=l(t,e.map(n),bb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Qk,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Ai,u()):o!==Ai},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,u()}}function Jk(){return ww()(Ai,Ai)}function nwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bp(e){return e=jb(Math.abs(e)),e?e[1]:NaN}function awe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function iwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var swe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rg(e){if(!(t=swe.exec(e)))throw new Error("invalid format: "+e);var t;return new Zk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rg.prototype=Zk.prototype;function Zk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function owe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var RB;function lwe(e,t){var r=jb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(RB=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+jb(e,Math.max(0,t+s-1))[0]}function rO(e,t){var r=jb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const nO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rO(e*100,t),r:rO,s:lwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aO(e){return e}var iO=Array.prototype.map,sO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cwe(e){var t=e.grouping===void 0||e.thousands===void 0?aO:awe(iO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?aO:iwe(iO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Rg(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,y=f.comma,w=f.precision,N=f.trim,j=f.type;j==="n"?(y=!0,j="g"):nO[j]||(w===void 0&&(w=12),N=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=m==="$"?n:/[%p]/.test(j)?o:"",_=nO[j],L=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function z(D){var T=C,I=k,B,J,U;if(j==="c")I=_(D)+I,D="";else{D=+D;var X=D<0||1/D<0;if(D=isNaN(D)?c:_(Math.abs(D),w),N&&(D=owe(D)),X&&+D==0&&g!=="+"&&(X=!1),T=(X?g==="("?g:l:g==="-"||g==="("?"":g)+T,I=(j==="s"?sO[8+RB/3]:"")+I+(X&&g==="("?")":""),L){for(B=-1,J=D.length;++B<J;)if(U=D.charCodeAt(B),48>U||U>57){I=(U===46?a+D.slice(B+1):D.slice(B))+I,D=D.slice(0,B);break}}}y&&!v&&(D=t(D,1/0));var M=T.length+D.length+I.length,Q=M<x?new Array(x-M+1).join(h):"";switch(y&&v&&(D=t(Q+D,Q.length?x-I.length:1/0),Q=""),p){case"<":D=T+D+I+Q;break;case"=":D=T+Q+D+I;break;case"^":D=Q.slice(0,M=Q.length>>1)+T+D+I+Q.slice(M);break;default:D=Q+T+D+I;break}return s(D)}return z.toString=function(){return f+""},z}function u(f,h){var p=d((f=Rg(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(bp(h)/3)))*3,m=Math.pow(10,-g),v=sO[8+g/3];return function(x){return p(m*x)+v}}return{format:d,formatPrefix:u}}var b1,eA,MB;dwe({thousands:",",grouping:[3],currency:["$",""]});function dwe(e){return b1=cwe(e),eA=b1.format,MB=b1.formatPrefix,b1}function uwe(e){return Math.max(0,-bp(Math.abs(e)))}function fwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bp(t)/3)))*3-bp(Math.abs(e)))}function hwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bp(t)-bp(e))+1}function $B(e,t,r,n){var a=_S(e,t,r),s;switch(n=Rg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=fwe(a,o))&&(n.precision=s),MB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=hwe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=uwe(a))&&(n.precision=s-(n.type==="%")*2);break}}return eA(n)}function Jd(e){var t=e.domain;return e.ticks=function(r){var n=t();return NS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return $B(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=s,s=d);u-- >0;){if(d=SS(o,l,r),d===c)return n[a]=o,n[s]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Nb(){var e=Jk();return e.copy=function(){return Dx(e,Nb())},Js.apply(e,arguments),Jd(e)}function BB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BB(e).unknown(t)},e=arguments.length?Array.from(e,wb):[0,1],Jd(r)}function zB(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function oO(e){return Math.log(e)}function lO(e){return Math.exp(e)}function pwe(e){return-Math.log(-e)}function mwe(e){return-Math.exp(-e)}function gwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xwe(e){return e===10?gwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cO(e){return(t,r)=>-e(-t,r)}function tA(e){const t=e(oO,lO),r=t.domain;let n=10,a,s;function o(){return a=vwe(n),s=xwe(n),r()[0]<0?(a=cO(a),s=cO(s),e(pwe,mwe)):e(oO,lO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=a(d),p=a(u),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<d)){if(m>u)break;x.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<d)){if(m>u)break;x.push(m)}x.length*2<v&&(x=NS(d,u,v))}else x=NS(h,p,Math.min(p-h,v)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rg(c)).precision==null&&(c.trim=!0),c=eA(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/s(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(zB(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function UB(){const e=tA(ww()).domain([1,10]);return e.copy=()=>Dx(e,UB()).base(e.base()),Js.apply(e,arguments),e}function dO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rA(e){var t=1,r=e(dO(t),uO(t));return r.constant=function(n){return arguments.length?e(dO(t=+n),uO(t)):t},Jd(r)}function WB(){var e=rA(ww());return e.copy=function(){return Dx(e,WB()).constant(e.constant())},Js.apply(e,arguments)}function fO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ywe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bwe(e){return e<0?-e*e:e*e}function nA(e){var t=e(Ai,Ai),r=1;function n(){return r===1?e(Ai,Ai):r===.5?e(ywe,bwe):e(fO(r),fO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Jd(t)}function aA(){var e=nA(ww());return e.copy=function(){return Dx(e,aA()).exponent(e.exponent())},Js.apply(e,arguments),e}function wwe(){return aA.apply(null,arguments).exponent(.5)}function hO(e){return Math.sign(e)*e*e}function jwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qB(){var e=Jk(),t=[0,1],r=!1,n;function a(s){var o=jwe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(hO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,wb)).map(hO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return qB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Js.apply(a,arguments),Jd(a)}function HB(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=A2e(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Px(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cd),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return HB().domain(e).range(t).unknown(n)},Js.apply(s,arguments)}function VB(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Px(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return VB().domain([e,t]).range(a).unknown(s)},Js.apply(Jd(o),arguments)}function GB(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Px(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return GB().domain(e).range(t).unknown(r)},Js.apply(a,arguments)}const YN=new Date,QN=new Date;function ga(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<o);return c},a.filter=s=>ga(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(YN.setTime(+s),QN.setTime(+o),e(YN),e(QN),Math.floor(r(YN,QN))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Sb=ga(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ga(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sb);Sb.range;const Hl=1e3,Hs=Hl*60,Vl=Hs*60,fc=Vl*24,iA=fc*7,pO=fc*30,JN=fc*365,Pu=ga(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCSeconds());Pu.range;const sA=ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl)},(e,t)=>{e.setTime(+e+t*Hs)},(e,t)=>(t-e)/Hs,e=>e.getMinutes());sA.range;const oA=ga(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hs)},(e,t)=>(t-e)/Hs,e=>e.getUTCMinutes());oA.range;const lA=ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl-e.getMinutes()*Hs)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getHours());lA.range;const cA=ga(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCHours());cA.range;const Fx=ga(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hs)/fc,e=>e.getDate()-1);Fx.range;const jw=ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fc,e=>e.getUTCDate()-1);jw.range;const KB=ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fc,e=>Math.floor(e/fc));KB.range;function bf(e){return ga(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hs)/iA)}const Nw=bf(0),_b=bf(1),Nwe=bf(2),Swe=bf(3),wp=bf(4),_we=bf(5),kwe=bf(6);Nw.range;_b.range;Nwe.range;Swe.range;wp.range;_we.range;kwe.range;function wf(e){return ga(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/iA)}const Sw=wf(0),kb=wf(1),Awe=wf(2),Cwe=wf(3),jp=wf(4),Ewe=wf(5),Twe=wf(6);Sw.range;kb.range;Awe.range;Cwe.range;jp.range;Ewe.range;Twe.range;const dA=ga(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dA.range;const uA=ga(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uA.range;const hc=ga(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ga(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hc.range;const pc=ga(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ga(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});pc.range;function XB(e,t,r,n,a,s){const o=[[Pu,1,Hl],[Pu,5,5*Hl],[Pu,15,15*Hl],[Pu,30,30*Hl],[s,1,Hs],[s,5,5*Hs],[s,15,15*Hs],[s,30,30*Hs],[a,1,Vl],[a,3,3*Vl],[a,6,6*Vl],[a,12,12*Vl],[n,1,fc],[n,2,2*fc],[r,1,iA],[t,1,pO],[t,3,3*pO],[e,1,JN]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),g=p?p.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,f){const h=Math.abs(u-d)/f,p=Gk(([,,v])=>v).right(o,h);if(p===o.length)return e.every(_S(d/JN,u/JN,f));if(p===0)return Sb.every(Math.max(_S(d,u,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Pwe,Owe]=XB(pc,uA,Sw,KB,cA,oA),[Dwe,Fwe]=XB(hc,dA,Nw,Fx,lA,sA);function ZN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Lwe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=l0(a),u=c0(a),f=l0(s),h=c0(s),p=l0(o),g=c0(o),m=l0(l),v=c0(l),x=l0(c),y=c0(c),w={a:X,A:M,b:Q,B:le,c:null,d:bO,e:bO,f:aje,g:pje,G:gje,H:tje,I:rje,j:nje,L:YB,m:ije,M:sje,p:ue,q:O,Q:NO,s:SO,S:oje,u:lje,U:cje,V:dje,w:uje,W:fje,x:null,X:null,y:hje,Y:mje,Z:xje,"%":jO},N={a:V,A:Y,b:q,B:P,c:null,d:wO,e:wO,f:wje,g:Pje,G:Dje,H:vje,I:yje,j:bje,L:JB,m:jje,M:Nje,p:R,q:G,Q:NO,s:SO,S:Sje,u:_je,U:kje,V:Aje,w:Cje,W:Eje,x:null,X:null,y:Tje,Y:Oje,Z:Fje,"%":jO},j={a:z,A:D,b:T,B:I,c:B,d:vO,e:vO,f:Qwe,g:xO,G:gO,H:yO,I:yO,j:Gwe,L:Ywe,m:Vwe,M:Kwe,p:L,q:Hwe,Q:Zwe,s:eje,S:Xwe,u:Bwe,U:zwe,V:Uwe,w:$we,W:Wwe,x:J,X:U,y:xO,Y:gO,Z:qwe,"%":Jwe};w.x=C(r,w),w.X=C(n,w),w.c=C(t,w),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(W,H){return function(me){var ae=[],be=-1,te=0,ge=W.length,re,Oe,Pe;for(me instanceof Date||(me=new Date(+me));++be<ge;)W.charCodeAt(be)===37&&(ae.push(W.slice(te,be)),(Oe=mO[re=W.charAt(++be)])!=null?re=W.charAt(++be):Oe=re==="e"?" ":"0",(Pe=H[re])&&(re=Pe(me,Oe)),ae.push(re),te=be+1);return ae.push(W.slice(te,be)),ae.join("")}}function k(W,H){return function(me){var ae=o0(1900,void 0,1),be=_(ae,W,me+="",0),te,ge;if(be!=me.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(H&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(te=e5(o0(ae.y,0,1)),ge=te.getUTCDay(),te=ge>4||ge===0?kb.ceil(te):kb(te),te=jw.offset(te,(ae.V-1)*7),ae.y=te.getUTCFullYear(),ae.m=te.getUTCMonth(),ae.d=te.getUTCDate()+(ae.w+6)%7):(te=ZN(o0(ae.y,0,1)),ge=te.getDay(),te=ge>4||ge===0?_b.ceil(te):_b(te),te=Fx.offset(te,(ae.V-1)*7),ae.y=te.getFullYear(),ae.m=te.getMonth(),ae.d=te.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ge="Z"in ae?e5(o0(ae.y,0,1)).getUTCDay():ZN(o0(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ge+5)%7:ae.w+ae.U*7-(ge+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,e5(ae)):ZN(ae)}}function _(W,H,me,ae){for(var be=0,te=H.length,ge=me.length,re,Oe;be<te;){if(ae>=ge)return-1;if(re=H.charCodeAt(be++),re===37){if(re=H.charAt(be++),Oe=j[re in mO?H.charAt(be++):re],!Oe||(ae=Oe(W,me,ae))<0)return-1}else if(re!=me.charCodeAt(ae++))return-1}return ae}function L(W,H,me){var ae=d.exec(H.slice(me));return ae?(W.p=u.get(ae[0].toLowerCase()),me+ae[0].length):-1}function z(W,H,me){var ae=p.exec(H.slice(me));return ae?(W.w=g.get(ae[0].toLowerCase()),me+ae[0].length):-1}function D(W,H,me){var ae=f.exec(H.slice(me));return ae?(W.w=h.get(ae[0].toLowerCase()),me+ae[0].length):-1}function T(W,H,me){var ae=x.exec(H.slice(me));return ae?(W.m=y.get(ae[0].toLowerCase()),me+ae[0].length):-1}function I(W,H,me){var ae=m.exec(H.slice(me));return ae?(W.m=v.get(ae[0].toLowerCase()),me+ae[0].length):-1}function B(W,H,me){return _(W,t,H,me)}function J(W,H,me){return _(W,r,H,me)}function U(W,H,me){return _(W,n,H,me)}function X(W){return o[W.getDay()]}function M(W){return s[W.getDay()]}function Q(W){return c[W.getMonth()]}function le(W){return l[W.getMonth()]}function ue(W){return a[+(W.getHours()>=12)]}function O(W){return 1+~~(W.getMonth()/3)}function V(W){return o[W.getUTCDay()]}function Y(W){return s[W.getUTCDay()]}function q(W){return c[W.getUTCMonth()]}function P(W){return l[W.getUTCMonth()]}function R(W){return a[+(W.getUTCHours()>=12)]}function G(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var H=C(W+="",w);return H.toString=function(){return W},H},parse:function(W){var H=k(W+="",!1);return H.toString=function(){return W},H},utcFormat:function(W){var H=C(W+="",N);return H.toString=function(){return W},H},utcParse:function(W){var H=k(W+="",!0);return H.toString=function(){return W},H}}}var mO={"-":"",_:" ",0:"0"},Ta=/^\s*\d+/,Iwe=/^%/,Rwe=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Mwe(e){return e.replace(Rwe,"\\$&")}function l0(e){return new RegExp("^(?:"+e.map(Mwe).join("|")+")","i")}function c0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $we(e,t,r){var n=Ta.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Bwe(e,t,r){var n=Ta.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zwe(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uwe(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Wwe(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gO(e,t,r){var n=Ta.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xO(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qwe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hwe(e,t,r){var n=Ta.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vwe(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vO(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Gwe(e,t,r){var n=Ta.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yO(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Kwe(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Xwe(e,t,r){var n=Ta.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ywe(e,t,r){var n=Ta.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Qwe(e,t,r){var n=Ta.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jwe(e,t,r){var n=Iwe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Zwe(e,t,r){var n=Ta.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eje(e,t,r){var n=Ta.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function bO(e,t){return Dr(e.getDate(),t,2)}function tje(e,t){return Dr(e.getHours(),t,2)}function rje(e,t){return Dr(e.getHours()%12||12,t,2)}function nje(e,t){return Dr(1+Fx.count(hc(e),e),t,3)}function YB(e,t){return Dr(e.getMilliseconds(),t,3)}function aje(e,t){return YB(e,t)+"000"}function ije(e,t){return Dr(e.getMonth()+1,t,2)}function sje(e,t){return Dr(e.getMinutes(),t,2)}function oje(e,t){return Dr(e.getSeconds(),t,2)}function lje(e){var t=e.getDay();return t===0?7:t}function cje(e,t){return Dr(Nw.count(hc(e)-1,e),t,2)}function QB(e){var t=e.getDay();return t>=4||t===0?wp(e):wp.ceil(e)}function dje(e,t){return e=QB(e),Dr(wp.count(hc(e),e)+(hc(e).getDay()===4),t,2)}function uje(e){return e.getDay()}function fje(e,t){return Dr(_b.count(hc(e)-1,e),t,2)}function hje(e,t){return Dr(e.getFullYear()%100,t,2)}function pje(e,t){return e=QB(e),Dr(e.getFullYear()%100,t,2)}function mje(e,t){return Dr(e.getFullYear()%1e4,t,4)}function gje(e,t){var r=e.getDay();return e=r>=4||r===0?wp(e):wp.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function xje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function wO(e,t){return Dr(e.getUTCDate(),t,2)}function vje(e,t){return Dr(e.getUTCHours(),t,2)}function yje(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function bje(e,t){return Dr(1+jw.count(pc(e),e),t,3)}function JB(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function wje(e,t){return JB(e,t)+"000"}function jje(e,t){return Dr(e.getUTCMonth()+1,t,2)}function Nje(e,t){return Dr(e.getUTCMinutes(),t,2)}function Sje(e,t){return Dr(e.getUTCSeconds(),t,2)}function _je(e){var t=e.getUTCDay();return t===0?7:t}function kje(e,t){return Dr(Sw.count(pc(e)-1,e),t,2)}function ZB(e){var t=e.getUTCDay();return t>=4||t===0?jp(e):jp.ceil(e)}function Aje(e,t){return e=ZB(e),Dr(jp.count(pc(e),e)+(pc(e).getUTCDay()===4),t,2)}function Cje(e){return e.getUTCDay()}function Eje(e,t){return Dr(kb.count(pc(e)-1,e),t,2)}function Tje(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function Pje(e,t){return e=ZB(e),Dr(e.getUTCFullYear()%100,t,2)}function Oje(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function Dje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jp(e):jp.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function Fje(){return"+0000"}function jO(){return"%"}function NO(e){return+e}function SO(e){return Math.floor(+e/1e3)}var th,ez,tz;Lje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lje(e){return th=Lwe(e),ez=th.format,th.parse,tz=th.utcFormat,th.utcParse,th}function Ije(e){return new Date(e)}function Rje(e){return e instanceof Date?+e:+new Date(+e)}function fA(e,t,r,n,a,s,o,l,c,d){var u=Jk(),f=u.invert,h=u.domain,p=d(".%L"),g=d(":%S"),m=d("%I:%M"),v=d("%I %p"),x=d("%a %d"),y=d("%b %d"),w=d("%B"),N=d("%Y");function j(C){return(c(C)<C?p:l(C)<C?g:o(C)<C?m:s(C)<C?v:n(C)<C?a(C)<C?x:y:r(C)<C?w:N)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,Rje)):h().map(Ije)},u.ticks=function(C){var k=h();return e(k[0],k[k.length-1],C??10)},u.tickFormat=function(C,k){return k==null?j:d(k)},u.nice=function(C){var k=h();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?h(zB(k,C)):u},u.copy=function(){return Dx(u,fA(e,t,r,n,a,s,o,l,c,d))},u}function Mje(){return Js.apply(fA(Dwe,Fwe,hc,dA,Nw,Fx,lA,sA,Pu,ez).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $je(){return Js.apply(fA(Pwe,Owe,pc,uA,Sw,jw,cA,oA,Pu,tz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _w(){var e=0,t=1,r,n,a,s,o=Ai,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),d):[o(0),o(1)]}}return d.range=u(um),d.rangeRound=u(Qk),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function Zd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rz(){var e=Jd(_w()(Ai));return e.copy=function(){return Zd(e,rz())},_c.apply(e,arguments)}function nz(){var e=tA(_w()).domain([1,10]);return e.copy=function(){return Zd(e,nz()).base(e.base())},_c.apply(e,arguments)}function az(){var e=rA(_w());return e.copy=function(){return Zd(e,az()).constant(e.constant())},_c.apply(e,arguments)}function hA(){var e=nA(_w());return e.copy=function(){return Zd(e,hA()).exponent(e.exponent())},_c.apply(e,arguments)}function Bje(){return hA.apply(null,arguments).exponent(.5)}function iz(){var e=[],t=Ai;function r(n){if(n!=null&&!isNaN(n=+n))return t((Px(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>k2e(e,s/n))},r.copy=function(){return iz(t).domain(e)},_c.apply(r,arguments)}function kw(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,d=Ai,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-s)*(n*m<n*s?l:c),d(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),s=u(t=+t),o=u(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(d=m,p):d};function g(m){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,d=J2e(m,[x,y,w]),p):[d(0),d(.5),d(1)]}}return p.range=g(um),p.rangeRound=g(Qk),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),s=m(t),o=m(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function sz(){var e=Jd(kw()(Ai));return e.copy=function(){return Zd(e,sz())},_c.apply(e,arguments)}function oz(){var e=tA(kw()).domain([.1,1,10]);return e.copy=function(){return Zd(e,oz()).base(e.base())},_c.apply(e,arguments)}function lz(){var e=rA(kw());return e.copy=function(){return Zd(e,lz()).constant(e.constant())},_c.apply(e,arguments)}function pA(){var e=nA(kw());return e.copy=function(){return Zd(e,pA()).exponent(e.exponent())},_c.apply(e,arguments)}function zje(){return pA.apply(null,arguments).exponent(.5)}const _O=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dg,scaleDiverging:sz,scaleDivergingLog:oz,scaleDivergingPow:pA,scaleDivergingSqrt:zje,scaleDivergingSymlog:lz,scaleIdentity:BB,scaleImplicit:kS,scaleLinear:Nb,scaleLog:UB,scaleOrdinal:Kk,scalePoint:$0,scalePow:aA,scaleQuantile:HB,scaleQuantize:VB,scaleRadial:qB,scaleSequential:rz,scaleSequentialLog:nz,scaleSequentialPow:hA,scaleSequentialQuantile:iz,scaleSequentialSqrt:Bje,scaleSequentialSymlog:az,scaleSqrt:wwe,scaleSymlog:WB,scaleThreshold:GB,scaleTime:Mje,scaleUtc:$je,tickFormat:$B},Symbol.toStringTag,{value:"Module"}));var Uje=rm;function Wje(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Uje(o):r(o,l)))var l=o,c=s}return c}var Aw=Wje;function qje(e,t){return e>t}var cz=qje,Hje=Aw,Vje=cz,Gje=dm;function Kje(e){return e&&e.length?Hje(e,Gje,Vje):void 0}var Xje=Kje;const Cw=$r(Xje);function Yje(e,t){return e<t}var dz=Yje,Qje=Aw,Jje=dz,Zje=dm;function eNe(e){return e&&e.length?Qje(e,Zje,Jje):void 0}var tNe=eNe;const Ew=$r(tNe);var rNe=Ck,nNe=Nl,aNe=vB,iNe=Xi;function sNe(e,t){var r=iNe(e)?rNe:aNe;return r(e,nNe(t))}var oNe=sNe,lNe=gB,cNe=oNe;function dNe(e,t){return lNe(cNe(e,t),1)}var uNe=dNe;const fNe=$r(uNe);var hNe=Wk;function pNe(e,t){return hNe(e,t)}var mNe=pNe;const Lx=$r(mNe);var fm=1e9,gNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gA,wn=!0,Xs="[DecimalError] ",qu=Xs+"Invalid argument: ",mA=Xs+"Exponent out of range: ",hm=Math.floor,bu=Math.pow,xNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ps,ba=1e7,mn=7,uz=9007199254740991,Ab=hm(uz/mn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(e){return rc(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,r=t.constructor;return rn(rc(t,new r(e),0,1),r.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return ra(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ps))throw Error(Xs+"NaN");if(r.s<1)throw Error(Xs+(r.s?"NaN":"-Infinity"));return r.eq(ps)?new n(0):(wn=!1,t=rc(Mg(r,s),Mg(e,s),s),wn=!0,rn(t,a))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pz(t,e):fz(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Xs+"NaN");return r.s?(wn=!1,t=rc(r,e,0,1).times(e),wn=!0,r.minus(t)):rn(new n(r),a)};Mt.naturalExponential=Mt.exp=function(){return hz(this)};Mt.naturalLogarithm=Mt.ln=function(){return Mg(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fz(t,e):pz(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qu+e);if(t=ra(a)+1,n=a.d.length-1,r=n*mn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Mt.squareRoot=Mt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Xs+"NaN")}for(e=ra(l),wn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ol(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(rc(l,s,o+2)).times(.5),ol(s.d).slice(0,o)===(t=ol(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(rn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return wn=!0,rn(n,r)};Mt.times=Mt.mul=function(e){var t,r,n,a,s,o,l,c,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=p.length,c<d&&(s=h,h=p,p=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%ba|0,t=l/ba|0;s[a]=(s[a]+t)%ba|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,wn?rn(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vl(e,0,fm),t===void 0?t=n.rounding:vl(t,0,8),rn(r,e+ra(r)+1,t))};Mt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sf(n,!0):(vl(e,0,fm),t===void 0?t=a.rounding:vl(t,0,8),n=rn(new a(n),e+1,t),r=sf(n,!0,e+1)),r};Mt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?sf(a):(vl(e,0,fm),t===void 0?t=s.rounding:vl(t,0,8),n=rn(new s(a),e+ra(a)+1,t),r=sf(n.abs(),!1,e+ra(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return rn(new t(e),ra(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ps);if(l=new c(l),!l.s){if(e.s<1)throw Error(Xs+"Infinity");return l}if(l.eq(ps))return l;if(n=c.precision,e.eq(ps))return rn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=u<0?-u:u)<=uz){for(a=new c(ps),t=Math.ceil(n/mn+4),wn=!1;r%2&&(a=a.times(l),AO(a.d,t)),r=hm(r/2),r!==0;)l=l.times(l),AO(l.d,t);return wn=!0,e.s<0?new c(ps).div(a):rn(a,n)}}else if(s<0)throw Error(Xs+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,wn=!1,a=e.times(Mg(l,n+d)),wn=!0,a=hz(a),a.s=s,a};Mt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ra(a),n=sf(a,r<=s.toExpNeg||r>=s.toExpPos)):(vl(e,1,fm),t===void 0?t=s.rounding:vl(t,0,8),a=rn(new s(a),e,t),r=ra(a),n=sf(a,e<=r||r<=s.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vl(e,1,fm),t===void 0?t=n.rounding:vl(t,0,8)),rn(new n(r),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ra(e),r=e.constructor;return sf(e,t<=r.toExpNeg||t>=r.toExpPos)};function fz(e,t){var r,n,a,s,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),wn?rn(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(f/mn),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/ba|0,c[s]%=ba;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,wn?rn(t,f):t}function vl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qu+e)}function ol(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=mn-n.length,r&&(s+=Yc(r)),s+=n;o=e[t],n=o+"",r=mn-n.length,r&&(s+=Yc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var rc=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%ba|0,o=s/ba|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*ba+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,d,u,f,h,p,g,m,v,x,y,w,N,j,C,k,_,L=n.constructor,z=n.s==a.s?1:-1,D=n.d,T=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Xs+"Division by zero");for(c=n.e-a.e,k=T.length,j=D.length,p=new L(z),g=p.d=[],d=0;T[d]==(D[d]||0);)++d;if(T[d]>(D[d]||0)&&--c,s==null?y=s=L.precision:o?y=s+(ra(n)-ra(a))+1:y=s,y<0)return new L(0);if(y=y/mn+2|0,d=0,k==1)for(u=0,T=T[0],y++;(d<j||u)&&y--;d++)w=u*ba+(D[d]||0),g[d]=w/T|0,u=w%T|0;else{for(u=ba/(T[0]+1)|0,u>1&&(T=e(T,u),D=e(D,u),k=T.length,j=D.length),N=k,m=D.slice(0,k),v=m.length;v<k;)m[v++]=0;_=T.slice(),_.unshift(0),C=T[0],T[1]>=ba/2&&++C;do u=0,l=t(T,m,k,v),l<0?(x=m[0],k!=v&&(x=x*ba+(m[1]||0)),u=x/C|0,u>1?(u>=ba&&(u=ba-1),f=e(T,u),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(u--,r(f,k<h?_:T,h))):(u==0&&(l=u=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(T,m,k,v),l<1&&(u++,r(m,k<v?_:T,v))),v=m.length):l===0&&(u++,m=[0]),g[d++]=u,l&&m[0]?m[v++]=D[N]||0:(m=[D[N]],v=1);while((N++<j||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,rn(p,o?s+ra(p)+1:s)}}();function hz(e,t){var r,n,a,s,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(ra(e)>16)throw Error(mA+ra(e));if(!e.s)return new u(ps);for(t==null?(wn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(bu(2,d))/Math.LN10*2+5|0,l+=n,r=a=s=new u(ps),u.precision=l;;){if(a=rn(a.times(e),l),r=r.times(++c),o=s.plus(rc(a,r,l)),ol(o.d).slice(0,l)===ol(s.d).slice(0,l)){for(;d--;)s=rn(s.times(s),l);return u.precision=f,t==null?(wn=!0,rn(s,f)):s}s=o}}function ra(e){for(var t=e.e*mn,r=e.d[0];r>=10;r/=10)t++;return t}function t5(e,t,r){if(t>e.LN10.sd())throw wn=!0,r&&(e.precision=r),Error(Xs+"LN10 precision limit exceeded");return rn(new e(e.LN10),t)}function Yc(e){for(var t="";e--;)t+="0";return t}function Mg(e,t){var r,n,a,s,o,l,c,d,u,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Xs+(p.s?"NaN":"-Infinity"));if(p.eq(ps))return new m(0);if(t==null?(wn=!1,d=v):d=t,p.eq(10))return t==null&&(wn=!0),t5(m,d);if(d+=h,m.precision=d,r=ol(g),n=r.charAt(0),s=ra(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ol(p.d),n=r.charAt(0),f++;s=ra(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=t5(m,d+2,v).times(s+""),p=Mg(new m(n+"."+r.slice(1)),d-h).plus(c),m.precision=v,t==null?(wn=!0,rn(p,v)):p;for(l=o=p=rc(p.minus(ps),p.plus(ps),d),u=rn(p.times(p),d),a=3;;){if(o=rn(o.times(u),d),c=l.plus(rc(o,new m(a),d)),ol(c.d).slice(0,d)===ol(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(t5(m,d+2,v).times(s+""))),l=rc(l,new m(f),d),m.precision=v,t==null?(wn=!0,rn(l,v)):l;l=c,a+=2}}function kO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=hm(r/mn),e.d=[],n=(r+1)%mn,r<0&&(n+=mn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=mn;n<a;)e.d.push(+t.slice(n,n+=mn));t=t.slice(n),n=mn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),wn&&(e.e>Ab||e.e<-Ab))throw Error(mA+r)}else e.s=0,e.e=0,e.d=[0];return e}function rn(e,t,r){var n,a,s,o,l,c,d,u,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=mn,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/mn),s=f.length,u>=s)return e;for(d=s=f[u],o=1;s>=10;s/=10)o++;n%=mn,a=n-mn+o}if(r!==void 0&&(s=bu(10,o-a-1),l=d/s%10|0,c=t<0||f[u+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/bu(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ra(e),f.length=1,t=t-s-1,f[0]=bu(10,(mn-t%mn)%mn),e.e=hm(-t/mn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,s=1,u--):(f.length=u+1,s=bu(10,mn-n),f[u]=a>0?(d/bu(10,o-a)%bu(10,a)|0)*s:0),c)for(;;)if(u==0){(f[0]+=s)==ba&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=ba)break;f[u--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(wn&&(e.e>Ab||e.e<-Ab))throw Error(mA+ra(e));return e}function pz(e,t){var r,n,a,s,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),wn?rn(t,p):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),a=Math.max(Math.ceil(p/mn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=ba-1;--c[s],c[a]+=ba}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,wn?rn(t,p):t):new h(0)}function sf(e,t,r){var n,a=ra(e),s=ol(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Yc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Yc(-a-1)+s,r&&(n=r-o)>0&&(s+=Yc(n))):a>=o?(s+=Yc(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Yc(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Yc(n))),e.s<0?"-"+s:s}function AO(e,t){if(e.length>t)return e.length=t,!0}function mz(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(qu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return kO(o,s.toString())}else if(typeof s!="string")throw Error(qu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,xNe.test(s))kO(o,s);else throw Error(qu+s)}if(a.prototype=Mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mz,a.config=a.set=vNe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function vNe(e){if(!e||typeof e!="object")throw Error(Xs+"Object expected");var t,r,n,a=["precision",1,fm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(hm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qu+r+": "+n);return this}var gA=mz(gNe);ps=new gA(1);const Jr=gA;function yNe(e){return NNe(e)||jNe(e)||wNe(e)||bNe()}function bNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wNe(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function jNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function NNe(e){if(Array.isArray(e))return TS(e)}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SNe=function(t){return t},gz={"@@functional/placeholder":!0},xz=function(t){return t===gz},CO=function(t){return function r(){return arguments.length===0||arguments.length===1&&xz(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_Ne=function e(t,r){return t===1?r:CO(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==gz}).length;return o>=t?r.apply(void 0,a):e(t-o,CO(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return xz(f)?c.shift():f});return r.apply(void 0,yNe(u).concat(c))}))})},Tw=function(t){return _Ne(t.length,t)},PS=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},kNe=Tw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ANe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SNe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},OS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},vz=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function CNe(e){var t;return e===0?t=1:t=Math.floor(new Jr(e).abs().log(10).toNumber())+1,t}function ENe(e,t,r){for(var n=new Jr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var TNe=Tw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),PNe=Tw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ONe=Tw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Pw={rangeStep:ENe,getDigitCount:CNe,interpolateNumber:TNe,uninterpolateNumber:PNe,uninterpolateTruncation:ONe};function DS(e){return LNe(e)||FNe(e)||yz(e)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LNe(e){if(Array.isArray(e))return FS(e)}function $g(e,t){return MNe(e)||RNe(e,t)||yz(e,t)||INe()}function INe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yz(e,t){if(e){if(typeof e=="string")return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RNe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function MNe(e){if(Array.isArray(e))return e}function bz(e){var t=$g(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function wz(e,t,r){if(e.lte(0))return new Jr(0);var n=Pw.getDigitCount(e.toNumber()),a=new Jr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Jr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Jr(Math.ceil(c))}function $Ne(e,t,r){var n=1,a=new Jr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Jr(10).pow(Pw.getDigitCount(e)-1),a=new Jr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Jr(Math.floor(e)))}else e===0?a=new Jr(Math.floor((t-1)/2)):r||(a=new Jr(Math.floor(e)));var o=Math.floor((t-1)/2),l=ANe(kNe(function(c){return a.add(new Jr(c-o).mul(n)).toNumber()}),PS);return l(0,t)}function jz(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Jr(0),tickMin:new Jr(0),tickMax:new Jr(0)};var s=wz(new Jr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Jr(0):(o=new Jr(e).add(t).div(2),o=o.sub(new Jr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Jr(t).sub(o).div(s).toNumber()),d=l+c+1;return d>r?jz(e,t,r,n,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Jr(l).mul(s)),tickMax:o.add(new Jr(c).mul(s))})}function BNe(e){var t=$g(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=bz([r,n]),c=$g(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(DS(PS(0,a-1).map(function(){return 1/0}))):[].concat(DS(PS(0,a-1).map(function(){return-1/0})),[u]);return r>n?OS(f):f}if(d===u)return $Ne(d,a,s);var h=jz(d,u,o,s),p=h.step,g=h.tickMin,m=h.tickMax,v=Pw.rangeStep(g,m.add(new Jr(.1).mul(p)),p);return r>n?OS(v):v}function zNe(e,t){var r=$g(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bz([n,a]),l=$g(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(t,2),f=wz(new Jr(d).sub(c).div(u-1),s,0),h=[].concat(DS(Pw.rangeStep(new Jr(c),new Jr(d).sub(new Jr(.99).mul(f)),f)),[d]);return n>a?OS(h):h}var UNe=vz(BNe),WNe=vz(zNe),qNe="Invariant failed";function of(e,t){throw new Error(qNe)}var HNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function VNe(e,t){return YNe(e)||XNe(e,t)||KNe(e,t)||GNe()}function GNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function YNe(e){if(Array.isArray(e))return e}function QNe(e,t){if(e==null)return{};var r=JNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_z(n.key),n)}}function t5e(e,t,r){return t&&e5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r5e(e,t,r){return t=Eb(t),n5e(e,Nz()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function n5e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5e(e)}function a5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nz=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function i5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LS(e,t)}function Sz(e,t,r){return t=_z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=s5e(e,"string");return Np(t)=="symbol"?t:t+""}function s5e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ix=function(e){function t(){return ZNe(this,t),r5e(this,t,arguments)}return i5e(t,e),t5e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=QNe(n,HNe),p=Kt(h,!1);this.props.direction==="x"&&u.type!=="number"&&of();var g=c.map(function(m){var v=d(m,l),x=v.x,y=v.y,w=v.value,N=v.errorVal;if(!N)return null;var j=[],C,k;if(Array.isArray(N)){var _=VNe(N,2);C=_[0],k=_[1]}else C=k=N;if(s==="vertical"){var L=u.scale,z=y+a,D=z+o,T=z-o,I=L(w-C),B=L(w+k);j.push({x1:B,y1:D,x2:B,y2:T}),j.push({x1:I,y1:z,x2:B,y2:z}),j.push({x1:I,y1:D,x2:I,y2:T})}else if(s==="horizontal"){var J=f.scale,U=x+a,X=U-o,M=U+o,Q=J(w-C),le=J(w+k);j.push({x1:X,y1:le,x2:M,y2:le}),j.push({x1:U,y1:Q,x2:U,y2:le}),j.push({x1:X,y1:Q,x2:M,y2:Q})}return ve.createElement(Or,Cb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},p),j.map(function(ue){return ve.createElement("line",Cb({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return ve.createElement(Or,{className:"recharts-errorBars"},g)}}])}(ve.Component);Sz(Ix,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Sz(Ix,"displayName","ErrorBar");function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){o5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5e(e,t,r){return t=l5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5e(e){var t=c5e(e,"string");return Bg(t)=="symbol"?t:t+""}function c5e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kz=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=os(r,Uu);if(!o)return null;var l=Uu.defaultProps,c=l!==void 0?uu(uu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?uu(uu({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:xA(f),value:m||g,payload:p}}),uu(uu(uu({},c),Uu.getWithHeight(o,a)),{},{payload:d,item:o})};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function PO(e){return h5e(e)||f5e(e)||u5e(e)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u5e(e,t){if(e){if(typeof e=="string")return IS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IS(e,t)}}function f5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h5e(e){if(Array.isArray(e))return IS(e)}function IS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vh(e,t,r){return t=p5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p5e(e){var t=m5e(e,"string");return zg(t)=="symbol"?t:t+""}function m5e(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ha(e,t,r){return cr(e)||cr(t)?r:ma(t)?bs(e,t,r):rr(t)?t(e):r}function B0(e,t,r,n){var a=fNe(e,function(l){return ha(l,t)});if(r==="number"){var s=a.filter(function(l){return _t(l)||parseFloat(l)});return s.length?[Ew(s),Cw(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!cr(l)}):a;return o.map(function(l){return ma(l)||l instanceof Date?l:""})}var g5e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(_i(f-u)!==_i(h-f)){var g=[];if(_i(h-f)===_i(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=a[d].index;break}}else{var y=Math.min(u,h),w=Math.max(u,h);if(t>(y+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},xA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?In(In({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},x5e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var u=s[l[c]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,x=m.filter(function(k){return tc(k.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?In(In({},y),x[0].props):x[0].props,N=w.barSize,j=w[v];o[j]||(o[j]=[]);var C=cr(N)?r:N;o[j].push({item:x[0],stackList:x.slice(1),barSize:cr(C)?void 0:ki(C,n,0)})}}return o},v5e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ki(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,g=o.reduce(function(N,j){return N+j.barSize||0},0);g+=(c-1)*d,g>=a&&(g-=(c-1)*d,d=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,v={offset:m-d,size:0};u=o.reduce(function(N,j){var C={item:j.item,position:{offset:v.offset+v.size+d,size:h?p:j.barSize}},k=[].concat(PO(N),[C]);return v=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){k.push({item:_,position:v})}),k},f)}else{var x=ki(n,a,0,!0);a-2*x-(c-1)*d<=0&&(d=0);var y=(a-2*x-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(N,j,C){var k=[].concat(PO(N),[{item:j.item,position:{offset:x+(y+d)*C+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){k.push({item:_,position:k[k.length-1].position})}),k},f)}return u},y5e=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=kz({children:s,legendWidth:c});if(d){var u=a||{},f=u.width,h=u.height,p=d.align,g=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&_t(t[p]))return In(In({},t),{},Vh({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&_t(t[g]))return In(In({},t),{},Vh({},g,t[g]+(h||0)))}return t},b5e=function(t,r,n){return cr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Az=function(t,r,n,a,s){var o=r.props.children,l=ws(o,Ix).filter(function(d){return b5e(a,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=ha(u,n);if(cr(f))return d;var h=Array.isArray(f)?[Ew(f),Cw(f)]:[f,f],p=c.reduce(function(g,m){var v=ha(u,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},w5e=function(t,r,n,a,s){var o=r.map(function(l){return Az(t,l,n,s,a)}).filter(function(l){return!cr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Cz=function(t,r,n,a,s){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&Az(t,c,d,a)||B0(t,d,n,s)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Ez=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Tz=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Gl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_i(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+d,value:f,offset:d}});return u.filter(function(f){return!Ex(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+d,value:f,index:h,offset:d}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,h){return{coordinate:a(f)+d,value:s?s[f]:f,index:h,offset:d}})},r5=new WeakMap,w1=function(t,r){if(typeof r!="function")return t;r5.has(t)||r5.set(t,new WeakMap);var n=r5.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Pz=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Dg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Nb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:$0(),realScaleType:"point"}:s==="category"?{scale:Dg(),realScaleType:"band"}:{scale:Nb(),realScaleType:"linear"};if(Cx(a)){var c="scale".concat(pw(a));return{scale:(_O[c]||$0)(),realScaleType:_O[c]?c:"point"}}return rr(a)?{scale:a}:{scale:$0(),realScaleType:"point"}},DO=1e-4,Oz=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-DO,o=Math.max(a[0],a[1])+DO,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},j5e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},N5e=function(t,r){if(!r||r.length!==2||!_t(r[0])||!_t(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!_t(t[0])||t[0]<n)&&(s[0]=n),(!_t(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},S5e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Ex(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},_5e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Ex(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},k5e={sign:S5e,expand:Hhe,none:mp,silhouette:Vhe,wiggle:Ghe,positive:_5e},A5e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=k5e[n],o=qhe().keys(a).value(function(l,c){return+ha(l,c,0)}).order(oS).offset(s);return o(t)},C5e=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?In(In({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(ma(m)){var w=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[m]=w}else y.stackGroups[om("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return In(In({},f),{},Vh({},x,y))},c),u={};return Object.keys(d).reduce(function(f,h){var p=d[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var x=p.stackGroups[v];return In(In({},m),{},Vh({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:A5e(t,x.items,s)}))},g)}return In(In({},f),{},Vh({},h,p))},u)},Dz=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=UNe(d,s,l);return t.domain([Ew(u),Cw(u)]),{niceTicks:u}}if(s&&a==="number"){var f=t.domain(),h=WNe(f,s,l);return{niceTicks:h}}return null};function FO(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cr(a[t.dataKey])){var l=rb(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=ha(a,cr(o)?t.dataKey:o);return cr(c)?null:t.scale(c)}var LO=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=ha(o,r.dataKey,r.domain[l]);return cr(c)?null:r.scale(c)-s/2+a},E5e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},T5e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?In(In({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(ma(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},P5e=function(t){return t.reduce(function(r,n){return[Ew(n.concat([r[0]]).filter(_t)),Cw(n.concat([r[1]]).filter(_t))]},[1/0,-1/0])},Fz=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(d,u){var f=P5e(u.slice(r,n+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},IO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RS=function(t,r,n){if(rr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(_t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(IO.test(t[0])){var s=+IO.exec(t[0])[1];a[0]=r[0]-s}else rr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(RO.test(t[1])){var o=+RO.exec(t[1])[1];a[1]=r[1]+o}else rr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Tb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=Hk(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],u=s[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},MO=function(t,r,n){return!t||!t.length||Lx(t,bs(n,"type.defaultProps.domain"))?r:t},Lz=function(t,r){var n=t.type.defaultProps?In(In({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return In(In({},Kt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:xA(t),value:ha(r,a),type:c,payload:r,chartType:d,hide:u})};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iz(e,t,r){return t=O5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O5e(e){var t=D5e(e,"string");return Ug(t)=="symbol"?t:t+""}function D5e(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F5e(e,t){return M5e(e)||R5e(e,t)||I5e(e,t)||L5e()}function L5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5e(e,t){if(e){if(typeof e=="string")return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function M5e(e){if(Array.isArray(e))return e}var Pb=Math.PI/180,$5e=function(t){return t*180/Math.PI},dn=function(t,r,n,a){return{x:t+Math.cos(-Pb*a)*n,y:r+Math.sin(-Pb*a)*n}},Rz=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},B5e=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ki(t.cx,o,o/2),f=ki(t.cy,l,l/2),h=Rz(o,l,n),p=ki(t.innerRadius,h,0),g=ki(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,x){var y=r[x],w=y.domain,N=y.reversed,j;if(cr(y.range))a==="angleAxis"?j=[c,d]:a==="radiusAxis"&&(j=[p,g]),N&&(j=[j[1],j[0]]);else{j=y.range;var C=j,k=F5e(C,2);c=k[0],d=k[1]}var _=Pz(y,s),L=_.realScaleType,z=_.scale;z.domain(w).range(j),Oz(z);var D=Dz(z,$l($l({},y),{},{realScaleType:L})),T=$l($l($l({},y),D),{},{range:j,radius:g,realScaleType:L,scale:z,cx:u,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:d});return $l($l({},v),{},Iz({},x,T))},{})},z5e=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},U5e=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=z5e({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:$5e(d),angleInRadian:d}},W5e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},q5e=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},zO=function(t,r){var n=t.x,a=t.y,s=U5e({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=W5e(r),f=u.startAngle,h=u.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?$l($l({},r),{},{radius:o,angle:q5e(p,r)}):null},Mz=function(t){return!A.isValidElement(t)&&!rr(t)&&typeof t!="boolean"?t.className:""};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}var H5e=["offset"];function V5e(e){return Y5e(e)||X5e(e)||K5e(e)||G5e()}function G5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5e(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function X5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y5e(e){if(Array.isArray(e))return MS(e)}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q5e(e,t){if(e==null)return{};var r=J5e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Z5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z5e(e,t,r){return t=e4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4e(e){var t=t4e(e,"string");return Wg(t)=="symbol"?t:t+""}function t4e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}var r4e=function(t){var r=t.value,n=t.formatter,a=cr(t.children)?r:t.children;return rr(n)?n(a):a},n4e=function(t,r){var n=_i(r-t),a=Math.min(Math.abs(r-t),360);return n*a},a4e=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,d=c.cx,u=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,x=n4e(p,g),y=x>=0?1:-1,w,N;a==="insideStart"?(w=p+y*o,N=m):a==="insideEnd"?(w=g-y*o,N=!m):a==="end"&&(w=g+y*o,N=m),N=x<=0?N:!N;var j=dn(d,u,v,w),C=dn(d,u,v,w+(N?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),_=cr(t.id)?om("recharts-radial-line-"):t.id;return ve.createElement("text",qg({},n,{dominantBaseline:"central",className:mr("recharts-radial-bar-label",l)}),ve.createElement("defs",null,ve.createElement("path",{id:_,d:k})),ve.createElement("textPath",{xlinkHref:"#".concat(_)},r))},i4e=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,u=s.startAngle,f=s.endAngle,h=(u+f)/2;if(a==="outside"){var p=dn(o,l,d+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,x=dn(o,l,v,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},s4e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=d>=0?1:-1,v=m*a,x=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return sa(sa({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var N={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return sa(sa({},N),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(s==="left"){var j={x:l-v,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return sa(sa({},j),n?{width:Math.max(j.x-n.x,0),height:u}:{})}if(s==="right"){var C={x:l+d+v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return sa(sa({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var k=n?{width:d,height:u}:{};return s==="insideLeft"?sa({x:l+v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},k):s==="insideRight"?sa({x:l+d-v,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},k):s==="insideTop"?sa({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):s==="insideBottom"?sa({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?sa({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},k):s==="insideTopRight"?sa({x:l+d-v,y:c+h,textAnchor:x,verticalAnchor:g},k):s==="insideBottomLeft"?sa({x:l+v,y:c+u-h,textAnchor:y,verticalAnchor:p},k):s==="insideBottomRight"?sa({x:l+d-v,y:c+u-h,textAnchor:x,verticalAnchor:p},k):nm(s)&&(_t(s.x)||Eu(s.x))&&(_t(s.y)||Eu(s.y))?sa({x:l+ki(s.x,d),y:c+ki(s.y,u),textAnchor:"end",verticalAnchor:"end"},k):sa({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},o4e=function(t){return"cx"in t&&_t(t.cx)};function Sa(e){var t=e.offset,r=t===void 0?5:t,n=Q5e(e,H5e),a=sa({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!s||cr(l)&&cr(c)&&!A.isValidElement(d)&&!rr(d))return null;if(A.isValidElement(d))return A.cloneElement(d,a);var p;if(rr(d)){if(p=A.createElement(d,a),A.isValidElement(p))return p}else p=r4e(a);var g=o4e(s),m=Kt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return a4e(a,p,m);var v=g?i4e(a):s4e(a);return ve.createElement(af,qg({className:mr("recharts-label",f)},m,v,{breakAll:h}),p)}Sa.displayName="Label";var $z=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(_t(m)&&_t(v)){if(_t(f)&&_t(h))return{x:f,y:h,width:m,height:v};if(_t(p)&&_t(g))return{x:p,y:g,width:m,height:v}}return _t(f)&&_t(h)?{x:f,y:h,width:0,height:0}:_t(r)&&_t(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},l4e=function(t,r){return t?t===!0?ve.createElement(Sa,{key:"label-implicit",viewBox:r}):ma(t)?ve.createElement(Sa,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===Sa?A.cloneElement(t,{key:"label-implicit",viewBox:r}):ve.createElement(Sa,{key:"label-implicit",content:t,viewBox:r}):rr(t)?ve.createElement(Sa,{key:"label-implicit",content:t,viewBox:r}):nm(t)?ve.createElement(Sa,qg({viewBox:r},t,{key:"label-implicit"})):null:null},c4e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=$z(t),o=ws(a,Sa).map(function(c,d){return A.cloneElement(c,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return o;var l=l4e(t.label,r||s);return[l].concat(V5e(o))};Sa.parseViewBox=$z;Sa.renderCallByParent=c4e;function d4e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var u4e=d4e;const f4e=$r(u4e);function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}var h4e=["valueAccessor"],p4e=["data","dataKey","clockWise","id","textBreakAll"];function m4e(e){return y4e(e)||v4e(e)||x4e(e)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4e(e,t){if(e){if(typeof e=="string")return $S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(e,t)}}function v4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y4e(e){if(Array.isArray(e))return $S(e)}function $S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(this,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){b4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4e(e,t,r){return t=w4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4e(e){var t=j4e(e,"string");return Hg(t)=="symbol"?t:t+""}function j4e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HO(e,t){if(e==null)return{};var r=N4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var S4e=function(t){return Array.isArray(t.value)?f4e(t.value):t.value};function nc(e){var t=e.valueAccessor,r=t===void 0?S4e:t,n=HO(e,h4e),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=HO(n,p4e);return!a||!a.length?null:ve.createElement(Or,{className:"recharts-label-list"},a.map(function(u,f){var h=cr(s)?r(u,f):ha(u&&u.payload,s),p=cr(l)?{}:{id:"".concat(l,"-").concat(f)};return ve.createElement(Sa,Ob({},Kt(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Sa.parseViewBox(cr(o)?u:qO(qO({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}nc.displayName="LabelList";function _4e(e,t){return e?e===!0?ve.createElement(nc,{key:"labelList-implicit",data:t}):ve.isValidElement(e)||rr(e)?ve.createElement(nc,{key:"labelList-implicit",data:t,content:e}):nm(e)?ve.createElement(nc,Ob({data:t},e,{key:"labelList-implicit"})):null:null}function k4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ws(n,nc).map(function(o,l){return A.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=_4e(e.label,t);return[s].concat(m4e(a))}nc.renderCallByParent=k4e;function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){A4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A4e(e,t,r){return t=C4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4e(e){var t=E4e(e,"string");return Vg(t)=="symbol"?t:t+""}function E4e(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4e=function(t,r){var n=_i(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},j1=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Pb,h=d?s:s+o*f,p=dn(r,n,u,h),g=dn(r,n,a,h),m=d?s-o*f:s,v=dn(r,n,u*Math.cos(f*Pb),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},Bz=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=T4e(o,l),d=o+c,u=dn(r,n,s,o),f=dn(r,n,s,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=dn(r,n,a,o),g=dn(r,n,a,d);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},P4e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=_i(u-d),h=j1({cx:r,cy:n,radius:s,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=j1({cx:r,cy:n,radius:s,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,w=v.theta,N=c?Math.abs(d-u):Math.abs(d-u)-m-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Bz({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:d,endAngle:u});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var C=j1({cx:r,cy:n,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=C.circleTangency,_=C.lineTangency,L=C.theta,z=j1({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=z.circleTangency,T=z.lineTangency,I=z.theta,B=c?Math.abs(d-u):Math.abs(d-u)-L-I;if(B<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},O4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zz=function(t){var r=GO(GO({},O4e),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<s||u===f)return null;var p=mr("recharts-sector",h),g=o-s,m=ki(l,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=P4e({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):v=Bz({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:u,endAngle:f}),ve.createElement("path",BS({},Kt(r,!0),{className:p,d:v,role:"img"}))};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){D4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D4e(e,t,r){return t=F4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4e(e){var t=L4e(e,"string");return Gg(t)=="symbol"?t:t+""}function L4e(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YO={curveBasisClosed:Dhe,curveBasisOpen:Fhe,curveBasis:Ohe,curveBumpX:vhe,curveBumpY:yhe,curveLinearClosed:Lhe,curveLinear:gw,curveMonotoneX:Ihe,curveMonotoneY:Rhe,curveNatural:Mhe,curveStep:$he,curveStepAfter:zhe,curveStepBefore:Bhe},N1=function(t){return t.x===+t.x&&t.y===+t.y},d0=function(t){return t.x},u0=function(t){return t.y},I4e=function(t,r){if(rr(t))return t;var n="curve".concat(pw(t));return(n==="curveMonotone"||n==="curveBump")&&r?YO["".concat(n).concat(r==="vertical"?"Y":"X")]:YO[n]||gw},R4e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=I4e(n,l),f=d?s.filter(function(m){return N1(m)}):s,h;if(Array.isArray(o)){var p=d?o.filter(function(m){return N1(m)}):o,g=f.map(function(m,v){return XO(XO({},m),{},{base:p[v]})});return l==="vertical"?h=h1().y(u0).x1(d0).x0(function(m){return m.base.x}):h=h1().x(d0).y1(u0).y0(function(m){return m.base.y}),h.defined(N1).curve(u),h(g)}return l==="vertical"&&_t(o)?h=h1().y(u0).x1(d0).x0(o):_t(o)?h=h1().x(d0).y1(u0).y0(o):h=L9().x(d0).y(u0),h.defined(N1).curve(u),h(f)},Db=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?R4e(t):a;return ve.createElement("path",zS({},Kt(t,!1),nb(t),{className:mr("recharts-curve",r),d:o,ref:s}))},Uz={exports:{}},M4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$4e=M4e,B4e=$4e;function Wz(){}function qz(){}qz.resetWarningCache=Wz;var z4e=function(){function e(n,a,s,o,l,c){if(c!==B4e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qz,resetWarningCache:Wz};return r.PropTypes=r,r};Uz.exports=z4e();var U4e=Uz.exports;const xr=$r(U4e);var W4e=Object.getOwnPropertyNames,q4e=Object.getOwnPropertySymbols,H4e=Object.prototype.hasOwnProperty;function QO(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function S1(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function JO(e){return W4e(e).concat(q4e(e))}var Hz=Object.hasOwn||function(e,t){return H4e.call(e,t)};function pm(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Vz="_owner",ZO=Object.getOwnPropertyDescriptor,e8=Object.keys;function V4e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function G4e(e,t){return pm(e.getTime(),t.getTime())}function t8(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),s=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],p=f[1],g=l.value,m=g[0],v=g[1];!d&&!n[u]&&(d=r.equals(h,m,s,u,e,t,r)&&r.equals(p,v,h,m,e,t,r))&&(n[u]=!0),u++}if(!d)return!1;s++}return!0}function K4e(e,t,r){var n=e8(e),a=n.length;if(e8(t).length!==a)return!1;for(var s;a-- >0;)if(s=n[a],s===Vz&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Hz(t,s)||!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function f0(e,t,r){var n=JO(e),a=n.length;if(JO(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],s===Vz&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Hz(t,s)||!r.equals(e[s],t[s],s,s,e,t,r)||(o=ZO(e,s),l=ZO(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function X4e(e,t){return pm(e.valueOf(),t.valueOf())}function Y4e(e,t){return e.source===t.source&&e.flags===t.flags}function r8(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),s,o;(s=a.next())&&!s.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!n[d]&&(c=r.equals(s.value,o.value,s.value,o.value,e,t,r))&&(n[d]=!0),d++;if(!c)return!1}return!0}function Q4e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var J4e="[object Arguments]",Z4e="[object Boolean]",eSe="[object Date]",tSe="[object Map]",rSe="[object Number]",nSe="[object Object]",aSe="[object RegExp]",iSe="[object Set]",sSe="[object String]",oSe=Array.isArray,n8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,a8=Object.assign,lSe=Object.prototype.toString.call.bind(Object.prototype.toString);function cSe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return a(u,f,h);if(oSe(u))return t(u,f,h);if(n8!=null&&n8(u))return c(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return o(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return l(u,f,h);var g=lSe(u);return g===eSe?r(u,f,h):g===aSe?o(u,f,h):g===tSe?n(u,f,h):g===iSe?l(u,f,h):g===nSe?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,h):g===J4e?a(u,f,h):g===Z4e||g===rSe||g===sSe?s(u,f,h):!1}}function dSe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?f0:V4e,areDatesEqual:G4e,areMapsEqual:n?QO(t8,f0):t8,areObjectsEqual:n?f0:K4e,arePrimitiveWrappersEqual:X4e,areRegExpsEqual:Y4e,areSetsEqual:n?QO(r8,f0):r8,areTypedArraysEqual:n?f0:Q4e};if(r&&(a=a8({},a,r(a))),t){var s=S1(a.areArraysEqual),o=S1(a.areMapsEqual),l=S1(a.areObjectsEqual),c=S1(a.areSetsEqual);a=a8({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function uSe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function fSe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,d){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(c,d,{cache:h,equals:a,meta:p,strict:s})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,d){return r(c,d,o)}}var hSe=eu();eu({strict:!0});eu({circular:!0});eu({circular:!0,strict:!0});eu({createInternalComparator:function(){return pm}});eu({strict:!0,createInternalComparator:function(){return pm}});eu({circular:!0,createInternalComparator:function(){return pm}});eu({circular:!0,createInternalComparator:function(){return pm},strict:!0});function eu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=dSe(e),c=cSe(l),d=n?n(c):uSe(c);return fSe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function pSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function i8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):pSe(a)};requestAnimationFrame(n)}function US(e){"@babel/helpers - typeof";return US=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},US(e)}function mSe(e){return ySe(e)||vSe(e)||xSe(e)||gSe()}function gSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xSe(e,t){if(e){if(typeof e=="string")return s8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s8(e,t)}}function s8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ySe(e){if(Array.isArray(e))return e}function bSe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=mSe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){i8(a.bind(null,d),c);return}a(c),i8(a.bind(null,d));return}US(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(n){Gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gz(e,t,r){return t=wSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wSe(e){var t=jSe(e,"string");return Kg(t)==="symbol"?t:String(t)}function jSe(e,t){if(Kg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NSe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},SSe=function(t){return t},_Se=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},z0=function(t,r){return Object.keys(r).reduce(function(n,a){return l8(l8({},n),{},Gz({},a,t(a,r[a])))},{})},c8=function(t,r,n){return t.map(function(a){return"".concat(_Se(a)," ").concat(r,"ms ").concat(n)}).join(",")};function kSe(e,t){return ESe(e)||CSe(e,t)||Kz(e,t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ESe(e){if(Array.isArray(e))return e}function TSe(e){return DSe(e)||OSe(e)||Kz(e)||PSe()}function PSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kz(e,t){if(e){if(typeof e=="string")return WS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(e,t)}}function OSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DSe(e){if(Array.isArray(e))return WS(e)}function WS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fb=1e-4,Xz=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Yz=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},d8=function(t,r){return function(n){var a=Xz(t,r);return Yz(a,n)}},FSe=function(t,r){return function(n){var a=Xz(t,r),s=[].concat(TSe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Yz(s,n)}},u8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=kSe(d,4);a=u[0],s=u[1],o=u[2],l=u[3]}}}var f=d8(a,o),h=d8(s,l),p=FSe(a,o),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var y=x>1?1:x,w=y,N=0;N<8;++N){var j=f(w)-y,C=p(w);if(Math.abs(j-y)<Fb||C<Fb)return h(w);w=g(w-j/C)}return h(w)};return m.isStepper=!1,m},LSe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,h){var p=-(u-f)*n,g=h*s,m=h+(p-g)*l/1e3,v=h*l/1e3+u;return Math.abs(v-f)<Fb&&Math.abs(m)<Fb?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},ISe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u8(a);case"spring":return LSe();default:if(a.split("(")[0]==="cubic-bezier")return u8(a)}return typeof a=="function"?a:null};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function f8(e){return $Se(e)||MSe(e)||Qz(e)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Se(e){if(Array.isArray(e))return HS(e)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){qS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qS(e,t,r){return t=BSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=zSe(e,"string");return Xg(t)==="symbol"?t:String(t)}function zSe(e,t){if(Xg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function USe(e,t){return HSe(e)||qSe(e,t)||Qz(e,t)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(e,t){if(e){if(typeof e=="string")return HS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HS(e,t)}}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function HSe(e){if(Array.isArray(e))return e}var Lb=function(t,r,n){return t+(r-t)*n},VS=function(t){var r=t.from,n=t.to;return r!==n},VSe=function e(t,r,n){var a=z0(function(s,o){if(VS(o)){var l=t(o.from,o.to,o.velocity),c=USe(l,2),d=c[0],u=c[1];return Fa(Fa({},o),{},{from:d,velocity:u})}return o},r);return n<1?z0(function(s,o){return VS(o)?Fa(Fa({},o),{},{velocity:Lb(o.velocity,a[s].velocity,n),from:Lb(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const GSe=function(e,t,r,n,a){var s=NSe(e,t),o=s.reduce(function(v,x){return Fa(Fa({},v),{},qS({},x,[e[x],t[x]]))},{}),l=s.reduce(function(v,x){return Fa(Fa({},v),{},qS({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,d,u,f=function(){return null},h=function(){return z0(function(x,y){return y.from},l)},p=function(){return!Object.values(l).filter(VS).length},g=function(x){d||(d=x);var y=x-d,w=y/r.dt;l=VSe(r,l,w),a(Fa(Fa(Fa({},e),t),h())),d=x,p()||(c=requestAnimationFrame(f))},m=function(x){u||(u=x);var y=(x-u)/n,w=z0(function(j,C){return Lb.apply(void 0,f8(C).concat([r(y)]))},o);if(a(Fa(Fa(Fa({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var N=z0(function(j,C){return Lb.apply(void 0,f8(C).concat([r(1)]))},o);a(Fa(Fa(Fa({},e),t),N))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}var KSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XSe(e,t){if(e==null)return{};var r=YSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YSe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function n5(e){return e3e(e)||ZSe(e)||JSe(e)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JSe(e,t){if(e){if(typeof e=="string")return GS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(e,t)}}function ZSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e3e(e){if(Array.isArray(e))return GS(e)}function GS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(n){b0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b0(e,t,r){return t=Jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jz(n.key),n)}}function n3e(e,t,r){return t&&r3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jz(e){var t=a3e(e,"string");return Sp(t)==="symbol"?t:String(t)}function a3e(e,t){if(Sp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KS(e,t)}function s3e(e){var t=o3e();return function(){var n=Ib(e),a;if(t){var s=Ib(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return XS(this,a)}}function XS(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YS(e)}function YS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}var yl=function(e){i3e(r,e);var t=s3e(r);function r(n,a){var s;t3e(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(YS(s)),s.changeStyle=s.changeStyle.bind(YS(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),XS(s);if(f&&f.length)s.state={style:f[0].style};else if(d){if(typeof h=="function")return s.state={style:d},XS(s);s.state={style:c?b0({},c,d):d}}else s.state={style:{}};return s}return n3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,u=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?b0({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(hSe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||d?f:a.to;if(this.state&&h){var v={style:c?b0({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(ho(ho({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=GSe(o,l,ISe(d),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,u,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,h=f===void 0?0:f,p=function(m,v,x){if(x===0)return m;var y=v.duration,w=v.easing,N=w===void 0?"ease":w,j=v.style,C=v.properties,k=v.onAnimationEnd,_=x>0?o[x-1]:v,L=C||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(n5(m),[s.runJSAnimation.bind(s,{from:_.style,to:j,duration:y,easing:N}),y]);var z=c8(L,y,N),D=ho(ho(ho({},_.style),j),{},{transition:z});return[].concat(n5(m),[D,y,k]).filter(SSe)};return this.manager.start([c].concat(n5(o.reduce(p,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=bSe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?b0({},l,c):c,v=c8(Object.keys(m),o,d);g.start([u,s,ho(ho({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=XSe(a,KSe),d=A.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!l||d===0||o<=0)return s;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,x=g.className,y=A.cloneElement(p,ho(ho({},c),{},{style:ho(ho({},v),u),className:x}));return y};return d===1?f(A.Children.only(s)):ve.createElement("div",null,A.Children.map(s,function(h){return f(h)}))}}]),r}(A.PureComponent);yl.displayName="Animate";yl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yl.propTypes={from:xr.oneOfType([xr.object,xr.string]),to:xr.oneOfType([xr.object,xr.string]),attributeName:xr.string,duration:xr.number,begin:xr.number,easing:xr.oneOfType([xr.string,xr.func]),steps:xr.arrayOf(xr.shape({duration:xr.number.isRequired,style:xr.object.isRequired,easing:xr.oneOfType([xr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xr.func]),properties:xr.arrayOf("string"),onAnimationEnd:xr.func})),children:xr.oneOfType([xr.node,xr.func]),isActive:xr.bool,canBegin:xr.bool,onAnimationEnd:xr.func,shouldReAnimate:xr.bool,onAnimationStart:xr.func,onAnimationReStart:xr.func};xr.object,xr.object,xr.object,xr.element;xr.object,xr.object,xr.object,xr.oneOfType([xr.array,xr.element]),xr.any;function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function l3e(e,t){return f3e(e)||u3e(e,t)||d3e(e,t)||c3e()}function c3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3e(e,t){if(e){if(typeof e=="string")return m8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m8(e,t)}}function m8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function f3e(e){if(Array.isArray(e))return e}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){h3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3e(e,t,r){return t=p3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3e(e){var t=m3e(e,"string");return Yg(t)=="symbol"?t:t+""}function m3e(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*f[1])),u+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);u="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},g3e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),u=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=d&&n<=u&&a>=f&&a<=h}return!1},x3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vA=function(t){var r=x8(x8({},x3e),t),n=A.useRef(),a=A.useState(-1),s=l3e(a,2),o=s[0],l=s[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=mr("recharts-rectangle",p);return y?ve.createElement(yl,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:m,animationEasing:g,isActive:y},function(N){var j=N.width,C=N.height,k=N.x,_=N.y;return ve.createElement(yl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},ve.createElement("path",Rb({},Kt(r,!0),{className:w,d:v8(k,_,j,C,h),ref:n})))}):ve.createElement("path",Rb({},Kt(r,!0),{className:w,d:v8(c,d,u,f,h)}))},v3e=["points","className","baseLinePoints","connectNulls"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function y3e(e,t){if(e==null)return{};var r=b3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y8(e){return S3e(e)||N3e(e)||j3e(e)||w3e()}function w3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(e,t){if(e){if(typeof e=="string")return QS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QS(e,t)}}function N3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S3e(e){if(Array.isArray(e))return QS(e)}function QS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b8=function(t){return t&&t.x===+t.x&&t.y===+t.y},_3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){b8(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),b8(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},U0=function(t,r){var n=_3e(t);r&&(n=[n.reduce(function(s,o){return[].concat(y8(s),y8(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},k3e=function(t,r,n){var a=U0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(U0(r.reverse(),n).slice(1))},A3e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=y3e(t,v3e);if(!r||!r.length)return null;var l=mr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=k3e(r,a,s);return ve.createElement("g",{className:l},ve.createElement("path",Nh({},Kt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ve.createElement("path",Nh({},Kt(o,!0),{fill:"none",d:U0(r,s)})):null,c?ve.createElement("path",Nh({},Kt(o,!0),{fill:"none",d:U0(a,s)})):null)}var u=U0(r,s);return ve.createElement("path",Nh({},Kt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(this,arguments)}var Ow=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=mr("recharts-dot",s);return r===+r&&n===+n&&a===+a?ve.createElement("circle",JS({},Kt(t,!1),nb(t),{className:o,cx:r,cy:n,r:a})):null};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}var C3e=["x","y","top","left","width","height","className"];function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(this,arguments)}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){T3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T3e(e,t,r){return t=P3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3e(e){var t=O3e(e,"string");return Qg(t)=="symbol"?t:t+""}function O3e(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D3e(e,t){if(e==null)return{};var r=F3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var L3e=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},I3e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=D3e(t,C3e),v=E3e({x:n,y:s,top:l,left:d,width:f,height:p},m);return!_t(n)||!_t(s)||!_t(f)||!_t(p)||!_t(l)||!_t(d)?null:ve.createElement("path",ZS({},Kt(v,!0),{className:mr("recharts-cross",g),d:L3e(n,s,f,p,l,d)}))},R3e=Aw,M3e=cz,$3e=Nl;function B3e(e,t){return e&&e.length?R3e(e,$3e(t),M3e):void 0}var z3e=B3e;const U3e=$r(z3e);var W3e=Aw,q3e=Nl,H3e=dz;function V3e(e,t){return e&&e.length?W3e(e,q3e(t),H3e):void 0}var G3e=V3e;const K3e=$r(G3e);var X3e=["cx","cy","angle","ticks","axisLine"],Y3e=["ticks","tick","angle","tickFormatter","stroke"];function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){Dw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8(e,t){if(e==null)return{};var r=Q3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eU(n.key),n)}}function Z3e(e,t,r){return t&&S8(e.prototype,t),r&&S8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_e(e,t,r){return t=Mb(t),t_e(e,Zz()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function t_e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r_e(e)}function r_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function n_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function Dw(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=a_e(e,"string");return _p(t)=="symbol"?t:t+""}function a_e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fw=function(e){function t(){return J3e(this,t),e_e(this,t,arguments)}return n_e(t,e),Z3e(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return dn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=U3e(l,function(u){return u.coordinate||0}),d=K3e(l,function(u){return u.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=N8(n,X3e),u=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=dn(a,s,u[0],o),h=dn(a,s,u[1],o),p=fu(fu(fu({},Kt(d,!1)),{},{fill:"none"},Kt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ve.createElement("line",W0({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=N8(a,Y3e),f=this.getTickTextAnchor(),h=Kt(u,!1),p=Kt(o,!1),g=s.map(function(m,v){var x=n.getTickValueCoord(m),y=fu(fu(fu(fu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:v},x),{},{payload:m});return ve.createElement(Or,W0({className:mr("recharts-polar-radius-axis-tick",Mz(o)),key:"tick-".concat(m.coordinate)},nf(n.props,m,v)),t.renderTickItem(o,y,c?c(m.value,v):m.value))});return ve.createElement(Or,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ve.createElement(Or,{className:mr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Sa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ve.isValidElement(n)?o=ve.cloneElement(n,a):rr(n)?o=n(a):o=ve.createElement(af,W0({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(A.PureComponent);Dw(Fw,"displayName","PolarRadiusAxis");Dw(Fw,"axisType","radiusAxis");Dw(Fw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rU(n.key),n)}}function s_e(e,t,r){return t&&k8(e.prototype,t),r&&k8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o_e(e,t,r){return t=$b(t),l_e(e,tU()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function l_e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(e)}function c_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function d_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function Lw(e,t,r){return t=rU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=u_e(e,"string");return kp(t)=="symbol"?t:t+""}function u_e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_e=Math.PI/180,A8=1e-5,Iw=function(e){function t(){return i_e(this,t),o_e(this,t,arguments)}return d_e(t,e),s_e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=dn(s,o,l,n.coordinate),h=dn(s,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*f_e),o;return s>A8?o=a==="outer"?"start":"end":s<-A8?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=hu(hu({},Kt(this.props,!1)),{},{fill:"none"},Kt(l,!1));if(c==="circle")return ve.createElement(Ow,Su({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:s,r:o}));var u=this.props.ticks,f=u.map(function(h){return dn(a,s,o,h.coordinate)});return ve.createElement(A3e,Su({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Kt(this.props,!1),f=Kt(o,!1),h=hu(hu({},u),{},{fill:"none"},Kt(l,!1)),p=s.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),y=hu(hu(hu({textAnchor:x},u),{},{stroke:"none",fill:d},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return ve.createElement(Or,Su({className:mr("recharts-polar-angle-axis-tick",Mz(o)),key:"tick-".concat(g.coordinate)},nf(n.props,g,m)),l&&ve.createElement("line",Su({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return ve.createElement(Or,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ve.createElement(Or,{className:mr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ve.isValidElement(n)?o=ve.cloneElement(n,a):rr(n)?o=n(a):o=ve.createElement(af,Su({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(A.PureComponent);Lw(Iw,"displayName","PolarAngleAxis");Lw(Iw,"axisType","angleAxis");Lw(Iw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var h_e=iB,p_e=h_e(Object.getPrototypeOf,Object),m_e=p_e,g_e=Nc,x_e=m_e,v_e=Sc,y_e="[object Object]",b_e=Function.prototype,w_e=Object.prototype,nU=b_e.toString,j_e=w_e.hasOwnProperty,N_e=nU.call(Object);function S_e(e){if(!v_e(e)||g_e(e)!=y_e)return!1;var t=x_e(e);if(t===null)return!0;var r=j_e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nU.call(r)==N_e}var __e=S_e;const k_e=$r(__e);var A_e=Nc,C_e=Sc,E_e="[object Boolean]";function T_e(e){return e===!0||e===!1||C_e(e)&&A_e(e)==E_e}var P_e=T_e;const O_e=$r(P_e);function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function D_e(e,t){return R_e(e)||I_e(e,t)||L_e(e,t)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(e,t){if(e){if(typeof e=="string")return C8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C8(e,t)}}function C8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function R_e(e){if(Array.isArray(e))return e}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){M_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M_e(e,t,r){return t=$_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $_e(e){var t=B_e(e,"string");return Jg(t)=="symbol"?t:t+""}function B_e(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P8=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},z_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U_e=function(t){var r=T8(T8({},z_e),t),n=A.useRef(),a=A.useState(-1),s=D_e(a,2),o=s[0],l=s[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=mr("recharts-trapezoid",p);return x?ve.createElement(yl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:c,y:d},duration:m,animationEasing:g,isActive:x},function(w){var N=w.upperWidth,j=w.lowerWidth,C=w.height,k=w.x,_=w.y;return ve.createElement(yl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},ve.createElement("path",Bb({},Kt(r,!0),{className:y,d:P8(k,_,N,j,C),ref:n})))}):ve.createElement("g",null,ve.createElement("path",Bb({},Kt(r,!0),{className:y,d:P8(c,d,u,f,h)})))},W_e=["option","shapeType","propTransformer","activeClassName","isActive"];function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function q_e(e,t){if(e==null)return{};var r=H_e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){V_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V_e(e,t,r){return t=G_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_e(e){var t=K_e(e,"string");return Zg(t)=="symbol"?t:t+""}function K_e(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_e(e,t){return zb(zb({},t),e)}function Y_e(e,t){return e==="symbols"}function D8(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ve.createElement(vA,r);case"trapezoid":return ve.createElement(U_e,r);case"sector":return ve.createElement(zz,r);case"symbols":if(Y_e(t))return ve.createElement(Rk,r);break;default:return null}}function Q_e(e){return A.isValidElement(e)?e.props:e}function aU(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?X_e:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=q_e(e,W_e),d;if(A.isValidElement(t))d=A.cloneElement(t,zb(zb({},c),Q_e(t)));else if(rr(t))d=t(c);else if(k_e(t)&&!O_e(t)){var u=a(t,c);d=ve.createElement(D8,{shapeType:r,elementProps:u})}else{var f=c;d=ve.createElement(D8,{shapeType:r,elementProps:f})}return l?ve.createElement(Or,{className:o},d):d}function Rw(e,t){return t!=null&&"trapezoids"in e.props}function Mw(e,t){return t!=null&&"sectors"in e.props}function ex(e,t){return t!=null&&"points"in e.props}function J_e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function Z_e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function eke(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function tke(e,t){var r;return Rw(e,t)?r=J_e:Mw(e,t)?r=Z_e:ex(e,t)&&(r=eke),r}function rke(e,t){var r;return Rw(e,t)?r="trapezoids":Mw(e,t)?r="sectors":ex(e,t)&&(r="points"),r}function nke(e,t){if(Rw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ex(e,t)?t.payload:{}}function ake(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=rke(r,t),s=nke(r,t),o=n.filter(function(c,d){var u=Lx(s,c),f=r.props[a].filter(function(g){var m=tke(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=d===h;return u&&p}),l=n.indexOf(o[o.length-1]);return l}var Y1;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){Us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ike(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sU(n.key),n)}}function ske(e,t,r){return t&&L8(e.prototype,t),r&&L8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oke(e,t,r){return t=Ub(t),lke(e,iU()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function lke(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cke(e)}function cke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function dke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function Us(e,t,r){return t=sU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=uke(e,"string");return Ap(t)=="symbol"?t:t+""}function uke(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fi=function(e){function t(r){var n;return ike(this,t),n=oke(this,t,[r]),Us(n,"pieRef",null),Us(n,"sectorRefs",[]),Us(n,"id",om("recharts-pie-")),Us(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),rr(a)&&a()}),Us(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),rr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return dke(t,e),ske(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,d=s.valueKey,u=Kt(this.props,!1),f=Kt(o,!1),h=Kt(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,y=dn(m.cx,m.cy,m.outerRadius+p,x),w=on(on(on(on({},u),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,m.cx)},y),N=on(on(on(on({},u),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[dn(m.cx,m.cy,m.outerRadius,x),y]}),j=c;return cr(c)&&cr(d)?j="value":cr(c)&&(j=d),ve.createElement(Or,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,w,ha(m,j)))});return ve.createElement(Or,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,g=on(on({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ve.createElement(Or,Sh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},nf(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ve.createElement(aU,Sh({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return ve.createElement(yl,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(w,N){var j=h&&h[N],C=N>0?bs(w,"paddingAngle",0):0;if(j){var k=fs(j.endAngle-j.startAngle,w.endAngle-w.startAngle),_=on(on({},w),{},{startAngle:y+C,endAngle:y+k(m)+C});v.push(_),y=_.endAngle}else{var L=w.endAngle,z=w.startAngle,D=fs(0,L-z),T=D(m),I=on(on({},w),{},{startAngle:y+C,endAngle:y+T+C});v.push(I),y=I.endAngle}}),ve.createElement(Or,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Lx(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!_t(d)||!_t(u)||!_t(f)||!_t(h))return null;var m=mr("recharts-pie",l);return ve.createElement(Or,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Sa.renderCallByParent(this.props,null,!1),(!p||g)&&nc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ve.isValidElement(n))return ve.cloneElement(n,a);if(rr(n))return n(a);var o=mr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ve.createElement(Db,Sh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ve.isValidElement(n))return ve.cloneElement(n,a);var o=s;if(rr(n)&&(o=n(a),ve.isValidElement(o)))return o;var l=mr("recharts-pie-label-text",typeof n!="boolean"&&!rr(n)?n.className:"");return ve.createElement(af,Sh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(A.PureComponent);Y1=fi;Us(fi,"displayName","Pie");Us(fi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Us(fi,"parseDeltaAngle",function(e,t){var r=_i(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Us(fi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Kt(e,!1),a=ws(r,Ro);return t&&t.length?t.map(function(s,o){return on(on(on({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return on(on({},n),s.props)}):[]});Us(fi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=Rz(a,s),l=n+ki(e.cx,a,a/2),c=r+ki(e.cy,s,s/2),d=ki(e.innerRadius,o,0),u=ki(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});Us(fi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?on(on({},t.type.defaultProps),t.props):t.props,a=Y1.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Y1.parseCoordinateOfPie(n,r),m=Y1.parseDeltaAngle(o,l),v=Math.abs(m),x=d;cr(d)&&cr(f)?(Oo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):cr(d)&&(Oo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(_){return ha(_,x,0)!==0}).length,w=(v>=360?y:y-1)*c,N=v-y*p-w,j=a.reduce(function(_,L){var z=ha(L,x,0);return _+(_t(z)?z:0)},0),C;if(j>0){var k;C=a.map(function(_,L){var z=ha(_,x,0),D=ha(_,u,L),T=(_t(z)?z:0)/j,I;L?I=k.endAngle+_i(m)*c*(z!==0?1:0):I=o;var B=I+_i(m)*((z!==0?p:0)+T*N),J=(I+B)/2,U=(g.innerRadius+g.outerRadius)/2,X=[{name:D,value:z,payload:_,dataKey:x,type:h}],M=dn(g.cx,g.cy,U,J);return k=on(on(on({percent:T,cornerRadius:s,name:D,tooltipPayload:X,midAngle:J,middleRadius:U,tooltipPosition:M},_),g),{},{value:ha(_,x),startAngle:I,endAngle:B,payload:_,paddingAngle:_i(m)*c}),k})}return on(on({},g),{},{sectors:C,data:a})});var fke=Math.ceil,hke=Math.max;function pke(e,t,r,n){for(var a=-1,s=hke(fke((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var mke=pke,gke=SB,I8=1/0,xke=17976931348623157e292;function vke(e){if(!e)return e===0?e:0;if(e=gke(e),e===I8||e===-I8){var t=e<0?-1:1;return t*xke}return e===e?e:0}var oU=vke,yke=mke,bke=bw,a5=oU;function wke(e){return function(t,r,n){return n&&typeof n!="number"&&bke(t,r,n)&&(r=n=void 0),t=a5(t),r===void 0?(r=t,t=0):r=a5(r),n=n===void 0?t<r?1:-1:a5(n),yke(t,r,n,e)}}var jke=wke,Nke=jke,Ske=Nke(),_ke=Ske;const Wb=$r(_ke);function tx(e){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(e)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return t=kke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kke(e){var t=Ake(e,"string");return tx(t)=="symbol"?t:t+""}function Ake(e,t){if(tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cke=["Webkit","Moz","O","ms"],Eke=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Cke.reduce(function(s,o){return M8(M8({},s),{},lU({},o+n,r))},{});return a[t]=r,a};function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(this,arguments)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dU(n.key),n)}}function Pke(e,t,r){return t&&B8(e.prototype,t),r&&B8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oke(e,t,r){return t=Hb(t),Dke(e,cU()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function Dke(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fke(e)}function Fke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function Lke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function rs(e,t,r){return t=dU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dU(e){var t=Ike(e,"string");return Cp(t)=="symbol"?t:t+""}function Ike(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rke=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=$0().domain(Wb(0,c)).range([s,s+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},z8=function(t){return t.changedTouches&&!!t.changedTouches.length},Ep=function(e){function t(r){var n;return Tke(this,t),n=Oke(this,t,[r]),rs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),rs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),rs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),rs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rs(n,"handleSlideDragStart",function(a){var s=z8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Lke(t,e),Pke(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=ha(s[n],l,n);return rr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,d+u-f-l,d+u-f-o):m<0&&(m=Math.max(m,d-o,d-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=z8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-p-d):y<0&&(y=Math.max(y,f-d)),x[o]=d+y;var w=this.getIndex(x),N=w.startIndex,j=w.endIndex,C=function(){var _=v.length-1;return o==="startX"&&(l>c?N%m===0:j%m===0)||l<c&&j===_||o==="endX"&&(l>c?j%m===0:N%m===0)||l>c&&j===_};this.setState(rs(rs({},o,d+y),"brushMoveStartX",n.pageX),function(){g&&C()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=d||a==="endX"&&p<=c||this.setState(rs({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return ve.createElement("rect",{stroke:d,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,f=A.Children.only(d);return f?ve.cloneElement(f,{x:a,y:s,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),y=i5(i5({},Kt(this.props,!1)),{},{x,y:d,width:u,height:f}),w=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return ve.createElement(Or,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,u=Math.min(n,a)+d,f=Math.max(Math.abs(a-n)-d,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:d};return ve.createElement(Or,{className:"recharts-brush-texts"},ve.createElement(af,qb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(a)),ve.createElement(af,qb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!_t(l)||!_t(c)||!_t(d)||!_t(u)||d<=0||u<=0)return null;var w=mr("recharts-brush",s),N=ve.Children.count(o)===1,j=Eke("userSelect","none");return ve.createElement(Or,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(s+l/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ve.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ve.isValidElement(n)?s=ve.cloneElement(n,a):rr(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,f=n.endIndex;if(s!==a.prevData||d!==a.prevUpdateId)return i5({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?Rke({data:s,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(A.PureComponent);rs(Ep,"displayName","Brush");rs(Ep,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mke=qk;function $ke(e,t){var r;return Mke(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var Bke=$ke,zke=Q9,Uke=Nl,Wke=Bke,qke=Xi,Hke=bw;function Vke(e,t,r){var n=qke(e)?zke:Wke;return r&&Hke(e,t,r)&&(t=void 0),n(e,Uke(t))}var Gke=Vke;const Kke=$r(Gke);var pl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},U8=yB;function Xke(e,t,r){t=="__proto__"&&U8?U8(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Yke=Xke,Qke=Yke,Jke=xB,Zke=Nl;function eAe(e,t){var r={};return t=Zke(t),Jke(e,function(n,a,s){Qke(r,a,t(n,a,s))}),r}var tAe=eAe;const rAe=$r(tAe);function nAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aAe=nAe,iAe=qk;function sAe(e,t){var r=!0;return iAe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var oAe=sAe,lAe=aAe,cAe=oAe,dAe=Nl,uAe=Xi,fAe=bw;function hAe(e,t,r){var n=uAe(e)?lAe:cAe;return r&&fAe(e,t,r)&&(t=void 0),n(e,dAe(t))}var pAe=hAe;const uU=$r(pAe);var mAe=["x","y"];function rx(e){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(this,arguments)}function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){gAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gAe(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=vAe(e,"string");return rx(t)=="symbol"?t:t+""}function vAe(e,t){if(rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yAe(e,t){if(e==null)return{};var r=bAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wAe(e,t){var r=e.x,n=e.y,a=yAe(e,mAe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),h=parseInt(f,10);return h0(h0(h0(h0(h0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function q8(e){return ve.createElement(aU,a3({shapeType:"rectangle",propTransformer:wAe,activeClassName:"recharts-active-bar"},e))}var jAe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||of(),r)}},NAe=["value","background"],fU;function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function SAe(e,t){if(e==null)return{};var r=_Ae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){pd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pU(n.key),n)}}function AAe(e,t,r){return t&&V8(e.prototype,t),r&&V8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CAe(e,t,r){return t=Gb(t),EAe(e,hU()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function EAe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(e)}function TAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function PAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function pd(e,t,r){return t=pU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=OAe(e,"string");return Tp(t)=="symbol"?t:t+""}function OAe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=function(e){function t(){var r;kAe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=CAe(this,t,[].concat(a)),pd(r,"state",{isAnimationFinished:!1}),pd(r,"id",om("recharts-bar-")),pd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),pd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return PAe(t,e),AAe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,u=Kt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?d:o,m=Zn(Zn(Zn({},u),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ve.createElement(Or,Vb({className:"recharts-bar-rectangle"},nf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),ve.createElement(q8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return ve.createElement(yl,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,x){var y=h&&h[x];if(y){var w=fs(y.x,v.x),N=fs(y.y,v.y),j=fs(y.width,v.width),C=fs(y.height,v.height);return Zn(Zn({},v),{},{x:w(g),y:N(g),width:j(g),height:C(g)})}if(o==="horizontal"){var k=fs(0,v.height),_=k(g);return Zn(Zn({},v),{},{y:v.y+v.height-_,height:_})}var L=fs(0,v.width),z=L(g);return Zn(Zn({},v),{},{width:z})});return ve.createElement(Or,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Lx(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Kt(this.props.background,!1);return s.map(function(d,u){d.value;var f=d.background,h=SAe(d,NAe);if(!f)return null;var p=Zn(Zn(Zn(Zn(Zn({},h),{},{fill:"#eee"},f),c),nf(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ve.createElement(q8,Vb({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,u=s.children,f=ws(u,Ix);if(!f)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ha(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ve.createElement(Or,g,f.map(function(m){return ve.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=mr("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=y||w,j=cr(m)?this.id:m;return ve.createElement(Or,{className:x},y||w?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(j)},ve.createElement("rect",{x:y?d:d-f/2,y:w?u:u-h/2,width:y?f:f*2,height:w?h:h*2}))):null,ve.createElement(Or,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||v)&&nc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);fU=jf;pd(jf,"displayName","Bar");pd(jf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pd(jf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=j5e(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Zn(Zn({},m),r.props):r.props,x=v.dataKey,y=v.children,w=v.minPointSize,N=g==="horizontal"?o:s,j=d?N.scale.domain():null,C=E5e({numericAxis:N}),k=ws(y,Ro),_=f.map(function(L,z){var D,T,I,B,J,U;d?D=N5e(d[u+z],j):(D=ha(L,x),Array.isArray(D)||(D=[C,D]));var X=jAe(w,fU.defaultProps.minPointSize)(D[1],z);if(g==="horizontal"){var M,Q=[o.scale(D[0]),o.scale(D[1])],le=Q[0],ue=Q[1];T=LO({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:L,index:z}),I=(M=ue??le)!==null&&M!==void 0?M:void 0,B=p.size;var O=le-ue;if(J=Number.isNaN(O)?0:O,U={x:T,y:o.y,width:B,height:o.height},Math.abs(X)>0&&Math.abs(J)<Math.abs(X)){var V=_i(J||X)*(Math.abs(X)-Math.abs(J));I-=V,J+=V}}else{var Y=[s.scale(D[0]),s.scale(D[1])],q=Y[0],P=Y[1];if(T=q,I=LO({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:L,index:z}),B=P-q,J=p.size,U={x:s.x,y:I,width:s.width,height:J},Math.abs(X)>0&&Math.abs(B)<Math.abs(X)){var R=_i(B||X)*(Math.abs(X)-Math.abs(B));B+=R}}return Zn(Zn(Zn({},L),{},{x:T,y:I,width:B,height:J,value:d?D:D[1],payload:L,background:U},k&&k[z]&&k[z].props),{},{tooltipPayload:[Lz(r,L)],tooltipPosition:{x:T+B/2,y:I+J/2}})});return Zn({data:_,layout:g},h)});function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function DAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mU(n.key),n)}}function FAe(e,t,r){return t&&G8(e.prototype,t),r&&G8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){$w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $w(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=LAe(e,"string");return nx(t)=="symbol"?t:t+""}function LAe(e,t){if(nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gU=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!os(d,jf);return u.reduce(function(p,g){var m=r[g],v=m.orientation,x=m.domain,y=m.padding,w=y===void 0?{}:y,N=m.mirror,j=m.reversed,C="".concat(v).concat(N?"Mirror":""),k,_,L,z,D;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=x[1]-x[0],I=1/0,B=m.categoricalDomain.sort();if(B.forEach(function(Y,q){q>0&&(I=Math.min((Y||0)-(B[q-1]||0),I))}),Number.isFinite(I)){var J=I/T,U=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=J*U/2),m.padding==="no-gap"){var X=ki(t.barCategoryGap,J*U),M=J*U/2;k=M-X-(M-X)/U*X}}}a==="xAxis"?_=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?_=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:_=m.range,j&&(_=[_[1],_[0]]);var Q=Pz(m,s,h),le=Q.scale,ue=Q.realScaleType;le.domain(x).range(_),Oz(le);var O=Dz(le,bo(bo({},m),{},{realScaleType:ue}));a==="xAxis"?(D=v==="top"&&!N||v==="bottom"&&N,L=n.left,z=f[C]-D*m.height):a==="yAxis"&&(D=v==="left"&&!N||v==="right"&&N,L=f[C]-D*m.width,z=n.top);var V=bo(bo(bo({},m),O),{},{realScaleType:ue,x:L,y:z,scale:le,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return V.bandSize=Tb(V,O),!m.hide&&a==="xAxis"?f[C]+=(D?-1:1)*V.height:m.hide||(f[C]+=(D?-1:1)*V.width),bo(bo({},p),{},$w({},g,V))},{})},xU=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},IAe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return xU({x:r,y:n},{x:a,y:s})},vU=function(){function e(t){DAe(this,e),this.scale=t}return FAe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();$w(vU,"EPS",1e-4);var yA=function(t){var r=Object.keys(t).reduce(function(n,a){return bo(bo({},n),{},$w({},a,vU.create(t[a])))},{});return bo(bo({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return rAe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return uU(a,function(s,o){return r[o].isInRange(s)})}})};function RAe(e){return(e%180+180)%180}var MAe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=RAe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},$Ae=Nl,BAe=Tx,zAe=vw;function UAe(e){return function(t,r,n){var a=Object(t);if(!BAe(t)){var s=$Ae(r);t=zAe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var WAe=UAe,qAe=oU;function HAe(e){var t=qAe(e),r=t%1;return t===t?r?t-r:t:0}var VAe=HAe,GAe=uB,KAe=Nl,XAe=VAe,YAe=Math.max;function QAe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:XAe(r);return a<0&&(a=YAe(n+a,0)),GAe(e,KAe(t),a)}var JAe=QAe,ZAe=WAe,e6e=JAe,t6e=ZAe(e6e),r6e=t6e;const n6e=$r(r6e);var a6e=due(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),bA=A.createContext(void 0),wA=A.createContext(void 0),yU=A.createContext(void 0),bU=A.createContext({}),wU=A.createContext(void 0),jU=A.createContext(0),NU=A.createContext(0),X8=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=a6e(s);return ve.createElement(bA.Provider,{value:n},ve.createElement(wA.Provider,{value:a},ve.createElement(bU.Provider,{value:s},ve.createElement(yU.Provider,{value:u},ve.createElement(wU.Provider,{value:o},ve.createElement(jU.Provider,{value:d},ve.createElement(NU.Provider,{value:c},l)))))))},i6e=function(){return A.useContext(wU)},SU=function(t){var r=A.useContext(bA);r==null&&of();var n=r[t];return n==null&&of(),n},s6e=function(){var t=A.useContext(bA);return Zc(t)},o6e=function(){var t=A.useContext(wA),r=n6e(t,function(n){return uU(n.domain,Number.isFinite)});return r||Zc(t)},_U=function(t){var r=A.useContext(wA);r==null&&of();var n=r[t];return n==null&&of(),n},l6e=function(){var t=A.useContext(yU);return t},c6e=function(){return A.useContext(bU)},jA=function(){return A.useContext(NU)},NA=function(){return A.useContext(jU)};function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function d6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AU(n.key),n)}}function f6e(e,t,r){return t&&u6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h6e(e,t,r){return t=Kb(t),p6e(e,kU()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function p6e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m6e(e)}function m6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kU=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function g6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function Y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(r),!0).forEach(function(n){SA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SA(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=x6e(e,"string");return Pp(t)=="symbol"?t:t+""}function x6e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v6e(e,t){return j6e(e)||w6e(e,t)||b6e(e,t)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b6e(e,t){if(e){if(typeof e=="string")return J8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J8(e,t)}}function J8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function j6e(e){if(Array.isArray(e))return e}function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o3.apply(this,arguments)}var N6e=function(t,r){var n;return ve.isValidElement(t)?n=ve.cloneElement(t,r):rr(t)?n=t(r):n=ve.createElement("line",o3({},r,{className:"recharts-reference-line-line"})),n},S6e=function(t,r,n,a,s,o,l,c,d){var u=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=d.y,m=t.y.apply(g,{position:o});if(pl(d,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return c==="left"?v.reverse():v}if(r){var x=d.x,y=t.x.apply(x,{position:o});if(pl(d,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var N=d.segment,j=N.map(function(C){return t.apply(C,{position:o})});return pl(d,"discard")&&Kke(j,function(C){return!t.isInRange(C)})?null:j}return null};function _6e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=i6e(),u=SU(a),f=_U(s),h=l6e();if(!d||!h)return null;Oo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=yA({x:u.scale,y:f.scale}),g=ma(t),m=ma(r),v=n&&n.length===2,x=S6e(p,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!x)return null;var y=v6e(x,2),w=y[0],N=w.x,j=w.y,C=y[1],k=C.x,_=C.y,L=pl(e,"hidden")?"url(#".concat(d,")"):void 0,z=Q8(Q8({clipPath:L},Kt(e,!0)),{},{x1:N,y1:j,x2:k,y2:_});return ve.createElement(Or,{className:mr("recharts-reference-line",l)},N6e(o,z),Sa.renderCallByParent(e,IAe({x1:N,y1:j,x2:k,y2:_})))}var _A=function(e){function t(){return d6e(this,t),h6e(this,t,arguments)}return g6e(t,e),f6e(t,[{key:"render",value:function(){return ve.createElement(_6e,this.props)}}])}(ve.Component);SA(_A,"displayName","ReferenceLine");SA(_A,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l3.apply(this,arguments)}function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){Bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EU(n.key),n)}}function C6e(e,t,r){return t&&A6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E6e(e,t,r){return t=Xb(t),T6e(e,CU()?Reflect.construct(t,r||[],Xb(e).constructor):t.apply(e,r))}function T6e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6e(e)}function P6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(e)}function O6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c3(e,t)}function Bw(e,t,r){return t=EU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(e){var t=D6e(e,"string");return Op(t)=="symbol"?t:t+""}function D6e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F6e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=yA({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return pl(t,"discard")&&!o.isInRange(l)?null:l},zw=function(e){function t(){return k6e(this,t),E6e(this,t,arguments)}return O6e(t,e),C6e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=ma(a),u=ma(s);if(Oo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=F6e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,x=pl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=eD(eD({clipPath:x},Kt(this.props,!0)),{},{cx:h,cy:p});return ve.createElement(Or,{className:mr("recharts-reference-dot",v)},t.renderDot(m,y),Sa.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(ve.Component);Bw(zw,"displayName","ReferenceDot");Bw(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bw(zw,"renderDot",function(e,t){var r;return ve.isValidElement(e)?r=ve.cloneElement(e,t):rr(e)?r=e(t):r=ve.createElement(Ow,l3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function d3(){return d3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d3.apply(this,arguments)}function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){Uw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PU(n.key),n)}}function R6e(e,t,r){return t&&I6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M6e(e,t,r){return t=Yb(t),$6e(e,TU()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function $6e(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B6e(e)}function B6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function z6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}function u3(e,t){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u3(e,t)}function Uw(e,t,r){return t=PU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=U6e(e,"string");return Dp(t)=="symbol"?t:t+""}function U6e(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W6e=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,u=s.xAxis,f=s.yAxis;if(!u||!f)return null;var h=yA({x:u.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return pl(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:xU(p,g)},Ww=function(e){function t(){return L6e(this,t),M6e(this,t,arguments)}return z6e(t,e),R6e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;Oo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ma(a),h=ma(s),p=ma(o),g=ma(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=W6e(f,h,p,g,this.props);if(!v&&!m)return null;var x=pl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ve.createElement(Or,{className:mr("recharts-reference-area",c)},t.renderRect(m,rD(rD({clipPath:x},Kt(this.props,!0)),v)),Sa.renderCallByParent(this.props,v))}}])}(ve.Component);Uw(Ww,"displayName","ReferenceArea");Uw(Ww,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Uw(Ww,"renderRect",function(e,t){var r;return ve.isValidElement(e)?r=ve.cloneElement(e,t):rr(e)?r=e(t):r=ve.createElement(vA,d3({},t,{className:"recharts-reference-area-rect"})),r});function OU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function q6e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return MAe(n,r)}function H6e(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Qb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function V6e(e,t){return OU(e,t+1)}function G6e(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:OU(n,d)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},y=g.coordinate,w=c===0||Qb(e,y,x,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(x()/2+a),c+=d)},h;d<=s.length;)if(h=f(),h)return h.v;return[]}function ax(e){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(e)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){K6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K6e(e,t,r){return t=X6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X6e(e){var t=Y6e(e,"string");return ax(t)=="symbol"?t:t+""}function Y6e(e,t){if(ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q6e(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,d=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);s[h]=p=ri(ri({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=ri(ri({},p),{},{tickCoord:p.coordinate});var x=Qb(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+a),s[h]=ri(ri({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return s}function J6e(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(s){var u=n[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=ri(ri({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Qb(e,u.tickCoord,function(){return f},c,d);p&&(d=u.tickCoord-e*(f/2+a),o[l-1]=ri(ri({},u),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(y){var w=o[y],N,j=function(){return N===void 0&&(N=r(w,y)),N};if(y===0){var C=e*(w.coordinate-e*j()/2-c);o[y]=w=ri(ri({},w),{},{tickCoord:C<0?w.coordinate-C*e:w.coordinate})}else o[y]=w=ri(ri({},w),{},{tickCoord:w.coordinate});var k=Qb(e,w.tickCoord,j,c,d);k&&(c=w.tickCoord+e*(j()/2+a),o[y]=ri(ri({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function kA(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(_t(c)||fl.isSsr)return V6e(a,typeof c=="number"&&_t(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=u&&p==="width"?M0(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,N){var j=rr(d)?d(w.value,N):w.value;return p==="width"?q6e(M0(j,{fontSize:t,letterSpacing:r}),g,f):M0(j,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?_i(a[1].coordinate-a[0].coordinate):1,x=H6e(s,v,p);return c==="equidistantPreserveStart"?G6e(v,x,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=J6e(v,x,m,a,o,c==="preserveStartEnd"):h=Q6e(v,x,m,a,o),h.filter(function(y){return y.isShow}))}var Z6e=["viewBox"],eCe=["viewBox"],tCe=["ticks"];function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){AA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s5(e,t){if(e==null)return{};var r=rCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FU(n.key),n)}}function aCe(e,t,r){return t&&iD(e.prototype,t),r&&iD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iCe(e,t,r){return t=Jb(t),sCe(e,DU()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function sCe(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oCe(e)}function oCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function lCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f3(e,t)}function f3(e,t){return f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f3(e,t)}function AA(e,t,r){return t=FU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FU(e){var t=cCe(e,"string");return Fp(t)=="symbol"?t:t+""}function cCe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mm=function(e){function t(r){var n;return nCe(this,t),n=iCe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lCe(t,e),aCe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=s5(n,Z6e),l=this.props,c=l.viewBox,d=s5(l,eCe);return!qh(s,c)||!qh(o,d)||!qh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,x,y,w=f?-1:1,N=n.tickSize||u,j=_t(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":p=g=n.coordinate,v=o+ +!f*c,m=v-w*N,y=m-w*h,x=j;break;case"left":m=v=n.coordinate,g=s+ +!f*l,p=g-w*N,x=p-w*h,y=j;break;case"right":m=v=n.coordinate,g=s+ +f*l,p=g+w*N,x=p+w*h,y=j;break;default:p=g=n.coordinate,v=o+ +f*c,m=v+w*N,y=m+w*h,x=j;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,f=xi(xi(xi({},Kt(this.props,!1)),Kt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=xi(xi({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);f=xi(xi({},f),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return ve.createElement("line",_h({},f,{className:mr("recharts-cartesian-axis-line",bs(u,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,h=l.unit,p=kA(xi(xi({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Kt(this.props,!1),x=Kt(u,!1),y=xi(xi({},v),{},{fill:"none"},Kt(c,!1)),w=p.map(function(N,j){var C=o.getTickLineCoord(N),k=C.line,_=C.tick,L=xi(xi(xi(xi({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:d},x),_),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:f});return ve.createElement(Or,_h({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},nf(o.props,N,j)),c&&ve.createElement("line",_h({},y,k,{className:mr("recharts-cartesian-axis-tick-line",bs(c,"className"))})),u&&t.renderTickItem(u,L,"".concat(rr(f)?f(N.value,j):N.value).concat(h||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=s5(f,tCe),g=h;return rr(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:ve.createElement(Or,{className:mr("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Sa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ve.isValidElement(n)?o=ve.cloneElement(n,a):rr(n)?o=n(a):o=ve.createElement(af,_h({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(A.Component);AA(mm,"displayName","CartesianAxis");AA(mm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dCe=["x1","y1","x2","y2","key"],uCe=["offset"];function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){fCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fCe(e,t,r){return t=hCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hCe(e){var t=pCe(e,"string");return lf(t)=="symbol"?t:t+""}function pCe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(this,arguments)}function oD(e,t){if(e==null)return{};var r=mCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gCe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ve.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LU(e,t){var r;if(ve.isValidElement(e))r=ve.cloneElement(e,t);else if(rr(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=oD(t,dCe),d=Kt(c,!1);d.offset;var u=oD(d,uCe);r=ve.createElement("line",Ou({},u,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function xCe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var d=ai(ai({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return LU(a,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vCe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var d=ai(ai({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return LU(a,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yCe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?a+o-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return ve.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bCe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?s+l-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return ve.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wCe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return Tz(kA(ai(ai(ai({},mm.defaultProps),n),{},{ticks:Gl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},jCe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return Tz(kA(ai(ai(ai({},mm.defaultProps),n),{},{ticks:Gl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},rh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function h3(e){var t,r,n,a,s,o,l=jA(),c=NA(),d=c6e(),u=ai(ai({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:rh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:rh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:rh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:rh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:rh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:rh.verticalFill,x:_t(e.x)?e.x:d.left,y:_t(e.y)?e.y:d.top,width:_t(e.width)?e.width:d.width,height:_t(e.height)?e.height:d.height}),f=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,y=s6e(),w=o6e();if(!_t(p)||p<=0||!_t(g)||g<=0||!_t(f)||f!==+f||!_t(h)||h!==+h)return null;var N=u.verticalCoordinatesGenerator||wCe,j=u.horizontalCoordinatesGenerator||jCe,C=u.horizontalPoints,k=u.verticalPoints;if((!C||!C.length)&&rr(j)){var _=v&&v.length,L=j({yAxis:w?ai(ai({},w),{},{ticks:_?v:w.ticks}):void 0,width:l,height:c,offset:d},_?!0:m);Oo(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lf(L),"]")),Array.isArray(L)&&(C=L)}if((!k||!k.length)&&rr(N)){var z=x&&x.length,D=N({xAxis:y?ai(ai({},y),{},{ticks:z?x:y.ticks}):void 0,width:l,height:c,offset:d},z?!0:m);Oo(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lf(D),"]")),Array.isArray(D)&&(k=D)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(gCe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ve.createElement(xCe,Ou({},u,{offset:d,horizontalPoints:C,xAxis:y,yAxis:w})),ve.createElement(vCe,Ou({},u,{offset:d,verticalPoints:k,xAxis:y,yAxis:w})),ve.createElement(yCe,Ou({},u,{horizontalPoints:C})),ve.createElement(bCe,Ou({},u,{verticalPoints:k})))}h3.displayName="CartesianGrid";var NCe=["type","layout","connectNulls","ref"],SCe=["key"];function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function lD(e,t){if(e==null)return{};var r=_Ce(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nh(e){return ECe(e)||CCe(e)||ACe(e)||kCe()}function kCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ACe(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function CCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ECe(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RU(n.key),n)}}function PCe(e,t,r){return t&&dD(e.prototype,t),r&&dD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OCe(e,t,r){return t=Zb(t),DCe(e,IU()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function DCe(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(e)}function FCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function LCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m3(e,t)}function m3(e,t){return m3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m3(e,t)}function wo(e,t,r){return t=RU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=ICe(e,"string");return Lp(t)=="symbol"?t:t+""}function ICe(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mc=function(e){function t(){var r;TCe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=OCe(this,t,[].concat(a)),wo(r,"state",{isAnimationFinished:!0,totalLength:0}),wo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),wo(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(x,y){return x+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(nh(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(nh(t.repeat(c,u)),nh(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),wo(r,"id",om("recharts-line-")),wo(r,"pathRef",function(o){r.mainCurve=o}),wo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),wo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return LCe(t,e),PCe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,u=s.children,f=ws(u,Ix);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:ha(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ve.createElement(Or,p,f.map(function(g){return ve.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Kt(this.props,!1),h=Kt(c,!0),p=d.map(function(m,v){var x=ts(ts(ts({key:"dot-".concat(v),r:3},f),h),{},{value:m.value,dataKey:u,cx:m.x,cy:m.y,index:v,payload:m.payload});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ve.createElement(Or,q0({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=lD(l,NCe),h=ts(ts(ts({},Kt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return ve.createElement(Db,q0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,x=this.state,y=x.prevPoints,w=x.totalLength;return ve.createElement(yl,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(y){var C=y.length/l.length,k=l.map(function(T,I){var B=Math.floor(I*C);if(y[B]){var J=y[B],U=fs(J.x,T.x),X=fs(J.y,T.y);return ts(ts({},T),{},{x:U(j),y:X(j)})}if(g){var M=fs(m*2,T.x),Q=fs(v/2,T.y);return ts(ts({},T),{},{x:M(j),y:Q(j)})}return ts(ts({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(k,n,a)}var _=fs(0,w),L=_(j),z;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});z=s.getStrokeDasharray(L,w,D)}else z=s.generateSimpleStrokeDasharray(w,L);return s.renderCurveStatically(l,n,a,{strokeDasharray:z})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Lx(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,w=mr("recharts-line",c),N=d&&d.allowDataOverflow,j=u&&u.allowDataOverflow,C=N||j,k=cr(v)?this.id:v,_=(n=Kt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=_.r,z=L===void 0?3:L,D=_.strokeWidth,T=D===void 0?2:D,I=mfe(o)?o:{},B=I.clipDot,J=B===void 0?!0:B,U=z*2+T;return ve.createElement(Or,{className:w},N||j?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(k)},ve.createElement("rect",{x:N?h:h-p/2,y:j?f:f-g/2,width:N?p:p*2,height:j?g:g*2})),!J&&ve.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ve.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:g+U}))):null,!y&&this.renderCurve(C,k),this.renderErrorBar(C,k),(y||o)&&this.renderDots(C,J,k),(!m||x)&&nc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(nh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(nh(o),nh(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ve.isValidElement(n))s=ve.cloneElement(n,a);else if(rr(n))s=n(a);else{var o=a.key,l=lD(a,SCe),c=mr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ve.createElement(Ow,q0({key:o},l,{className:c}))}return s}}])}(A.PureComponent);wo(mc,"displayName","Line");wo(mc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wo(mc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(h,p){var g=ha(h,o);return u==="horizontal"?{x:FO({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:cr(g)?null:n.scale(g),value:g,payload:h}:{x:cr(g)?null:r.scale(g),y:FO({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:g,payload:h}});return ts({points:f,layout:u},d)});function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function RCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BU(n.key),n)}}function $Ce(e,t,r){return t&&MCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BCe(e,t,r){return t=e2(t),zCe(e,MU()?Reflect.construct(t,r||[],e2(e).constructor):t.apply(e,r))}function zCe(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(e)}function UCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!e})()}function e2(e){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e2(e)}function WCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g3(e,t)}function g3(e,t){return g3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g3(e,t)}function $U(e,t,r){return t=BU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=qCe(e,"string");return Ip(t)=="symbol"?t:t+""}function qCe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x3(){return x3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x3.apply(this,arguments)}function HCe(e){var t=e.xAxisId,r=jA(),n=NA(),a=SU(t);return a==null?null:ve.createElement(mm,x3({},a,{className:mr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Gl(o,!0)}}))}var gc=function(e){function t(){return RCe(this,t),BCe(this,t,arguments)}return WCe(t,e),$Ce(t,[{key:"render",value:function(){return ve.createElement(HCe,this.props)}}])}(ve.Component);$U(gc,"displayName","XAxis");$U(gc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function VCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WU(n.key),n)}}function KCe(e,t,r){return t&&GCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XCe(e,t,r){return t=t2(t),YCe(e,zU()?Reflect.construct(t,r||[],t2(e).constructor):t.apply(e,r))}function YCe(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QCe(e)}function QCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!e})()}function t2(e){return t2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t2(e)}function JCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v3(e,t)}function v3(e,t){return v3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v3(e,t)}function UU(e,t,r){return t=WU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=ZCe(e,"string");return Rp(t)=="symbol"?t:t+""}function ZCe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y3(){return y3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y3.apply(this,arguments)}var eEe=function(t){var r=t.yAxisId,n=jA(),a=NA(),s=_U(r);return s==null?null:ve.createElement(mm,y3({},s,{className:mr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Gl(l,!0)}}))},xc=function(e){function t(){return VCe(this,t),XCe(this,t,arguments)}return JCe(t,e),KCe(t,[{key:"render",value:function(){return ve.createElement(eEe,this.props)}}])}(ve.Component);UU(xc,"displayName","YAxis");UU(xc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uD(e){return aEe(e)||nEe(e)||rEe(e)||tEe()}function tEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rEe(e,t){if(e){if(typeof e=="string")return b3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(e,t)}}function nEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aEe(e){if(Array.isArray(e))return b3(e)}function b3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w3=function(t,r,n,a,s){var o=ws(t,_A),l=ws(t,zw),c=[].concat(uD(o),uD(l)),d=ws(t,Ww),u="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[u]===n&&pl(v.props,"extendDomain")&&_t(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),d.length){var p="".concat(f,"1"),g="".concat(f,"2");h=d.reduce(function(m,v){if(v.props[u]===n&&pl(v.props,"extendDomain")&&_t(v.props[p])&&_t(v.props[g])){var x=v.props[p],y=v.props[g];return[Math.min(m[0],x,y),Math.max(m[1],x,y)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return _t(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},qU={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function s(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||c,h),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,p,g){var m=r?r+d:d;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var N=v.length,j;for(w=0;w<N;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!y)for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return s(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return s(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(qU);var iEe=qU.exports;const sEe=$r(iEe);var o5=new sEe,l5="recharts.syncMouseEvents";function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}function oEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HU(n.key),n)}}function cEe(e,t,r){return t&&lEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c5(e,t,r){return t=HU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=dEe(e,"string");return ix(t)=="symbol"?t:t+""}function dEe(e,t){if(ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uEe=function(){function e(){oEe(this,e),c5(this,"activeIndex",0),c5(this,"coordinateList",[]),c5(this,"layout","horizontal")}return cEe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fEe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&_t(n)&&_t(a))return!0}return!1}function hEe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function VU(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=dn(t,r,n,a),l=dn(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function pEe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=dn(l,c,d,f),p=dn(l,c,u,f);n=h.x,a=h.y,s=p.x,o=p.y}else return VU(t);return[{x:n,y:a},{x:s,y:o}]}function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){mEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t,r){return t=gEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEe(e){var t=xEe(e,"string");return sx(t)=="symbol"?t:t+""}function xEe(e,t){if(sx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vEe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,m=Db;if(h==="ScatterChart")g=o,m=I3e;else if(h==="BarChart")g=hEe(f,o,c,u),m=vA;else if(f==="radial"){var v=VU(o),x=v.cx,y=v.cy,w=v.radius,N=v.startAngle,j=v.endAngle;g={cx:x,cy:y,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},m=zz}else g={points:pEe(f,o,c)},m=Db;var C=_1(_1(_1(_1({stroke:"#ccc",pointerEvents:"none"},c),g),Kt(p,!1)),{},{payload:l,payloadIndex:d,className:mr("recharts-tooltip-cursor",p.className)});return A.isValidElement(p)?A.cloneElement(p,C):A.createElement(m,C)}var yEe=["item"],bEe=["children","className","width","height","style","compact","title","desc"];function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function hD(e,t){return NEe(e)||jEe(e,t)||KU(e,t)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function NEe(e){if(Array.isArray(e))return e}function pD(e,t){if(e==null)return{};var r=SEe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XU(n.key),n)}}function AEe(e,t,r){return t&&kEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CEe(e,t,r){return t=r2(t),EEe(e,GU()?Reflect.construct(t,r||[],r2(e).constructor):t.apply(e,r))}function EEe(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TEe(e)}function TEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!e})()}function r2(e){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r2(e)}function PEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j3(e,t)}function j3(e,t){return j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j3(e,t)}function $p(e){return FEe(e)||DEe(e)||KU(e)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KU(e,t){if(e){if(typeof e=="string")return N3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(e,t)}}function DEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FEe(e){if(Array.isArray(e))return N3(e)}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){Jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jt(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=LEe(e,"string");return Mp(t)=="symbol"?t:t+""}function LEe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IEe={xAxis:["bottom","top"],yAxis:["left","right"]},REe={width:"100%",height:"100%"},YU={x:0,y:0};function k1(e){return e}var MEe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$Ee=function(t,r,n,a){var s=r.find(function(u){return u&&u.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Ye(Ye(Ye({},a),dn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=a.angle;return Ye(Ye(Ye({},a),dn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return YU},qw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat($p(l),$p(d)):l},[]);return o.length>0?o:t&&t.length&&_t(a)&&_t(s)?t.slice(a,s+1):[]};function QU(e){return e==="number"?[0,"auto"]:void 0}var S3=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=qw(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=rb(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat($p(c),[Lz(d,h)]):c},[])},gD=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=MEe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=g5e(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,h=S3(t,r,u,f),p=$Ee(n,l,u,s);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},BEe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=Ez(u,s);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?Ye(Ye({},m.type.defaultProps),m.props):m.props,y=x.type,w=x.dataKey,N=x.allowDataOverflow,j=x.allowDuplicatedCategory,C=x.scale,k=x.ticks,_=x.includeHidden,L=x[o];if(g[L])return g;var z=qw(t.data,{graphicalItems:a.filter(function(O){var V,Y=o in O.props?O.props[o]:(V=O.type.defaultProps)===null||V===void 0?void 0:V[o];return Y===L}),dataStartIndex:c,dataEndIndex:d}),D=z.length,T,I,B;fEe(x.domain,N,y)&&(T=RS(x.domain,null,N),p&&(y==="number"||C!=="auto")&&(B=B0(z,w,"category")));var J=QU(y);if(!T||T.length===0){var U,X=(U=x.domain)!==null&&U!==void 0?U:J;if(w){if(T=B0(z,w,y),y==="category"&&p){var M=sfe(T);j&&M?(I=T,T=Wb(0,D)):j||(T=MO(X,T,m).reduce(function(O,V){return O.indexOf(V)>=0?O:[].concat($p(O),[V])},[]))}else if(y==="category")j?T=T.filter(function(O){return O!==""&&!cr(O)}):T=MO(X,T,m).reduce(function(O,V){return O.indexOf(V)>=0||V===""||cr(V)?O:[].concat($p(O),[V])},[]);else if(y==="number"){var Q=w5e(z,a.filter(function(O){var V,Y,q=o in O.props?O.props[o]:(V=O.type.defaultProps)===null||V===void 0?void 0:V[o],P="hide"in O.props?O.props.hide:(Y=O.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return q===L&&(_||!P)}),w,s,u);Q&&(T=Q)}p&&(y==="number"||C!=="auto")&&(B=B0(z,w,"category"))}else p?T=Wb(0,D):l&&l[L]&&l[L].hasStack&&y==="number"?T=h==="expand"?[0,1]:Fz(l[L].stackGroups,c,d):T=Cz(z,a.filter(function(O){var V=o in O.props?O.props[o]:O.type.defaultProps[o],Y="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return V===L&&(_||!Y)}),y,u,!0);if(y==="number")T=w3(f,T,L,s,k),X&&(T=RS(X,T,N));else if(y==="category"&&X){var le=X,ue=T.every(function(O){return le.indexOf(O)>=0});ue&&(T=le)}}return Ye(Ye({},g),{},Jt({},L,Ye(Ye({},x),{},{axisType:s,domain:T,categoricalDomain:B,duplicateDomain:I,originalDomain:(v=x.domain)!==null&&v!==void 0?v:J,isCategorical:p,layout:u})))},{})},zEe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=qw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),p=h.length,g=Ez(u,s),m=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?Ye(Ye({},x.type.defaultProps),x.props):x.props,w=y[o],N=QU("number");if(!v[w]){m++;var j;return g?j=Wb(0,p):l&&l[w]&&l[w].hasStack?(j=Fz(l[w].stackGroups,c,d),j=w3(f,j,w,s)):(j=RS(N,Cz(h,n.filter(function(C){var k,_,L=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],z="hide"in C.props?C.props.hide:(_=C.type.defaultProps)===null||_===void 0?void 0:_.hide;return L===w&&!z}),"number",u),a.defaultProps.allowDataOverflow),j=w3(f,j,w,s)),Ye(Ye({},v),{},Jt({},w,Ye(Ye({axisType:s},a.defaultProps),{},{hide:!0,orientation:bs(IEe,"".concat(s,".").concat(m%2),null),domain:j,originalDomain:N,isCategorical:g,layout:u})))}return v},{})},UEe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=ws(u,s),p={};return h&&h.length?p=BEe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=zEe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},WEe=function(t){var r=Zc(t),n=Gl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Hk(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Tb(r,n)}},xD=function(t){var r=t.children,n=t.defaultShowTooltip,a=os(r,Ep),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},qEe=function(t){return!t||!t.length?!1:t.some(function(r){var n=tc(r&&r.type);return n&&n.indexOf("Bar")>=0})},vD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HEe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,f=n.children,h=n.margin||{},p=os(f,Ep),g=os(f,Uu),m=Object.keys(c).reduce(function(j,C){var k=c[C],_=k.orientation;return!k.mirror&&!k.hide?Ye(Ye({},j),{},Jt({},_,j[_]+k.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,C){var k=o[C],_=k.orientation;return!k.mirror&&!k.hide?Ye(Ye({},j),{},Jt({},_,bs(j,"".concat(_))+k.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=Ye(Ye({},v),m),y=x.bottom;p&&(x.bottom+=p.props.height||Ep.defaultProps.height),g&&r&&(x=y5e(x,a,n,r));var w=d-x.left-x.right,N=u-x.top-x.bottom;return Ye(Ye({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(N,0)})},VEe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},CA=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var y=x.graphicalItems,w=x.stackGroups,N=x.offset,j=x.updateId,C=x.dataStartIndex,k=x.dataEndIndex,_=v.barSize,L=v.layout,z=v.barGap,D=v.barCategoryGap,T=v.maxBarSize,I=vD(L),B=I.numericAxisName,J=I.cateAxisName,U=qEe(y),X=[];return y.forEach(function(M,Q){var le=qw(v.data,{graphicalItems:[M],dataStartIndex:C,dataEndIndex:k}),ue=M.type.defaultProps!==void 0?Ye(Ye({},M.type.defaultProps),M.props):M.props,O=ue.dataKey,V=ue.maxBarSize,Y=ue["".concat(B,"Id")],q=ue["".concat(J,"Id")],P={},R=c.reduce(function(Le,Ge){var ut=x["".concat(Ge.axisType,"Map")],bt=ue["".concat(Ge.axisType,"Id")];ut&&ut[bt]||Ge.axisType==="zAxis"||of();var Ct=ut[bt];return Ye(Ye({},Le),{},Jt(Jt({},Ge.axisType,Ct),"".concat(Ge.axisType,"Ticks"),Gl(Ct)))},P),G=R[J],W=R["".concat(J,"Ticks")],H=w&&w[Y]&&w[Y].hasStack&&T5e(M,w[Y].stackGroups),me=tc(M.type).indexOf("Bar")>=0,ae=Tb(G,W),be=[],te=U&&x5e({barSize:_,stackGroups:w,totalSize:VEe(R,J)});if(me){var ge,re,Oe=cr(V)?T:V,Pe=(ge=(re=Tb(G,W,!0))!==null&&re!==void 0?re:Oe)!==null&&ge!==void 0?ge:0;be=v5e({barGap:z,barCategoryGap:D,bandSize:Pe!==ae?Pe:ae,sizeList:te[q],maxBarSize:Oe}),Pe!==ae&&(be=be.map(function(Le){return Ye(Ye({},Le),{},{position:Ye(Ye({},Le.position),{},{offset:Le.position.offset-Pe/2})})}))}var ke=M&&M.type&&M.type.getComposedData;ke&&X.push({props:Ye(Ye({},ke(Ye(Ye({},R),{},{displayedData:le,props:v,dataKey:O,item:M,bandSize:ae,barPosition:be,offset:N,stackedData:H,layout:L,dataStartIndex:C,dataEndIndex:k}))),{},Jt(Jt(Jt({key:M.key||"item-".concat(Q)},B,R[B]),J,R[J]),"animationId",j)),childIndex:vfe(M,v.children),item:M})}),X},p=function(v,x){var y=v.props,w=v.dataStartIndex,N=v.dataEndIndex,j=v.updateId;if(!PT({props:y}))return null;var C=y.children,k=y.layout,_=y.stackOffset,L=y.data,z=y.reverseStackOrder,D=vD(k),T=D.numericAxisName,I=D.cateAxisName,B=ws(C,n),J=C5e(L,B,"".concat(T,"Id"),"".concat(I,"Id"),_,z),U=c.reduce(function(ue,O){var V="".concat(O.axisType,"Map");return Ye(Ye({},ue),{},Jt({},V,UEe(y,Ye(Ye({},O),{},{graphicalItems:B,stackGroups:O.axisType===T&&J,dataStartIndex:w,dataEndIndex:N}))))},{}),X=HEe(Ye(Ye({},U),{},{props:y,graphicalItems:B}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(ue){U[ue]=u(y,U[ue],X,ue.replace("Map",""),r)});var M=U["".concat(I,"Map")],Q=WEe(M),le=h(y,Ye(Ye({},U),{},{dataStartIndex:w,dataEndIndex:N,updateId:j,graphicalItems:B,stackGroups:J,offset:X}));return Ye(Ye({formattedGraphicalItems:le,graphicalItems:B,offset:X,stackGroups:J},Q),U)},g=function(m){function v(x){var y,w,N;return _Ee(this,v),N=CEe(this,v,[x]),Jt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Jt(N,"accessibilityManager",new uEe),Jt(N,"handleLegendBBoxUpdate",function(j){if(j){var C=N.state,k=C.dataStartIndex,_=C.dataEndIndex,L=C.updateId;N.setState(Ye({legendBBox:j},p({props:N.props,dataStartIndex:k,dataEndIndex:_,updateId:L},Ye(Ye({},N.state),{},{legendBBox:j}))))}}),Jt(N,"handleReceiveSyncEvent",function(j,C,k){if(N.props.syncId===j){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),Jt(N,"handleBrushChange",function(j){var C=j.startIndex,k=j.endIndex;if(C!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return Ye({dataStartIndex:C,dataEndIndex:k},p({props:N.props,dataStartIndex:C,dataEndIndex:k,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:k})}}),Jt(N,"handleMouseEnter",function(j){var C=N.getMouseInfo(j);if(C){var k=Ye(Ye({},C),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var _=N.props.onMouseEnter;rr(_)&&_(k,j)}}),Jt(N,"triggeredAfterMouseMove",function(j){var C=N.getMouseInfo(j),k=C?Ye(Ye({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var _=N.props.onMouseMove;rr(_)&&_(k,j)}),Jt(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Jt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Jt(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),Jt(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var k=N.props.onMouseLeave;rr(k)&&k(C,j)}),Jt(N,"handleOuterEvent",function(j){var C=xfe(j),k=bs(N.props,"".concat(C));if(C&&rr(k)){var _,L;/.*touch.*/i.test(C)?L=N.getMouseInfo(j.changedTouches[0]):L=N.getMouseInfo(j),k((_=L)!==null&&_!==void 0?_:{},j)}}),Jt(N,"handleClick",function(j){var C=N.getMouseInfo(j);if(C){var k=Ye(Ye({},C),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var _=N.props.onClick;rr(_)&&_(k,j)}}),Jt(N,"handleMouseDown",function(j){var C=N.props.onMouseDown;if(rr(C)){var k=N.getMouseInfo(j);C(k,j)}}),Jt(N,"handleMouseUp",function(j){var C=N.props.onMouseUp;if(rr(C)){var k=N.getMouseInfo(j);C(k,j)}}),Jt(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Jt(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),Jt(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),Jt(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&o5.emit(l5,N.props.syncId,j,N.eventEmitterSymbol)}),Jt(N,"applySyncEvent",function(j){var C=N.props,k=C.layout,_=C.syncMethod,L=N.state.updateId,z=j.dataStartIndex,D=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(Ye({dataStartIndex:z,dataEndIndex:D},p({props:N.props,dataStartIndex:z,dataEndIndex:D,updateId:L},N.state)));else if(j.activeTooltipIndex!==void 0){var T=j.chartX,I=j.chartY,B=j.activeTooltipIndex,J=N.state,U=J.offset,X=J.tooltipTicks;if(!U)return;if(typeof _=="function")B=_(X,j);else if(_==="value"){B=-1;for(var M=0;M<X.length;M++)if(X[M].value===j.activeLabel){B=M;break}}var Q=Ye(Ye({},U),{},{x:U.left,y:U.top}),le=Math.min(T,Q.x+Q.width),ue=Math.min(I,Q.y+Q.height),O=X[B]&&X[B].value,V=S3(N.state,N.props.data,B),Y=X[B]?{x:k==="horizontal"?X[B].coordinate:le,y:k==="horizontal"?ue:X[B].coordinate}:YU;N.setState(Ye(Ye({},j),{},{activeLabel:O,activeCoordinate:Y,activePayload:V,activeTooltipIndex:B}))}else N.setState(j)}),Jt(N,"renderCursor",function(j){var C,k=N.state,_=k.isTooltipActive,L=k.activeCoordinate,z=k.activePayload,D=k.offset,T=k.activeTooltipIndex,I=k.tooltipAxisBandSize,B=N.getTooltipEventType(),J=(C=j.props.active)!==null&&C!==void 0?C:_,U=N.props.layout,X=j.key||"_recharts-cursor";return ve.createElement(vEe,{key:X,activeCoordinate:L,activePayload:z,activeTooltipIndex:T,chartName:r,element:j,isActive:J,layout:U,offset:D,tooltipAxisBandSize:I,tooltipEventType:B})}),Jt(N,"renderPolarAxis",function(j,C,k){var _=bs(j,"type.axisType"),L=bs(N.state,"".concat(_,"Map")),z=j.type.defaultProps,D=z!==void 0?Ye(Ye({},z),j.props):j.props,T=L&&L[D["".concat(_,"Id")]];return A.cloneElement(j,Ye(Ye({},T),{},{className:mr(_,T.className),key:j.key||"".concat(C,"-").concat(k),ticks:Gl(T,!0)}))}),Jt(N,"renderPolarGrid",function(j){var C=j.props,k=C.radialLines,_=C.polarAngles,L=C.polarRadius,z=N.state,D=z.radiusAxisMap,T=z.angleAxisMap,I=Zc(D),B=Zc(T),J=B.cx,U=B.cy,X=B.innerRadius,M=B.outerRadius;return A.cloneElement(j,{polarAngles:Array.isArray(_)?_:Gl(B,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(L)?L:Gl(I,!0).map(function(Q){return Q.coordinate}),cx:J,cy:U,innerRadius:X,outerRadius:M,key:j.key||"polar-grid",radialLines:k})}),Jt(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,C=N.props,k=C.children,_=C.width,L=C.height,z=N.props.margin||{},D=_-(z.left||0)-(z.right||0),T=kz({children:k,formattedGraphicalItems:j,legendWidth:D,legendContent:d});if(!T)return null;var I=T.item,B=pD(T,yEe);return A.cloneElement(I,Ye(Ye({},B),{},{chartWidth:_,chartHeight:L,margin:z,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Jt(N,"renderTooltip",function(){var j,C=N.props,k=C.children,_=C.accessibilityLayer,L=os(k,ca);if(!L)return null;var z=N.state,D=z.isTooltipActive,T=z.activeCoordinate,I=z.activePayload,B=z.activeLabel,J=z.offset,U=(j=L.props.active)!==null&&j!==void 0?j:D;return A.cloneElement(L,{viewBox:Ye(Ye({},J),{},{x:J.left,y:J.top}),active:U,label:B,payload:U?I:[],coordinate:T,accessibilityLayer:_})}),Jt(N,"renderBrush",function(j){var C=N.props,k=C.margin,_=C.data,L=N.state,z=L.offset,D=L.dataStartIndex,T=L.dataEndIndex,I=L.updateId;return A.cloneElement(j,{key:j.key||"_recharts-brush",onChange:w1(N.handleBrushChange,j.props.onChange),data:_,x:_t(j.props.x)?j.props.x:z.left,y:_t(j.props.y)?j.props.y:z.top+z.height+z.brushBottom-(k.bottom||0),width:_t(j.props.width)?j.props.width:z.width,startIndex:D,endIndex:T,updateId:"brush-".concat(I)})}),Jt(N,"renderReferenceElement",function(j,C,k){if(!j)return null;var _=N,L=_.clipPathId,z=N.state,D=z.xAxisMap,T=z.yAxisMap,I=z.offset,B=j.type.defaultProps||{},J=j.props,U=J.xAxisId,X=U===void 0?B.xAxisId:U,M=J.yAxisId,Q=M===void 0?B.yAxisId:M;return A.cloneElement(j,{key:j.key||"".concat(C,"-").concat(k),xAxis:D[X],yAxis:T[Q],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:L})}),Jt(N,"renderActivePoints",function(j){var C=j.item,k=j.activePoint,_=j.basePoint,L=j.childIndex,z=j.isRange,D=[],T=C.props.key,I=C.item.type.defaultProps!==void 0?Ye(Ye({},C.item.type.defaultProps),C.item.props):C.item.props,B=I.activeDot,J=I.dataKey,U=Ye(Ye({index:L,dataKey:J,cx:k.x,cy:k.y,r:4,fill:xA(C.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Kt(B,!1)),nb(B));return D.push(v.renderActiveDot(B,U,"".concat(T,"-activePoint-").concat(L))),_?D.push(v.renderActiveDot(B,Ye(Ye({},U),{},{cx:_.x,cy:_.y}),"".concat(T,"-basePoint-").concat(L))):z&&D.push(null),D}),Jt(N,"renderGraphicChild",function(j,C,k){var _=N.filterFormatItem(j,C,k);if(!_)return null;var L=N.getTooltipEventType(),z=N.state,D=z.isTooltipActive,T=z.tooltipAxis,I=z.activeTooltipIndex,B=z.activeLabel,J=N.props.children,U=os(J,ca),X=_.props,M=X.points,Q=X.isRange,le=X.baseLine,ue=_.item.type.defaultProps!==void 0?Ye(Ye({},_.item.type.defaultProps),_.item.props):_.item.props,O=ue.activeDot,V=ue.hide,Y=ue.activeBar,q=ue.activeShape,P=!!(!V&&D&&U&&(O||Y||q)),R={};L!=="axis"&&U&&U.props.trigger==="click"?R={onClick:w1(N.handleItemMouseEnter,j.props.onClick)}:L!=="axis"&&(R={onMouseLeave:w1(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:w1(N.handleItemMouseEnter,j.props.onMouseEnter)});var G=A.cloneElement(j,Ye(Ye({},_.props),R));function W(Ge){return typeof T.dataKey=="function"?T.dataKey(Ge.payload):null}if(P)if(I>=0){var H,me;if(T.dataKey&&!T.allowDuplicatedCategory){var ae=typeof T.dataKey=="function"?W:"payload.".concat(T.dataKey.toString());H=rb(M,ae,B),me=Q&&le&&rb(le,ae,B)}else H=M==null?void 0:M[I],me=Q&&le&&le[I];if(q||Y){var be=j.props.activeIndex!==void 0?j.props.activeIndex:I;return[A.cloneElement(j,Ye(Ye(Ye({},_.props),R),{},{activeIndex:be})),null,null]}if(!cr(H))return[G].concat($p(N.renderActivePoints({item:_,activePoint:H,basePoint:me,childIndex:I,isRange:Q})))}else{var te,ge=(te=N.getItemByXY(N.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:G},re=ge.graphicalItem,Oe=re.item,Pe=Oe===void 0?j:Oe,ke=re.childIndex,Le=Ye(Ye(Ye({},_.props),R),{},{activeIndex:ke});return[A.cloneElement(Pe,Le),null,null]}return Q?[G,null,null]:[G,null]}),Jt(N,"renderCustomized",function(j,C,k){return A.cloneElement(j,Ye(Ye({key:"recharts-customized-".concat(k)},N.props),N.state))}),Jt(N,"renderMap",{CartesianGrid:{handler:k1,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:k1},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:k1},YAxis:{handler:k1},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:om("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=_B(N.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return PEe(v,m),AEe(v,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,N=y.data,j=y.height,C=y.layout,k=os(w,ca);if(k){var _=k.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,z=S3(this.state,N,_,L),D=this.state.tooltipTicks[_].coordinate,T=(this.state.offset.top+j)/2,I=C==="horizontal",B=I?{x:D,y:T}:{y:D,x:T},J=this.state.formattedGraphicalItems.find(function(X){var M=X.item;return M.type.name==="Scatter"});J&&(B=Ye(Ye({},B),J.props.points[_].tooltipPosition),z=J.props.points[_].tooltipPayload);var U={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:L,activePayload:z,activeCoordinate:B};this.setState(U),this.renderCursor(k),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(y){J4([os(y.children,ca)],[os(this.props.children,ca)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=os(this.props.children,ca);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),j=qbe(N),C={chartX:Math.round(y.pageX-j.left),chartY:Math.round(y.pageY-j.top)},k=N.width/w.offsetWidth||1,_=this.inRange(C.chartX,C.chartY,k);if(!_)return null;var L=this.state,z=L.xAxisMap,D=L.yAxisMap,T=this.getTooltipEventType();if(T!=="axis"&&z&&D){var I=Zc(z).scale,B=Zc(D).scale,J=I&&I.invert?I.invert(C.chartX):null,U=B&&B.invert?B.invert(C.chartY):null;return Ye(Ye({},C),{},{xValue:J,yValue:U})}var X=gD(this.state,this.props.data,this.props.layout,_);return X?Ye(Ye({},C),X):null}},{key:"inRange",value:function(y,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,C=y/N,k=w/N;if(j==="horizontal"||j==="vertical"){var _=this.state.offset,L=C>=_.left&&C<=_.left+_.width&&k>=_.top&&k<=_.top+_.height;return L?{x:C,y:k}:null}var z=this.state,D=z.angleAxisMap,T=z.radiusAxisMap;if(D&&T){var I=Zc(D);return zO({x:C,y:k},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),N=os(y,ca),j={};N&&w==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=nb(this.props,this.handleOuterEvent);return Ye(Ye({},C),j)}},{key:"addListener",value:function(){o5.on(l5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){o5.removeListener(l5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,N){for(var j=this.state.formattedGraphicalItems,C=0,k=j.length;C<k;C++){var _=j[C];if(_.item===y||_.props.key===y.key||w===tc(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,N=w.left,j=w.top,C=w.height,k=w.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:y},ve.createElement("rect",{x:N,y:j,height:C,width:k})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,N){var j=hD(N,2),C=j[0],k=j[1];return Ye(Ye({},w),{},Jt({},C,k.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,N){var j=hD(N,2),C=j[0],k=j[1];return Ye(Ye({},w),{},Jt({},C,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,N=w.formattedGraphicalItems,j=w.activeItem;if(N&&N.length)for(var C=0,k=N.length;C<k;C++){var _=N[C],L=_.props,z=_.item,D=z.type.defaultProps!==void 0?Ye(Ye({},z.type.defaultProps),z.props):z.props,T=tc(z.type);if(T==="Bar"){var I=(L.data||[]).find(function(X){return g3e(y,X)});if(I)return{graphicalItem:_,payload:I}}else if(T==="RadialBar"){var B=(L.data||[]).find(function(X){return zO(y,X)});if(B)return{graphicalItem:_,payload:B}}else if(Rw(_,j)||Mw(_,j)||ex(_,j)){var J=ake({graphicalItem:_,activeTooltipItem:j,itemData:D.data}),U=D.activeIndex===void 0?J:D.activeIndex;return{graphicalItem:Ye(Ye({},_),{},{childIndex:U}),payload:ex(_,j)?D.data[J]:_.props.data[J]}}}return null}},{key:"render",value:function(){var y=this;if(!PT(this))return null;var w=this.props,N=w.children,j=w.className,C=w.width,k=w.height,_=w.style,L=w.compact,z=w.title,D=w.desc,T=pD(w,bEe),I=Kt(T,!1);if(L)return ve.createElement(X8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(eS,H0({},I,{width:C,height:k,title:z,desc:D}),this.renderClipPath(),DT(N,this.renderMap)));if(this.props.accessibilityLayer){var B,J;I.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,I.role=(J=this.props.role)!==null&&J!==void 0?J:"application",I.onKeyDown=function(X){y.accessibilityManager.keyboardEvent(X)},I.onFocus=function(){y.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return ve.createElement(X8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",H0({className:mr("recharts-wrapper",j),style:Ye({position:"relative",cursor:"default",width:C,height:k},_)},U,{ref:function(M){y.container=M}}),ve.createElement(eS,H0({},I,{width:C,height:k,title:z,desc:D,style:REe}),this.renderClipPath(),DT(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);return Jt(g,"displayName",r),Jt(g,"defaultProps",Ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Jt(g,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,y=m.data,w=m.children,N=m.width,j=m.height,C=m.layout,k=m.stackOffset,_=m.margin,L=v.dataStartIndex,z=v.dataEndIndex;if(v.updateId===void 0){var D=xD(m);return Ye(Ye(Ye({},D),{},{updateId:0},p(Ye(Ye({props:m},D),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:y,prevWidth:N,prevHeight:j,prevLayout:C,prevStackOffset:k,prevMargin:_,prevChildren:w})}if(x!==v.prevDataKey||y!==v.prevData||N!==v.prevWidth||j!==v.prevHeight||C!==v.prevLayout||k!==v.prevStackOffset||!qh(_,v.prevMargin)){var T=xD(m),I={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},B=Ye(Ye({},gD(v,y,C)),{},{updateId:v.updateId+1}),J=Ye(Ye(Ye({},T),I),B);return Ye(Ye(Ye({},J),p(Ye({props:m},J),v)),{},{prevDataKey:x,prevData:y,prevWidth:N,prevHeight:j,prevLayout:C,prevStackOffset:k,prevMargin:_,prevChildren:w})}if(!J4(w,v.prevChildren)){var U,X,M,Q,le=os(w,Ep),ue=le&&(U=(X=le.props)===null||X===void 0?void 0:X.startIndex)!==null&&U!==void 0?U:L,O=le&&(M=(Q=le.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&M!==void 0?M:z,V=ue!==L||O!==z,Y=!cr(y),q=Y&&!V?v.updateId:v.updateId+1;return Ye(Ye({updateId:q},p(Ye(Ye({props:m},v),{},{updateId:q,dataStartIndex:ue,dataEndIndex:O}),v)),{},{prevChildren:w,dataStartIndex:ue,dataEndIndex:O})}return null}),Jt(g,"renderActiveDot",function(m,v,x){var y;return A.isValidElement(m)?y=A.cloneElement(m,v):rr(m)?y=m(v):y=ve.createElement(Ow,v),ve.createElement(Or,{className:"recharts-active-dot",key:x},y)}),function(v){return ve.createElement(g,v)}},Hw=CA({chartName:"LineChart",GraphicalChild:mc,axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:xc}],formatAxisMap:gU}),GEe=CA({chartName:"BarChart",GraphicalChild:jf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:xc}],formatAxisMap:gU}),Ud=CA({chartName:"PieChart",GraphicalChild:fi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Iw},{axisType:"radiusAxis",AxisComp:Fw}],formatAxisMap:B5e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const KEe=[{id:1,name:"مركز صحي الملز",code:"RC001",location:"حي الملز",sector:"الرياض",type:"الرياض - مراكز شرق",category:"مركز صحي",totalClinics:8,working:7,outOfOrder:1,notWorking:0,status:"نشطة"},{id:2,name:"مستشفى الملك فهد",code:"KFH001",location:"شمال الرياض",sector:"الرياض",type:"الرياض - مستشفى",category:"مستشفى",totalClinics:25,working:23,outOfOrder:1,notWorking:1,status:"نشطة"},{id:3,name:"مركز الزلفي الصحي",code:"ZC001",location:"الزلفي",sector:"الزلفي",type:"مركز صحي",category:"مركز صحي",totalClinics:12,working:11,outOfOrder:0,notWorking:1,status:"غير نشطة"}],yD=["الرياض","الزلفي","رماح","حوطة سدير","تمير","الغاط","المجمعة","الأرطاوية"];function XEe(){const[e,t]=A.useState(""),[r,n]=A.useState(""),[a,s]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState(null),[u,f]=A.useState(!1),[h,p]=A.useState(!0),[g,m]=A.useState("all"),{toast:v}=jn(),[x,y]=A.useState({name:"",code:"",sector:"",status:"نشطة",category:"",totalClinics:"",workingClinics:"",outOfOrderClinics:"",notWorkingClinics:"",facilityEmail:"",facilityPhone:"",facilityLocation:"",managerName:"",managerEmail:"",managerPhone:"",medicalDirectorName:"",medicalDirectorEmail:"",medicalDirectorPhone:"",contact:"",manager:"",medical_director:"",location:"",clinics:[],number:"",imageBase64:""}),[w,N]=A.useState(null),[j,C]=A.useState("");A.useEffect(()=>{(async()=>{try{p(!0),console.log("🔄 Loading dashboard data from API...");const[H,me,ae]=await Promise.all([Xv.getDashboardData(),Xv.getFacilities(),Xv.getRecentReports()]);console.log("✅ API data loaded successfully:",{dashboard:H.data,facilities:me.data,reports:ae.data}),d(H.data),s(me.data||[]),l(ae.data||[]),v({title:"تم تحميل البيانات من الخادم",description:"تم تحميل جميع بيانات لوحة التحكم بنجاح من الـ API"})}catch(H){console.error("❌ Error loading dashboard data:",H),console.log("🔄 Falling back to mock data..."),v({title:"تعذر الاتصال بالخادم",description:"سيتم استخدام البيانات التجريبية حتى يصبح الخادم متاحاً",variant:"destructive"}),s(KEe),l(lM.slice(0,5)),d({total_clinics:150,working_clinics:135,not_working_clinics:10,out_of_order_clinics:5,total_facilities:12})}finally{p(!1)}})()},[v]);const k=W=>{const H=W.target.files[0];if(H){N(H);const me=new FileReader;me.onload=be=>{C(be.target.result)},me.readAsDataURL(H);const ae=new FileReader;ae.onload=be=>{const te=be.target.result;y({...x,imageBase64:te})},ae.readAsDataURL(H)}},_=()=>{N(null),C(""),y({...x,imageBase64:""})},L=W=>!W||W.length===0?{total_clinics:(c==null?void 0:c.total_clinics)||150,working_clinics:(c==null?void 0:c.working_clinics)||135,not_working_clinics:(c==null?void 0:c.not_working_clinics)||10,out_of_order_clinics:(c==null?void 0:c.out_of_order_clinics)||5,total_facilities:(c==null?void 0:c.total_facilities)||5}:W.reduce((H,me)=>(H.total_clinics+=parseInt(me.totalClinics)||0,H.working_clinics+=parseInt(me.workingClinics||me.working)||0,H.not_working_clinics+=parseInt(me.notWorkingClinics||me.notWorking)||0,H.out_of_order_clinics+=parseInt(me.outOfOrderClinics||me.outOfOrder)||0,H),{total_clinics:0,working_clinics:0,not_working_clinics:0,out_of_order_clinics:0,total_facilities:W.length}),z=W=>!W||W.length===0?{active:0,inactive:0}:W.reduce((H,me)=>(me.status==="نشطة"?H.active++:me.status==="غير نشطة"&&H.inactive++,H),{active:0,inactive:0}),D=(c==null?void 0:c.total_clinics)||150,T=(c==null?void 0:c.working_clinics)||135,I=(c==null?void 0:c.not_working_clinics)||10,B=(c==null?void 0:c.out_of_order_clinics)||5,J=(c==null?void 0:c.total_facilities)||a.length;[...new Set(a.map(W=>typeof W.category=="string"?W.category.trim().toLowerCase():W.category))].filter(Boolean);const U=a.filter(W=>{const H=!e||e==="all-sectors"||W.sector===e,me=!r||r==="all-categories"||W.category===r;let ae=!0;switch(g){case"working":ae=(parseInt(W.workingClinics||W.working)||0)>0;break;case"not-working":ae=(parseInt(W.notWorkingClinics||W.notWorking)||0)>0;break;case"out-of-order":ae=(parseInt(W.outOfOrderClinics||W.outOfOrder)||0)>0;break;case"active-facilities":ae=W.status==="نشطة";break;case"inactive-facilities":ae=W.status==="غير نشطة";break;default:ae=!0}return H&&me&&ae}),X=L(U),M=z(e&&e!=="all-sectors"||r&&r!=="all-categories"||g!=="all"?U:a),Q=U.reduce((W,H)=>(W[H.sector]||(W[H.sector]={}),W[H.sector][H.category||H.type]||(W[H.sector][H.category||H.type]={count:0,clinics:0}),W[H.sector][H.category||H.type].count++,W[H.sector][H.category||H.type].clinics+=parseInt(H.totalClinics)||0,W),{}),le=()=>{const W=new Date().toLocaleDateString("ar-SA"),H=new Date().toLocaleTimeString("ar-SA"),me=U.length,ae=U.reduce((ke,Le)=>ke+(parseInt(Le.totalClinics)||0),0),be=U.reduce((ke,Le)=>ke+(parseInt(Le.workingClinics||Le.working)||0),0),te=U.reduce((ke,Le)=>ke+(parseInt(Le.outOfOrderClinics||Le.outOfOrder)||0),0),ge=U.reduce((ke,Le)=>ke+(parseInt(Le.notWorkingClinics||Le.notWorking)||0),0),re=U.map((ke,Le)=>`
    <tr>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${Le+1}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.name}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.code}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.sector}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.category}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.status}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.totalClinics}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px; color: #22c55e; font-weight: bold;">${ke.workingClinics||ke.working}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px; color: #f59e0b; font-weight: bold;">${ke.outOfOrderClinics||ke.outOfOrder}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px; color: #ef4444; font-weight: bold;">${ke.notWorkingClinics||ke.notWorking}</td>
      <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.location||ke.facilityLocation||"غير محدد"}</td>
    </tr>
  `).join(""),Oe=`
    <!DOCTYPE html>
    <html dir="rtl" lang="ar">
    <head>
      <meta charset="UTF-8">
      <title>تقرير قائمة المنشآت الصحية</title>
      <style>
        body {
          font-family: 'Arial', sans-serif;
          margin: 15px;
          direction: rtl;
          background: white;
          font-size: 12px;
        }
        .header {
          text-align: center;
          border-bottom: 3px solid #2563eb;
          padding-bottom: 15px;
          margin-bottom: 20px;
        }
        .header h1 {
          color: #2563eb;
          margin: 0;
          font-size: 24px;
          font-weight: bold;
        }
        .header h2 {
          color: #64748b;
          margin: 8px 0;
          font-size: 14px;
          font-weight: normal;
        }
        .stats-section {
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 15px;
          margin-bottom: 20px;
        }
        .stats-title {
          color: #1e293b;
          font-size: 16px;
          font-weight: bold;
          margin-bottom: 10px;
          text-align: center;
        }
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(5, 1fr);
          gap: 10px;
          text-align: center;
        }
        .stat-item {
          background: white;
          padding: 10px;
          border-radius: 6px;
          border: 1px solid #e2e8f0;
        }
        .stat-label {
          font-size: 10px;
          color: #64748b;
          margin-bottom: 4px;
        }
        .stat-value {
          font-size: 16px;
          font-weight: bold;
          color: #1e293b;
        }
        .filter-info {
          background: #eff6ff;
          border: 1px solid #dbeafe;
          border-radius: 6px;
          padding: 10px;
          margin-bottom: 15px;
          text-align: center;
          font-size: 12px;
          color: #1e40af;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 15px;
          font-size: 9px;
          page-break-inside: auto;
        }
        th {
          background-color: #f1f5f9;
          font-weight: bold;
          color: #1e293b;
          padding: 6px;
          border: 1px solid #cbd5e1;
          text-align: center;
          font-size: 9px;
          white-space: nowrap;
        }
        td {
          padding: 4px;
          border: 1px solid #e2e8f0;
          text-align: center;
          font-size: 9px;
        }
        tr:nth-child(even) {
          background-color: #fafafa;
        }
        tr:hover {
          background-color: #f0f9ff;
        }
        .footer {
          margin-top: 20px;
          text-align: center;
          color: #64748b;
          font-size: 10px;
          border-top: 1px solid #e2e8f0;
          padding-top: 10px;
        }
        @media print {
          body { 
            margin: 0; 
            font-size: 8px; 
          }
          .stats-grid { 
            grid-template-columns: repeat(2, 1fr); 
          }
          table { 
            font-size: 7px; 
          }
          th, td { 
            padding: 3px; 
            font-size: 7px;
          }
          .header h1 {
            font-size: 18px;
          }
          .stats-title {
            font-size: 12px;
          }
        }
        /* Status badges */
        .status-active {
          color: #22c55e;
          font-weight: bold;
        }
        .status-inactive {
          color: #ef4444;
          font-weight: bold;
        }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>تقرير قائمة المنشآت الصحية</h1>
        <h2>نظام إدارة عيادات الأسنان - تجمع الرياض الصحي الثاني</h2>
        <h2>تاريخ التقرير: ${W} - الساعة: ${H}</h2>
      </div>

      <div class="filter-info">
        <strong>الفلاتر المطبقة:</strong>
        القطاع: ${e||"جميع القطاعات"} | 
        التصنيف: ${r||"جميع التصنيفات"} | 
        الفلتر النشط: ${g==="all"?"جميع المنشآت":g}
      </div>

      <div class="stats-section">
        <div class="stats-title">ملخص الإحصائيات</div>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-label">عدد المنشآت</div>
            <div class="stat-value">${me}</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">مجموع العيادات</div>
            <div class="stat-value">${ae}</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">العيادات العاملة</div>
            <div class="stat-value" style="color: #22c55e;">${be}</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">العيادات المكهنة</div>
            <div class="stat-value" style="color: #f59e0b;">${te}</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">العيادات التي لا تعمل</div>
            <div class="stat-value" style="color: #ef4444;">${ge}</div>
          </div>
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th style="width: 5%;">م</th>
            <th style="width: 20%;">اسم المنشأة</th>
            <th style="width: 10%;">رمز المنشأة</th>
            <th style="width: 10%;">القطاع</th>
            <th style="width: 10%;">التصنيف</th>
            <th style="width: 8%;">الحالة</th>
            <th style="width: 8%;">مجموع العيادات</th>
            <th style="width: 8%;">تعمل</th>
            <th style="width: 8%;">مكهن</th>
            <th style="width: 8%;">لا تعمل</th>
            <th style="width: 15%;">الموقع</th>
          </tr>
        </thead>
        <tbody>
          ${re}
        </tbody>
      </table>

      <div class="footer">
        <p><strong>نظام إدارة المستودعات الطبية</strong></p>
        <p>عدد السجلات: ${me} منشأة | تم إنشاء التقرير: ${W} ${H}</p>
        <p>هذا التقرير يحتوي على معلومات سرية ومخصص للاستخدام الرسمي فقط</p>
      </div>
    </body>
    </html>
  `,Pe=window.open("","_blank");Pe?(Pe.document.write(Oe),Pe.document.close(),Pe.focus(),setTimeout(()=>{Pe.print()},500),v({title:"تم إنشاء التقرير",description:"تم فتح نافذة الطباعة، يمكنك الآن الطباعة أو حفظ كـ PDF"})):v({title:"خطأ",description:"لم يتمكن من فتح نافذة الطباعة. تأكد من عدم حظر النوافط المنبثقة",variant:"destructive"})},ue=()=>{const W=U.length,H=U.reduce((ke,Le)=>ke+(parseInt(Le.totalClinics)||0),0),me=U.reduce((ke,Le)=>ke+(parseInt(Le.workingClinics||Le.working)||0),0),ae=U.reduce((ke,Le)=>ke+(parseInt(Le.outOfOrderClinics||Le.outOfOrder)||0),0),be=U.reduce((ke,Le)=>ke+(parseInt(Le.notWorkingClinics||Le.notWorking)||0),0),te=[{البيان:"عدد المنشآت",القيمة:W},{البيان:"مجموع العيادات",القيمة:H},{البيان:"العيادات العاملة",القيمة:me},{البيان:"العيادات المكهنة",القيمة:ae},{البيان:"العيادات التي لا تعمل",القيمة:be}],ge=U.map((ke,Le)=>({الرقم:Le+1,"اسم المنشأة":ke.name,"رمز المنشأة":ke.code,القطاع:ke.sector,التصنيف:ke.category,الحالة:ke.status,"مجموع العيادات":ke.totalClinics,"العيادات العاملة":ke.workingClinics||ke.working,"العيادات المكهنة":ke.outOfOrderClinics||ke.outOfOrder,"العيادات التي لا تعمل":ke.notWorkingClinics||ke.notWorking,الموقع:ke.location||ke.facilityLocation,"رقم الاتصال":ke.facilityPhone,"البريد الإلكتروني":ke.facilityEmail})),re=fr.book_new(),Oe=fr.json_to_sheet(te);fr.book_append_sheet(re,Oe,"ملخص الإحصائيات");const Pe=fr.json_to_sheet(ge);fr.book_append_sheet(re,Pe,"المنشآت"),sl(re,"facilities-list.xlsx"),v({title:"تم تصدير Excel",description:"تم تصدير قائمة المنشآت بصيغة Excel بنجاح"})},O=()=>{const W=new Date().toLocaleDateString("ar-SA"),H=new Date().toLocaleTimeString("ar-SA"),me=U.length,ae=U.reduce((ke,Le)=>ke+(parseInt(Le.totalClinics)||0),0),be=U.reduce((ke,Le)=>ke+(parseInt(Le.workingClinics||Le.working)||0),0),te=U.reduce((ke,Le)=>ke+(parseInt(Le.outOfOrderClinics||Le.outOfOrder)||0),0),ge=U.reduce((ke,Le)=>ke+(parseInt(Le.notWorkingClinics||Le.notWorking)||0),0),re=U.map((ke,Le)=>`
      <tr>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${Le+1}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.name}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.code}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.sector}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.category}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.status}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.totalClinics}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px; color: #22c55e; font-weight: bold;">${ke.workingClinics||ke.working}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px; color: #f59e0b; font-weight: bold;">${ke.outOfOrderClinics||ke.outOfOrder}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px; color: #ef4444; font-weight: bold;">${ke.notWorkingClinics||ke.notWorking}</td>
        <td style="padding: 6px; border: 1px solid #ddd; text-align: center; font-size: 10px;">${ke.location||ke.facilityLocation||"غير محدد"}</td>
      </tr>
    `).join(""),Oe=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>تقرير قائمة المنشآت الصحية</title>
        <style>
          @media print {
            @page { margin: 15mm; }
          }
          body {
            font-family: 'Arial', sans-serif;
            margin: 15px;
            direction: rtl;
            background: white;
            font-size: 12px;
          }
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 15px;
            margin-bottom: 20px;
          }
          .header h1 {
            color: #2563eb;
            margin: 0;
            font-size: 24px;
            font-weight: bold;
          }
          .header h2 {
            color: #64748b;
            margin: 8px 0;
            font-size: 14px;
            font-weight: normal;
          }
          .stats-section {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
          }
          .stats-title {
            color: #1e293b;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
          }
          .stats-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            text-align: center;
          }
          .stat-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
          }
          .stat-label {
            font-size: 10px;
            color: #64748b;
            margin-bottom: 4px;
          }
          .stat-value {
            font-size: 16px;
            font-weight: bold;
            color: #1e293b;
          }
          .filter-info {
            background: #eff6ff;
            border: 1px solid #dbeafe;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 12px;
            color: #1e40af;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 9px;
          }
          th {
            background-color: #f1f5f9;
            font-weight: bold;
            color: #1e293b;
            padding: 6px;
            border: 1px solid #cbd5e1;
            text-align: center;
            font-size: 9px;
          }
          td {
            padding: 4px;
            border: 1px solid #e2e8f0;
            text-align: center;
            font-size: 9px;
          }
          tr:nth-child(even) {
            background-color: #fafafa;
          }
          .footer {
            margin-top: 20px;
            text-align: center;
            color: #64748b;
            font-size: 10px;
            border-top: 1px solid #e2e8f0;
            padding-top: 10px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>تقرير قائمة المنشآت الصحية</h1>
          <h2>نظام إدارة عيادات الأسنان - تجمع الرياض الصحي الثاني</h2>
          <h2>تاريخ التقرير: ${W} - الساعة: ${H}</h2>
        </div>

        <div class="filter-info">
          <strong>الفلاتر المطبقة:</strong>
          القطاع: ${e||"جميع القطاعات"} | 
          التصنيف: ${r||"جميع التصنيفات"} | 
          الفلتر النشط: ${g==="all"?"جميع المنشآت":g}
        </div>

        <div class="stats-section">
          <div class="stats-title">ملخص الإحصائيات</div>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-label">عدد المنشآت</div>
              <div class="stat-value">${me}</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">مجموع العيادات</div>
              <div class="stat-value">${ae}</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">العيادات العاملة</div>
              <div class="stat-value" style="color: #22c55e;">${be}</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">العيادات المكهنة</div>
              <div class="stat-value" style="color: #f59e0b;">${te}</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">العيادات التي لا تعمل</div>
              <div class="stat-value" style="color: #ef4444;">${ge}</div>
            </div>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 5%;">م</th>
              <th style="width: 20%;">اسم المنشأة</th>
              <th style="width: 10%;">رمز المنشأة</th>
              <th style="width: 10%;">القطاع</th>
              <th style="width: 10%;">التصنيف</th>
              <th style="width: 8%;">الحالة</th>
              <th style="width: 8%;">مجموع العيادات</th>
              <th style="width: 8%;">تعمل</th>
              <th style="width: 8%;">مكهن</th>
              <th style="width: 8%;">لا تعمل</th>
              <th style="width: 15%;">الموقع</th>
            </tr>
          </thead>
          <tbody>
            ${re}
          </tbody>
        </table>

        <div class="footer">
          <p><strong>نظام إدارة المستودعات الطبية</strong></p>
          <p>عدد السجلات: ${me} منشأة | تم إنشاء التقرير: ${W} ${H}</p>
          <p>هذا التقرير يحتوي على معلومات سرية ومخصص للاستخدام الرسمي فقط</p>
        </div>
      </body>
      </html>
    `,Pe=window.open("","_blank");Pe?(Pe.document.write(Oe),Pe.document.close(),Pe.focus(),setTimeout(()=>{Pe.print()},500),v({title:"جاهز للطباعة",description:"تم فتح نافذة الطباعة بنجاح"})):v({title:"خطأ",description:"لم يتمكن من فتح نافذة الطباعة. تأكد من عدم حظر النوافط المنبثقة",variant:"destructive"})},V=async()=>{try{document.fonts&&document.fonts.ready&&await document.fonts.ready;const W=document.createElement("canvas");W.width=1400,W.height=1800;const H=W.getContext("2d");if(!H)throw new Error("Canvas not supported");H.direction="rtl";const me=(fe,tt,wt,dr=48,xt="#1e293b",Xt="center",It="bold")=>{H.fillStyle=xt,H.textAlign=Xt,H.textBaseline="middle",H.font=`${It} ${dr}px Amiri, Arial, Tahoma, sans-serif`,H.fillText(fe,tt,wt)},ae=(fe,tt,wt,dr,xt,Xt="#e2e8f0",It="#ffffff",Ar=3)=>{H.lineWidth=Ar,H.strokeStyle=Xt,H.fillStyle=It,H.beginPath(),H.moveTo(fe+xt,tt),H.arcTo(fe+wt,tt,fe+wt,tt+dr,xt),H.arcTo(fe+wt,tt+dr,fe,tt+dr,xt),H.arcTo(fe,tt+dr,fe,tt,xt),H.arcTo(fe,tt,fe+wt,tt,xt),H.closePath(),H.fill(),H.stroke()};H.fillStyle="#ffffff",H.fillRect(0,0,W.width,W.height),H.strokeStyle="#2563eb",H.lineWidth=6,H.beginPath(),H.moveTo(100,180),H.lineTo(W.width-100,180),H.stroke(),me("مؤشر حالة العيادات",W.width/2,110,64,"#2563eb"),me("نظام إدارة عيادات الأسنان - تجمع الرياض الصحي الثاني",W.width/2,200,36,"#64748b","center","normal");const be=new Date;me(`تاريخ التقرير: ${be.toLocaleDateString("en-US")} - الساعة: ${be.toLocaleTimeString("en-US")}`,W.width/2,250,32,"#64748b","center","normal"),ae(100,300,W.width-200,520,20,"#e2e8f0","#f8fafc",2);const te=W.width/2,ge=720,re=260,Oe=50;H.lineCap="round",H.lineWidth=Oe,H.strokeStyle="#e5e7eb",H.beginPath(),H.arc(te,ge,re,Math.PI,0,!1),H.stroke();const Pe=T/D*100,ke=B/D*100,Le=Math.max(0,100-(Pe+ke));let Ge=Math.PI;const ut=(fe,tt)=>{if(fe<=0)return;const wt=fe/100*Math.PI;H.strokeStyle=tt,H.beginPath(),H.arc(te,ge,re,Ge,Ge+wt,!1),H.stroke(),Ge+=wt};ut(Pe,"#22c55e"),ut(ke,"#f59e0b"),ut(Le,"#ef4444"),me(String(D),te,ge-40,86,"#1e293b");const bt=te+360,Ct=520,Dt=(fe,tt,wt,dr)=>{H.fillStyle=tt,H.fillRect(bt,fe-14,24,24),me(`${wt} (${dr})`,bt-16,fe,32,"#64748b","right","normal")};Dt(Ct+0,"#22c55e","العيادات العاملة",`${Pe.toFixed(1)}%`),Dt(Ct+40,"#f59e0b","العيادات المكهنة",`${ke.toFixed(1)}%`),Dt(Ct+80,"#ef4444","العيادات غير المفعلة",`${Le.toFixed(1)}%`),ae(100,860,W.width-200,560,20,"#e2e8f0","#f8fafc",2);const ce=(W.width-200-60)/2;ae(130,890,ce,250,16,"#93c5fd","#eef2ff",3),me("مجموع العيادات الكلي",130+ce/2,950,28,"#64748b","center","normal"),me(String(D),130+ce/2,1020,56,"#1e293b"),me("100%",130+ce/2,1080,24,"#64748b","center","normal"),ae(160+ce,890,ce,250,16,"#86efac","#ffffff",3),me("العيادات العاملة",160+ce+ce/2,950,28,"#22c55e","center","normal"),me(String(T),160+ce+ce/2,1020,48,"#22c55e"),me(`${Pe.toFixed(1)}%`,160+ce+ce/2,1080,24,"#64748b","center","normal"),ae(130,1170,ce,250,16,"#fcd34d","#ffffff",3),me("العيادات المكهنة",130+ce/2,1230,28,"#f59e0b","center","normal"),me(String(B),130+ce/2,1300,48,"#f59e0b"),me(`${ke.toFixed(1)}%`,130+ce/2,1360,24,"#64748b","center","normal"),ae(160+ce,1170,ce,250,16,"#fca5a5","#ffffff",3),me("العيادات غير المفعلة",160+ce+ce/2,1230,28,"#ef4444","center","normal"),me(String(I),160+ce+ce/2,1300,48,"#ef4444"),me(`${Le.toFixed(1)}%`,160+ce+ce/2,1360,24,"#64748b","center","normal");const Je=W.toDataURL("image/png"),ct=new qt({orientation:"portrait",unit:"mm",format:"a4"}),ft=ct.internal.pageSize.getWidth(),gt=10,ze=ft-gt*2,Xe=W.height/W.width*ze;ct.addImage(Je,"PNG",gt,10,ze,Xe),ct.save("clinic-status-report.pdf"),v({title:"تم تصدير PDF",description:"تم تصدير مؤشر حالة العيادات بنجاح"})}catch(W){console.error("Error exporting PDF:",W),v({title:"خطأ",description:"فشل في تصدير PDF",variant:"destructive"})}},Y=()=>{const W=(T/D*100).toFixed(1),H=(B/D*100).toFixed(1),me=(I/D*100).toFixed(1),ae=[{البيان:"مجموع العيادات الكلي",العدد:D,"النسبة المئوية":"100%"},{البيان:"العيادات العاملة",العدد:T,"النسبة المئوية":`${W}%`},{البيان:"العيادات المكهنة",العدد:B,"النسبة المئوية":`${H}%`},{البيان:"العيادات غير المفعلة",العدد:I,"النسبة المئوية":`${me}%`}],be=fr.json_to_sheet(ae),te=fr.book_new();fr.book_append_sheet(te,be,"مؤشر حالة العيادات"),sl(te,"clinic-status-report.xlsx"),v({title:"تم تصدير Excel",description:"تم تصدير مؤشر حالة العيادات بصيغة Excel بنجاح"})},q=async()=>{document.fonts&&document.fonts.ready&&await document.fonts.ready;const W=T/D*100,H=B/D*100,me=Math.max(0,100-(W+H)),ae=document.createElement("canvas");ae.width=1400,ae.height=1800;const be=ae.getContext("2d");if(!be)return;be.direction="rtl";const te=(ze,Xe,fe,tt=48,wt="#1e293b",dr="center",xt="bold")=>{be.fillStyle=wt,be.textAlign=dr,be.textBaseline="middle",be.font=`${xt} ${tt}px Amiri, Arial, Tahoma, sans-serif`,be.fillText(ze,Xe,fe)},ge=(ze,Xe,fe,tt,wt,dr="#e2e8f0",xt="#ffffff",Xt=3)=>{be.lineWidth=Xt,be.strokeStyle=dr,be.fillStyle=xt,be.beginPath(),be.moveTo(ze+wt,Xe),be.arcTo(ze+fe,Xe,ze+fe,Xe+tt,wt),be.arcTo(ze+fe,Xe+tt,ze,Xe+tt,wt),be.arcTo(ze,Xe+tt,ze,Xe,wt),be.arcTo(ze,Xe,ze+fe,Xe,wt),be.closePath(),be.fill(),be.stroke()};be.fillStyle="#ffffff",be.fillRect(0,0,ae.width,ae.height),be.strokeStyle="#2563eb",be.lineWidth=6,be.beginPath(),be.moveTo(100,180),be.lineTo(ae.width-100,180),be.stroke(),te("مؤشر حالة العيادات",ae.width/2,110,64,"#2563eb"),te("نظام إدارة عيادات الأسنان - تجمع الرياض الصحي الثاني",ae.width/2,200,36,"#64748b","center","normal");const re=new Date;te(`تاريخ التقرير: ${re.toLocaleDateString("en-US")} - الساعة: ${re.toLocaleTimeString("en-US")}`,ae.width/2,250,32,"#64748b","center","normal"),ge(100,300,ae.width-200,520,20,"#e2e8f0","#f8fafc",2);const Oe=ae.width/2,Pe=720,ke=260,Le=50;be.lineCap="round",be.lineWidth=Le,be.strokeStyle="#e5e7eb",be.beginPath(),be.arc(Oe,Pe,ke,Math.PI,0,!1),be.stroke();let Ge=Math.PI;const ut=(ze,Xe)=>{if(ze<=0)return;const fe=ze/100*Math.PI;be.strokeStyle=Xe,be.beginPath(),be.arc(Oe,Pe,ke,Ge,Ge+fe,!1),be.stroke(),Ge+=fe};ut(W,"#22c55e"),ut(H,"#f59e0b"),ut(me,"#ef4444"),te(String(D),Oe,Pe-90,86,"#1e293b");const bt=Oe+360,Ct=520,Dt=(ze,Xe,fe,tt)=>{be.fillStyle=Xe,be.fillRect(bt,ze-14,24,24),te(`${fe} (${tt})`,bt-16,ze,32,"#64748b","right","normal")};Dt(Ct+0,"#22c55e","العيادات العاملة",`${W.toFixed(1)}%`),Dt(Ct+40,"#f59e0b","العيادات المكهنة",`${H.toFixed(1)}%`),Dt(Ct+80,"#ef4444","العيادات غير المفعلة",`${me.toFixed(1)}%`),ge(100,860,ae.width-200,560,20,"#e2e8f0","#f8fafc",2);const ce=(ae.width-200-60)/2;ge(130,890,ce,250,16,"#93c5fd","#eef2ff",3),te("مجموع العيادات الكلي",130+ce/2,950,28,"#64748b","center","normal"),te(String(D),130+ce/2,1020,56,"#1e293b"),te("100%",130+ce/2,1080,24,"#64748b","center","normal"),ge(160+ce,890,ce,250,16,"#86efac","#ffffff",3),te("العيادات العاملة",160+ce+ce/2,950,28,"#22c55e","center","normal"),te(String(T),160+ce+ce/2,1020,48,"#22c55e"),te(`${W.toFixed(1)}%`,160+ce+ce/2,1080,24,"#64748b","center","normal"),ge(130,1170,ce,250,16,"#fcd34d","#ffffff",3),te("العيادات المكهنة",130+ce/2,1230,28,"#f59e0b","center","normal"),te(String(B),130+ce/2,1300,48,"#f59e0b"),te(`${H.toFixed(1)}%`,130+ce/2,1360,24,"#64748b","center","normal"),ge(160+ce,1170,ce,250,16,"#fca5a5","#ffffff",3),te("العيادات غير المفعلة",160+ce+ce/2,1230,28,"#ef4444","center","normal"),te(String(I),160+ce+ce/2,1300,48,"#ef4444"),te(`${me.toFixed(1)}%`,160+ce+ce/2,1360,24,"#64748b","center","normal");const Je=ae.toDataURL("image/png"),ct=new Date().toLocaleDateString("en-US"),ft=new Date().toLocaleTimeString("en-US"),gt=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>مؤشر حالة العيادات</title>
        <style>
          @media print { @page { margin: 15mm; } }
          body { margin: 0; padding: 15px; background: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          .img-wrap { text-align: center; }
          img { max-width: 100%; height: auto; }
          .footer { margin-top: 10px; text-align: center; color: #64748b; font-size: 12px; }
        </style>
      </head>
      <body>
        <div class="img-wrap">
          <img src="${Je}" alt="Clinic status indicator" />
        </div>
        <div class="footer">
          <p><strong>نظام إدارة عيادات الأسنان</strong></p>
          <p>تم إنشاء التقرير: ${ct} ${ft}</p>
        </div>
      </body>
      </html>
    `,he=window.open("","_blank");he?(he.document.write(gt),he.document.close(),he.focus(),setTimeout(()=>{he.print()},500),v({title:"جاهز للطباعة",description:"تم فتح نافذة الطباعة بنجاح"})):v({title:"خطأ",description:"لم يتمكن من فتح نافذة الطباعة. تأكد من عدم حظر النوافط المنبثقة",variant:"destructive"})},P=[{name:"العيادات العاملة",value:T,color:"#22c55e"},{name:"العيادات المكهنة",value:B,color:"#f59e0b"},{name:"العيادات غير المفعلة",value:I,color:"#ef4444"}],R=async()=>{var W;if(x.name&&x.code)try{console.log("🔄 Adding new facility via API...",x);const H=await Xv.registerFacility(x);console.log("✅ Facility added successfully:",H.data);const me={...x,id:((W=H.data)==null?void 0:W.id)||Date.now()};s([...a,me]),y({name:"",code:"",sector:"",status:"نشطة",category:"",totalClinics:"",workingClinics:"",outOfOrderClinics:"",notWorkingClinics:"",facilityEmail:"",facilityPhone:"",facilityLocation:"",managerName:"",managerEmail:"",managerPhone:"",medicalDirectorName:"",medicalDirectorEmail:"",medicalDirectorPhone:"",contact:"",manager:"",medical_director:"",location:"",clinics:[],number:"",imageBase64:""}),N(null),C(""),f(!1),v({title:"تم حفظ المنشأة عبر الـ API",description:"تم تسجيل المنشأة الجديدة بنجاح في قاعدة البيانات"})}catch(H){console.error("❌ Error adding facility via API:",H),console.log("🔄 Adding facility locally as fallback...");const me={...x,id:Date.now()};s([...a,me]),y({name:"",code:"",sector:"",status:"نشطة",category:"",totalClinics:"",workingClinics:"",outOfOrderClinics:"",notWorkingClinics:"",facilityEmail:"",facilityPhone:"",facilityLocation:"",managerName:"",managerEmail:"",managerPhone:"",medicalDirectorName:"",medicalDirectorEmail:"",medicalDirectorPhone:"",contact:"",manager:"",medical_director:"",location:"",clinics:[],number:"",imageBase64:""}),N(null),C(""),f(!1),v({title:"تم حفظ المنشأة محلياً",description:"تعذر الاتصال بالخادم، تم الحفظ محلياً",variant:"destructive"})}},G=()=>{const[W,H]=A.useState(!1),[me,ae]=A.useState(!1),be=async()=>{try{ae(!0);const te=localStorage.getItem("admin_token")?"admin":"staff";await ZQ(te),v({title:"تم تسجيل الخروج بنجاح",description:"تم تسجيل خروجك من النظام"}),window.location.href="/login"}catch(te){console.error("Logout error:",te),v({title:"خطأ في تسجيل الخروج",description:te.message||"حدث خطأ أثناء تسجيل الخروج",variant:"destructive"}),setTimeout(()=>{window.location.href="/login"},2e3)}finally{ae(!1),H(!1)}};return i.jsxs(Na,{open:W,onOpenChange:H,children:[i.jsx(xg,{asChild:!0,children:i.jsxs(mt,{variant:"outline",size:"sm",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 p-2 sm:px-3 sm:py-2",children:[i.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013 3v1"})}),i.jsx("span",{className:"hidden sm:inline mr-2",children:"تسجيل الخروج"})]})}),i.jsxs(da,{className:"max-w-md",children:[i.jsx(ua,{children:i.jsx(fa,{className:"text-right",children:"تأكيد تسجيل الخروج"})}),i.jsxs("div",{className:"text-right space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"هل أنت متأكد من أنك تريد تسجيل الخروج من النظام؟"}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(mt,{variant:"outline",onClick:()=>H(!1),disabled:me,children:"إلغاء"}),i.jsx(mt,{onClick:be,disabled:me,className:"bg-red-600 hover:bg-red-700",children:me?"جارٍ تسجيل الخروج...":"تسجيل الخروج"})]})]})]})]})};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-lg p-4 sm:p-6 text-primary-foreground shadow-lg",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2",children:"لوحة التحكم الرئيسية"}),i.jsx("p",{className:"text-primary-foreground/90 text-sm sm:text-base",children:"لوحة تحكم خاصة لجميع عيادات الأسنان بتجمع الرياض الصحي الثاني"})]}),i.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center gap-2",children:[i.jsx("div",{className:"hidden sm:flex items-center gap-2 text-xs sm:text-sm",children:i.jsx("span",{className:"bg-white/20 px-2 sm:px-3 py-1 rounded-full",children:"مرحباً بك"})}),i.jsx("div",{className:"relative group",children:i.jsx(G,{})})]})]})}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Ay,{className:"h-5 w-5"}),"مؤشر حالة العيادات"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{onClick:()=>V(),variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(za,{className:"h-4 w-4"}),"PDF"]}),i.jsxs(mt,{onClick:()=>Y(),variant:"outline",size:"sm",className:"gap-2",children:[i.jsx($i,{className:"h-4 w-4"}),"Excel"]}),i.jsxs(mt,{onClick:()=>q(),variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(un,{className:"h-4 w-4"}),"طباعة"]})]})]})}),i.jsx(ot,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[i.jsx("div",{className:"w-full lg:w-1/2 h-64",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Ud,{children:[i.jsx(fi,{data:P,cx:"50%",cy:"50%",startAngle:180,endAngle:0,innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:P.map((W,H)=>i.jsx(Ro,{fill:W.color},`cell-${H}`))}),i.jsx(Uu,{})]})})}),i.jsxs("div",{className:"w-full lg:w-1/2 space-y-4",children:[i.jsxs("div",{className:"text-center lg:text-right",children:[i.jsx("h3",{className:"text-2xl font-bold",children:D}),i.jsx("p",{className:"text-muted-foreground",children:"مجموع العيادات الكلي"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:T}),i.jsx("div",{className:"text-sm text-green-600",children:"العيادات العاملة"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[(T/D*100).toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-amber-600",children:B}),i.jsx("div",{className:"text-sm text-amber-600",children:"العيادات المكهنة"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[(B/D*100).toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-red-600",children:I}),i.jsx("div",{className:"text-sm text-red-600",children:"العيادات غير المفعلة"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[(I/D*100).toFixed(1),"%"]})]})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-7 gap-3 sm:gap-4",children:[i.jsx(it,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"مجموع العيادات الكلي"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:e&&e!=="all-sectors"||r&&r!=="all-categories"||g!=="all"?X.total_clinics:D})]}),i.jsx(IG,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"العيادات التي تعمل"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:e&&e!=="all-sectors"||r&&r!=="all-categories"||g!=="all"?X.working_clinics:T})]}),i.jsx(qs,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-red-500 to-red-600 text-white",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"العيادات التي لا تعمل"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:e&&e!=="all-sectors"||r&&r!=="all-categories"||g!=="all"?X.not_working_clinics:I})]}),i.jsx(Yl,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"العيادات المكهنة"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:e&&e!=="all-sectors"||r&&r!=="all-categories"||g!=="all"?X.out_of_order_clinics:B})]}),i.jsx(Od,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"جميع المنشآت"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:e&&e!=="all-sectors"||r&&r!=="all-categories"||g!=="all"?U.length:J})]}),i.jsx(No,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"المنشآت النشطة"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:M.active})]}),i.jsx(qs,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-gray-500 to-gray-600 text-white",children:i.jsx(ot,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium opacity-90",children:"المنشآت غير النشطة"}),i.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:M.inactive})]}),i.jsx(Yl,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-80"})]})})})]}),i.jsxs(it,{children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs(zt,{className:"text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(ml,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"تصفية البيانات وإدارة المنشآت"]}),i.jsxs(Na,{open:u,onOpenChange:f,children:[i.jsx(xg,{asChild:!0,children:i.jsxs(mt,{size:"sm",className:"flex items-center gap-2 w-full sm:w-auto",children:[i.jsx(k2,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"تسجيل منشأة جديدة"}),i.jsx("span",{className:"sm:hidden",children:"منشأة جديدة"})]})}),i.jsxs(da,{className:"max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto mx-2",children:[i.jsx(ua,{children:i.jsx(fa,{className:"text-right",children:"تسجيل منشأة جديدة"})}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"name",className:"text-sm",children:"اسم المنشأة *"}),i.jsx(et,{id:"name",value:x.name,onChange:W=>y({...x,name:W.target.value}),className:"text-right",placeholder:"أدخل اسم المنشأة"})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"code",className:"text-sm",children:"رمز المنشأة *"}),i.jsx(et,{id:"code",value:x.code,onChange:W=>y({...x,code:W.target.value}),className:"text-right",placeholder:"أدخل رمز المنشأة"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"sector",className:"text-sm",children:"القطاع"}),i.jsxs(hr,{value:x.sector,onValueChange:W=>y({...x,sector:W}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر القطاع"})}),i.jsx(lr,{children:yD.map(W=>i.jsx(Pt,{value:W,children:W},W))})]})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"status",className:"text-sm",children:"حالة المنشأة"}),i.jsxs(hr,{value:x.status,onValueChange:W=>y({...x,status:W}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"نشطة",children:"نشطة"}),i.jsx(Pt,{value:"غير نشطة",children:"غير نشطة"})]})]})]})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"category",className:"text-sm",children:"تصنيف المنشأة"}),i.jsxs(hr,{value:x.category,onValueChange:W=>y({...x,category:W}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر تصنيف المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"مركز صحي",children:"مركز صحي"}),i.jsx(Pt,{value:"مركز تخصصي",children:"مركز تخصصي"}),i.jsx(Pt,{value:"مستشفى",children:"مستشفى"})]})]})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"totalClinics",className:"text-sm",children:"مجموع عيادات الأسنان"}),i.jsx(et,{id:"totalClinics",type:"number",value:x.totalClinics,onChange:W=>y({...x,totalClinics:W.target.value}),className:"text-right",placeholder:"20"})]}),i.jsxs("div",{className:"space-y-4 text-right",children:[i.jsx(We,{className:"text-sm font-medium",children:"حالة العيادات"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"workingClinics",className:"text-sm",children:"يعمل"}),i.jsx(et,{id:"workingClinics",type:"number",value:x.workingClinics,onChange:W=>y({...x,workingClinics:W.target.value}),className:"text-right",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"outOfOrderClinics",className:"text-sm",children:"مكهن"}),i.jsx(et,{id:"outOfOrderClinics",type:"number",value:x.outOfOrderClinics,onChange:W=>y({...x,outOfOrderClinics:W.target.value}),className:"text-right",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"notWorkingClinics",className:"text-sm",children:"غير مفعل"}),i.jsx(et,{id:"notWorkingClinics",type:"number",value:x.notWorkingClinics,onChange:W=>y({...x,notWorkingClinics:W.target.value}),className:"text-right",placeholder:"0"})]})]})]}),parseInt(x.outOfOrderClinics)>0&&i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsx(We,{className:"text-sm font-medium text-right",children:"شهادة التكهين"}),i.jsx("div",{className:"space-y-4",children:j?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative border rounded-lg p-4",children:[i.jsx("img",{src:j,alt:"معاينة شهادة التكهين",className:"max-w-full h-48 object-contain mx-auto rounded"}),i.jsx(mt,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:_,children:i.jsx(_r,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-green-600",children:"تم رفع الصورة بنجاح"}),i.jsx("p",{className:"text-xs text-gray-500",children:w==null?void 0:w.name})]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx(C_,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[i.jsx("p",{children:"اختر صورة شهادة التكهين"}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF حتى 10MB"})]}),i.jsx(et,{type:"file",accept:"image/*",onChange:k,className:"hidden",id:"image-upload"}),i.jsx(We,{htmlFor:"image-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90",children:"اختيار الصورة"})]})})]}),i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsx(We,{className:"text-lg font-semibold text-right",children:"معلومات التواصل"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"facilityEmail",className:"text-sm",children:"إيميل المنشأة"}),i.jsx(et,{id:"facilityEmail",type:"email",value:x.facilityEmail,onChange:W=>y({...x,facilityEmail:W.target.value}),className:"text-right",placeholder:"info@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"facilityPhone",className:"text-sm",children:"رقم اتصال المنشأة"}),i.jsx(et,{id:"facilityPhone",value:x.facilityPhone,onChange:W=>y({...x,facilityPhone:W.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"facilityLocation",className:"text-sm",children:"موقع المنشأة"}),i.jsx(et,{id:"facilityLocation",value:x.facilityLocation,onChange:W=>y({...x,facilityLocation:W.target.value}),className:"text-right",placeholder:"أدخل موقع المنشأة"})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"managerName",className:"text-sm",children:"اسم مدير المنشأة"}),i.jsx(et,{id:"managerName",value:x.managerName,onChange:W=>y({...x,managerName:W.target.value}),className:"text-right",placeholder:"اسم مدير المنشأة"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"managerEmail",className:"text-sm",children:"إيميل مدير المنشأة"}),i.jsx(et,{id:"managerEmail",type:"email",value:x.managerEmail,onChange:W=>y({...x,managerEmail:W.target.value}),className:"text-right",placeholder:"manager@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"managerPhone",className:"text-sm",children:"رقم اتصال مدير المنشأة"}),i.jsx(et,{id:"managerPhone",value:x.managerPhone,onChange:W=>y({...x,managerPhone:W.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"medicalDirectorName",className:"text-sm",children:"اسم المدير الطبي"}),i.jsx(et,{id:"medicalDirectorName",value:x.medicalDirectorName,onChange:W=>y({...x,medicalDirectorName:W.target.value}),className:"text-right",placeholder:"اسم المدير الطبي"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"medicalDirectorEmail",className:"text-sm",children:"إيميل المدير الطبي"}),i.jsx(et,{id:"medicalDirectorEmail",type:"email",value:x.medicalDirectorEmail,onChange:W=>y({...x,medicalDirectorEmail:W.target.value}),className:"text-right",placeholder:"medical.director@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{htmlFor:"medicalDirectorPhone",className:"text-sm",children:"رقم اتصال المدير الطبي"}),i.jsx(et,{id:"medicalDirectorPhone",value:x.medicalDirectorPhone,onChange:W=>y({...x,medicalDirectorPhone:W.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[i.jsx(mt,{variant:"outline",onClick:()=>f(!1),children:"إلغاء"}),i.jsx(mt,{onClick:R,disabled:!x.name||!x.code,children:"حفظ المنشأة"})]})]})]})]})}),i.jsx(ot,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{className:"text-sm",children:"القطاع"}),i.jsxs(hr,{value:e,onValueChange:t,children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر القطاع"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all-sectors",children:"جميع القطاعات"}),yD.map(W=>i.jsx(Pt,{value:W,children:W},W))]})]})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx(We,{className:"text-sm",children:"التصنيف"}),i.jsxs(hr,{value:r,onValueChange:n,children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر التصنيف"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all-categories",children:"جميع التصنيفات"}),i.jsx(Pt,{value:"مركز صحي",children:"مركز صحي"}),i.jsx(Pt,{value:"مركز تخصصي",children:"مركز تخصصي"}),i.jsx(Pt,{value:"مستشفى",children:"مستشفى"})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(mt,{variant:g==="all"?"default":"outline",size:"sm",onClick:()=>m("all"),className:"text-sm",children:"جميع المنشآت"}),i.jsx(mt,{variant:g==="working"?"default":"outline",size:"sm",onClick:()=>m("working"),className:"text-sm",children:"العيادات التي تعمل"}),i.jsx(mt,{variant:g==="not-working"?"default":"outline",size:"sm",onClick:()=>m("not-working"),className:"text-sm",children:"العيادات التي لا تعمل"}),i.jsx(mt,{variant:g==="out-of-order"?"default":"outline",size:"sm",onClick:()=>m("out-of-order"),className:"text-sm",children:"العيادات المكهنة"}),i.jsx(mt,{variant:g==="active-facilities"?"default":"outline",size:"sm",onClick:()=>m("active-facilities"),className:"text-sm",children:"العيادات النشطة"}),i.jsx(mt,{variant:g==="inactive-facilities"?"default":"outline",size:"sm",onClick:()=>m("inactive-facilities"),className:"text-sm",children:"العيادات الغير نشطة"})]})]})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx(zt,{className:"text-right",children:"قائمة المنشآت"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{onClick:O,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(un,{className:"h-4 w-4"}),"طباعة"]}),i.jsxs(mt,{onClick:le,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Pr,{className:"h-4 w-4"}),"تصدير PDF"]}),i.jsxs(mt,{onClick:ue,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx($i,{className:"h-4 w-4"}),"تصدير Excel"]})]})]})}),i.jsx(ot,{children:i.jsx("div",{className:"space-y-6",children:Object.entries(Q).map(([W,H])=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-right border-b pb-2",children:W}),Object.entries(H).map(([me,ae])=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-3",children:i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-medium",children:me}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[ae.count," منشأة • ",ae.clinics," عيادة"]})]})}),i.jsx("div",{className:"grid gap-3",children:U.filter(be=>be.sector===W&&(be.category||be.type)===me).map(be=>i.jsx("div",{className:"bg-white p-4 rounded-lg border",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[i.jsxs("div",{className:"text-right space-y-1",children:[i.jsx("h5",{className:"font-medium",children:be.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[be.code," • ",be.location||be.facilityLocation]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(hs,{variant:be.status==="نشطة"?"default":"secondary",children:be.status}),i.jsxs(hs,{variant:"outline",children:[be.totalClinics," عيادة"]}),i.jsxs(hs,{variant:"outline",className:"text-green-600",children:[be.workingClinics||be.working," تعمل"]}),(parseInt(be.outOfOrderClinics||be.outOfOrder)||0)>0&&i.jsxs(hs,{variant:"outline",className:"text-orange-600",children:[be.outOfOrderClinics||be.outOfOrder," مكهن"]}),(parseInt(be.notWorkingClinics||be.notWorking)||0)>0&&i.jsxs(hs,{variant:"outline",className:"text-red-600",children:[be.notWorkingClinics||be.notWorking," لا تعمل"]})]})]})},be.id))})]},me))]},W))})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"الإجراءات السريعة"})}),i.jsx(ot,{children:i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsx("button",{onClick:()=>window.location.href="/inventory",className:"group bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white p-4 sm:p-6 rounded-lg text-center transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full group-hover:bg-white/30 transition-all",children:i.jsx(Sd,{className:"h-4 w-4 sm:h-6 sm:w-6"})}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"المخزون"})]})}),i.jsx("button",{onClick:()=>window.location.href="/transactions",className:"group bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white p-4 sm:p-6 rounded-lg text-center transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full group-hover:bg-white/30 transition-all",children:i.jsx(za,{className:"h-4 w-4 sm:h-6 sm:w-6"})}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"معاملة جديدة"})]})}),i.jsx("button",{onClick:()=>window.location.href="/reports/dashboard",className:"group bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-4 sm:p-6 rounded-lg text-center transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full group-hover:bg-white/30 transition-all",children:i.jsx(ii,{className:"h-4 w-4 sm:h-6 sm:w-6"})}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"التقارير"})]})})]})})]})]})}const pu=(e,t,r)=>{const n=new Date(`${e}T${t}`),a=r?new Date(r):new Date,s=Math.abs(a.getTime()-n.getTime()),o=Math.floor(s/(1e3*60*60*24)),l=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(s%(1e3*60*60)/(1e3*60));return o>0?`${o} يوم ${l} ساعة`:l>0?`${l} ساعة ${c} دقيقة`:`${c} دقيقة`};function YEe(){var Ct,Dt;const{toast:e}=jn(),[t,r]=A.useState(!1),[n,a]=A.useState([]),[s,o]=A.useState(""),[l,c]=A.useState(""),[d,u]=A.useState(""),[f,h]=A.useState("");A.useState(null);const[p,g]=A.useState(null),[m,v]=A.useState(null),[x,y]=A.useState(null),[w,N]=A.useState(null),[j,C]=A.useState(!1),[k,_]=A.useState(null),[L,z]=A.useState({status:"",resolution:"",resolved_at:"",resolved_by:""}),[D,T]=A.useState([]),[I,B]=A.useState(""),[J,U]=A.useState(""),[X,M]=A.useState(!1),[Q,le]=A.useState({facility_id:"",report_date:"",report_time:"",category:"",device_name:"",serial_number:"",problem_description:"",under_warranty:"",repair_company:"",contact_number:"",email:"",reporter_name:"",reporter_contact:"",status:"",notes:"",resolution:"",resolved_by:""}),[ue,O]=A.useState(1),V=10,Y=["الصيانة الطبية","الصيانة العامة","تقنية المعلومات","أمن وسلامة","التموين الطبي","أخرى"],q=["مفتوح","مغلق","مكهن"];A.useEffect(()=>{(async()=>{r(!0);try{const Je=await Ra.getReports();Je.success?a(Je.data||[]):e({title:"خطأ في تحميل البلاغات",description:Je.message,variant:"destructive"})}catch(Je){e({title:"خطأ في تحميل البلاغات",description:Je.message||"فشل في تحميل قائمة البلاغات",variant:"destructive"})}finally{r(!1)}})()},[e]);const P=n.filter(ce=>{var gt,he,ze,Xe,fe,tt;const Je=ce.report_date?new Date(ce.report_date):null,ct=I?new Date(I):null,ft=J?new Date(J):null;return(s===""||((he=(gt=ce.facility)==null?void 0:gt.name)==null?void 0:he.includes(s))||((ze=ce.problem_description)==null?void 0:ze.includes(s))||((Xe=ce.device_name)==null?void 0:Xe.includes(s))||((fe=ce.id)==null?void 0:fe.toString().includes(s)))&&(l===""||((tt=ce.facility)==null?void 0:tt.name)===l)&&(d===""||ce.category===d)&&(f===""||ce.status===f)&&(!ct||!Je||Je>=ct)&&(!ft||!Je||Je<=ft)}),R=Math.ceil(P.length/V),G=P.slice((ue-1)*V,ue*V),W=[...new Set(n.map(ce=>{var Je;return(Je=ce.facility)==null?void 0:Je.name}).filter(Boolean))],H=[...new Set(n.map(ce=>ce.category).filter(Boolean))],me=ce=>{g(ce),z({status:ce.status||"",resolution:ce.resolution||"",resolved_at:ce.resolved_at?ce.resolved_at.split("T")[0]:"",resolved_by:ce.resolved_by||""})},ae=async ce=>{var Je,ct;if(v(ce),le({facility_id:((ct=(Je=ce.facility)==null?void 0:Je.id)==null?void 0:ct.toString())||"",report_date:ce.report_date||"",report_time:ce.report_time||"",category:ce.category||"",device_name:ce.device_name||"",serial_number:ce.serial_number||"",problem_description:ce.problem_description||"",under_warranty:ce.under_warranty||"",repair_company:ce.repair_company||"",contact_number:ce.contact_number||"",email:ce.email||"",reporter_name:ce.reporter_name||"",reporter_contact:ce.reporter_contact||"",status:ce.status||"",notes:ce.notes||"",resolution:ce.resolution||"",resolved_by:ce.resolved_by||""}),D.length===0){M(!0);try{const ft=await Ra.getFacilities();ft.success&&T(ft.data||[])}catch(ft){console.error("Failed to load facilities:",ft)}finally{M(!1)}}},be=async ce=>{ce.preventDefault(),C(!0);try{const Je={status:L.status,resolution:L.resolution,resolved_at:L.resolved_at||void 0,resolved_by:L.resolved_by||void 0},ct=await Ra.updateReport(p.id,Je);ct.success?(e({title:"تم تحديث البلاغ بنجاح",description:"تم حفظ التغييرات على البلاغ"}),window.location.reload(),a(ft=>ft.map(gt=>gt.id===p.id?{...gt,...Je}:gt)),g(null)):e({title:"خطأ في تحديث البلاغ",description:ct.message,variant:"destructive"})}catch(Je){e({title:"خطأ في تحديث البلاغ",description:Je.message||"فشل في تحديث البلاغ",variant:"destructive"})}finally{C(!1)}},te=async ce=>{ce.preventDefault(),C(!0);try{const Je={...Q};["مغلق","مكهن"].includes(Q.status)&&m.status==="مفتوح"&&(Je.resolved_by=new Date().toISOString());const ct=await Ra.updateReport(m.id,Je);ct.success?(e({title:"تم تحديث البلاغ بنجاح",description:"تم حفظ التغييرات على البلاغ"}),window.location.reload(),a(ft=>ft.map(gt=>gt.id===m.id?{...gt,...Je}:gt)),v(null)):e({title:"خطأ في تحديث البلاغ",description:ct.message,variant:"destructive"})}catch(Je){e({title:"خطأ في تحديث البلاغ",description:Je.message||"فشل في تحديث البلاغ",variant:"destructive"})}finally{C(!1)}},ge=ce=>{y(ce)},re=async()=>{if(x){_(x.id);try{const ce=await Ra.deleteReport(x.id);ce.success?(e({title:"تم حذف البلاغ بنجاح",description:"تم حذف البلاغ من النظام"}),a(Je=>Je.filter(ct=>ct.id!==x.id)),y(null)):e({title:"خطأ في حذف البلاغ",description:ce.message,variant:"destructive"})}catch(ce){e({title:"خطأ في حذف البلاغ",description:ce.message||"فشل في حذف البلاغ",variant:"destructive"})}finally{_(null)}}},Oe=ce=>{N(ce)},Pe=(ce,Je)=>{le(ct=>({...ct,[ce]:Je}))},ke=(ce,Je)=>{const ct=`
      <!DOCTYPE html>
      <html dir="rtl">
      <head>
        <meta charset="UTF-8">
        <title>${Je}</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            direction: rtl;
            margin: 20px;
            font-size: 12px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
          }
          th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            font-size: 11px;
          }
          th {
            background-color: #f2f2f2;
            font-weight: bold;
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
          }
          .header h1 {
            color: #333;
            margin-bottom: 10px;
          }
          .header p {
            color: #666;
            margin: 0;
          }
          .status-open { background: #fff3cd; color: #856404; }
          .status-closed { background: #d1edff; color: #0c5460; }
          .status-paused { background: #f8d7da; color: #721c24; }
          .status {
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: bold;
            display: inline-block;
            font-size: 10px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>قائمة البلاغات</h1>
          <p>تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")}</p>
          <p>عدد البلاغات: ${ce.length}</p>
        </div>
        <table>
          <thead>
            <tr>
              <th>الرقم التسلسلي</th>
              <th>رقم البلاغ</th>
              <th>المنشأة</th>
              <th>التصنيف</th>
              <th>اسم الجهاز</th>
              <th>الرقم التسلسلي للجهاز</th>
              <th>وصف المشكلة</th>
              <th>الحالة</th>
              <th>تاريخ البلاغ</th>
              <th>تحت الضمان</th>
              <th>شركة الصيانة</th>
              <th>رقم الاتصال</th>
              <th>البريد الإلكتروني</th>
              <th>اسم المبلغ</th>
              <th>رقم اتصال المبلغ</th>
              <th>تاريخ اغلاق البلاغ</th>
              <th>فترة التوقف</th>
            </tr>
          </thead>
          <tbody>
            ${ce.map((gt,he)=>{var ze;return`
              <tr>
                <td>${he+1}</td>
                <td>${gt.id||""}</td>
                <td>${((ze=gt.facility)==null?void 0:ze.name)||"غير محدد"}</td>
                <td>${gt.category||"غير محدد"}</td>
                <td>${gt.device_name||"غير محدد"}</td>
                <td>${gt.serial_number||"غير محدد"}</td>
                <td>${gt.problem_description||"غير محدد"}</td>
                <td>
                  <span class="status ${gt.status==="مفتوح"?"status-open":gt.status==="مغلق"?"status-closed":"status-paused"}">${gt.status||"غير محدد"}</span>
                </td>
                <td>${gt.report_date||"غير محدد"} ${gt.report_time||""}</td>
                <td>${gt.under_warranty||"غير محدد"}</td>
                <td>${gt.repair_company||"غير محدد"}</td>
                <td>${gt.contact_number||"غير محدد"}</td>
                <td>${gt.email||"غير محدد"}</td>
                <td>${gt.reporter_name||"غير محدد"}</td>
                <td>${gt.reporter_contact||"غير محدد"}</td>
                <td>${gt.resolved_at||"غير محدد"}</td>
                <td>${pu(gt.report_date,gt.report_time,gt.resolved_at)}</td>
              </tr>
            `}).join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,ft=window.open("","_blank");ft&&(ft.document.write(ct),ft.document.close(),setTimeout(()=>{ft.print()},500))},Le=(ce,Je)=>{const ct=[["الرقم التسلسلي","رقم البلاغ","المنشأة","التصنيف","اسم الجهاز","الرقم التسلسلي للجهاز","وصف المشكلة","الحالة","تاريخ البلاغ","تحت الضمان","شركة الصيانة","رقم الاتصال","البريد الإلكتروني","اسم المبلغ","رقم اتصال المبلغ","تاريخ اغلاق البلاغ","فترة التوقف"],...ce.map((he,ze)=>{var Xe;return[ze+1,he.id||"",((Xe=he.facility)==null?void 0:Xe.name)||"غير محدد",he.category||"غير محدد",he.device_name||"غير محدد",he.serial_number||"غير محدد",he.problem_description||"غير محدد",he.status||"غير محدد",`${he.report_date||"غير محدد"} ${he.report_time||""}`,he.under_warranty||"غير محدد",he.repair_company||"غير محدد",he.contact_number||"غير محدد",he.email||"غير محدد",he.reporter_name||"غير محدد",he.reporter_contact||"غير محدد",he.resolved_at?new Date(he.resolved_at).toLocaleDateString("en-US"):"غير محدد",pu(he.report_date,he.report_time,he.resolved_at)]})].map(he=>he.map(ze=>`"${ze}"`).join(",")).join(`
`),ft=new Blob(["\uFEFF"+ct],{type:"text/csv;charset=utf-8;"}),gt=document.createElement("a");gt.href=URL.createObjectURL(ft),gt.download=`${Je}.csv`,gt.click(),URL.revokeObjectURL(gt.href)},Ge=ce=>{const Je=typeof ce=="string"||ce instanceof String;return ce.creation_date,ce.creation_date_note,ce.contract_approval_date,ce.contract_approval_date_note,ce.rejection_date,ce.rejection_date_note,Je?"":null},ut=ce=>{var he;const Je=pu(ce.report_date,ce.report_time,ce.resolved_at),ct=Ge(ce)||"",ft=`
      <!DOCTYPE html>
      <html dir="rtl">
      <head>
        <meta charset="UTF-8">
        <title>تقرير بلاغ - ${ce.id}</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            direction: rtl;
            padding: 20px;
            line-height: 1.6;
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
            padding-bottom: 20px;
          }
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
          }
          .info-item {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
          }
          .info-label {
            font-weight: bold;
            color: #333;
          }
          .full-width {
            grid-column: 1 / -1;
          }
          .status {
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
            font-weight: bold;
          }
          .status-open { background: #fff3cd; color: #856404; }
          .status-closed { background: #d1edff; color: #0c5460; }
          .status-paused { background: #f8d7da; color: #721c24; }
          .status-log {
            background:#e9d5ff; border:1px solid #c4b5fd; border-radius:8px; padding:16px; margin:12px 0; font-family:Arial, sans-serif;
          }
          .status-log h3 {
            color:#5b21b6; margin-bottom:16px; font-weight: bold;
          }
          .status-log div {
            margin-bottom:8px;
          }
          .status-log em {
            font-style: italic; color: #555;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>تقرير بلاغ رقم ${ce.id}</h1>
          <p>تاريخ الطباعة: ${new Date().toLocaleDateString("ar-SA")}</p>
        </div>
        <div class="info-grid">
          <div class="info-item"><div class="info-label">رقم البلاغ:</div><div>${ce.id}</div></div>
          <div class="info-item"><div class="info-label">المنشأة:</div><div>${((he=ce.facility)==null?void 0:he.name)||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">تاريخ البلاغ:</div><div>${ce.report_date} ${ce.report_time}</div></div>
          <div class="info-item"><div class="info-label">الحالة:</div><div><span class="status ${ce.status==="مفتوح"?"status-open":ce.status==="مغلق"?"status-closed":"status-paused"}">${ce.status}</span></div></div>
          <div class="info-item"><div class="info-label">التصنيف:</div><div>${ce.category}</div></div>
          <div class="info-item"><div class="info-label">اسم الجهاز:</div><div>${ce.device_name}</div></div>
          <div class="info-item"><div class="info-label">الرقم التسلسلي:</div><div>${ce.serial_number||"غير محدد"}</div></div>
          <div class="info-item full-width"><div class="info-label">وصف المشكلة:</div><div>${ce.problem_description||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">تحت الضمان:</div><div>${ce.under_warranty||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">شركة الصيانة:</div><div>${ce.repair_company||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">رقم الاتصال:</div><div>${ce.contact_number||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">البريد الإلكتروني:</div><div>${ce.email||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">اسم المبلغ:</div><div>${ce.reporter_name||"غير محدد"}</div></div>
          <div class="info-item"><div class="info-label">رقم اتصال المبلغ:</div><div>${ce.reporter_contact||"غير محدد"}</div></div>

          ${typeof ct=="string"?ct.replace(/<div dir="rtl">|<\/div>/g,""):ct}

          ${ce.notes?`<div class="info-item full-width"><div class="info-label">ملاحظات:</div><div>${ce.notes}</div></div>`:""}
          ${ce.resolution?`<div class="info-item full-width"><div class="info-label">الحل:</div><div>${ce.resolution}</div></div>`:""}
          ${ce.resolved_at?`<div class="info-item"><div class="info-label">تاريخ الإغلاق/التكهين:</div><div>${new Date(ce.resolved_at).toLocaleDateString("en-US")}</div></div>`:""}
          <div class="info-item"><div class="info-label">فترة التوقف:</div><div>${Je}</div></div>
        </div>
      </body>
      </html>
    `,gt=window.open("","_blank");gt&&(gt.document.write(ft),gt.document.close(),setTimeout(()=>{gt.print()},500))},bt=ce=>{ce>=1&&ce<=R&&(O(ce),window.scrollTo({top:0,behavior:"smooth"}))};return i.jsxs("div",{className:"space-y-6 p-4 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"قائمة البلاغات"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"عرض وإدارة جميع البلاغات المستلمة"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[i.jsx("div",{className:" bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(ml,{size:20}),"البحث والتصفية"]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vd,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"البحث في البلاغات...",value:s,onChange:ce=>{o(ce.target.value),O(1)},className:"w-full pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-right bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("select",{value:l,onChange:ce=>{c(ce.target.value),O(1)},className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md text-right bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"جميع المنشآت"}),W.map(ce=>i.jsx("option",{value:ce,children:ce},ce))]}),i.jsxs("select",{value:d,onChange:ce=>{u(ce.target.value),O(1)},className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md text-right bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"جميع التصنيفات"}),H.map(ce=>i.jsx("option",{value:ce,children:ce},ce))]}),i.jsxs("select",{value:f,onChange:ce=>{h(ce.target.value),O(1)},className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md text-right bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"جميع الحالات"}),q.map(ce=>i.jsx("option",{value:ce,children:ce},ce))]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 text-right",children:"من تاريخ"}),i.jsx("input",{type:"date",value:I,onChange:ce=>{B(ce.target.value),O(1)},className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md text-right bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 text-right",children:"إلى تاريخ"}),i.jsx("input",{type:"date",value:J,onChange:ce=>{U(ce.target.value),O(1)},className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md text-right bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 mt-6",children:[i.jsxs("button",{onClick:()=>{try{ke(P,"قائمة_البلاغات"),e({title:"تم تصدير البيانات بنجاح",description:"تم تصدير البلاغات إلى ملف PDF"})}catch(ce){console.error("PDF Export Error:",ce),e({title:"خطأ في التصدير",description:"فشل في تصدير البيانات",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition-colors",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"تصدير PDF"}),i.jsx("span",{className:"sm:hidden",children:"PDF"})]}),i.jsxs("button",{onClick:()=>{try{Le(P,"قائمة_البلاغات"),e({title:"تم تصدير البيانات بنجاح",description:"تم تصدير البلاغات إلى ملف Excel"})}catch(ce){console.error("Excel Export Error:",ce),e({title:"خطأ في التصدير",description:"فشل في تصدير البيانات",variant:"destructive"})}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center justify-center gap-2 text-sm transition-colors",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"تصدير Excel"}),i.jsx("span",{className:"sm:hidden",children:"Excel"})]})]})]})]}),i.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(za,{size:20}),"البلاغات (",P.length,")"]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-right",children:[i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100",children:"الرقم التسلسلي"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100",children:"رقم البلاغ"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100 hidden md:table-cell",children:"المنشأة"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100",children:"التصنيف"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100 hidden lg:table-cell",children:"الجهاز"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100 hidden xl:table-cell",children:"وصف المشكلة"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100 hidden sm:table-cell",children:"التاريخ"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100",children:"الحالة"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100 hidden sm:table-cell",children:"فترة التوقف"}),i.jsx("th",{className:"p-4 font-medium text-gray-900 dark:text-gray-100",children:"الإجراءات"})]})}),i.jsxs("tbody",{children:[G.length===0&&i.jsx("tr",{children:i.jsxs("td",{colSpan:10,className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(za,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"لا توجد بلاغات تطابق معاييير البحث"})]})}),G.map((ce,Je)=>{var ft;const ct=pu(ce.report_date,ce.report_time,ce.resolved_at);return i.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"p-4 text-gray-900 dark:text-gray-100 font-medium",children:(ue-1)*V+Je+1}),i.jsx("td",{className:"p-4 text-blue-600 dark:text-blue-400 font-bold",children:ce.id}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 hidden md:table-cell",children:((ft=ce.facility)==null?void 0:ft.name)||"غير محدد"}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300",children:ce.category}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 hidden lg:table-cell",children:ce.device_name}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 hidden xl:table-cell max-w-xs truncate",title:ce.problem_description,children:ce.problem_description||"غير محدد"}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 hidden sm:table-cell",children:ce.report_date}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ce.status==="مفتوح"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":ce.status==="مغلق"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:ce.status})}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 hidden sm:table-cell",children:ct}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-1 justify-center",children:[i.jsx("button",{onClick:()=>Oe(ce),title:"عرض",className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",children:i.jsx(tn,{size:16})}),i.jsx("button",{onClick:()=>me(ce),title:"تعديل الحالة",className:"p-1 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",children:i.jsx(_a,{size:16})}),i.jsx("button",{onClick:()=>ae(ce),title:"تعديل كامل",className:"p-1 text-orange-600 hover:bg-orange-100 dark:hover:bg-orange-900/20 rounded transition-colors",children:i.jsx(Si,{size:16})}),i.jsx("button",{onClick:()=>ut(ce),title:"طباعة",className:"p-1 text-purple-600 hover:bg-purple-100 dark:hover:bg-purple-900/20 rounded transition-colors",children:i.jsx(un,{size:16})}),i.jsx("button",{onClick:()=>ge(ce),disabled:k===ce.id,title:"حذف",className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors",children:k===ce.id?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(Un,{size:16})})]})})]},ce.id)})]})]})}),i.jsxs("nav",{className:"flex flex-wrap justify-center items-center gap-2 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-b-md","aria-label":"Pagination",children:[i.jsx("button",{onClick:()=>bt(ue-1),disabled:ue===1,className:`px-3 py-1 rounded-md text-sm font-semibold ${ue===1?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 dark:text-blue-400"}`,children:"السابق"}),Array.from({length:R}).map((ce,Je)=>{const ct=Je+1,ft=ct===ue;return ct===1||ct===R||ct>=ue-1&&ct<=ue+1?i.jsx("button",{onClick:()=>bt(ct),"aria-current":ft?"page":void 0,className:`px-3 py-1 rounded-md text-sm font-semibold ${ft?"bg-blue-600 text-white":"text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 dark:text-blue-400"}`,children:ct},ct):ct===ue-2&&ct>1||ct===ue+2&&ct<R?i.jsx("span",{className:"px-2 text-gray-400 select-none",children:"..."},ct):null}),i.jsx("button",{onClick:()=>bt(ue+1),disabled:ue===R||R===0,className:`px-3 py-1 rounded-md text-sm font-semibold ${ue===R||R===0?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 dark:text-blue-400"}`,children:"التالي"})]})]}),i.jsxs("div",{className:"md:hidden space-y-4",children:[G.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(za,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"لا توجد بلاغات تطابق معاييير البحث"})]}),G.map((ce,Je)=>{var ft;const ct=pu(ce.report_date,ce.report_time,ce.resolved_at);return i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm p-4 flex flex-col space-y-2 text-right",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:["بلاغ #",(ue-1)*V+Je+1]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("button",{onClick:()=>Oe(ce),title:"عرض",className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",children:i.jsx(tn,{size:20})}),i.jsx("button",{onClick:()=>me(ce),title:"تعديل الحالة",className:"p-1 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",children:i.jsx(_a,{size:20})}),i.jsx("button",{onClick:()=>ae(ce),title:"تعديل كامل",className:"p-1 text-orange-600 hover:bg-orange-100 dark:hover:bg-orange-900/20 rounded transition-colors",children:i.jsx(Si,{size:20})}),i.jsx("button",{onClick:()=>ut(ce),title:"طباعة",className:"p-1 text-purple-600 hover:bg-purple-100 dark:hover:bg-purple-900/20 rounded transition-colors",children:i.jsx(un,{size:20})}),i.jsx("button",{onClick:()=>ge(ce),disabled:k===ce.id,title:"حذف",className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors",children:k===ce.id?i.jsx(Qt,{size:20,className:"animate-spin"}):i.jsx(Un,{size:20})})]})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الرقم التسلسلي:"})," ",(ue-1)*V+Je+1]}),i.jsxs("div",{children:[i.jsx("strong",{children:"المنشأة:"})," ",((ft=ce.facility)==null?void 0:ft.name)||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"التصنيف:"})," ",ce.category]}),i.jsxs("div",{children:[i.jsx("strong",{children:"اسم الجهاز:"})," ",ce.device_name]}),i.jsxs("div",{children:[i.jsx("strong",{children:"وصف المشكلة:"})," ",ce.problem_description||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"التاريخ:"})," ",ce.report_date]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الحالة:"})," ",i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ce.status==="مفتوح"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":ce.status==="مغلق"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:ce.status})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"فترة التوقف:"})," ",ct]})]},ce.id)}),i.jsxs("nav",{className:"flex justify-center items-center gap-1 p-4","aria-label":"Pagination",children:[i.jsx("button",{onClick:()=>bt(ue-1),disabled:ue===1,className:`px-3 py-1 rounded-md text-sm font-semibold ${ue===1?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 dark:text-blue-400"}`,children:"السابق"}),i.jsxs("span",{className:"px-3 py-1 font-semibold text-gray-700 dark:text-gray-300",children:["الصفحة ",ue," من ",R||1]}),i.jsx("button",{onClick:()=>bt(ue+1),disabled:ue===R||R===0,className:`px-3 py-1 rounded-md text-sm font-semibold ${ue===R||R===0?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/20 dark:text-blue-400"}`,children:"التالي"})]})]}),w&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-6 py-4 border-b border-blue-200 dark:border-blue-800 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-blue-900 dark:text-blue-100 flex items-center gap-2",children:[i.jsx(tn,{size:24}),"عرض البلاغ رقم ",w.id]}),i.jsx("button",{onClick:()=>N(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","aria-label":"Close view modal",children:i.jsx(_r,{size:24})})]}),i.jsxs("div",{className:"p-4 md:p-6 space-y-6 text-right",dir:"rtl",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[i.jsx(To,{size:20}),"معلومات البلاغ"]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[i.jsx("strong",{className:"text-blue-800 dark:text-blue-200",children:"فترة التوقف:"}),i.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-medium mr-2",children:pu(w.report_date,w.report_time,w.resolved_at)})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"رقم البلاغ:"})," ",w.id]}),i.jsxs("div",{children:[i.jsx("strong",{children:"المنشأة:"})," ",((Ct=w.facility)==null?void 0:Ct.name)||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"تاريخ البلاغ:"})," ",w.report_date," ",w.report_time]}),i.jsxs("div",{children:[i.jsx("strong",{children:"التصنيف:"})," ",w.category]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الحالة:"})," ",i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${w.status==="مفتوح"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":w.status==="مغلق"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:w.status})]})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[i.jsx(Si,{size:20}),"تفاصيل الجهاز"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"اسم الجهاز:"})," ",w.device_name]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الرقم التسلسلي:"})," ",w.serial_number||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"تحت الضمان:"})," ",w.under_warranty||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"شركة الصيانة:"})," ",w.repair_company||"غير محدد"]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"وصف المشكلة"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:w.problem_description||"لم يتم تقديم وصف للمشكلة"})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"معلومات الاتصال"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"رقم الاتصال:"})," ",w.contact_number||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"البريد الإلكتروني:"})," ",w.email||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"اسم المبلغ:"})," ",w.reporter_name||"غير محدد"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"رقم اتصال المبلغ:"})," ",w.reporter_contact||"غير محدد"]})]})]})]})]}),Ge(w),(w.notes||w.resolution)&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"ملاحظات إضافية"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[w.notes&&i.jsxs("div",{children:[i.jsx("strong",{children:"ملاحظات:"}),i.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:w.notes})]}),w.resolution&&i.jsxs("div",{children:[i.jsx("strong",{children:"الحل:"}),i.jsx("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:w.resolution})]}),w.resolved_at&&i.jsxs("div",{children:[i.jsx("strong",{children:"تاريخ الإغلاق/التكهين:"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300 mr-2",children:new Date(w.resolved_at).toLocaleDateString("en-US")})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"فترة التوقف:"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300 mr-2",children:pu(w.report_date,w.report_time,w.resolved_at)})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm",children:"إغلاق"}),i.jsxs("button",{onClick:()=>ut(w),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center gap-2 transition-colors text-sm",children:[i.jsx(un,{size:16}),"طباعة"]})]})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-md shadow-2xl",children:[i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-900/40 px-6 py-4 border-b border-red-200 dark:border-red-800 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-red-900 dark:text-red-100 flex items-center gap-2",children:[i.jsx(To,{size:24}),"تأكيد الحذف"]}),i.jsx("button",{onClick:()=>y(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","aria-label":"Close delete confirmation",children:i.jsx(_r,{size:24})})]}),i.jsxs("div",{className:"p-6 text-right space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:i.jsx(To,{size:32,className:"text-red-600 dark:text-red-400"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"هل أنت متأكد من حذف هذا البلاغ؟"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["سيتم حذف البلاغ رقم ",i.jsx("strong",{children:x.id})," نهائياً من النظام ولا يمكن استرداده."]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md text-right space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"التصنيف:"})," ",x.category]}),i.jsxs("p",{children:[i.jsx("strong",{children:"الجهاز:"})," ",x.device_name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"المنشأة:"})," ",((Dt=x.facility)==null?void 0:Dt.name)||"غير محدد"]})]}),i.jsxs("div",{className:"flex justify-center gap-3 pt-4",children:[i.jsx("button",{onClick:()=>y(null),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm",children:"إلغاء"}),i.jsx("button",{onClick:re,disabled:k===x.id,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center gap-2 transition-colors",children:k===x.id?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{size:16,className:"animate-spin"}),"جاري الحذف..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Un,{size:16}),"حذف نهائي"]})})]})]})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-900/40 px-6 py-4 border-b border-green-200 dark:border-green-800 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-green-900 dark:text-green-100 flex items-center gap-2",children:[i.jsx(_a,{size:24}),"تعديل حالة البلاغ رقم ",p.id]}),i.jsx("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","aria-label":"Close modify modal",children:i.jsx(_r,{size:24})})]}),i.jsxs("form",{onSubmit:be,className:"p-4 md:p-6 space-y-6 text-right",dir:"rtl",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"الحالة"}),i.jsx("select",{value:L.status,onChange:ce=>z(Je=>({...Je,status:ce.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:q.map(ce=>i.jsx("option",{value:ce,children:ce},ce))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"تم الحل بواسطة"}),i.jsx("input",{type:"text",value:L.resolved_by||"",onChange:ce=>z(Je=>({...Je,resolved_by:ce.target.value})),placeholder:"اسم الشخص المسؤول عن الحل",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"تاريخ الحل"}),i.jsx("input",{type:"date",value:L.resolved_at,onChange:ce=>z(Je=>({...Je,resolved_at:ce.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"ملاحظة"}),i.jsx("textarea",{value:L.resolution,onChange:ce=>z(Je=>({...Je,resolution:ce.target.value})),rows:3,placeholder:"أدخل ملاحظة حول التغيير...",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>g(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm",children:"إلغاء"}),i.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:j?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{size:16,className:"animate-spin"}),"جاري الحفظ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oi,{size:16}),"حفظ التغييرات"]})})]})]})]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(Si,{size:24}),"تعديل كامل البلاغ رقم ",m.id]}),i.jsx("button",{onClick:()=>v(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","aria-label":"Close full edit modal",children:i.jsx(_r,{size:24})})]}),i.jsxs("form",{onSubmit:te,className:"p-4 md:p-6 space-y-6",dir:"rtl",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"١- اسم المنشأة"}),X?i.jsxs("div",{className:"flex items-center justify-center p-4",children:[i.jsx(Qt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"mr-2",children:"جاري تحميل المنشآت..."})]}):i.jsxs("select",{value:Q.facility_id,onChange:ce=>Pe("facility_id",ce.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"اختر اسم المنشأة"}),D.map(ce=>i.jsx("option",{value:ce.id.toString(),children:ce.name},ce.id))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٢- الرقم التسلسلي"}),i.jsx("input",{type:"text",value:Q.serial_number,onChange:ce=>Pe("serial_number",ce.target.value),placeholder:"الرقم التسلسلي للجهاز",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٣- تاريخ إنشاء البلاغ *"}),i.jsx("input",{type:"date",value:Q.report_date,onChange:ce=>Pe("report_date",ce.target.value),className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الوقت *"}),i.jsx("input",{type:"time",value:Q.report_time,onChange:ce=>Pe("report_time",ce.target.value),className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٣- تصنيف البلاغ *"}),i.jsxs("select",{value:Q.category,onChange:ce=>Pe("category",ce.target.value),className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"اختر تصنيف البلاغ"}),Y.map(ce=>i.jsx("option",{value:ce,children:ce},ce))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٤- اسم الجهاز أو الصنف *"}),i.jsx("input",{type:"text",value:Q.device_name,onChange:ce=>Pe("device_name",ce.target.value),placeholder:"اسم الجهاز أو نوع الصنف",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٥- وصف مشكلة البلاغ *"}),i.jsx("textarea",{rows:3,value:Q.problem_description,onChange:ce=>Pe("problem_description",ce.target.value),placeholder:"وصف مفصل للمشكلة أو العطل...",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[120px]",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٦- هل الجهاز تحت الضمان؟"}),i.jsxs("select",{value:Q.under_warranty,onChange:ce=>Pe("under_warranty",ce.target.value),className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"اختر حالة الضمان"}),i.jsx("option",{value:"yes",children:"نعم"}),i.jsx("option",{value:"no",children:"لا"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٧- اسم الإدارة / الشركة المختصة بالإصلاح"}),i.jsx("input",{type:"text",value:Q.repair_company,onChange:ce=>Pe("repair_company",ce.target.value),placeholder:"اسم الإدارة أو الشركة المسؤولة عن الإصلاح",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٨- رقم الاتصال"}),i.jsx("input",{type:"text",value:Q.contact_number,onChange:ce=>Pe("contact_number",ce.target.value),placeholder:"رقم الهاتف للتواصل",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الإيميل"}),i.jsx("input",{type:"email",value:Q.email,onChange:ce=>Pe("email",ce.target.value),placeholder:"البريد الإلكتروني",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"٩- اسم المبلغ"}),i.jsx("input",{type:"text",value:Q.reporter_name,onChange:ce=>Pe("reporter_name",ce.target.value),placeholder:"الاسم الكامل للمبلغ",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"رقم الاتصال"}),i.jsx("input",{type:"text",value:Q.reporter_contact,onChange:ce=>Pe("reporter_contact",ce.target.value),placeholder:"رقم هاتف المبلغ",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الحالة"}),i.jsxs("select",{value:Q.status,onChange:ce=>Pe("status",ce.target.value),className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"اختر حالة البلاغ"}),q.map(ce=>i.jsx("option",{value:ce,children:ce},ce))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"ملاحظات"}),i.jsx("textarea",{rows:3,value:Q.notes,onChange:ce=>Pe("notes",ce.target.value),placeholder:"ملاحظات إضافية...",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الحل"}),i.jsx("textarea",{rows:3,value:Q.resolution,onChange:ce=>Pe("resolution",ce.target.value),placeholder:"وصف الحل المطبق...",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"تم الحل بواسطة"}),i.jsx("input",{type:"text",value:Q.resolved_by,onChange:ce=>Pe("resolved_by",ce.target.value),placeholder:"اسم الشخص المسؤول عن الحل",className:"w-full p-3 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{type:"button",onClick:()=>v(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm",children:"إلغاء"}),i.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:j?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{size:16,className:"animate-spin"}),"جاري الحفظ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oi,{size:16}),"حفظ التغييرات"]})})]})]})]})})]})}const ox=A.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ox.displayName="Textarea";const QEe=[{value:"الصيانة الطبية",label:"الصيانة الطبية"},{value:"الصيانة العامة",label:"الصيانة العامة"},{value:"تقنية المعلومات",label:"تقنية المعلومات"},{value:"الامن والسلامة",label:"الأمن والسلامة"},{value:"التموين الطبي",label:"التموين الطبي"},{value:"اخرى",label:"أخرى"}],JEe=[{value:"yes",label:"نعم"},{value:"no",label:"لا"}],ZEe=[{value:"مفتوح",label:"مفتوح",color:"bg-blue-100 text-blue-800"},{value:"مغلق",label:"مغلق",color:"bg-green-100 text-green-800"},{value:"مكهن",label:"مكهن",color:"bg-yellow-100 text-yellow-800"}];function eTe(){const{toast:e}=jn(),[t,r]=A.useState(!1),[n,a]=A.useState(!0),[s,o]=A.useState(!0),[l,c]=A.useState(!1),[d,u]=A.useState([]),[f,h]=A.useState([]),[p,g]=A.useState({facilityName:"",reportDate:new Date().toISOString().split("T")[0],reportTime:new Date().toTimeString().slice(0,5),category:"",deviceName:"",serialNumber:"",problemDescription:"",underWarranty:"",repairCompany:"",contactNumber:"",email:"",reporterName:"",reporterContact:"",status:"مفتوح",notes:""});A.useEffect(()=>{(async()=>{var y,w;try{const N=await Ra.getFacilities();N.success?u(N.data||[]):e({title:"خطأ في تحميل المنشآت",description:N.message,variant:"destructive"});const j=await yh.getAssets();if(j.success){const C=[...new Set(((w=(y=j.data)==null?void 0:y.filter(k=>k.serialNumber))==null?void 0:w.map(k=>k.serialNumber))||[])];h(C)}else e({title:"خطأ في تحميل الأرقام التسلسلية",description:j.message,variant:"destructive"})}catch(N){e({title:"خطأ في تحميل البيانات",description:N.message||"فشل في تحميل البيانات المطلوبة",variant:"destructive"})}finally{a(!1),o(!1)}})()},[e]),A.useEffect(()=>{(async()=>{var y;if(!(!p.facilityName||!p.deviceName)){c(!0);try{const w=await Ra.getSerialNumber(p.facilityName,p.deviceName);w.success&&((y=w.data)!=null&&y.serial_number)&&(g(N=>({...N,serialNumber:w.data.serial_number})),e({title:"تم العثور على الرقم التسلسلي",description:`الرقم التسلسلي: ${w.data.serial_number}`}))}catch(w){w.status===404?e({title:"لم يتم العثور على رقم تسلسلي",description:"لم يتم العثور على رقم تسلسلي لهذا الجهاز في المنشأة المحددة",variant:"default"}):console.log("Serial number fetch failed:",w)}finally{c(!1)}}})()},[p.facilityName,p.deviceName,e]);const m=(x,y)=>{g(w=>({...w,[x]:y}))},v=async()=>{if(!p.facilityName||!p.category||!p.deviceName||!p.problemDescription){e({title:"خطأ في البيانات",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}r(!0);try{const x={facility_id:p.facilityName,report_date:p.reportDate,report_time:p.reportTime,category:p.category,device_name:p.deviceName,serial_number:p.serialNumber,problem_description:p.problemDescription,under_warranty:p.underWarranty,repair_company:p.repairCompany,contact_number:p.contactNumber,email:p.email,reporter_name:p.reporterName,reporter_contact:p.reporterContact,status:p.status,notes:p.notes},y=await Ra.createReport(x);y.success?(e({title:"تم إنشاء البلاغ بنجاح",description:"سيتم مراجعة البلاغ من قبل الفريق المختص"}),g({facilityName:"",reportDate:new Date().toISOString().split("T")[0],reportTime:new Date().toTimeString().slice(0,5),category:"",deviceName:"",serialNumber:"",problemDescription:"",underWarranty:"",repairCompany:"",contactNumber:"",email:"",reporterName:"",reporterContact:"",status:"مفتوح",notes:""})):e({title:"خطأ في إنشاء البلاغ",description:y.message,variant:"destructive"})}catch(x){e({title:"خطأ في إنشاء البلاغ",description:x.message||"فشل في إرسال البلاغ",variant:"destructive"})}finally{r(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background rounded-lg p-6 border border-primary/20",children:i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"إنشاء بلاغ جديد"}),i.jsx("p",{className:"text-muted-foreground",children:"قم بتعبئة النموذج أدناه لإنشاء بلاغ حادثة أو مشكلة في المنشأة الصحية"})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(it,{children:[i.jsxs(Bt,{children:[i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(za,{className:"h-5 w-5"}),"المعلومات الأساسية"]}),i.jsx(Cu,{className:"text-right",children:"معلومات عامة حول البلاغ والحادثة"})]}),i.jsxs(ot,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"facility",children:"١- اسم المنشأة *"}),n?i.jsxs("div",{className:"flex items-center justify-center p-4",children:[i.jsx(Qt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"mr-2",children:"جاري تحميل المنشآت..."})]}):i.jsxs(hr,{value:p.facilityName,onValueChange:x=>m("facilityName",x),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر اسم المنشأة"})}),i.jsx(lr,{children:d.map(x=>i.jsx(Pt,{value:x.id.toString(),children:x.name},x.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"reportDate",children:"٢- تاريخ إنشاء البلاغ *"}),i.jsx(et,{id:"reportDate",type:"date",value:p.reportDate,onChange:x=>m("reportDate",x.target.value),className:"text-right",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"reportTime",children:"الوقت *"}),i.jsx(et,{id:"reportTime",type:"time",value:p.reportTime,onChange:x=>m("reportTime",x.target.value),className:"text-right",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"category",children:"٣- تصنيف البلاغ *"}),i.jsxs(hr,{value:p.category,onValueChange:x=>m("category",x),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر تصنيف البلاغ"})}),i.jsx(lr,{children:QEe.map(x=>i.jsx(Pt,{value:x.value,children:x.label},x.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"deviceName",children:"٤- اسم الجهاز أو الصنف *"}),i.jsx(et,{id:"deviceName",value:p.deviceName,onChange:x=>m("deviceName",x.target.value),placeholder:"اسم الجهاز أو نوع الصنف",className:"text-right",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(We,{htmlFor:"serialNumber",className:"flex items-center gap-2",children:["٥- الرقم التسلسلي (اختياري)",l&&i.jsx(Qt,{className:"h-3 w-3 animate-spin text-primary"})]}),i.jsx(et,{id:"serialNumber",type:"text",value:p.serialNumber||"",onChange:x=>m("serialNumber",x.target.value),placeholder:"أدخل الرقم التسلسلي",className:"text-right",disabled:l}),l&&i.jsx("p",{className:"text-xs text-muted-foreground text-right",children:"جاري البحث عن الرقم التسلسلي..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"problemDescription",children:"٦- وصف مشكلة البلاغ *"}),i.jsx(ox,{id:"problemDescription",value:p.problemDescription,onChange:x=>m("problemDescription",x.target.value),placeholder:"وصف مفصل للمشكلة أو العطل...",className:"text-right min-h-[120px]",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"warranty",children:"٧- هل الجهاز تحت الضمان؟"}),i.jsxs(hr,{value:p.underWarranty,onValueChange:x=>m("underWarranty",x),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر حالة الضمان"})}),i.jsx(lr,{children:JEe.map(x=>i.jsx(Pt,{value:x.value,children:x.label},x.value))})]})]})]})]}),i.jsxs(it,{children:[i.jsxs(Bt,{children:[i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(m4,{className:"h-5 w-5"}),"معلومات جهة الإصلاح"]}),i.jsx(Cu,{className:"text-right",children:"معلومات الإدارة أو الشركة المختصة بالإصلاح"})]}),i.jsxs(ot,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"repairCompany",children:"٨- اسم الإدارة / الشركة المختصة بالإصلاح"}),i.jsx(et,{id:"repairCompany",value:p.repairCompany,onChange:x=>m("repairCompany",x.target.value),placeholder:"اسم الإدارة أو الشركة المسؤولة عن الإصلاح",className:"text-right"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(We,{htmlFor:"contactNumber",className:"flex items-center gap-2",children:[i.jsx(_d,{className:"h-4 w-4"}),"٩- رقم الاتصال"]}),i.jsx(et,{id:"contactNumber",value:p.contactNumber,onChange:x=>m("contactNumber",x.target.value),placeholder:"رقم الهاتف للتواصل",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(We,{htmlFor:"email",className:"flex items-center gap-2",children:[i.jsx(dg,{className:"h-4 w-4"}),"الإيميل"]}),i.jsx(et,{id:"email",type:"email",value:p.email,onChange:x=>m("email",x.target.value),placeholder:"البريد الإلكتروني",className:"text-right"})]})]})]})]}),i.jsxs(it,{children:[i.jsxs(Bt,{children:[i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(qp,{className:"h-5 w-5"}),"معلومات المبلغ"]}),i.jsx(Cu,{className:"text-right",children:"معلومات الشخص الذي يقوم بالإبلاغ"})]}),i.jsx(ot,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"reporterName",children:"١٠- اسم المبلغ"}),i.jsx(et,{id:"reporterName",value:p.reporterName,onChange:x=>m("reporterName",x.target.value),placeholder:"الاسم الكامل للمبلغ",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"reporterContact",children:"رقم الاتصال"}),i.jsx(et,{id:"reporterContact",value:p.reporterContact,onChange:x=>m("reporterContact",x.target.value),placeholder:"رقم جوال المبلغ",className:"text-right"})]})]})})]}),i.jsxs(it,{children:[i.jsxs(Bt,{children:[i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(Si,{className:"h-5 w-5"}),"حالة البلاغ والملاحظات"]}),i.jsx(Cu,{className:"text-right",children:"حالة البلاغ والملاحظات الإضافية"})]}),i.jsxs(ot,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"status",children:"١١- حالة البلاغ"}),i.jsxs(hr,{value:p.status,onValueChange:x=>m("status",x),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر حالة البلاغ"})}),i.jsx(lr,{children:ZEe.map(x=>i.jsx(Pt,{value:x.value,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(hs,{className:x.color,children:x.label})})},x.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"notes",children:"١٢- ملاحظات"}),i.jsx(ox,{id:"notes",value:p.notes,onChange:x=>m("notes",x.target.value),placeholder:"أي ملاحظات إضافية مهمة...",className:"text-right"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx(mt,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"إلغاء"}),i.jsx(mt,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:t,onClick:v,children:t?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الإرسال..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qs,{className:"ml-2 h-4 w-4"}),"إرسال البلاغ"]})})]})]})]})}function md({title:e,value:t,icon:r,color:n="primary",subtitle:a}){const s={primary:"bg-primary text-primary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",info:"bg-info text-info-foreground"};return i.jsx("div",{className:"admin-card",children:i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:t}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e}),a&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:a})]}),i.jsx("div",{className:Ht("p-3 rounded-full",s[n]),children:i.jsx(r,{size:24})})]})})})}function JU(e,t,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,d=l*c,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=l*(2-s),n.valign==="middle"?r-=h/2*d:n.valign==="bottom"&&(r-=h*d),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=d;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var bD={},Gh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:bD=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return bD||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),_3=function(e,t){return _3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},_3(e,t)};function ZU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var eW=function(e){ZU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function tTe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rTe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function n2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function tW(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var o=rW(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function rW(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Vw(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function nW(e,t){var r=Vw(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function nTe(e,t,r,n,a){var s={},o=1.3333333333333333,l=d5(t,function(w){return a.getComputedStyle(w).backgroundColor});l!=null&&(s.fillColor=l);var c=d5(t,function(w){return a.getComputedStyle(w).color});c!=null&&(s.textColor=c);var d=iTe(n,r);d&&(s.cellPadding=d);var u="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var g=d5(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(s.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/o);var x=aTe(n);x&&(s.fontStyle=x);var y=(n.fontFamily||"").toLowerCase();return e.indexOf(y)!==-1&&(s.font=y),s}function aTe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function d5(e,t){var r=aW(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function aW(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:aW(e.parentElement,t):r}function iTe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=Vw(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function iW(e,t,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],h=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<l.rows.length;p++){var g=l.rows[p],m=(o=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=sTe(c,d,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function sTe(e,t,r,n,a,s){for(var o=new eW(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;s&&(u=nTe(e,c,t,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:oTe(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function oTe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function lTe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Kl(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function cTe(e,t){var r=new Gh(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();lTe(a,n,t);var s=Kl({},a,n,t),o;typeof window<"u"&&(o=window);var l=dTe(a,n,t),c=uTe(a,n,t),d=fTe(r,s),u=pTe(r,s,o);return{id:t.tableId,content:u,hooks:c,styles:l,settings:d}}function dTe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=r[c];n.columnStyles=Kl({},d,u,f)}else{var h=[e,t,r],p=h.map(function(g){return g[c]||{}});n[c]=Kl({},p[0],p[1],p[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function uTe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function fTe(e,t){var r,n,a,s,o,l,c,d,u,f,h,p,g=Vw(t.margin,40/e.scaleFactor()),m=(r=hTe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var x;t.showHead===!0?x="everyPage":t.showHead===!1?x="never":x=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var y=(s=t.useCss)!==null&&s!==void 0?s:!1,w=t.theme||(y?"plain":"striped"),N=!!t.horizontalPageBreak,j=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:w,startY:m,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:x,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:N,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function hTe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function pTe(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=iW(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||mTe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function mTe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=a.length:d=s+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var k3=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),gTe=function(e){ZU(t,e);function t(r,n,a,s,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return t}(k3),xTe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new gTe(t,this,n,a,s,o),f=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new k3(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new k3(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),sW=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof eW&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},e}(),oW=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Vw(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),vTe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function yTe(e,t){bTe(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=A3(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=A3(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),jTe(t),NTe(t,e),wTe(t)}function bTe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=nW(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,s,c,null);var f=d.padding("horizontal");d.contentWidth=n2(d.text,d.styles,e)+f;var h=n2(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=h+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function A3(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/a,c=n*l,d=o.width+c,u=r(o),f=d<u?u:d;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=A3(h,t,r))}return t}function wTe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,r=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=s.cells[c.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:h,row:s}}}}}function jTe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+s}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,s=0,d.colSpan>1){a=d,s+=c.width;continue}d.width=c.width+s}}}function NTe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=wD(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=wD(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<h*d.rowSpan?r={height:h,count:d.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function wD(e,t,r,n,a){return e.map(function(s){return STe(s,t,r,n,a)})}function STe(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=n2(e,r,n))return e;for(;t<n2(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function _Te(e,t){var r=new Gh(e),n=kTe(t,r.scaleFactor()),a=new xTe(t,n);return yTe(r,a),r.applyStyles(r.userStyles),a}function kTe(e,t){var r=e.content,n=CTe(r.columns);if(r.head.length===0){var a=jD(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=jD(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,o=e.styles;return{columns:n,head:u5("head",r.head,n,o,s,t),body:u5("body",r.body,n,o,s,t),foot:u5("foot",r.foot,n,o,s,t)}}function u5(e,t,r,n,a,s){var o={},l=t.map(function(c,d){for(var u=0,f={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(o[v.index]==null||o[v.index].left===0)if(p===0){var x=void 0;Array.isArray(c)?x=c[v.index-h-u]:x=c[v.dataKey];var y={};typeof x=="object"&&!Array.isArray(x)&&(y=(x==null?void 0:x.styles)||{});var w=ETe(e,v,d,a,n,s,y),N=new oW(x,w,e);f[v.dataKey]=N,f[v.index]=N,p=N.colSpan-1,o[v.index]={left:N.rowSpan-1,times:p}}else p--,h++;else o[v.index].left--,p=o[v.index].times,u++}return new sW(c,d,e,f)});return l}function jD(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=ATe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function ATe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function CTe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new vTe(a,t,r)})}function ETe(e,t,r,n,a,s,o){var l=rTe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var d=Kl({},l.table,l[e],a.styles,c),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?Kl({},l.alternateRow,a.alternateRowStyles):{},p=tTe(s),g=Kl({},p,d,h,f);return Kl(g,o)}function TTe(e,t,r){var n;r===void 0&&(r={});var a=nW(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),l.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(s.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||a>=f)d=!1,o.push(u),l.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function PTe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=TTe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function OTe(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(h,p){return h+p.height},0);l+=d}var u=new Gh(e);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(cW(u),s.y=a.top),t.callWillDrawPageHooks(u,s);var f=Kl({},s);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?DTe(u,t,f,s):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return vc(u,t,h,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;a2(u,t,h,g,f,s,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return vc(u,t,h,s,t.columns)})),tW(u,t,f,s),t.callEndPageHooks(u,s),t.finalY=s.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function DTe(e,t,r,n){var a=PTe(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?V0(e,t,r,n,d.columns,!0):ND(e,t,n,d.columns),FTe(e,t,r,n,d.columns),f5(e,t,n,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){e.applyStyles(e.userStyles);var u=l.columns;o>=0?V0(e,t,r,n,u,!0):ND(e,t,n,u),d=SD(e,t,o+1,n,u),f5(e,t,n,u)}var f=d-o;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),V0(e,t,r,n,h.columns,!0),SD(e,t,o+1,n,h.columns,f),f5(e,t,n,h.columns)}),o=d};o<t.body.length-1;)c()}function ND(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return vc(e,t,s,r,n)})}function FTe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;a2(e,t,s,l,r,n,a)})}function SD(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,d){var u=r+d===t.body.length-1,f=lW(e,t,u,n);c.canEntireRowFit(f,a)&&(vc(e,t,c,n,a),l=r+d)}),l}function f5(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return vc(e,t,s,r,n)})}function LTe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function ITe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new oW(d.raw,d.styles,d.section);u=Kl(u,d),u.text=[];var f=LTe(d,t,n);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(h,p),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>s&&(s=u.contentHeight),a[c.index]=u}}var g=new sW(e.raw,-1,e.section,a,!0);g.height=s;for(var m=0,v=r.columns;m<v.length;m++){var c=v[m],u=g.cells[c.index];u&&(u.height=g.height);var d=e.cells[c.index];d&&(d.height=e.height)}return g}function RTe(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function a2(e,t,r,n,a,s,o){var l=lW(e,t,n,s);if(r.canEntireRowFit(l,o))vc(e,t,r,s,o);else if(RTe(e,r,l,t)){var c=ITe(r,l,t,e);vc(e,t,r,s,o),V0(e,t,a,s,o),a2(e,t,c,n,a,s,o)}else V0(e,t,a,s,o),a2(e,t,r,n,a,s,o)}function vc(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}MTe(e,c,n);var u=c.getTextPos();JU(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function MTe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=rW(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),$Te(e,t,r,n.lineWidth))}function $Te(e,t,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(d,u,f,h,p){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,h,p,"S")}}function lW(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function V0(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return vc(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;tW(e,t,r,n),cW(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return vc(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function cW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function BTe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=cTe(this,n),s=_Te(this,a);return OTe(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){JU(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Gh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Gh.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Gh(this),s=iW(a,t,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var h5;try{if(typeof window<"u"&&window){var _D=window,kD=_D.jsPDF||((h5=_D.jspdf)===null||h5===void 0?void 0:h5.jsPDF);kD&&BTe(kD)}}catch(e){console.error("Could not apply autoTable plugin",e)}function Q1({percentage:e,size:t=220,strokeWidth:r=14,label:n}){const a=Math.max(0,Math.min(100,e||0)),s=t,o=t/2,l=(t-r)/2,c=s/2,d=o,u=c-l,f=d,h=c+l,g=`M ${u} ${f} A ${l} ${l} 0 0 1 ${h} ${d}`,m=Math.PI*l,v=a/100,x=m*(1-v),y=Math.PI*(1-v),w=c+Math.cos(y)*(l-r/2),N=d-Math.sin(y)*(l-r/2);return i.jsxs("div",{className:"w-full flex flex-col items-center",children:[i.jsxs("svg",{viewBox:`0 0 ${s} ${o+r}`,className:"w-full h-auto",role:"img","aria-label":n?`${n} ${a.toFixed(1)}%`:`${a.toFixed(1)}%`,children:[i.jsx("path",{d:g,fill:"none",stroke:"hsl(var(--muted-foreground) / 0.25)",strokeWidth:r,strokeLinecap:"round"}),i.jsx("path",{d:g,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:r,strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:x,style:{transition:"stroke-dashoffset 800ms ease"}}),i.jsx("line",{x1:c,y1:d,x2:w,y2:N,stroke:"hsl(var(--primary))",strokeWidth:2}),i.jsxs("text",{x:c,y:d-l/2,textAnchor:"middle",dominantBaseline:"middle",className:"font-bold",fill:"hsl(var(--foreground))",style:{fontSize:Math.max(14,l*.32)},children:[a.toFixed(1),"%"]})]}),n&&i.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:n})]})}const zTe={light:"",dark:".dark"},dW=A.createContext(null);function uW(){const e=A.useContext(dW);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const J1=A.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=A.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(dW.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:Ht("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(UTe,{id:l,config:n}),i.jsx(Hi,{children:r})]})})});J1.displayName="Chart";const UTe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(zTe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},p5=ca,Z1=A.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:h},p)=>{const{config:g}=uW(),m=A.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[x]=t,y=`${h||x.dataKey||x.name||"value"}`,w=C3(g,x,y),N=!h&&typeof o=="string"?((j=g[o])==null?void 0:j.label)||o:w==null?void 0:w.label;return l?i.jsx("div",{className:Ht("font-medium",c),children:l(N,t)}):N?i.jsx("div",{className:Ht("font-medium",c),children:N}):null},[o,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:p,className:Ht("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,i.jsx("div",{className:"grid gap-1.5",children:t.map((x,y)=>{const w=`${f||x.name||x.dataKey||"value"}`,N=C3(g,x,w),j=u||x.payload.fill||x.color;return i.jsx("div",{className:Ht("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:d&&(x==null?void 0:x.value)!==void 0&&x.name?d(x.value,x.name,x,y,x.payload):i.jsxs(i.Fragment,{children:[N!=null&&N.icon?i.jsx(N.icon,{}):!s&&i.jsx("div",{className:Ht("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),i.jsxs("div",{className:Ht("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,i.jsx("span",{className:"text-muted-foreground",children:(N==null?void 0:N.label)||x.name})]}),x.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});Z1.displayName="ChartTooltip";const WTe=A.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=uW();return r!=null&&r.length?i.jsx("div",{ref:s,className:Ht("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=C3(o,l,c);return i.jsxs("div",{className:Ht("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?i.jsx(d.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});WTe.displayName="ChartLegend";function C3(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function qTe(){var q,P;const{toast:e}=jn(),[t,r]=A.useState(null),[n,a]=A.useState(!1),[s,o]=A.useState({total_reports:0,open_reports:0,closed_reports:0,out_of_order_reports:0,status_distribution:[],category_distribution:[],facility_reports:[],monthly_trend:[]}),[l,c]=A.useState([]),[d,u]=A.useState(""),[f,h]=A.useState(""),[p,g]=A.useState(""),[m,v]=A.useState("");A.useEffect(()=>{(async()=>{try{const G=await Ra.getReports();G.success&&c(G.data||[]),Ra.getDashboardStats().then(W=>{W.success&&o(W.data)}).catch(W=>{console.warn("Dashboard stats loading failed:",W)}),G.success||e({title:"خطأ في تحميل البيانات",description:"فشل في تحميل بيانات البلاغات",variant:"destructive"})}catch(G){console.error("Data loading error:",G),e({title:"خطأ في تحميل البيانات",description:G.message||"فشل في تحميل بيانات لوحة التحكم",variant:"destructive"})}})()},[e]);const x=[...new Set(l.map(R=>{var G;return(G=R.facility)==null?void 0:G.name}).filter(Boolean))],y=[...new Set(l.map(R=>R.category||R.type).filter(Boolean))],w=R=>{if(!p&&!m)return!0;const G=new Date(R);if(isNaN(G.getTime()))return!1;const W=p?new Date(p):null,H=m?new Date(m):null;return W&&H?G>=W&&G<=H:W?G>=W:H?G<=H:!0},N=l.filter(R=>{var W;const G=R.category||R.type;return(d===""||((W=R.facility)==null?void 0:W.name)===d)&&(f===""||G===f)&&w(R.report_date)}),j=N.length,C=N.filter(R=>R.status==="مفتوح").length,k=N.filter(R=>R.status==="مغلق").length,_=N.filter(R=>R.status==="مكهن").length,L=[{name:"مفتوح",value:C,fill:"#f59e0b"},{name:"مغلق",value:k,fill:"#10b981"},{name:"مكهن",value:_,fill:"#ef4444"}],z=y.map(R=>({name:R,value:N.filter(G=>(G.category||G.type)===R).length,fill:`hsl(${Math.random()*360}, 70%, 50%)`})),D=x.map((R,G)=>({name:R,reports:N.filter(W=>{var H;return((H=W.facility)==null?void 0:H.name)===R}).length,fill:`hsl(${G*45%360}, 65%, 55%)`})).sort((R,G)=>G.reports-R.reports),I=(()=>{const R={},G=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return G.forEach(W=>{R[W]=0}),N.forEach(W=>{const H=new Date(W.report_date||W.created_at);if(!isNaN(H.getTime())){const me=H.getMonth(),ae=G[me];R[ae]++}}),G.map(W=>({month:W,count:R[W]}))})(),B=()=>{g(""),v("")},J=R=>{r(R),a(!0)},U=()=>{a(!1),r(null)},X=async()=>{try{const R=document.createElement("canvas");R.width=800,R.height=400;const G=R.getContext("2d");if(!G)return;G.fillStyle="#ffffff",G.fillRect(0,0,R.width,R.height),G.direction="rtl",G.fillStyle="#000000",G.font="bold 24px Arial",G.textAlign="center",G.fillText("توزيع البلاغات حسب الحالة",R.width/2,40),G.font="14px Arial",G.fillText(`Report Date: ${new Date().toLocaleDateString("en-US")}`,R.width/2,70),G.font="bold 16px Arial",G.textAlign="right",G.fillStyle="#22c55e",G.fillRect(50,100,700,40),G.fillStyle="#ffffff",G.fillText("العدد",250,125),G.fillText("الحالة",650,125),G.fillStyle="#000000",G.font="14px Arial";let W=160;L.forEach((ae,be)=>{be%2===0&&(G.fillStyle="#f3f4f6",G.fillRect(50,W-20,700,35)),G.fillStyle="#000000",G.fillText(ae.value.toString(),250,W),G.fillText(ae.name,650,W),W+=35});const H=R.toDataURL("image/png"),me=new qt;me.addImage(H,"PNG",5,5,200,100),me.save("status-distribution.pdf"),e({title:"تم تصدير PDF بنجاح"})}catch{e({title:"خطأ في تصدير PDF",variant:"destructive"})}},M=()=>{const R=L.map(H=>({الحالة:H.name,العدد:H.value})),G=fr.json_to_sheet(R),W=fr.book_new();fr.book_append_sheet(W,G,"Status Distribution"),sl(W,"status-distribution.xlsx"),e({title:"تم تصدير Excel بنجاح"})},Q=async()=>{try{const R=document.createElement("canvas");R.width=800,R.height=Math.max(400,150+z.length*35);const G=R.getContext("2d");if(!G)return;G.fillStyle="#ffffff",G.fillRect(0,0,R.width,R.height),G.direction="rtl",G.fillStyle="#000000",G.font="bold 24px Arial",G.textAlign="center",G.fillText("توزيع البلاغات حسب النوع",R.width/2,40),G.font="14px Arial",G.fillText(`Report Date: ${new Date().toLocaleDateString("en-US")}`,R.width/2,70),G.font="bold 16px Arial",G.textAlign="right",G.fillStyle="#3b82f6",G.fillRect(50,100,700,40),G.fillStyle="#ffffff",G.fillText("العدد",250,125),G.fillText("النوع",650,125),G.fillStyle="#000000",G.font="14px Arial";let W=160;z.forEach((be,te)=>{te%2===0&&(G.fillStyle="#f3f4f6",G.fillRect(50,W-20,700,35)),G.fillStyle="#000000",G.fillText(be.value.toString(),250,W),G.fillText(be.name,650,W),W+=35});const H=R.toDataURL("image/png"),me=new qt,ae=R.height*200/R.width;me.addImage(H,"PNG",5,5,200,ae),me.save("type-distribution.pdf"),e({title:"تم تصدير PDF بنجاح"})}catch{e({title:"خطأ في تصدير PDF",variant:"destructive"})}},le=()=>{const R=z.map(H=>({النوع:H.name,العدد:H.value})),G=fr.json_to_sheet(R),W=fr.book_new();fr.book_append_sheet(W,G,"Type Distribution"),sl(W,"type-distribution.xlsx"),e({title:"تم تصدير Excel بنجاح"})},ue=async()=>{try{const R=document.createElement("canvas");R.width=800,R.height=Math.max(400,150+D.length*35);const G=R.getContext("2d");if(!G)return;G.fillStyle="#ffffff",G.fillRect(0,0,R.width,R.height),G.direction="rtl",G.fillStyle="#000000",G.font="bold 24px Arial",G.textAlign="center",G.fillText("البلاغات حسب المنشآت",R.width/2,40),G.font="14px Arial",G.fillText(`Report Date: ${new Date().toLocaleDateString("en-US")}`,R.width/2,70),G.font="bold 16px Arial",G.textAlign="right",G.fillStyle="#f59e0b",G.fillRect(50,100,700,40),G.fillStyle="#ffffff",G.fillText("النسبة",150,125),G.fillText("العدد",350,125),G.fillText("المنشأة",650,125),G.fillStyle="#000000",G.font="14px Arial";let W=160;D.forEach((be,te)=>{te%2===0&&(G.fillStyle="#f3f4f6",G.fillRect(50,W-20,700,35)),G.fillStyle="#000000";const ge=j>0?Math.round(be.reports/j*100):0;G.fillText(`${ge}%`,150,W),G.fillText(be.reports.toString(),350,W),G.fillText(be.name,650,W),W+=35});const H=R.toDataURL("image/png"),me=new qt,ae=R.height*200/R.width;me.addImage(H,"PNG",5,5,200,ae),me.save("facility-reports.pdf"),e({title:"تم تصدير PDF بنجاح"})}catch{e({title:"خطأ في تصدير PDF",variant:"destructive"})}},O=()=>{const R=D.map(H=>({المنشأة:H.name,العدد:H.reports,النسبة:`${j>0?Math.round(H.reports/j*100):0}%`})),G=fr.json_to_sheet(R),W=fr.book_new();fr.book_append_sheet(W,G,"Facility Reports"),sl(W,"facility-reports.xlsx"),e({title:"تم تصدير Excel بنجاح"})},V=async()=>{try{const R=document.createElement("canvas");R.width=800,R.height=600;const G=R.getContext("2d");if(!G)return;G.fillStyle="#ffffff",G.fillRect(0,0,R.width,R.height),G.direction="rtl",G.fillStyle="#000000",G.font="bold 24px Arial",G.textAlign="center",G.fillText("اتجاه البلاغات الشهري",R.width/2,40),G.font="14px Arial",G.fillText(`Report Date: ${new Date().toLocaleDateString("en-US")}`,R.width/2,70),G.font="bold 16px Arial",G.textAlign="right",G.fillStyle="#6366f1",G.fillRect(50,100,700,40),G.fillStyle="#ffffff",G.fillText("العدد",250,125),G.fillText("الشهر",650,125),G.fillStyle="#000000",G.font="14px Arial";let W=160;I.forEach((ae,be)=>{be%2===0&&(G.fillStyle="#f3f4f6",G.fillRect(50,W-20,700,35)),G.fillStyle="#000000",G.fillText(ae.count.toString(),250,W),G.fillText(ae.month,650,W),W+=35});const H=R.toDataURL("image/png"),me=new qt;me.addImage(H,"PNG",5,5,200,150),me.save("monthly-trend.pdf"),e({title:"تم تصدير PDF بنجاح"})}catch{e({title:"خطأ في تصدير PDF",variant:"destructive"})}},Y=()=>{const R=I.map(H=>({الشهر:H.month,العدد:H.count})),G=fr.json_to_sheet(R),W=fr.book_new();fr.book_append_sheet(W,G,"Monthly Trend"),sl(W,"monthly-trend.xlsx"),e({title:"تم تصدير Excel بنجاح"})};return i.jsxs("div",{className:"space-y-4 p-2 sm:p-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-lg p-4 sm:p-6 text-primary-foreground shadow-lg",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2",children:"لوحة تحكم البلاغات"}),i.jsx("p",{className:"text-sm sm:text-base text-primary-foreground/90",children:"إحصائيات ومعدلات الإنجاز للبلاغات والصيانة"})]}),i.jsx("div",{className:"mt-4 sm:mt-0",children:i.jsx("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:i.jsx("span",{className:"bg-white/20 px-2 sm:px-3 py-1 rounded-full",children:"آخر تحديث: الآن"})})})]})}),i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-sm border border-border",children:[i.jsx("div",{className:"bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground px-3 sm:px-4 py-3 rounded-t-lg border-b border-border",children:i.jsxs("h3",{className:"font-semibold text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(Sd,{className:"h-4 w-4"}),"فلترة البيانات"]})}),i.jsxs("div",{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground block text-right",children:"المنشأة"}),i.jsxs("select",{value:d,onChange:R=>u(R.target.value),className:"w-full p-2 sm:p-3 border border-border rounded-lg text-right bg-background hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-sm",children:[i.jsx("option",{value:"",children:"جميع المنشآت"}),x.map(R=>i.jsx("option",{value:R,children:R},R))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground block text-right",children:"النوع"}),i.jsxs("select",{value:f,onChange:R=>h(R.target.value),className:"w-full p-2 sm:p-3 border border-border rounded-lg text-right bg-background hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-sm",children:[i.jsx("option",{value:"",children:"جميع الأنواع"}),y.map(R=>i.jsx("option",{value:R,children:R},R))]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground block text-right",children:"من تاريخ"}),i.jsx("input",{type:"date",value:p,onChange:R=>g(R.target.value),className:"w-full p-2 sm:p-3 border border-border rounded-lg text-right bg-background hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-foreground block text-right",children:"إلى تاريخ"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"date",value:m,onChange:R=>v(R.target.value),className:"flex-1 p-2 sm:p-3 border border-border rounded-lg text-right bg-background hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-sm"}),(p||m)&&i.jsx("button",{onClick:B,className:"px-3 py-2 bg-danger text-danger-foreground rounded-lg hover:bg-danger/90 transition-colors text-xs flex items-center gap-1",title:"مسح فلتر التاريخ",children:i.jsx(_r,{className:"h-3 w-3"})})]})]})]}),(p||m)&&i.jsx("div",{className:"mt-3 p-2 bg-primary/10 rounded-lg",children:i.jsxs("div",{className:"text-sm text-primary text-right flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),i.jsxs("span",{children:["فلتر التاريخ:",p&&` من ${p}`,p&&m&&" ",m&&` إلى ${m}`,i.jsxs("span",{className:"mr-2 text-primary/70",children:["(",j," بلاغ)"]})]})]})})]})]}),i.jsxs("div",{className:"responsive-grid",children:[i.jsx(md,{title:"إجمالي البلاغات",value:j,icon:Od,color:"primary"}),i.jsx(md,{title:"البلاغات المفتوحة",value:C,icon:Ql,color:"warning"}),i.jsx(md,{title:"البلاغات المغلقة",value:k,icon:qs,color:"success"}),i.jsx(md,{title:"البلاغات المكهنة",value:_,icon:Yl,color:"danger"})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-4 max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-gradient-to-br from-background to-accent/10 p-4 sm:p-6 rounded-2xl border border-border/50 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-primary/30",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-foreground mb-2",children:"مؤشر الإنجاز"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"نسبة البلاغات المغلقة من إجمالي البلاغات"})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-full max-w-[200px]",children:i.jsx(Q1,{percentage:j>0?k/j*100:0,size:160,strokeWidth:12,label:""})}),i.jsxs("div",{className:"w-full grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{className:"bg-success/10 p-3 rounded-xl border border-success/20",children:[i.jsx("div",{className:"text-lg font-bold text-success",children:k.toLocaleString()}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"البلاغات المغلقة"})]}),i.jsxs("div",{className:"bg-primary/10 p-3 rounded-xl border border-primary/20",children:[i.jsx("div",{className:"text-lg font-bold text-primary",children:j.toLocaleString()}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"إجمالي البلاغات"})]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-lg border border-border overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-success to-success/80 text-success-foreground px-3 sm:px-4 py-3 border-b border-border flex justify-between items-center",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:M,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير Excel",children:i.jsx($i,{className:"h-4 w-4"})}),i.jsx("button",{onClick:X,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير PDF",children:i.jsx(Pr,{className:"h-4 w-4"})})]}),i.jsxs("h3",{className:"font-semibold text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(ii,{className:"h-4 w-4"}),"توزيع البلاغات حسب الحالة"]})]}),i.jsxs("div",{className:"p-3 sm:p-4",children:[i.jsx(J1,{config:{},className:"h-[250px] sm:h-[300px] w-full",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Ud,{children:[i.jsx(fi,{data:L,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:L.map((R,G)=>i.jsx(Ro,{fill:R.fill},`cell-${G}`))}),i.jsx(p5,{content:i.jsx(Z1,{})})]})})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mt-3 sm:mt-4",children:L.map(R=>i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-accent/50 px-2 sm:px-3 py-1 sm:py-2 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full",style:{backgroundColor:R.fill}}),i.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[R.name," (",R.value,")"]})]},R.name))})]})]}),i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-lg border border-border overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-info to-info/80 text-info-foreground px-3 sm:px-4 py-3 border-b border-border flex justify-between items-center",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:le,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير Excel",children:i.jsx($i,{className:"h-4 w-4"})}),i.jsx("button",{onClick:Q,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير PDF",children:i.jsx(Pr,{className:"h-4 w-4"})})]}),i.jsxs("h3",{className:"font-semibold text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(Od,{className:"h-4 w-4"}),"توزيع البلاغات حسب النوع"]})]}),i.jsxs("div",{className:"p-3 sm:p-4",children:[i.jsx(J1,{config:{},className:"h-[250px] sm:h-[300px] w-full",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Ud,{children:[i.jsx(fi,{data:z,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:z.map((R,G)=>i.jsx(Ro,{fill:R.fill},`cell-${G}`))}),i.jsx(p5,{content:i.jsx(Z1,{})})]})})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 sm:gap-2 mt-3 sm:mt-4 max-h-20 sm:max-h-24 overflow-y-auto",children:z.map(R=>i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs bg-accent/30 px-2 py-1 rounded",children:[i.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:R.fill}}),i.jsxs("span",{className:"truncate",children:[R.name," (",R.value,")"]})]},R.name))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-lg border border-border overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-warning to-warning/80 text-warning-foreground px-3 sm:px-4 py-3 border-b border-border flex justify-between items-center",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:O,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير Excel",children:i.jsx($i,{className:"h-4 w-4"})}),i.jsx("button",{onClick:ue,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير PDF",children:i.jsx(Pr,{className:"h-4 w-4"})})]}),i.jsxs("h3",{className:"font-semibold text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(Sd,{className:"h-4 w-4"}),"البلاغات حسب المنشآت"]})]}),i.jsx("div",{className:"p-3 sm:p-4",children:D.length>0?i.jsx("div",{className:"space-y-3",children:D.map((R,G)=>i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:R.fill}}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:R.reports})]}),i.jsx("div",{className:"text-right flex-1 min-w-0 mr-3",children:i.jsx("span",{className:"text-sm font-medium text-foreground block truncate",children:R.name})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-full bg-accent rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out group-hover:shadow-lg",style:{backgroundColor:R.fill,width:`${j>0?R.reports/Math.max(...D.map(W=>W.reports))*100:0}%`,background:`linear-gradient(90deg, ${R.fill}, ${R.fill}dd)`}})}),i.jsx("div",{className:"absolute left-2 top-0 h-full flex items-center",children:i.jsxs("span",{className:"text-xs font-medium text-black drop-shadow-sm",children:[j>0?Math.round(R.reports/j*100):0,"%"]})})]})]},R.name))}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد بيانات لعرضها"})})]}),i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-lg border border-border overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground px-3 sm:px-4 py-3 border-b border-border flex justify-between items-center",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:Y,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير Excel",children:i.jsx($i,{className:"h-4 w-4"})}),i.jsx("button",{onClick:V,className:"p-1.5 hover:bg-white/20 rounded transition-colors",title:"تصدير PDF",children:i.jsx(Pr,{className:"h-4 w-4"})})]}),i.jsxs("h3",{className:"font-semibold text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(ii,{className:"h-4 w-4"}),"اتجاه البلاغات الشهري"]})]}),i.jsx("div",{className:"p-3 sm:p-4",children:i.jsx("div",{className:"h-[300px] sm:h-[350px] w-full",children:i.jsx(J1,{config:{},className:"h-full w-full",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Hw,{data:I,margin:{top:20,right:10,left:10,bottom:40},children:[i.jsx(gc,{dataKey:"month",fontSize:10,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),i.jsx(xc,{fontSize:10,tick:{fontSize:10},width:30}),i.jsx(p5,{content:i.jsx(Z1,{})}),i.jsx(mc,{type:"monotone",dataKey:"count",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2}})]})})})})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-lg border border-border overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-danger to-danger/80 text-danger-foreground px-3 sm:px-4 py-3 border-b border-border",children:i.jsxs("h3",{className:"font-semibold text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(Ql,{className:"h-4 w-4"}),"أحدث البلاغات"]})}),i.jsx("div",{className:"p-3 sm:p-4",children:i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[N.slice(0,5).map(R=>{var G;return i.jsxs("div",{className:"flex flex-col gap-3 p-3 sm:p-4 bg-accent rounded-lg hover:bg-accent/80 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 mt-1 ${R.status==="مفتوح"?"bg-warning":R.status==="مغلق"?"bg-success":"bg-danger"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-medium text-sm sm:text-base text-right",children:[R.id," - ",R.title]}),i.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground text-right",children:(G=R.facility)==null?void 0:G.name})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[i.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:i.jsx("button",{onClick:()=>J(R),className:"text-xs sm:text-sm px-2 sm:px-3 py-1 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"عرض التفاصيل"})}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-xs sm:text-sm order-1 sm:order-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs whitespace-nowrap ${R.status==="مفتوح"?"bg-warning text-warning-foreground":R.status==="مغلق"?"bg-success text-success-foreground":"bg-danger text-danger-foreground"}`,children:R.status}),i.jsx("span",{className:"text-muted-foreground text-right",children:R.report_date})]})]})]},R.id)}),N.length===0&&i.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:"لا توجد بلاغات لعرضها"})]})})]}),n&&t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-2xl w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground px-4 sm:px-6 py-3 sm:py-4 rounded-t-lg flex justify-between items-center sticky top-0",children:[i.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-right",children:["تفاصيل البلاغ #",t.id]}),i.jsx("button",{onClick:U,className:"text-primary-foreground hover:text-primary-foreground/80 transition-colors",children:i.jsx(_r,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),i.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("span",{className:`px-3 sm:px-4 py-2 rounded-full text-sm font-medium ${t.status==="مفتوح"?"bg-warning text-warning-foreground":t.status==="مغلق"?"bg-success text-success-foreground":"bg-danger text-danger-foreground"}`,children:t.status})}),i.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 text-right",children:[i.jsx(za,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-1 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium text-foreground text-sm sm:text-base",children:"العنوان"}),i.jsx("div",{className:"text-muted-foreground text-sm break-words",children:t.title})]})]}),i.jsxs("div",{className:"flex items-start gap-3 text-right",children:[i.jsx(Sd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-1 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium text-foreground text-sm sm:text-base",children:"النوع"}),i.jsx("div",{className:"text-muted-foreground text-sm",children:t.category||t.type})]})]}),i.jsxs("div",{className:"flex items-start gap-3 text-right",children:[i.jsx(I7,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-1 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium text-foreground text-sm sm:text-base",children:"المنشأة"}),i.jsx("div",{className:"text-muted-foreground text-sm break-words",children:(q=t.facility)==null?void 0:q.name})]})]}),i.jsxs("div",{className:"flex items-start gap-3 text-right",children:[i.jsx(qp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-1 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium text-foreground text-sm sm:text-base",children:"المبلغ"}),i.jsx("div",{className:"text-muted-foreground text-sm",children:((P=t.user)==null?void 0:P.name)||"غير محدد"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 text-right",children:[i.jsx(Fo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-1 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium text-foreground text-sm sm:text-base",children:"تاريخ البلاغ"}),i.jsx("div",{className:"text-muted-foreground text-sm",children:t.report_date})]})]}),t.updated_at&&t.updated_at!==t.created_at&&i.jsxs("div",{className:"flex items-start gap-3 text-right",children:[i.jsx(Ql,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-1 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium text-foreground text-sm sm:text-base",children:"آخر تحديث"}),i.jsx("div",{className:"text-muted-foreground text-sm",children:t.updated_at})]})]})]})}),t.description&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-medium text-foreground text-right text-sm sm:text-base",children:"الوصف"}),i.jsx("div",{className:"bg-accent p-3 sm:p-4 rounded-lg text-right",children:i.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm break-words",children:t.description})})]}),t.priority&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-medium text-foreground text-right text-sm sm:text-base",children:"الأولوية"}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${t.priority==="عالية"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":t.priority==="متوسطة"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"}`,children:t.priority})]}),t.notes&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-medium text-foreground text-right text-sm sm:text-base",children:"ملاحظات"}),i.jsx("div",{className:"bg-accent p-3 sm:p-4 rounded-lg text-right",children:i.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm break-words",children:t.notes})})]})]}),i.jsx("div",{className:"bg-accent/30 px-4 sm:px-6 py-3 sm:py-4 rounded-b-lg flex justify-end sticky bottom-0",children:i.jsx("button",{onClick:U,className:"px-3 sm:px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm sm:text-base",children:"إغلاق"})})]})})]})}function HTe(){const{id:e}=wQ(),t=Yp(),[r,n]=A.useState(null),[a,s]=A.useState(null),[o,l]=A.useState(0),[c,d]=A.useState(0);return A.useEffect(()=>{const u=lM.find(f=>f.id===e);if(u){n(u);const f=BZ.find(v=>v.serialNumber===u.serialNumber);f&&(s(f),d(f.malfunctionCount));const h=new Date(u.reportDate),g=Math.abs(new Date().getTime()-h.getTime()),m=Math.ceil(g/(1e3*60*60*24));l(m)}},[e]),r?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["عرض البلاغ ",r.id]}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"تفاصيل البلاغ وحالة الجهاز"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>t("/reports/list"),className:"admin-btn-secondary flex items-center gap-2",children:[i.jsx(T7,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"العودة للقائمة"}),i.jsx("span",{className:"sm:hidden",children:"عودة"})]}),i.jsxs("button",{className:"admin-btn-primary flex items-center gap-2",children:[i.jsx(_a,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"تعديل"})]}),i.jsxs("button",{className:"admin-btn-info flex items-center gap-2",children:[i.jsx(un,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"طباعة"})]})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"حالة البلاغ"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:r.id}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"رقم البلاغ"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-2xl font-bold ${r.status==="مفتوح"?"text-warning":r.status==="مغلق"?"text-success":"text-danger"}`,children:r.status}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"الحالة الحالية"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-danger",children:o}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"أيام التوقف"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-warning",children:c}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"مرات التعطل"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"تفاصيل البلاغ"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(No,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"المنشأة"}),i.jsx("div",{className:"text-muted-foreground",children:r.facilityName})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(za,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"فئة البلاغ"}),i.jsx("div",{className:"text-muted-foreground",children:r.category})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_C,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"نوع الجهاز"}),i.jsx("div",{className:"text-muted-foreground",children:r.deviceType})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Fo,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"تاريخ البلاغ"}),i.jsx("div",{className:"text-muted-foreground",children:r.reportDate})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Od,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"وصف العطل"}),i.jsx("div",{className:"text-muted-foreground",children:r.description})]})]})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"معلومات الجهاز"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(za,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"الرقم التسلسلي"}),i.jsx("div",{className:"text-muted-foreground",children:r.serialNumber})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ql,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"حالة الضمان"}),i.jsx("div",{className:`${r.warrantyStatus==="تحت الضمان"?"text-success":"text-danger"}`,children:r.warrantyStatus})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(No,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"المورد"}),i.jsx("div",{className:"text-muted-foreground",children:r.supplierName})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_d,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"رقم تواصل المورد"}),i.jsx("div",{className:"text-muted-foreground",children:r.supplierContact})]})]}),a&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_C,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"طراز الجهاز"}),i.jsx("div",{className:"text-muted-foreground",children:a.deviceModel})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Fo,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"تاريخ التركيب"}),i.jsx("div",{className:"text-muted-foreground",children:a.installationDate})]})]})]})]})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"معلومات المبلغ والقسم المسؤول"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium text-lg",children:"المبلغ"}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(qp,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"اسم المبلغ"}),i.jsx("div",{className:"text-muted-foreground",children:r.reporterName})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_d,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"رقم الهاتف"}),i.jsx("div",{className:"text-muted-foreground",children:r.reporterContact})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(dg,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"البريد الإلكتروني"}),i.jsx("div",{className:"text-muted-foreground",children:r.reporterEmail})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium text-lg",children:"القسم المسؤول"}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(No,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"اسم القسم"}),i.jsx("div",{className:"text-muted-foreground",children:r.responsibleDept})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_d,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"رقم الهاتف"}),i.jsx("div",{className:"text-muted-foreground",children:r.deptContact})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(dg,{className:"h-5 w-5 text-primary mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"البريد الإلكتروني"}),i.jsx("div",{className:"text-muted-foreground",children:r.deptEmail})]})]})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"سجل الأحداث"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-accent rounded-lg",children:[i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"تم إنشاء البلاغ"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:r.reportDate})]})]}),r.status==="مكهن"&&i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-danger/10 rounded-lg",children:[i.jsx("div",{className:"w-3 h-3 bg-danger rounded-full flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"تم تكهين الجهاز"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"بانتظار تحديد تاريخ التكهين"})]})]}),r.status==="مغلق"&&i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-success/10 rounded-lg",children:[i.jsx("div",{className:"w-3 h-3 bg-success rounded-full flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"تم إغلاق البلاغ"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"بانتظار تحديد تاريخ الإغلاق"})]})]})]})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Od,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:"البلاغ غير موجود"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم العثور على البلاغ المطلوب"})]})})}const EA=(e,t="البلاغات")=>{try{const r=fr.book_new(),n=fr.json_to_sheet(e);fr.book_append_sheet(r,n,"البلاغات"),sl(r,`${t}.xlsx`)}catch(r){throw console.error("Error exporting to Excel:",r),new Error("فشل في تصدير البيانات إلى Excel")}};function VTe(){const{toast:e}=jn(),[t,r]=A.useState(""),[n,a]=A.useState(!1),[s,o]=A.useState(!1),[l,c]=A.useState(!1),[d,u]=A.useState(!1),[f,h]=A.useState(null),[p,g]=A.useState([]),[m,v]=A.useState([]),[x,y]=A.useState(!0),[w,N]=A.useState(!1),[j,C]=A.useState(!1),[k,_]=A.useState(null),[L,z]=A.useState({}),[D,T]=A.useState(!1),[I,B]=A.useState(null),[J,U]=A.useState(!1),[X,M]=A.useState(""),[Q,le]=A.useState(!1),[ue,O]=A.useState(!1),[V,Y]=A.useState(null),[q,P]=A.useState({itemNumber:"",itemName:"",receivedQty:"",issuedQty:"",availableQty:"",minQuantity:"",purchaseValue:"",deliveryDate:"",supplierName:"",beneficiaryFacility:"",notes:"",image:null,pdfbase64:null,invoiceNumber:"",invoiceDate:"",supplierContact:""}),[R,G]=A.useState({itemNumber:"",itemName:"",receivedQty:"",issuedQty:"",availableQty:"",minQuantity:"",purchaseValue:"",deliveryDate:"",supplierName:"",beneficiaryFacility:"",notes:"",image:null,pdfbase64:null,invoiceNumber:"",invoiceDate:"",supplierContact:""}),[W,H]=A.useState(""),[me,ae]=A.useState(""),[be,te]=A.useState({itemNumber:"",itemName:"",beneficiaryFacility:"",requestStatus:"مفتوح تحت الاجراء",withdrawQty:"",withdrawDate:"",recipientName:"",recipientContact:"",notes:"",pdfbase64:null}),[ge,re]=A.useState({id:"",orderNumber:"",beneficiaryFacility:"",requestStatus:"مفتوح تحت الاجراء",withdrawQty:"",withdrawDate:"",recipientName:"",recipientContact:"",notes:"",pdfbase64:null});A.useEffect(()=>{(async()=>{try{y(!0);const[at,Qe]=await Promise.all([ti.getInventory(),Ra.getFacilities()]);at.success&&g(at.data||[]),Qe.success&&v(Qe.data||[])}catch(at){e({title:"خطأ في تحميل البيانات",description:at.message||"فشل في تحميل بيانات المستودع",variant:"destructive"})}finally{y(!1)}})()},[e]);const Oe=p.filter(oe=>{var at,Qe;return((at=oe.itemName)==null?void 0:at.includes(t))||((Qe=oe.itemNumber)==null?void 0:Qe.includes(t))}),Pe=()=>p.reduce((oe,at)=>{const Qe=parseFloat(at.purchaseValue)||0,Zt=parseFloat(at.receivedQty)||1,aa=parseFloat(at.availableQty)||0,Nn=Qe/Zt*aa;return oe+Nn},0),ke=()=>p.reduce((oe,at)=>{const Qe=parseFloat(at.purchaseValue)||0;return oe+Qe},0),Le=(oe,at)=>{const Qe=parseFloat(oe)||0,Zt=parseFloat(at)||0;return Math.max(0,Qe-Zt)},Ge=(oe,at=!1)=>{if(oe){const Qe=URL.createObjectURL(oe);at?(ae(Qe),G(Zt=>({...Zt,image:oe}))):(H(Qe),P(Zt=>({...Zt,image:oe})))}else at?(ae(""),G(Qe=>({...Qe,image:null}))):(H(""),P(Qe=>({...Qe,image:null})))},ut=(oe,at=!1)=>{oe?at?G(Qe=>({...Qe,pdfbase64:oe})):P(Qe=>({...Qe,pdfbase64:oe})):at?G(Qe=>({...Qe,pdfbase64:null})):P(Qe=>({...Qe,pdfbase64:null}))},bt=oe=>{try{const at=window.open("","_blank");if(!at)throw new Error("Unable to open print window");const Qe=`
        <!DOCTYPE html>
        <html dir="rtl">
        <head>
          <meta charset="UTF-8">
          <title>أمر صرف رقم ${oe.orderNumber}</title>
          <style>
            body { 
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              direction: rtl; 
              margin: 20px; 
              line-height: 1.6;
              color: #333;
            }
            .header { 
              text-align: center; 
              margin-bottom: 30px; 
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
            }
            .header h1 { 
              color: #333; 
              margin-bottom: 10px; 
              font-size: 28px;
              font-weight: bold;
            }
            .header p { 
              color: #666; 
              font-size: 14px;
            }
            .order-info {
              background: #f8f9fa;
              padding: 20px;
              border-radius: 8px;
              margin: 20px 0;
            }
            .info-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin: 20px 0;
            }
            .info-item {
              background: white;
              padding: 15px;
              border-radius: 6px;
              border: 1px solid #ddd;
            }
            .info-label {
              font-weight: bold;
              color: #555;
              margin-bottom: 5px;
              font-size: 14px;
            }
            .info-value {
              font-size: 16px;
              color: #333;
            }
            .status {
              display: inline-block;
              padding: 8px 16px;
              border-radius: 20px;
              font-weight: bold;
              font-size: 14px;
            }
            .status-completed {
              background-color: #d4edda;
              color: #155724;
            }
            .status-pending {
              background-color: #fff3cd;
              color: #856404;
            }
            .status-rejected {
              background-color: #f8d7da;
              color: #721c24;
            }
            .notes-section {
              margin-top: 30px;
              background: #f8f9fa;
              padding: 20px;
              border-radius: 8px;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
              font-size: 12px;
              color: #666;
              border-top: 1px solid #ddd;
              padding-top: 20px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>أمر صرف من المستودع</h1>
            <p>رقم الأمر: <strong>${oe.orderNumber||"غير محدد"}</strong></p>
            <p>تاريخ الطباعة: ${new Date().toLocaleDateString("ar-SA")} - ${new Date().toLocaleTimeString("ar-SA")}</p>
          </div>
          
          <div class="order-info">
            <h2 style="margin-top: 0; color: #333;">معلومات الصنف</h2>
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">رقم الصنف:</div>
                <div class="info-value">${(f==null?void 0:f.itemNumber)||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">اسم الصنف:</div>
                <div class="info-value">${(f==null?void 0:f.itemName)||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">الشركة الموردة:</div>
                <div class="info-value">${(f==null?void 0:f.supplierName)||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">الكمية المتاحة قبل الصرف:</div>
                <div class="info-value">${(f==null?void 0:f.availableQty)||0}</div>
              </div>
            </div>
          </div>

          <div class="order-info">
            <h2 style="margin-top: 0; color: #333;">تفاصيل الصرف</h2>
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">الجهة المستفيدة:</div>
                <div class="info-value">${oe.beneficiaryFacility||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">الكمية المصروفة:</div>
                <div class="info-value">${oe.withdrawQty||0}</div>
              </div>
              <div class="info-item">
                <div class="info-label">تاريخ الصرف:</div>
                <div class="info-value">${oe.withdrawDate||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">حالة الطلب:</div>
                <div class="info-value">
                  <span class="status ${oe.requestStatus==="تم الصرف"?"status-completed":oe.requestStatus==="مرفوض"?"status-rejected":"status-pending"}">
                    ${oe.requestStatus||"غير محدد"}
                  </span>
                </div>
              </div>
            </div>
          </div>

          <div class="order-info">
            <h2 style="margin-top: 0; color: #333;">معلومات المستلم</h2>
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">اسم المستلم:</div>
                <div class="info-value">${oe.recipientName||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">رقم التواصل:</div>
                <div class="info-value">${oe.recipientContact||"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">تاريخ الإنشاء:</div>
                <div class="info-value">${oe.createdAt?new Date(oe.createdAt).toLocaleDateString("ar-SA"):"غير محدد"}</div>
              </div>
              <div class="info-item">
                <div class="info-label">آخر تحديث:</div>
                <div class="info-value">${oe.updatedAt?new Date(oe.updatedAt).toLocaleDateString("ar-SA"):"غير محدد"}</div>
              </div>
            </div>
          </div>

          ${oe.notes?`
            <div class="notes-section">
              <h3 style="margin-top: 0; color: #333;">ملاحظات:</h3>
              <p style="margin: 0; background: white; padding: 15px; border-radius: 6px; border: 1px solid #ddd;">
                ${oe.notes}
              </p>
            </div>
          `:""}

          <div class="footer">
            <p>تم إنشاء هذا التقرير بواسطة نظام إدارة المستودع</p>
            <p>هذا المستند صالح للطباعة والأرشفة</p>
          </div>
        </body>
        </html>
      `;at.document.write(Qe),at.document.close(),at.onload=()=>{setTimeout(()=>{at.print(),at.close()},500)},e({title:"تم التحضير للطباعة",description:"تم تحضير أمر الصرف للطباعة بنجاح"})}catch(at){console.error("Print failed:",at),e({title:"خطأ في الطباعة",description:"فشل في تحضير أمر الصرف للطباعة",variant:"destructive"})}},Ct=()=>{const oe={};return q.itemNumber.trim()||(oe.itemNumber="رقم الصنف مطلوب"),q.itemName.trim()||(oe.itemName="اسم الصنف مطلوب"),(!q.receivedQty||parseFloat(q.receivedQty)<0)&&(oe.receivedQty="الكمية المستلمة مطلوبة ويجب أن تكون أكبر من أو تساوي صفر"),(!q.minQuantity||parseFloat(q.minQuantity)<0)&&(oe.minQuantity="كمية الحد الأدنى مطلوبة ويجب أن تكون أكبر من أو تساوي صفر"),(!q.purchaseValue||parseFloat(q.purchaseValue)<0)&&(oe.purchaseValue="قيمة الشراء مطلوبة ويجب أن تكون أكبر من أو تساوي صفر"),q.deliveryDate||(oe.deliveryDate="تاريخ التوريد مطلوب"),q.supplierName.trim()||(oe.supplierName="اسم الشركة الموردة مطلوب"),z(oe),Object.keys(oe).length===0},Dt=()=>{const oe={};return R.itemNumber.trim()||(oe.itemNumber="رقم الصنف مطلوب"),R.itemName.trim()||(oe.itemName="اسم الصنف مطلوب"),(!R.receivedQty||parseFloat(R.receivedQty)<0)&&(oe.receivedQty="الكمية المستلمة مطلوبة ويجب أن تكون أكبر من أو تساوي صفر"),(!R.minQuantity||parseFloat(R.minQuantity)<0)&&(oe.minQuantity="كمية الحد الأدنى مطلوبة ويجب أن تكون أكبر من أو تساوي صفر"),(!R.purchaseValue||parseFloat(R.purchaseValue)<0)&&(oe.purchaseValue="قيمة الشراء مطلوبة ويجب أن تكون أكبر من أو تساوي صفر"),R.deliveryDate||(oe.deliveryDate="تاريخ التوريد مطلوب"),R.supplierName.trim()||(oe.supplierName="اسم الشركة الموردة مطلوب"),z(oe),Object.keys(oe).length===0},ce=()=>{const oe={};be.beneficiaryFacility||(oe.beneficiaryFacility="الجهة المستفيدة مطلوبة"),(!be.withdrawQty||parseFloat(be.withdrawQty)<=0)&&(oe.withdrawQty="الكمية المصروفة مطلوبة ويجب أن تكون أكبر من صفر"),be.withdrawDate||(oe.withdrawDate="تاريخ الصرف مطلوب"),be.recipientName.trim()||(oe.recipientName="اسم المستلم مطلوب"),be.recipientContact.trim()||(oe.recipientContact="رقم التواصل مطلوب");const at=(f==null?void 0:f.availableQty)||0;return parseFloat(be.withdrawQty)>at&&(oe.withdrawQty=`الكمية المصروفة لا يمكن أن تتجاوز الكمية المتاحة (${at})`),z(oe),Object.keys(oe).length===0},Je=(oe,at)=>{P(Qe=>{const Zt={...Qe,[oe]:at};return(oe==="receivedQty"||oe==="issuedQty")&&(Zt.availableQty=Le(oe==="receivedQty"?at:Zt.receivedQty,oe==="issuedQty"?at:Zt.issuedQty).toString()),Zt})},ct=(oe,at)=>{G(Qe=>{const Zt={...Qe,[oe]:at};return(oe==="receivedQty"||oe==="issuedQty")&&(Zt.availableQty=Le(oe==="receivedQty"?at:Zt.receivedQty,oe==="issuedQty"?at:Zt.issuedQty).toString()),Zt})},ft=(oe,at)=>{te(Qe=>({...Qe,[oe]:at}))},gt=async oe=>{if(oe.preventDefault(),!!Ct())try{N(!0);const at={...q,image:q.image,pdfbase64:q.pdfbase64};if((await ti.addInventoryItem(at)).success){e({title:"تم بنجاح",description:"تم إضافة الصنف بنجاح"});const Zt=await ti.getInventory();Zt.success&&g(Zt.data||[]),a(!1),r(""),z({}),H(""),P({itemNumber:"",itemName:"",receivedQty:"",issuedQty:"",availableQty:"",minQuantity:"",purchaseValue:"",deliveryDate:"",supplierName:"",beneficiaryFacility:"",notes:"",image:null,pdfbase64:null,invoiceNumber:"",invoiceDate:"",supplierContact:""})}}catch(at){e({title:"خطأ في الحفظ",description:at.message||"فشل في حفظ البيانات",variant:"destructive"})}finally{N(!1)}},he=async oe=>{if(oe.preventDefault(),!!(f!=null&&f.id)&&Dt())try{N(!0);const at={...R,image:R.image,pdfbase64:R.pdfbase64};if((await ti.updateInventoryItem(f.id,at)).success){e({title:"تم بنجاح",description:"تم تحديث الصنف بنجاح"});const Zt=await ti.getInventory();Zt.success&&g(Zt.data||[]),u(!1),h(null),z({}),ae(""),G({itemNumber:"",itemName:"",receivedQty:"",issuedQty:"",availableQty:"",minQuantity:"",purchaseValue:"",deliveryDate:"",supplierName:"",beneficiaryFacility:"",notes:"",image:null,pdfbase64:null,invoiceNumber:"",invoiceDate:"",supplierContact:""})}}catch(at){e({title:"خطأ في التحديث",description:at.message||"فشل في تحديث البيانات",variant:"destructive"})}finally{N(!1)}},ze=async oe=>{if(oe.preventDefault(),!!ce())try{N(!0);const at={...be,pdfbase64:be.pdfbase64};if((await ti.createWithdrawalOrder(at)).success){e({title:"تم بنجاح",description:"تم إنشاء أمر الصرف بنجاح"});const Zt=await ti.getInventory();Zt.success&&g(Zt.data||[]),o(!1),h(null),z({}),te({itemNumber:"",itemName:"",beneficiaryFacility:"",requestStatus:"مفتوح تحت الاجراء",withdrawQty:"",withdrawDate:"",recipientName:"",recipientContact:"",notes:"",pdfbase64:null})}}catch(at){e({title:"خطأ في الحفظ",description:at.message||"فشل في إنشاء أمر الصرف",variant:"destructive"})}finally{N(!1)}},Xe=oe=>{oe&&(h(oe),te(at=>({...at,itemNumber:oe.itemNumber,itemName:oe.itemName}))),z({}),o(!0)},fe=oe=>{h(oe),c(!0)},tt=oe=>{var at,Qe,Zt,aa,Gn;h(oe),G({itemNumber:oe.itemNumber||"",itemName:oe.itemName||"",receivedQty:((at=oe.receivedQty)==null?void 0:at.toString())||"0",issuedQty:((Qe=oe.issuedQty)==null?void 0:Qe.toString())||"0",availableQty:((Zt=oe.availableQty)==null?void 0:Zt.toString())||"0",minQuantity:((aa=oe.minQuantity)==null?void 0:aa.toString())||"0",purchaseValue:((Gn=oe.purchaseValue)==null?void 0:Gn.toString())||"0",deliveryDate:oe.deliveryDate||"",supplierName:oe.supplierName||"",beneficiaryFacility:oe.beneficiaryFacility||"",notes:oe.notes||"",image:null,pdfbase64:null,invoiceNumber:oe.invoiceNumber||"",invoiceDate:oe.invoiceDate||"",supplierContact:oe.supplierContact||""}),oe.imageUrl||oe.image?ae(oe.imageUrl||oe.image):ae(""),z({}),u(!0)},wt=()=>{EA(Oe,"قائمة_المستودع"),e({title:"تم التصدير",description:"تم تصدير البيانات إلى ملف Excel بنجاح"})},dr=()=>{try{const oe=window.open("","_blank");if(!oe)throw new Error("Unable to open print window");const at=`
        <!DOCTYPE html>
        <html dir="rtl">
        <head>
          <meta charset="UTF-8">
          <title>قائمة المستودع</title>
          <style>
            body { font-family: Arial, sans-serif; direction: rtl; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .header h1 { color: #333; margin-bottom: 10px; }
            .header p { color: #666; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: right; }
            th { background-color: #f5f5f5; font-weight: bold; }
            .status-available { background-color: #d4edda; color: #155724; padding: 4px 8px; border-radius: 4px; }
            .status-low { background-color: #f8d7da; color: #721c24; padding: 4px 8px; border-radius: 4px; }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>قائمة المستودع</h1>
            <p>تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")}</p>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>رقم الصنف</th>
                <th>اسم الصنف</th>
                <th>الكمية المستلمة</th>
                <th>الكمية المصروفة</th>
                <th>الكمية المتاحة</th>
                <th>الحد الأدنى</th>
                <th>قيمة الشراء</th>
                <th>الشركة الموردة</th>
                <th>الحالة</th>
              </tr>
            </thead>
            <tbody>
              ${Oe.map(Qe=>`
                <tr>
                  <td>${Qe.itemNumber||""}</td>
                  <td>${Qe.itemName||""}</td>
                  <td>${Qe.receivedQty||0}</td>
                  <td>${Qe.issuedQty||0}</td>
                  <td>${Qe.availableQty||0}</td>
                  <td>${Qe.minQuantity||0}</td>
                  <td>${Qe.purchaseValue||0} ريال</td>
                  <td>${Qe.supplierName||""}</td>
                  <td>
                   <span class="${Qe.availableQty<=Qe.minQuantity?"status-low":"status-available"}">
                      ${Qe.availableQty<=Qe.minQuantity?"مخزون منخفض":"متوفر"}
                  </td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          
          <div style="margin-top: 30px; text-align: center; color: #666;">
            <p>إجمالي الأصناف: ${Oe.length}</p>
            <p>إجمالي قيمة المخزون: ${Pe().toFixed(2)} ريال</p>
            <p>إجمالي قيمة الشراء: ${ke().toFixed(2)} ريال</p>
          </div>
        </body>
        </html>
      `;oe.document.write(at),oe.document.close(),oe.onload=()=>{setTimeout(()=>{oe.print(),oe.close()},500)},e({title:"تم التصدير",description:"تم تصدير البيانات إلى ملف PDF بنجاح"})}catch(oe){console.error("PDF generation failed:",oe),e({title:"خطأ في التصدير",description:"فشل في تصدير البيانات إلى PDF",variant:"destructive"})}},xt=async()=>{if(k)try{if(N(!0),(await ti.deleteInventoryItem(k.id)).success){e({title:"تم الحذف",description:"تم حذف الصنف بنجاح"});const at=await ti.getInventory();at.success&&g(at.data||[]),C(!1),_(null)}}catch(oe){e({title:"خطأ في الحذف",description:oe.message||"فشل في حذف الصنف",variant:"destructive"})}finally{N(!1)}},Xt=oe=>{M(oe),U(!0)},It=(oe,at)=>{try{const Qe=document.createElement("a");Qe.href=oe,Qe.download=at,Qe.target="_blank",document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe)}catch(Qe){console.error("Error downloading file:",Qe),e({title:"خطأ في التحميل",description:"فشل في تحميل الملف",variant:"destructive"})}},Ar=oe=>{var Qe;const at=(Qe=oe.target.files)==null?void 0:Qe[0];at&&at.type==="application/pdf"&&te(Zt=>({...Zt,pdfbase64:at}))},yn=oe=>{var Qe;const at=(Qe=oe.target.files)==null?void 0:Qe[0];at&&at.type==="application/pdf"&&re(Zt=>({...Zt,pdfbase64:at}))},Nr=oe=>{var at;re({id:oe.id||"",orderNumber:oe.orderNumber||"",beneficiaryFacility:oe.beneficiaryFacility||"",requestStatus:oe.requestStatus||"مفتوح تحت الاجراء",withdrawQty:((at=oe.withdrawQty)==null?void 0:at.toString())||"",withdrawDate:oe.withdrawDate||"",recipientName:oe.recipientName||"",recipientContact:oe.recipientContact||"",notes:oe.notes||"",pdfbase64:oe.pdfbase64||null}),le(!0)},Vt=oe=>{Y(oe),O(!0)},vr=(oe,at)=>{re(Qe=>({...Qe,[oe]:at}))},Zs=async oe=>{oe.preventDefault(),N(!0);try{const at=await ti.updateWithdrawalOrder(ge.id,{beneficiaryFacility:ge.beneficiaryFacility,requestStatus:ge.requestStatus,withdrawQty:parseFloat(ge.withdrawQty),withdrawDate:ge.withdrawDate,recipientName:ge.recipientName,recipientContact:ge.recipientContact,notes:ge.notes,pdfbase64:ge.pdfbase64});if(at.success)e({title:"تم التحديث بنجاح",description:"تم تحديث أمر الصرف بنجاح"}),le(!1),T(!1),window.location.reload();else throw new Error(at.message||"فشل في تحديث أمر الصرف")}catch(at){e({title:"خطأ في التحديث",description:at.message||"فشل في تحديث أمر الصرف",variant:"destructive"})}finally{N(!1)}},Mn=async()=>{if(V){N(!0);try{const oe=await ti.deleteWithdrawalOrder(V.id);if(oe.success)e({title:"تم الحذف بنجاح",description:"تم حذف أمر الصرف بنجاح"}),O(!1),T(!1),Y(null),window.location.reload();else throw new Error(oe.message||"فشل في حذف أمر الصرف")}catch(oe){e({title:"خطأ في الحذف",description:oe.message||"فشل في حذف أمر الصرف",variant:"destructive"})}finally{N(!1)}}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"إدارة المستودع"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"إدارة المخزون والأصناف"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Vd,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"البحث في الأصناف...",value:t,onChange:oe=>r(oe.target.value),className:"w-full pl-4 pr-10 py-2 border border-input rounded-md text-right"})]}),i.jsxs("button",{onClick:()=>{z({}),H(""),a(!0)},className:"admin-btn-success flex items-center gap-2 whitespace-nowrap",children:[i.jsx(k2,{size:16}),"إضافة صنف جديد"]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:p.length}),i.jsx("div",{className:"stat-label",children:"إجمالي الأصناف"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsxs("div",{className:"stat-number text-info text-sm",children:[ke().toFixed(2)," ريال"]}),i.jsx("div",{className:"stat-label",children:"إجمالي قيمة الشراء"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number text-danger",children:p.filter(oe=>oe.availableQty<=oe.minQuantity).length}),i.jsx("div",{className:"stat-label",children:"مخزون منخفض"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number text-success",children:p.reduce((oe,at)=>oe+(parseFloat(at.availableQty)||0),0)}),i.jsx("div",{className:"stat-label",children:"إجمالي الكمية المتاحة"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsxs("div",{className:"stat-number text-info text-sm",children:[Pe().toFixed(2)," ريال"]}),i.jsx("div",{className:"stat-label",children:"إجمالي قيمة المخزون"})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsxs("div",{className:"admin-header flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("h2",{className:"text-lg",children:["الأصناف المتوفرة (",Oe.length,")"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:wt,className:"admin-btn-success text-xs flex items-center gap-1",children:[i.jsx(za,{size:14}),"Excel"]}),i.jsxs("button",{onClick:dr,className:"admin-btn-danger text-xs flex items-center gap-1",children:[i.jsx(Pr,{size:14}),"PDF"]})]})]}),i.jsx("div",{className:"hidden lg:block p-4 overflow-x-auto",children:i.jsx("div",{className:"min-w-full",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-right",children:[i.jsx("th",{className:"p-3 whitespace-nowrap",children:"رقم الصنف"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"اسم الصنف"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الكمية المستلمة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الكمية المصروفة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الكمية المتاحة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الحد الأدنى"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الشركة الموردة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"فاتورة الشراء"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"مرفق PDF"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الحالة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الإجراءات"})]})}),i.jsx("tbody",{children:Oe.map(oe=>i.jsxs("tr",{className:"border-b border-border text-right hover:bg-accent",children:[i.jsx("td",{className:"p-3 font-medium",children:oe.itemNumber}),i.jsx("td",{className:"p-3",children:oe.itemName}),i.jsx("td",{className:"p-3",children:oe.receivedQty}),i.jsx("td",{className:"p-3",children:oe.issuedQty}),i.jsx("td",{className:"p-3 font-medium",children:oe.availableQty}),i.jsx("td",{className:"p-3",children:oe.minQuantity}),i.jsx("td",{className:"p-3",children:oe.supplierName}),i.jsx("td",{className:"p-3",children:oe.imageUrl||oe.image?i.jsx("button",{onClick:()=>Xt(oe.imageUrl||oe.image),className:"p-1.5 text-primary hover:bg-primary/10 rounded",title:"عرض فاتورة الشراء",children:i.jsx($u,{size:16})}):i.jsx("span",{className:"text-muted-foreground text-xs",children:"لا توجد"})}),i.jsx("td",{className:"p-3",children:oe.pdfbase64?i.jsxs("button",{onClick:()=>It(oe.pdfbase64,`item_${oe.itemNumber}_attachment.pdf`),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded inline-flex items-center gap-1",title:"انقر لتحميل PDF",children:[i.jsx(Pr,{size:14}),i.jsx("span",{className:"text-xs",children:"تحميل"})]}):i.jsx("span",{className:"text-muted-foreground text-xs",children:"لا يوجد مرفق"})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs whitespace-nowrap ${Number(oe.availableQty)<=Number(oe.minQuantity)?"bg-danger text-danger-foreground":"bg-success text-success-foreground"}`,children:Number(oe.availableQty)<=Number(oe.minQuantity)?"مخزون منخفض":"متوفر"})}),i.jsx("td",{className:"p-2",children:i.jsxs("div",{className:"flex gap-1 justify-center flex-wrap",children:[i.jsx("button",{onClick:()=>fe(oe),className:"p-1.5 text-info hover:bg-info/10 rounded",title:"عرض",children:i.jsx(tn,{size:14})}),i.jsx("button",{onClick:()=>tt(oe),className:"p-1.5 text-warning hover:bg-warning/10 rounded",title:"تعديل",children:i.jsx(_a,{size:14})}),i.jsx("button",{onClick:()=>Xe(oe),className:"p-1.5 text-primary hover:bg-primary/10 rounded",title:"صرف",children:i.jsx(kd,{size:14})}),i.jsx("button",{onClick:()=>{_(oe),C(!0)},className:"p-1.5 text-danger hover:bg-danger/10 rounded",title:"حذف",children:i.jsx(Un,{size:14})})]})})]},oe.id))})]})})}),i.jsx("div",{className:"lg:hidden p-4 space-y-4",children:Oe.map(oe=>i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("h3",{className:"font-medium text-base",children:oe.itemName}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["رقم الصنف: ",oe.itemNumber]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs whitespace-nowrap ${oe.availableQty<=oe.minQuantity?"bg-danger text-danger-foreground":"bg-success text-success-foreground"}`,children:oe.availableQty<=oe.minQuantity?"مخزون منخفض":"متوفر"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"متاح:"}),i.jsx("span",{className:"font-medium mr-2",children:oe.availableQty})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"مستلم:"}),i.jsx("span",{className:"font-medium mr-2",children:oe.receivedQty})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"مصروف:"}),i.jsx("span",{className:"font-medium mr-2",children:oe.issuedQty})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"الحد الأدنى:"}),i.jsx("span",{className:"font-medium mr-2",children:oe.minQuantity})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-3 text-right",children:["الشركة الموردة: ",oe.supplierName]}),(oe.imageUrl||oe.image)&&i.jsx("div",{className:"mb-3 text-right",children:i.jsxs("button",{onClick:()=>Xt(oe.imageUrl||oe.image),className:"text-primary hover:text-primary/80 text-sm flex items-center gap-1",children:[i.jsx($u,{size:14}),"عرض فاتورة الشراء"]})}),oe.pdfbase64&&i.jsx("div",{className:"mb-3 text-right",children:i.jsxs("button",{onClick:()=>It(oe.pdfbase64,`item_${oe.itemNumber}_attachment.pdf`),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[i.jsx(Pr,{size:14}),"تحميل المرفق PDF"]})}),i.jsxs("div",{className:"flex gap-2 justify-end flex-wrap",children:[i.jsxs("button",{onClick:()=>fe(oe),className:"admin-btn-info text-xs flex items-center gap-1",children:[i.jsx(tn,{size:12}),"عرض"]}),i.jsxs("button",{onClick:()=>tt(oe),className:"admin-btn-warning text-xs flex items-center gap-1",children:[i.jsx(_a,{size:12}),"تعديل"]}),i.jsxs("button",{onClick:()=>Xe(oe),className:"admin-btn-primary text-xs flex items-center gap-1",children:[i.jsx(kd,{size:12}),"صرف"]}),i.jsxs("button",{onClick:()=>{_(oe),C(!0)},className:"admin-btn-danger text-xs flex items-center gap-1",children:[i.jsx(Un,{size:12}),"حذف"]})]})]},oe.id))})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsx("h2",{children:"إضافة صنف جديد"}),i.jsx("button",{onClick:()=>a(!1),className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("form",{onSubmit:gt,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الصنف"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم الصنف *"}),i.jsx("input",{type:"text",value:q.itemNumber,onChange:oe=>Je("itemNumber",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.itemNumber?"border-red-500":"border-input"}`,placeholder:"رقم الصنف",required:!0}),L.itemNumber&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.itemNumber})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الصنف *"}),i.jsx("input",{type:"text",value:q.itemName,onChange:oe=>Je("itemName",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.itemName?"border-red-500":"border-input"}`,placeholder:"اسم الصنف",required:!0}),L.itemName&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.itemName})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الكمية"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المستلمة *"}),i.jsx("input",{type:"number",value:q.receivedQty,onChange:oe=>Je("receivedQty",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.receivedQty?"border-red-500":"border-input"}`,placeholder:"0",required:!0}),L.receivedQty&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.receivedQty})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المصروفة"}),i.jsx("input",{type:"number",value:q.issuedQty,onChange:oe=>Je("issuedQty",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المتاحة (تلقائي)"}),i.jsx("input",{type:"number",value:q.availableQty,className:"w-full p-2 border border-input rounded-md text-right text-sm bg-gray-100",placeholder:"يحسب تلقائياً",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"كمية الحد الأدنى *"}),i.jsx("input",{type:"number",value:q.minQuantity,onChange:oe=>Je("minQuantity",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.minQuantity?"border-red-500":"border-input"}`,placeholder:"الحد الأدنى",required:!0}),L.minQuantity&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.minQuantity})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-2 text-right",children:"* سيتم تنبيهك عند وصول المخزون إلى الحد الأدنى"})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"المعلومات المالية والموردين"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"قيمة الشراء (ريال) *"}),i.jsx("input",{type:"number",step:"0.01",value:q.purchaseValue,onChange:oe=>Je("purchaseValue",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.purchaseValue?"border-red-500":"border-input"}`,placeholder:"0.00",required:!0}),i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:"هذا هو المبلغ الإجمالي سيتم تقسيمه على الكمية المستلمة"}),L.purchaseValue&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.purchaseValue})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التوريد/التسليم *"}),i.jsx("input",{type:"date",value:q.deliveryDate,onChange:oe=>Je("deliveryDate",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.deliveryDate?"border-red-500":"border-input"}`,required:!0}),L.deliveryDate&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.deliveryDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الشركة الموردة *"}),i.jsx("input",{type:"text",value:q.supplierName,onChange:oe=>Je("supplierName",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.supplierName?"border-red-500":"border-input"}`,placeholder:"اسم الشركة",required:!0}),L.supplierName&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.supplierName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المستفيدة/المنشأة الطالبة"}),i.jsxs("select",{value:q.beneficiaryFacility,onChange:oe=>Je("beneficiaryFacility",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"",children:"اختر المنشأة"}),m.map(oe=>i.jsx("option",{value:oe.name,children:oe.name},oe.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم فاتورة الشراء (اختياري)"}),i.jsx("input",{type:"text",value:q.invoiceNumber,onChange:oe=>Je("invoiceNumber",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"رقم الفاتورة أو التعميد"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الفاتورة (اختياري)"}),i.jsx("input",{type:"date",value:q.invoiceDate,onChange:oe=>Je("invoiceDate",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"بيانات التواصل للشركة الموردة (اختياري)"}),i.jsx("input",{type:"text",value:q.supplierContact,onChange:oe=>Je("supplierContact",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"رقم الهاتف، البريد الإلكتروني، العنوان..."})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"فاتورة الشراء"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رفع صورة فاتورة الشراء"}),i.jsx("input",{type:"file",accept:"image/*",onChange:oe=>{var at;return Ge(((at=oe.target.files)==null?void 0:at[0])||null,!1)},className:"w-full p-2 border border-input rounded-md text-right text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:"يمكنك رفع صورة لفاتورة الشراء (اختياري)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رفع مرفق PDF"}),i.jsx("input",{type:"file",accept:"application/pdf",onChange:oe=>{var at;return ut(((at=oe.target.files)==null?void 0:at[0])||null,!1)},className:"w-full p-2 border border-input rounded-md text-right text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:"يمكنك رفع ملف PDF للفاتورة أو أي مستند ذات صلة (اختياري)"})]}),W&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"معاينة الصورة:"}),i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:W,alt:"معاينة فاتورة الشراء",className:"max-w-full max-h-48 object-contain border border-border rounded-md"}),i.jsx("button",{type:"button",onClick:()=>Ge(null,!1),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:i.jsx(_r,{size:12})})]})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"ملاحظات"})}),i.jsx("div",{className:"p-4",children:i.jsx("textarea",{value:q.notes,onChange:oe=>Je("notes",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",rows:3,placeholder:"ملاحظات إضافية (اختياري)..."})})]}),i.jsxs("div",{className:"flex gap-3 justify-start flex-wrap",children:[i.jsxs("button",{type:"submit",disabled:w,className:"admin-btn-success flex items-center gap-2 px-4 py-2",children:[w?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(oi,{size:16}),"حفظ الصنف"]}),i.jsxs("button",{type:"button",onClick:()=>a(!1),className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsx("h2",{children:"إنشاء أمر صرف"}),i.jsx("button",{onClick:()=>o(!1),className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("form",{onSubmit:ze,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الصنف"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم الصنف"}),i.jsx("input",{type:"text",value:be.itemNumber,className:"w-full p-2 border border-input rounded-md text-right text-sm bg-gray-100",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الصنف"}),i.jsx("input",{type:"text",value:be.itemName,className:"w-full p-2 border border-input rounded-md text-right text-sm bg-gray-100",readOnly:!0})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الصرف"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المستفيدة *"}),i.jsxs("select",{value:be.beneficiaryFacility,onChange:oe=>ft("beneficiaryFacility",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.beneficiaryFacility?"border-red-500":"border-input"}`,required:!0,children:[i.jsx("option",{value:"",children:"اختر الجهة المستفيدة"}),m.map(oe=>i.jsx("option",{value:oe.name,children:oe.name},oe.id))]}),L.beneficiaryFacility&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.beneficiaryFacility})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المصروفة *"}),i.jsx("input",{type:"number",value:be.withdrawQty,onChange:oe=>ft("withdrawQty",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.withdrawQty?"border-red-500":"border-input"}`,placeholder:"الكمية",max:(f==null?void 0:f.availableQty)||0,required:!0}),L.withdrawQty&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.withdrawQty}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:["الكمية المتاحة: ",(f==null?void 0:f.availableQty)||0]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الصرف *"}),i.jsx("input",{type:"date",value:be.withdrawDate,onChange:oe=>ft("withdrawDate",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.withdrawDate?"border-red-500":"border-input"}`,required:!0}),L.withdrawDate&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.withdrawDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة الطلب"}),i.jsxs("select",{value:be.requestStatus,onChange:oe=>ft("requestStatus",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"مفتوح تحت الاجراء",children:"مفتوح تحت الاجراء"}),i.jsx("option",{value:"تم الصرف",children:"تم الصرف"}),i.jsx("option",{value:"مرفوض",children:"مرفوض"})]})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات المستلم"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المستلم *"}),i.jsx("input",{type:"text",value:be.recipientName,onChange:oe=>ft("recipientName",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.recipientName?"border-red-500":"border-input"}`,placeholder:"اسم المستلم",required:!0}),L.recipientName&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.recipientName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التواصل *"}),i.jsx("input",{type:"text",value:be.recipientContact,onChange:oe=>ft("recipientContact",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.recipientContact?"border-red-500":"border-input"}`,placeholder:"رقم الهاتف أو البريد الإلكتروني",required:!0}),L.recipientContact&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.recipientContact})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"ملاحظات"})}),i.jsx("div",{className:"p-4",children:i.jsx("textarea",{value:be.notes,onChange:oe=>ft("notes",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",rows:3,placeholder:"ملاحظات إضافية (اختياري)..."})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"مرفق PDF (اختياري)"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("input",{type:"file",accept:".pdf",onChange:Ar,className:"w-full p-2 border border-input rounded-md text-right text-sm"}),be.pdfbase64&&i.jsx("div",{className:"mt-2 text-right",children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(za,{size:16}),i.jsx("span",{className:"text-sm",children:"تم رفع ملف PDF"})]})})]})]}),i.jsxs("div",{className:"flex gap-3 justify-start flex-wrap",children:[i.jsxs("button",{type:"submit",disabled:w,className:"admin-btn-success flex items-center gap-2 px-4 py-2",children:[w?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(oi,{size:16}),"إنشاء أمر الصرف"]}),i.jsxs("button",{type:"button",onClick:()=>o(!1),className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),l&&f&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsx("h2",{children:"عرض تفاصيل الصنف"}),i.jsx("button",{onClick:()=>{c(!1),h(null)},className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات أساسية"})}),i.jsxs("div",{className:"p-4 space-y-3 text-right",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"رقم الصنف:"})," ",f.itemNumber]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"اسم الصنف:"})," ",f.itemName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الشركة الموردة:"})," ",f.supplierName]}),f.supplierContact&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"بيانات التواصل:"})," ",f.supplierContact]})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"الكميات"})}),i.jsxs("div",{className:"p-4 space-y-3 text-right",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الكمية المستلمة:"})," ",f.receivedQty]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الكمية المصروفة:"})," ",f.issuedQty]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الكمية المتاحة:"})," ",f.availableQty]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الحد الأدنى:"})," ",f.minQuantity]})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات مالية"})}),i.jsxs("div",{className:"p-4 space-y-3 text-right",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"قيمة الشراء:"})," ",f.purchaseValue," ريال"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"الجهة المستفيدة:"})," ",f.beneficiaryFacility]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"تاريخ التوريد:"})," ",f.deliveryDate||"غير محدد"]}),f.invoiceNumber&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"رقم الفاتورة:"})," ",f.invoiceNumber]}),f.invoiceDate&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"تاريخ الفاتورة:"})," ",f.invoiceDate]})]})]})]}),(f.imageUrl||f.image)&&i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"فاتورة الشراء"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("img",{src:f.imageUrl||f.image,alt:"فاتورة الشراء",className:"max-w-full max-h-64 object-contain border border-border rounded-md cursor-pointer",onClick:()=>Xt(f.imageUrl||f.image)}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"انقر على الصورة لعرضها بحجم أكبر"})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الصرف"})}),i.jsx("div",{className:"p-4",children:f.withdrawalOrders&&f.withdrawalOrders.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-sm text-muted-foreground text-right mb-4",children:["إجمالي عدد أوامر الصرف: ",f.withdrawalOrders.length]}),i.jsx("div",{className:"hidden lg:block overflow-x-auto",children:i.jsx("div",{className:"min-w-full",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-right",children:[i.jsx("th",{className:"p-3 whitespace-nowrap",children:"رقم الأمر"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الجهة المستلمة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الكمية"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"تاريخ الصرف"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"اسم المستلم"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"رقم التواصل"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الحالة"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"المرفق"}),i.jsx("th",{className:"p-3 whitespace-nowrap",children:"الإجراءات"})]})}),i.jsx("tbody",{children:f.withdrawalOrders.map(oe=>i.jsxs("tr",{className:"border-b border-border text-right hover:bg-accent",children:[i.jsx("td",{className:"p-3 font-medium",children:oe.orderNumber}),i.jsx("td",{className:"p-3",children:oe.beneficiaryFacility||"غير محدد"}),i.jsx("td",{className:"p-3",children:oe.withdrawQty}),i.jsx("td",{className:"p-3",children:oe.withdrawDate}),i.jsx("td",{className:"p-3",children:oe.recipientName}),i.jsx("td",{className:"p-3",children:oe.recipientContact}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs whitespace-nowrap ${oe.requestStatus==="تم الصرف"?"bg-success text-success-foreground":oe.requestStatus==="مرفوض"?"bg-danger text-danger-foreground":"bg-warning text-warning-foreground"}`,children:oe.requestStatus})}),i.jsx("td",{className:"p-3 text-center",children:oe.pdfbase64?i.jsxs("button",{onClick:()=>It(oe.pdfbase64,`dispense_order_${oe.orderNumber}_document.pdf`),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded inline-flex items-center gap-1",title:"انقر لتحميل PDF",children:[i.jsx(Pr,{size:14}),i.jsx("span",{className:"text-xs",children:"تحميل"})]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"لا يوجد مرفق"})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[i.jsx("button",{onClick:()=>{B(oe),T(!0)},className:"p-1.5 text-primary hover:bg-primary/10 rounded",title:"عرض التفاصيل",children:i.jsx(tn,{size:14})}),i.jsx("button",{onClick:()=>bt(oe),className:"p-1.5 text-primary hover:bg-primary/10 rounded",title:"طباعة أمر الصرف",children:i.jsx(un,{size:14})}),oe.pdfbase64&&i.jsx("button",{onClick:()=>It(oe.pdfbase64,`dispense_order_${oe.orderNumber}_document.pdf`),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded",title:"تحميل PDF",children:i.jsx(Pr,{size:14})}),i.jsx("button",{onClick:()=>Nr(oe),className:"p-1.5 text-warning hover:bg-warning/10 rounded",title:"تعديل",children:i.jsx(_a,{size:14})}),i.jsx("button",{onClick:()=>Vt(oe),className:"p-1.5 text-danger hover:bg-danger/10 rounded",title:"حذف",children:i.jsx(Un,{size:14})})]})})]},oe.id))})]})})}),i.jsx("div",{className:"lg:hidden space-y-3",children:f.withdrawalOrders.map(oe=>i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("h4",{className:"font-medium text-sm",children:oe.orderNumber}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["الجهة: ",oe.beneficiaryFacility||"غير محدد"]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs whitespace-nowrap ${oe.requestStatus==="تم الصرف"?"bg-success text-success-foreground":oe.requestStatus==="مرفوض"?"bg-danger text-danger-foreground":"bg-warning text-warning-foreground"}`,children:oe.requestStatus}),i.jsx("button",{onClick:()=>{B(oe),T(!0)},className:"p-1 text-primary hover:bg-primary/10 rounded",title:"عرض التفاصيل",children:i.jsx(tn,{size:12})}),i.jsx("button",{onClick:()=>bt(oe),className:"p-1 text-primary hover:bg-primary/10 rounded",title:"طباعة أمر الصرف",children:i.jsx(un,{size:12})}),oe.pdfbase64&&i.jsx("button",{onClick:()=>It(oe.pdfbase64,`dispense_order_${oe.orderNumber}_document.pdf`),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"تحميل PDF",children:i.jsx(Pr,{size:12})}),i.jsx("button",{onClick:()=>Nr(oe),className:"p-1 text-warning hover:bg-warning/10 rounded",title:"تعديل",children:i.jsx(_a,{size:12})}),i.jsx("button",{onClick:()=>Vt(oe),className:"p-1 text-danger hover:bg-danger/10 rounded",title:"حذف",children:i.jsx(Un,{size:12})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"الكمية:"}),i.jsx("span",{className:"font-medium mr-1",children:oe.withdrawQty})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"التاريخ:"}),i.jsx("span",{className:"font-medium mr-1",children:oe.withdrawDate})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"المستلم:"}),i.jsx("span",{className:"font-medium mr-1",children:oe.recipientName})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-muted-foreground",children:"التواصل:"}),i.jsx("span",{className:"font-medium mr-1",children:oe.recipientContact})]})]}),oe.pdfbase64&&i.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:i.jsxs("button",{onClick:()=>It(oe.pdfbase64,`dispense_order_${oe.orderNumber}_document.pdf`),className:"w-full bg-blue-50 text-blue-600 border border-blue-200 rounded-md py-2 px-3 text-xs font-medium flex items-center justify-center gap-2 hover:bg-blue-100",children:[i.jsx(Pr,{size:14}),"انقر لتحميل المرفق PDF"]})})]},oe.id))})]}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(kd,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"لا توجد أوامر صرف لهذا الصنف"})]})})]}),f.notes&&i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"ملاحظات"})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"bg-accent/50 p-3 rounded-md text-right",children:i.jsx("p",{className:"leading-relaxed",children:f.notes})})})]})]})]})}),d&&f&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsx("h2",{children:"تعديل الصنف"}),i.jsx("button",{onClick:()=>{u(!1),h(null)},className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("form",{onSubmit:he,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الصنف"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم الصنف *"}),i.jsx("input",{type:"text",value:R.itemNumber,onChange:oe=>ct("itemNumber",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.itemNumber?"border-red-500":"border-input"}`,placeholder:"رقم الصنف",required:!0}),L.itemNumber&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.itemNumber})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الصنف *"}),i.jsx("input",{type:"text",value:R.itemName,onChange:oe=>ct("itemName",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.itemName?"border-red-500":"border-input"}`,placeholder:"اسم الصنف",required:!0}),L.itemName&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.itemName})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الكمية"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المستلمة *"}),i.jsx("input",{type:"number",value:R.receivedQty,onChange:oe=>ct("receivedQty",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.receivedQty?"border-red-500":"border-input"}`,placeholder:"0",required:!0}),L.receivedQty&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.receivedQty})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المصروفة"}),i.jsx("input",{type:"number",value:R.issuedQty,onChange:oe=>ct("issuedQty",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المتاحة (تلقائي)"}),i.jsx("input",{type:"number",value:R.availableQty,className:"w-full p-2 border border-input rounded-md text-right text-sm bg-gray-100",placeholder:"يحسب تلقائياً",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"كمية الحد الأدنى *"}),i.jsx("input",{type:"number",value:R.minQuantity,onChange:oe=>ct("minQuantity",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.minQuantity?"border-red-500":"border-input"}`,placeholder:"الحد الأدنى",required:!0}),L.minQuantity&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.minQuantity})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-2 text-right",children:"* سيتم تنبيهك عند وصول المخزون إلى الحد الأدنى"})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"المعلومات المالية والموردين"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"قيمة الشراء (ريال) *"}),i.jsx("input",{type:"number",step:"0.01",value:R.purchaseValue,onChange:oe=>ct("purchaseValue",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.purchaseValue?"border-red-500":"border-input"}`,placeholder:"0.00",required:!0}),i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:"هذا هو المبلغ الإجمالي سيتم تقسيمه على الكمية المستلمة"}),L.purchaseValue&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.purchaseValue})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التوريد/التسليم *"}),i.jsx("input",{type:"date",value:R.deliveryDate,onChange:oe=>ct("deliveryDate",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.deliveryDate?"border-red-500":"border-input"}`,required:!0}),L.deliveryDate&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.deliveryDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الشركة الموردة *"}),i.jsx("input",{type:"text",value:R.supplierName,onChange:oe=>ct("supplierName",oe.target.value),className:`w-full p-2 border rounded-md text-right text-sm ${L.supplierName?"border-red-500":"border-input"}`,placeholder:"اسم الشركة",required:!0}),L.supplierName&&i.jsx("p",{className:"text-red-500 text-xs mt-1 text-right",children:L.supplierName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المستفيدة/المنشأة الطالبة"}),i.jsxs("select",{value:R.beneficiaryFacility,onChange:oe=>ct("beneficiaryFacility",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"",children:"اختر المنشأة"}),m.map(oe=>i.jsx("option",{value:oe.name,children:oe.name},oe.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم فاتورة الشراء (اختياري)"}),i.jsx("input",{type:"text",value:R.invoiceNumber,onChange:oe=>ct("invoiceNumber",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"رقم الفاتورة أو التعميد"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الفاتورة (اختياري)"}),i.jsx("input",{type:"date",value:R.invoiceDate,onChange:oe=>ct("invoiceDate",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"بيانات التواصل للشركة الموردة (اختياري)"}),i.jsx("input",{type:"text",value:R.supplierContact,onChange:oe=>ct("supplierContact",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"رقم الهاتف، البريد الإلكتروني، العنوان..."})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"فاتورة الشراء"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تحديث صورة فاتورة الشراء"}),i.jsx("input",{type:"file",accept:"image/*",onChange:oe=>{var at;return Ge(((at=oe.target.files)==null?void 0:at[0])||null,!0)},className:"w-full p-2 border border-input rounded-md text-right text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:"يمكنك رفع صورة جديدة لفاتورة الشراء (اختياري)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تحديث مرفق PDF"}),i.jsx("input",{type:"file",accept:"application/pdf",onChange:oe=>{var at;return ut(((at=oe.target.files)==null?void 0:at[0])||null,!0)},className:"w-full p-2 border border-input rounded-md text-right text-sm"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:"يمكنك رفع ملف PDF جديد للفاتورة أو أي مستند ذات صلة (اختياري)"})]}),me&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:R.image?"معاينة الصورة الجديدة:":"الصورة الحالية:"}),i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:me,alt:"معاينة فاتورة الشراء",className:"max-w-full max-h-48 object-contain border border-border rounded-md"}),i.jsx("button",{type:"button",onClick:()=>Ge(null,!0),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:i.jsx(_r,{size:12})})]})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"ملاحظات"})}),i.jsx("div",{className:"p-4",children:i.jsx("textarea",{value:R.notes,onChange:oe=>ct("notes",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",rows:3,placeholder:"ملاحظات إضافية (اختياري)..."})})]}),i.jsxs("div",{className:"flex gap-3 justify-start flex-wrap",children:[i.jsxs("button",{type:"submit",disabled:w,className:"admin-btn-success flex items-center gap-2 px-4 py-2",children:[w?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(oi,{size:16}),"حفظ التعديلات"]}),i.jsxs("button",{type:"button",onClick:()=>{u(!1),h(null)},className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),D&&I&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsxs("h2",{children:["تفاصيل أمر الصرف - ",I.orderNumber]}),i.jsx("button",{onClick:()=>{T(!1),B(null)},className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الأمر"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"رقم الأمر:"}),i.jsx("p",{className:"font-semibold",children:I.orderNumber})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"الجهة المستفيدة:"}),i.jsx("p",{className:"font-semibold",children:I.beneficiaryFacility||"غير محدد"})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"الكمية المصروفة:"}),i.jsx("p",{className:"font-semibold",children:I.withdrawQty})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"تاريخ الصرف:"}),i.jsx("p",{className:"font-semibold",children:I.withdrawDate})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات المستلم"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"اسم المستلم:"}),i.jsx("p",{className:"font-semibold",children:I.recipientName})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"رقم التواصل:"}),i.jsx("p",{className:"font-semibold",children:I.recipientContact})]})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"حالة الأمر والتواريخ"})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"الحالة:"}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I.requestStatus==="تم الصرف"?"bg-success text-success-foreground":I.requestStatus==="مرفوض"?"bg-danger text-danger-foreground":"bg-warning text-warning-foreground"}`,children:I.requestStatus})})]})})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"معلومات الصنف"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"رقم الصنف:"}),i.jsx("p",{className:"font-semibold",children:(f==null?void 0:f.itemNumber)||"غير محدد"})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"اسم الصنف:"}),i.jsx("p",{className:"font-semibold",children:(f==null?void 0:f.itemName)||"غير محدد"})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"الشركة الموردة:"}),i.jsx("p",{className:"font-semibold",children:(f==null?void 0:f.supplierName)||"غير محدد"})]}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"الكمية المتاحة قبل الصرف:"}),i.jsx("p",{className:"font-semibold",children:(f==null?void 0:f.availableQty)||0})]})]})})]}),I.notes&&i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h3",{children:"ملاحظات"})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"bg-accent/50 p-3 rounded-md",children:i.jsx("p",{className:"leading-relaxed",children:I.notes})})})]}),i.jsxs("div",{className:"flex gap-3 justify-center pt-4 flex-wrap",children:[i.jsxs("button",{onClick:()=>bt(I),className:"admin-btn-primary flex items-center gap-2 px-4 py-2",children:[i.jsx(un,{size:16}),"طباعة أمر الصرف"]}),i.jsxs("button",{onClick:()=>Nr(I),className:"admin-btn-warning flex items-center gap-2 px-4 py-2",children:[i.jsx(_a,{size:16}),"تعديل"]}),i.jsxs("button",{onClick:()=>Vt(I),className:"admin-btn-danger flex items-center gap-2 px-4 py-2",children:[i.jsx(Un,{size:16}),"حذف"]}),i.jsxs("button",{onClick:()=>{T(!1),B(null)},className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),j&&k&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-md",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsx("h2",{children:"تأكيد الحذف"}),i.jsx("button",{onClick:()=>{C(!1),_(null)},className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-danger/10 rounded-full flex items-center justify-center mb-4",children:i.jsx(Un,{className:"w-6 h-6 text-danger"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"هل أنت متأكد من الحذف؟"}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:['سيتم حذف الصنف "',k.itemName,'" نهائياً ولن يمكن استرجاعه.']})]}),i.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[i.jsxs("button",{onClick:xt,disabled:w,className:"admin-btn-danger flex items-center gap-2 px-4 py-2",children:[w?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(Un,{size:16}),"تأكيد الحذف"]}),i.jsxs("button",{onClick:()=>{C(!1),_(null)},className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),Q&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsxs("h2",{children:["تعديل أمر الصرف - ",ge.orderNumber]}),i.jsx("button",{onClick:()=>le(!1),className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("form",{onSubmit:Zs,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المستفيدة *"}),i.jsxs("select",{value:ge.beneficiaryFacility,onChange:oe=>vr("beneficiaryFacility",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",required:!0,children:[i.jsx("option",{value:"",children:"اختر المنشأة"}),m.map(oe=>i.jsx("option",{value:oe.name,children:oe.name},oe.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة الطلب *"}),i.jsxs("select",{value:ge.requestStatus,onChange:oe=>vr("requestStatus",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",required:!0,children:[i.jsx("option",{value:"مفتوح تحت الاجراء",children:"مفتوح تحت الإجراء"}),i.jsx("option",{value:"تم الصرف",children:"تم الصرف"}),i.jsx("option",{value:"مرفوض",children:"مرفوض"}),i.jsx("option",{value:"ملغي",children:"ملغي"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المصروفة *"}),i.jsx("input",{type:"number",value:ge.withdrawQty,onChange:oe=>vr("withdrawQty",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"الكمية",min:"0",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الصرف *"}),i.jsx("input",{type:"date",value:ge.withdrawDate,onChange:oe=>vr("withdrawDate",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المستلم *"}),i.jsx("input",{type:"text",value:ge.recipientName,onChange:oe=>vr("recipientName",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"اسم المستلم",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التواصل *"}),i.jsx("input",{type:"text",value:ge.recipientContact,onChange:oe=>vr("recipientContact",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",placeholder:"رقم الجوال أو الهاتف",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"ملاحظات"}),i.jsx("textarea",{value:ge.notes,onChange:oe=>vr("notes",oe.target.value),className:"w-full p-2 border border-input rounded-md text-right text-sm",rows:3,placeholder:"ملاحظات إضافية (اختياري)..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"مرفق PDF (اختياري)"}),i.jsx("input",{type:"file",accept:".pdf",onChange:yn,className:"w-full p-2 border border-input rounded-md text-right text-sm"}),ge.pdfbase64&&i.jsx("div",{className:"mt-2 text-right",children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(za,{size:16}),i.jsx("span",{className:"text-sm",children:"تم رفع ملف PDF"})]})})]}),i.jsxs("div",{className:"flex gap-3 justify-start flex-wrap",children:[i.jsxs("button",{type:"submit",disabled:w,className:"admin-btn-success flex items-center gap-2 px-4 py-2",children:[w?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(oi,{size:16}),"حفظ التعديلات"]}),i.jsxs("button",{type:"button",onClick:()=>le(!1),className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),ue&&V&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-background rounded-lg w-full max-w-md",children:[i.jsxs("div",{className:"admin-header flex justify-between items-center",children:[i.jsx("h2",{children:"تأكيد حذف أمر الصرف"}),i.jsx("button",{onClick:()=>{O(!1),Y(null)},className:"text-muted-foreground hover:text-foreground",children:i.jsx(_r,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-danger/10 rounded-full flex items-center justify-center mb-4",children:i.jsx(Un,{className:"w-6 h-6 text-danger"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"هل أنت متأكد من الحذف؟"}),i.jsxs("div",{className:"text-muted-foreground text-sm space-y-2",children:[i.jsxs("p",{children:['سيتم حذف أمر الصرف رقم "',V.orderNumber,'" نهائياً']}),i.jsxs("div",{className:"bg-accent/50 p-3 rounded-md text-right",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"الجهة المستفيدة:"})," ",V.beneficiaryFacility]}),i.jsxs("p",{children:[i.jsx("strong",{children:"الكمية:"})," ",V.withdrawQty]}),i.jsxs("p",{children:[i.jsx("strong",{children:"المستلم:"})," ",V.recipientName]})]}),i.jsx("p",{className:"text-red-600",children:"هذا الإجراء لا يمكن التراجع عنه!"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[i.jsxs("button",{onClick:Mn,disabled:w,className:"admin-btn-danger flex items-center gap-2 px-4 py-2",children:[w?i.jsx(Qt,{size:16,className:"animate-spin"}):i.jsx(Un,{size:16}),"تأكيد الحذف"]}),i.jsxs("button",{onClick:()=>{O(!1),Y(null)},className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(_r,{size:16}),"إلغاء"]})]})]})]})}),J&&X&&i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[i.jsx("button",{onClick:()=>U(!1),className:"absolute top-4 right-4 bg-white/20 text-white rounded-full p-2 hover:bg-white/30 z-10",children:i.jsx(_r,{size:20})}),i.jsx("img",{src:X,alt:"فاتورة الشراء",className:"max-w-full max-h-full object-contain"})]})})]})}function GTe(){const{toast:e}=jn(),[t,r]=A.useState(!1),[n,a]=A.useState([]),[s,o]=A.useState([]),[l,c]=A.useState([]),[d,u]=A.useState(""),[f,h]=A.useState(""),[p,g]=A.useState(""),[m,v]=A.useState({order_date:"",item_number:"",item_name:"",quantity:"",beneficiary_facility:"",financial_approval_number:"",approval_date:"",total_cost:"",supplier_name:"",supplier_contact:"",status:"جديد",delivery_date:"",actual_delivery_date:"",notes:""});A.useEffect(()=>{x(),y()},[]),A.useEffect(()=>{let j=n;d&&(j=j.filter(C=>{var k,_,L;return((k=C.item_name)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((_=C.order_number)==null?void 0:_.toLowerCase().includes(d.toLowerCase()))||((L=C.supplier_name)==null?void 0:L.toLowerCase().includes(d.toLowerCase()))})),f&&(j=j.filter(C=>C.status===f)),p&&(j=j.filter(C=>C.beneficiary_facility===p)),o(j)},[n,d,f,p]);const x=async()=>{try{r(!0);const j=await ql.getOrders();j.success&&a(j.data)}catch(j){e({title:"خطأ",description:j.message||"فشل في جلب طلبات الشراء",variant:"destructive"})}finally{r(!1)}},y=async()=>{try{const j=await Ra.getFacilities();j.success&&c(j.data)}catch{c(oM)}},w=async j=>{j.preventDefault();try{r(!0);const C=await ql.createOrder(m);C.success&&(e({title:"نجح",description:C.message||"تم إنشاء طلب الشراء بنجاح"}),v({order_date:"",item_number:"",item_name:"",quantity:"",beneficiary_facility:"",financial_approval_number:"",approval_date:"",total_cost:"",supplier_name:"",supplier_contact:"",status:"جديد",delivery_date:"",actual_delivery_date:"",notes:""}),x())}catch(C){e({title:"خطأ",description:C.message||"فشل في إنشاء طلب الشراء",variant:"destructive"})}finally{r(!1)}},N=j=>{switch(j){case"جديد":return"bg-blue-100 text-blue-800";case"موافق عليه":return"bg-green-100 text-green-800";case"تم التعاقد":return"bg-purple-100 text-purple-800";case"تم التسليم":return"bg-emerald-100 text-emerald-800";case"مرفوض":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"الشراء المباشر"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"إنشاء ومتابعة طلبات الشراء المباشر"})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"إنشاء طلب شراء جديد"})}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الطلب *"}),i.jsx("input",{type:"date",value:m.order_date,onChange:j=>v(C=>({...C,order_date:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم الصنف *"}),i.jsx("input",{type:"text",value:m.item_number,onChange:j=>v(C=>({...C,item_number:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم الصنف",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الصنف *"}),i.jsx("input",{type:"text",value:m.item_name,onChange:j=>v(C=>({...C,item_name:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم الصنف",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية *"}),i.jsx("input",{type:"number",value:m.quantity,onChange:j=>v(C=>({...C,quantity:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الكمية",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المستفيدة *"}),i.jsxs("select",{value:m.beneficiary_facility,onChange:j=>v(C=>({...C,beneficiary_facility:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0,children:[i.jsx("option",{value:"",children:"اختر الجهة المستفيدة"}),l.map(j=>i.jsx("option",{value:j.name,children:j.name},j.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التعميد المالي"}),i.jsx("input",{type:"text",value:m.financial_approval_number,onChange:j=>v(C=>({...C,financial_approval_number:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم التعميد"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التعميد"}),i.jsx("input",{type:"date",value:m.approval_date,onChange:j=>v(C=>({...C,approval_date:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"التكلفة الإجمالية"}),i.jsx("input",{type:"number",step:"0.01",value:m.total_cost,onChange:j=>v(C=>({...C,total_cost:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"التكلفة بالريال"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الشركة الموردة"}),i.jsx("input",{type:"text",value:m.supplier_name,onChange:j=>v(C=>({...C,supplier_name:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم الشركة الموردة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"بيانات التواصل للشركة"}),i.jsx("input",{type:"text",value:m.supplier_contact,onChange:j=>v(C=>({...C,supplier_contact:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم الهاتف والإيميل"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة الطلب"}),i.jsxs("select",{value:m.status,onChange:j=>v(C=>({...C,status:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",children:[i.jsx("option",{value:"جديد",children:"جديد"}),i.jsx("option",{value:"موافق عليه",children:"موافق عليه"}),i.jsx("option",{value:"تم التعاقد",children:"تم التعاقد"}),i.jsx("option",{value:"تم التسليم",children:"تم التسليم"}),i.jsx("option",{value:"مرفوض",children:"مرفوض"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التسليم المخطط"}),i.jsx("input",{type:"date",value:m.delivery_date,onChange:j=>v(C=>({...C,delivery_date:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التسليم الفعلي"}),i.jsx("input",{type:"date",value:m.actual_delivery_date,onChange:j=>v(C=>({...C,actual_delivery_date:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"ملاحظات"}),i.jsx("textarea",{value:m.notes,onChange:j=>v(C=>({...C,notes:j.target.value})),className:"w-full p-3 border border-input rounded-md text-right",rows:3,placeholder:"ملاحظات إضافية..."})]}),i.jsx("div",{className:"flex justify-start",children:i.jsxs("button",{type:"submit",disabled:t,className:"admin-btn-success flex items-center gap-2 px-6 py-3 disabled:opacity-50",children:[i.jsx(oi,{size:20}),t?"جاري الحفظ...":"حفظ طلب الشراء"]})})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"متابعة مسار الطلبات"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vd,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"البحث في الطلبات...",value:d,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-10 py-2 border border-input rounded-md text-right"})]}),i.jsxs("select",{value:f,onChange:j=>h(j.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الحالات"}),i.jsx("option",{value:"جديد",children:"جديد"}),i.jsx("option",{value:"موافق عليه",children:"موافق عليه"}),i.jsx("option",{value:"تم التعاقد",children:"تم التعاقد"}),i.jsx("option",{value:"تم التسليم",children:"تم التسليم"}),i.jsx("option",{value:"مرفوض",children:"مرفوض"})]}),i.jsxs("select",{value:p,onChange:j=>g(j.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الجهات"}),l.map(j=>i.jsx("option",{value:j.name,children:j.name},j.id))]}),i.jsxs("button",{onClick:()=>{u(""),h(""),g("")},className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(ml,{size:16}),"مسح الفلاتر"]})]}),i.jsx("div",{className:"responsive-table",children:t?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"جاري تحميل الطلبات..."})]}):s.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"لا توجد طلبات شراء"})}):i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-right",children:[i.jsx("th",{className:"p-3",children:"رقم الطلب"}),i.jsx("th",{className:"p-3 mobile-hidden",children:"تاريخ الطلب"}),i.jsx("th",{className:"p-3",children:"اسم الصنف"}),i.jsx("th",{className:"p-3 mobile-hidden",children:"الجهة المستفيدة"}),i.jsx("th",{className:"p-3 mobile-hidden",children:"الكمية"}),i.jsx("th",{className:"p-3",children:"الحالة"}),i.jsx("th",{className:"p-3 mobile-hidden",children:"التكلفة"}),i.jsx("th",{className:"p-3",children:"الإجراءات"})]})}),i.jsx("tbody",{children:s.map(j=>i.jsxs("tr",{className:"border-b border-border text-right hover:bg-muted/50",children:[i.jsx("td",{className:"p-3 font-medium",children:j.order_number||j.id}),i.jsx("td",{className:"p-3 mobile-hidden",children:j.order_date}),i.jsx("td",{className:"p-3",children:j.item_name}),i.jsx("td",{className:"p-3 mobile-hidden",children:j.beneficiary_facility}),i.jsx("td",{className:"p-3 mobile-hidden",children:j.quantity}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${N(j.status)}`,children:j.status})}),i.jsx("td",{className:"p-3 mobile-hidden",children:j.total_cost?`${j.total_cost} ريال`:"-"}),i.jsx("td",{className:"p-3",children:i.jsxs("button",{className:"admin-btn-primary text-xs px-2 py-1 flex items-center gap-1",children:[i.jsx(tn,{size:12}),"عرض"]})})]},j.id))})]})})]})]})]})}function KTe(){const[e,t]=A.useState({orderDate:"",itemNumber:"",itemName:"",competitionName:"",facilityName:"",facilityCode:"",quantityRequested:"",quantityReceived:"",quantityRemaining:"",financialApprovalNumber:"",approvalDate:"",unitPrice:"",totalValue:"",receivedValue:"",remainingValue:"",supplierCompanyName:"",contactPerson:"",contactNumber:"",companyEmail:"",extractNumber:"",status:"جديد",deliveryDate:"",actualDeliveryDate:"",notes:"",imagebase64:null}),[r,n]=A.useState([]),[a,s]=A.useState(!1),[o,l]=A.useState(null),[c,d]=A.useState(!1),[u,f]=A.useState(!1),[h,p]=A.useState(!1),[g,m]=A.useState(!1),[v,x]=A.useState(null),[y,w]=A.useState(null),[N,j]=A.useState({newStatus:"",statusNote:"",statusDate:""}),{toast:C}=jn(),[k,_]=A.useState({facilityName:"جميع المنشآت",financialApprovalNumber:"",itemNumber:"",dateFrom:"",dateTo:"",supplierCompanyName:"جميع الموردين"}),L=P=>{const R=parseFloat(P.quantityRequested)||0,G=parseFloat(P.quantityReceived)||0,W=parseFloat(P.unitPrice)||0,H=R-G,me=R*W,ae=G*W,be=H*W;return{quantityRemaining:H.toString(),totalValue:me.toFixed(2),receivedValue:ae.toFixed(2),remainingValue:be.toFixed(2)}},z=A.useCallback(async()=>{try{s(!0);const P=await So.getContracts();P.success&&P.data?n(P.data):(console.error("API response not successful or no data:",P),n([]),C({title:"تحذير",description:"فشل في تحميل العقود من الخادم.",variant:"destructive"}))}catch(P){console.error("Error fetching contracts:",P),n([]),C({title:"تحذير",description:"فشل في تحميل العقود من الخادم.",variant:"destructive"})}finally{s(!1)}},[C]);A.useEffect(()=>{z()},[z]);const D=P=>{var G;const R=(G=P.target.files)==null?void 0:G[0];R&&t(W=>({...W,imagebase64:R}))},T=P=>{var G;const R=(G=P.target.files)==null?void 0:G[0];R&&w(W=>({...W,imagebase64:R}))},I=async P=>{P.preventDefault();try{s(!0);const R={...e,imagebase64:e.imagebase64},G=await So.createContract(R);G.success?(C({title:"نجح الإنشاء",description:"تم إنشاء عقد الأسنان بنجاح"}),t({orderDate:"",itemNumber:"",itemName:"",competitionName:"",facilityName:"",facilityCode:"",quantityRequested:"",quantityReceived:"",quantityRemaining:"",financialApprovalNumber:"",approvalDate:"",unitPrice:"",totalValue:"",receivedValue:"",remainingValue:"",supplierCompanyName:"",contactPerson:"",contactNumber:"",companyEmail:"",extractNumber:"",status:"جديد",deliveryDate:"",actualDeliveryDate:"",notes:"",imagebase64:null}),z()):C({title:"خطأ في الإنشاء",description:G.message||"فشل في إنشاء العقد",variant:"destructive"})}catch(R){console.error("Error creating contract:",R),C({title:"خطأ في الإنشاء",description:R.message||"فشل في إنشاء العقد",variant:"destructive"})}finally{s(!1)}},B=P=>{l(P),d(!0)},J=P=>{w(P),j({newStatus:P.status,statusNote:"",statusDate:""}),f(!0)},U=P=>{w(P),p(!0)},X=async P=>{if(P.preventDefault(),!!y)try{s(!0);const R={...y,imagebase64:y.imagebase64},G=await So.updateContract(y.id,R);G.success?(C({title:"تم التحديث",description:"تم تحديث العقد بنجاح"}),z(),p(!1),w(null)):C({title:"خطأ في التحديث",description:G.message||"فشل في تحديث العقد",variant:"destructive"})}catch(R){console.error("Error updating contract:",R),C({title:"خطأ في التحديث",description:R.message||"فشل في تحديث العقد",variant:"destructive"})}finally{s(!1)}},M=P=>{x(P),m(!0)},Q=async()=>{if(v)try{s(!0);const P=await So.deleteContract(v.id);P.success?(C({title:"تم الحذف!",description:"تم حذف العقد بنجاح."}),z(),m(!1),x(null)):C({title:"خطأ!",description:P.message||"فشل في حذف العقد.",variant:"destructive"})}catch(P){console.error("Error deleting contract:",P),C({title:"خطأ!",description:P.message||"فشل في حذف العقد.",variant:"destructive"})}finally{s(!1)}},le=P=>P?typeof P=="string"?A4(P)==="image":P.type.startsWith("image/"):!1,ue=P=>{const R=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>عقد الأسنان - ${P.id}</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            direction: rtl;
            text-align: right;
          }
          
          .print-container {
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            background: white;
          }
          
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          
          .header h1 {
            color: #1e40af;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
          }
          
          .header p {
            color: #64748b;
            font-size: 16px;
          }
          
          .section {
            margin-bottom: 25px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
          }
          
          .section-header {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            padding: 15px 20px;
            border-bottom: 1px solid #d1d5db;
          }
          
          .section-header h2 {
            color: #374151;
            font-size: 18px;
            font-weight: bold;
            margin: 0;
          }
          
          .section-content {
            padding: 20px;
            background: white;
          }
          
          .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
          }
          
          .info-item {
            background: #f9fafb;
            padding: 12px 15px;
            border-radius: 6px;
            border-right: 4px solid #3b82f6;
          }
          
          .info-item label {
            display: block;
            font-weight: bold;
            color: #4b5563;
            font-size: 14px;
            margin-bottom: 5px;
          }
          
          .info-item span {
            color: #1f2937;
            font-size: 15px;
            font-weight: 500;
          }
          
          .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
          }
          
          .status-new { background: #dbeafe; color: #1e40af; }
          .status-approved { background: #dcfce7; color: #166534; }
          .status-contracted { background: #fef3c7; color: #92400e; }
          .status-delivered { background: #d1fae5; color: #065f46; }
          .status-rejected { background: #fee2e2; color: #991b1b; }
          
          .notes-section {
            background: #fffbeb;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            padding: 15px;
          }
          
          .notes-section h3 {
            color: #92400e;
            margin-bottom: 10px;
            font-size: 16px;
          }
          
          .notes-section p {
            color: #451a03;
            line-height: 1.6;
          }
          
          .timeline-item {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            border-right: 4px solid #6366f1;
          }
          
          .timeline-item h4 {
            color: #4338ca;
            font-size: 16px;
            margin-bottom: 10px;
          }
          
          .timeline-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
          }
          
          .timeline-field {
            background: white;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #e5e7eb;
          }
          
          .timeline-field label {
            display: block;
            font-weight: bold;
            color: #6b7280;
            font-size: 12px;
            margin-bottom: 3px;
          }
          
          .timeline-field span {
            color: #111827;
            font-weight: 500;
          }
          
          .footer {
            margin-top: 40px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #d1d5db;
            color: #6b7280;
            font-size: 12px;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; }
            .print-container { padding: 10mm; }
            .section { break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <div class="print-container">
          <div class="header">
            <h1>عقد الأسنان - بلانكت</h1>
            <p>رقم العقد: ${P.id||"غير محدد"}</p>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>المعلومات الأساسية</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>رقم العقد</label>
                  <span>${P.id||"-"}</span>
                </div>
                <div class="info-item">
                  <label>رقم الصنف</label>
                  <span>${P.itemNumber||"-"}</span>
                </div>
                <div class="info-item">
                  <label>اسم الصنف</label>
                  <span>${P.itemName||"-"}</span>
                </div>
                <div class="info-item">
                  <label>اسم المنافسة</label>
                  <span>${P.competitionName||"-"}</span>
                </div>
                <div class="info-item">
                  <label>اسم المنشأة</label>
                  <span>${P.facilityName||"-"}</span>
                </div>
                <div class="info-item">
                  <label>رمز المنشأة</label>
                  <span>${P.facilityCode||"-"}</span>
                </div>
                <div class="info-item">
                  <label>تاريخ الطلب</label>
                  <span>${P.orderDate||"-"}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>معلومات الكمية والقيمة</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>الكمية المطلوبة</label>
                  <span>${P.quantityRequested||"-"}</span>
                </div>
                <div class="info-item">
                  <label>الكمية المستلمة</label>
                  <span>${P.quantityReceived||"-"}</span>
                </div>
                <div class="info-item">
                  <label>الكمية المتبقية</label>
                  <span>${P.quantityRemaining||"-"}</span>
                </div>
                <div class="info-item">
                  <label>سعر الوحدة</label>
                  <span>${P.unitPrice?`${Number(P.unitPrice).toLocaleString()} ريال`:"-"}</span>
                </div>
                <div class="info-item">
                  <label>القيمة الإجمالية</label>
                  <span>${P.totalValue?`${Number(P.totalValue).toLocaleString()} ريال`:"-"}</span>
                </div>
                <div class="info-item">
                  <label>القيمة المستلمة</label>
                  <span>${P.receivedValue?`${Number(P.receivedValue).toLocaleString()} ريال`:"-"}</span>
                </div>
                <div class="info-item">
                  <label>القيمة المتبقية</label>
                  <span>${P.remainingValue?`${Number(P.remainingValue).toLocaleString()} ريال`:"-"}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>المعلومات المالية</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>رقم التعميد المالي</label>
                  <span>${P.financialApprovalNumber||"-"}</span>
                </div>
                <div class="info-item">
                  <label>تاريخ التعميد</label>
                  <span>${P.approvalDate||"-"}</span>
                </div>
                <div class="info-item">
                  <label>رقم المستخلص</label>
                  <span>${P.extractNumber||"-"}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>معلومات المورد</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>اسم الشركة الموردة</label>
                  <span>${P.supplierCompanyName||"-"}</span>
                </div>
                <div class="info-item">
                  <label>اسم المسؤول</label>
                  <span>${P.contactPerson||"-"}</span>
                </div>
                <div class="info-item">
                  <label>رقم التواصل</label>
                  <span>${P.contactNumber||"-"}</span>
                </div>
                <div class="info-item">
                  <label>إيميل الشركة</label>
                  <span>${P.companyEmail||"-"}</span>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>الحالة والتسليم</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>حالة العقد</label>
                  <span class="status-badge ${O(P.status)}">${P.status||"-"}</span>
                </div>
                <div class="info-item">
                  <label>تاريخ التسليم المخطط</label>
                  <span>${P.deliveryDate||"-"}</span>
                </div>
                <div class="info-item">
                  <label>تاريخ التسليم الفعلي</label>
                  <span>${P.actualDeliveryDate||"-"}</span>
                </div>
              </div>
            </div>
          </div>

          ${P.notes?`
          <div class="section">
            <div class="section-header">
              <h2>الملاحظات</h2>
            </div>
            <div class="section-content">
              <div class="notes-section">
                <p>${P.notes}</p>
              </div>
            </div>
          </div>
          `:""}

          <div class="footer">
            <p>تم طباعة هذا العقد في: ${new Date().toLocaleDateString()} - ${new Date().toLocaleTimeString()}</p>
          </div>
        </div>
      </body>
      </html>
    `,G=window.open("","_blank");G&&(G.document.write(R),G.document.close(),G.onload=()=>{setTimeout(()=>{G.print(),G.close()},250)})},O=P=>{switch(P){case"جديد":return"status-new";case"موافق عليه":return"status-approved";case"تم التعاقد":return"status-contracted";case"تم التسليم":return"status-delivered";case"مرفوض":return"status-rejected";default:return"status-new"}},V=async()=>{if(!(!y||!N.newStatus))try{s(!0);const P=await So.updateContractStatus(y.id,{newStatus:N.newStatus,statusNote:N.statusNote,statusDate:N.statusDate});P.success?(C({title:"تم التحديث",description:"تم تحديث حالة العقد بنجاح"}),z(),f(!1),w(null),j({newStatus:"",statusNote:"",statusDate:""})):C({title:"خطأ في التحديث",description:P.message||"فشل في تحديث حالة العقد",variant:"destructive"})}catch(P){console.error("Error updating contract status:",P),C({title:"خطأ في التحديث",description:P.message||"فشل في تحديث حالة العقد",variant:"destructive"})}finally{s(!1)}},Y=P=>{const R=["جديد","موافق عليه","تم التعاقد","تم التسليم"],G=R.indexOf(P),W=[...R.slice(G),"مرفوض"];return[...new Set(W)]},q=P=>{switch(P){case"جديد":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"موافق عليه":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"تم التعاقد":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"تم التسليم":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";case"مرفوض":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"عقود الأسنان - بلانكت"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"إدارة عقود وطلبات أجهزة ومستلزمات الأسنان"})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"إنشاء طلب عقد أسنان جديد"})}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الطلب *"}),i.jsx("input",{type:"date",value:e.orderDate,onChange:P=>t(R=>({...R,orderDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم الصنف *"}),i.jsx("input",{type:"text",value:e.itemNumber,onChange:P=>t(R=>({...R,itemNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم صنف الأسنان",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الصنف *"}),i.jsx("textarea",{value:e.itemName,onChange:P=>t(R=>({...R,itemName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right min-h-[60px]",placeholder:"جهاز أو مستلزم أسنان",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المنافسة"}),i.jsx("input",{type:"text",value:e.competitionName,onChange:P=>t(R=>({...R,competitionName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم المنافسة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المنشأة"}),i.jsx("input",{type:"text",value:e.facilityName,onChange:P=>t(R=>({...R,facilityName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم المنشأة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رمز المنشأة"}),i.jsx("input",{type:"text",value:e.facilityCode,onChange:P=>t(R=>({...R,facilityCode:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رمز المنشأة"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المطلوبة"}),i.jsx("input",{type:"number",value:e.quantityRequested,onChange:P=>{const R={...e,quantityRequested:P.target.value},G=L(R);t(W=>({...W,...R,...G}))},className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الكمية المطلوبة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المستلمة"}),i.jsx("input",{type:"number",value:e.quantityReceived,onChange:P=>{const R={...e,quantityReceived:P.target.value},G=L(R);t(W=>({...W,...R,...G}))},className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الكمية المستلمة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المتبقية"}),i.jsx("input",{type:"number",value:e.quantityRemaining,className:"w-full p-3 border border-input rounded-md text-right bg-gray-100",placeholder:"الكمية المتبقية",readOnly:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"سعر الوحدة"}),i.jsx("input",{type:"number",step:"0.01",value:e.unitPrice,onChange:P=>{const R={...e,unitPrice:P.target.value},G=L(R);t(W=>({...W,...R,...G}))},className:"w-full p-3 border border-input rounded-md text-right",placeholder:"سعر الوحدة بالريال"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"القيمة الإجمالية"}),i.jsx("input",{type:"number",step:"0.01",value:e.totalValue,className:"w-full p-3 border border-input rounded-md text-right bg-gray-100",placeholder:"القيمة الإجمالية بالريال",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"القيمة المستلمة"}),i.jsx("input",{type:"number",step:"0.01",value:e.receivedValue,className:"w-full p-3 border border-input rounded-md text-right bg-gray-100",placeholder:"القيمة المستلمة بالريال",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"القيمة المتبقية"}),i.jsx("input",{type:"number",step:"0.01",value:e.remainingValue,className:"w-full p-3 border border-input rounded-md text-right bg-gray-100",placeholder:"القيمة المتبقية بالريال",readOnly:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التعميد المالي"}),i.jsx("input",{type:"text",value:e.financialApprovalNumber,onChange:P=>t(R=>({...R,financialApprovalNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم التعميد"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التعميد"}),i.jsx("input",{type:"date",value:e.approvalDate,onChange:P=>t(R=>({...R,approvalDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم المستخلص"}),i.jsx("input",{type:"text",value:e.extractNumber,onChange:P=>t(R=>({...R,extractNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم المستخلص"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الشركة الموردة"}),i.jsx("input",{type:"text",value:e.supplierCompanyName,onChange:P=>t(R=>({...R,supplierCompanyName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم الشركة الموردة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المسؤول"}),i.jsx("input",{type:"text",value:e.contactPerson,onChange:P=>t(R=>({...R,contactPerson:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم المسؤول"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التواصل"}),i.jsx("input",{type:"text",value:e.contactNumber,onChange:P=>t(R=>({...R,contactNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم التواصل"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"إيميل الشركة"}),i.jsx("input",{type:"email",value:e.companyEmail,onChange:P=>t(R=>({...R,companyEmail:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"إيميل الشركة"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"صورة التعميد أو ملف PDF"}),i.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:D,className:"w-full p-3 border border-input rounded-md text-right"}),e.imagebase64&&i.jsx("div",{className:"mt-2 text-right",children:le(e.imagebase64)?i.jsx("img",{src:e.imagebase64 instanceof File?URL.createObjectURL(e.imagebase64):e.imagebase64,alt:"Image Preview",className:"max-w-[150px] max-h-[150px] object-contain border rounded-md"}):i.jsx("div",{className:"flex items-center gap-2 text-blue-600",children:i.jsx("span",{children:"تم رفع ملف PDF"})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة العقد"}),i.jsxs("div",{className:"flex items-center gap-2 text-right",children:[i.jsx("input",{type:"checkbox",checked:e.status==="جديد",disabled:!0,className:"ml-2"}),i.jsx("span",{children:"جديد"})]}),i.jsx("p",{className:"text-xs text-red-500 mt-1 text-right",children:"يمكنك لاحقاً تعديل حالة العقد"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التسليم المخطط"}),i.jsx("input",{type:"date",value:e.deliveryDate,onChange:P=>t(R=>({...R,deliveryDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التسليم الفعلي"}),i.jsx("input",{type:"date",value:e.actualDeliveryDate,onChange:P=>t(R=>({...R,actualDeliveryDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الملاحظات"}),i.jsx("textarea",{value:e.notes,onChange:P=>t(R=>({...R,notes:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",rows:3,placeholder:"أي ملاحظات إضافية"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"submit",disabled:a,className:"bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[i.jsx(oi,{size:20}),a?"جاري الحفظ...":"حفظ العقد"]})})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"عقود الأسنان الحديثة"})}),i.jsxs("div",{className:"p-6 border-b border-border bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(ml,{className:"text-primary",size:20}),i.jsx("h3",{className:"font-semibold text-lg",children:"تصفية العقود"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"اسم المنشأة"}),i.jsxs("select",{value:k.facilityName,onChange:P=>_(R=>({...R,facilityName:P.target.value})),className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground focus:ring-2 focus:ring-ring focus:border-transparent",children:[i.jsx("option",{value:"جميع المنشآت",children:"جميع المنشآت"}),[...new Set(r.map(P=>P.facilityName).filter(Boolean))].sort().map(P=>i.jsx("option",{value:P,children:P},P))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"رقم المستخلص"}),i.jsx("input",{type:"text",value:k.financialApprovalNumber,onChange:P=>_(R=>({...R,financialApprovalNumber:P.target.value})),placeholder:"ابحث برقم المستخلص...",className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"رقم الصنف"}),i.jsx("input",{type:"text",value:k.itemNumber,onChange:P=>_(R=>({...R,itemNumber:P.target.value})),placeholder:"ابحث برقم الصنف...",className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-ring focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"من تاريخ"}),i.jsx("input",{type:"date",value:k.dateFrom,onChange:P=>_(R=>({...R,dateFrom:P.target.value})),className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground focus:ring-2 focus:ring-ring focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"إلى تاريخ"}),i.jsx("input",{type:"date",value:k.dateTo,onChange:P=>_(R=>({...R,dateTo:P.target.value})),className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground focus:ring-2 focus:ring-ring focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"الشركة الموردة"}),i.jsxs("select",{value:k.supplierCompanyName,onChange:P=>_(R=>({...R,supplierCompanyName:P.target.value})),className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground focus:ring-2 focus:ring-ring focus:border-transparent",children:[i.jsx("option",{value:"جميع الموردين",children:"جميع الموردين"}),[...new Set(r.map(P=>P.supplierCompanyName).filter(Boolean))].map(P=>i.jsx("option",{value:P,children:P},P))]})]})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:()=>_({facilityName:"جميع المنشآت",financialApprovalNumber:"",itemNumber:"",dateFrom:"",dateTo:"",supplierCompanyName:"جميع الموردين"}),className:"px-4 py-2 text-sm bg-muted hover:bg-muted/80 rounded-lg transition-colors",children:"إعادة تعيين الفلاتر"})})]}),i.jsx("div",{className:"p-6",children:a?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"جاري تحميل العقود..."})]}):r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"📋"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"لا توجد عقود"}),i.jsx("p",{className:"text-muted-foreground",children:"لم يتم إنشاء أي عقود أسنان بعد"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden lg:block overflow-x-auto",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800 shadow-sm",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"رقم العقد"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"تاريخ الطلب"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"اسم الصنف"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"اسم المنشأة"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"رقم المستخلص"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"الكمية المطلوبة"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"صورة التعميد أو ملف"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"الحالة"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"القيمة الإجمالية"}),i.jsx("th",{className:"p-4 text-right font-semibold text-sm",children:"الإجراءات"})]})}),i.jsx("tbody",{children:r.filter(P=>{var ae,be,te;const R=k.facilityName==="جميع المنشآت"||P.facilityName===k.facilityName,G=!k.financialApprovalNumber||((ae=P.extractNumber)==null?void 0:ae.toLowerCase().includes(k.financialApprovalNumber.toLowerCase()))||((be=P.financialApprovalNumber)==null?void 0:be.toLowerCase().includes(k.financialApprovalNumber.toLowerCase())),W=!k.itemNumber||((te=P.itemNumber)==null?void 0:te.toLowerCase().includes(k.itemNumber.toLowerCase()));let H=!0;if(k.dateFrom||k.dateTo){const ge=P.orderDate?new Date(P.orderDate):null;ge?(k.dateFrom&&(H=H&&ge>=new Date(k.dateFrom)),k.dateTo&&(H=H&&ge<=new Date(k.dateTo))):H=!1}const me=k.supplierCompanyName==="جميع الموردين"||P.supplierCompanyName===k.supplierCompanyName;return R&&G&&W&&H&&me}).map((P,R)=>i.jsxs("tr",{className:`
                            border-b border-blue-100 dark:border-blue-800 
                            hover:bg-blue-50 dark:hover:bg-blue-900/30 
                            transition-all duration-200
                            ${R%2===0?"bg-white dark:bg-gray-900":"bg-blue-25 dark:bg-gray-800"}
                          `,children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"font-semibold text-blue-700 dark:text-blue-300",children:["#",P.id]})}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.orderDate||"-"})}),i.jsxs("td",{className:"p-4",children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 max-w-[200px] truncate",children:P.itemName||"-"}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["رقم: ",P.itemNumber||"-"]})]}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 max-w-[150px] truncate",children:P.facilityName||"-"})}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.extractNumber||"-"})}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.quantityRequested||"-"})}),i.jsx("td",{className:"p-4",children:P.imagebase64?i.jsx("div",{children:le(P.imagebase64)?i.jsxs("button",{onClick:()=>{const G=window.open("");G&&(G.document.write(`<html><head><title>صورة التعميد</title></head><body style="margin:0;padding:20px;background:#f5f5f5;"><img src="${P.imagebase64}" style="max-width:100%; height:auto; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.15);" /></body></html>`),G.document.close())},className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors bg-blue-50 dark:bg-blue-900/30 px-3 py-2 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50",children:[i.jsx($u,{size:16}),i.jsx("span",{className:"text-xs",children:"عرض"})]}):i.jsxs("a",{href:P.imagebase64,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors bg-red-50 dark:bg-red-900/30 px-3 py-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"text-xs",children:"تحميل"})]})}):i.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg",children:"لا يوجد ملف"})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q(P.status)}`,children:P.status})}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"font-semibold text-green-700 dark:text-green-400",children:P.totalValue?`${Number(P.totalValue).toLocaleString()} ريال`:"-"})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[i.jsxs("button",{onClick:()=>B(P),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-2 py-1.5 rounded-md flex items-center gap-1 transition-all duration-200 hover:shadow-md",title:"عرض التفاصيل",children:[i.jsx(tn,{size:12}),i.jsx("span",{className:"hidden xl:inline",children:"عرض"})]}),i.jsxs("button",{onClick:()=>U(P),className:"bg-purple-500 hover:bg-purple-600 text-white text-xs px-2 py-1.5 rounded-md flex items-center gap-1 transition-all duration-200 hover:shadow-md",title:"تعديل عام",children:[i.jsx(Si,{size:12}),i.jsx("span",{className:"hidden xl:inline",children:"تعديل"})]}),i.jsxs("button",{onClick:()=>J(P),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs px-2 py-1.5 rounded-md flex items-center gap-1 transition-all duration-200 hover:shadow-md",title:"تعديل الحالة",children:[i.jsx(_a,{size:12}),i.jsx("span",{className:"hidden xl:inline",children:"حالة"})]}),i.jsxs("button",{onClick:()=>ue(P),className:"bg-green-500 hover:bg-green-600 text-white text-xs px-2 py-1.5 rounded-md flex items-center gap-1 transition-all duration-200 hover:shadow-md",title:"طباعة",children:[i.jsx(un,{size:12}),i.jsx("span",{className:"hidden xl:inline",children:"طباعة"})]}),i.jsxs("button",{onClick:()=>M(P),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-2 py-1.5 rounded-md flex items-center gap-1 transition-all duration-200 hover:shadow-md",title:"حذف",children:[i.jsx(Un,{size:12}),i.jsx("span",{className:"hidden xl:inline",children:"حذف"})]})]})})]},P.id))})]})})}),i.jsx("div",{className:"lg:hidden space-y-4",children:r.filter(P=>{var ae,be,te;const R=k.facilityName==="جميع المنشآت"||P.facilityName===k.facilityName,G=!k.financialApprovalNumber||((ae=P.extractNumber)==null?void 0:ae.toLowerCase().includes(k.financialApprovalNumber.toLowerCase()))||((be=P.financialApprovalNumber)==null?void 0:be.toLowerCase().includes(k.financialApprovalNumber.toLowerCase())),W=!k.itemNumber||((te=P.itemNumber)==null?void 0:te.toLowerCase().includes(k.itemNumber.toLowerCase()));let H=!0;if(k.dateFrom||k.dateTo){const ge=P.orderDate?new Date(P.orderDate):null;ge?(k.dateFrom&&(H=H&&ge>=new Date(k.dateFrom)),k.dateTo&&(H=H&&ge<=new Date(k.dateTo))):H=!1}const me=k.supplierCompanyName==="جميع الموردين"||P.supplierCompanyName===k.supplierCompanyName;return R&&G&&W&&H&&me}).map(P=>i.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 dark:from-gray-900 dark:to-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg",children:["عقد #",P.id]}),i.jsx("p",{className:"text-blue-100 text-sm",children:P.orderDate||"تاريخ غير محدد"})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q(P.status)} bg-opacity-90`,children:P.status})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-semibold text-blue-700 dark:text-blue-300 mb-1",children:"اسم الصنف"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.itemName||"-"}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["رقم: ",P.itemNumber||"-"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"الكمية المطلوبة"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.quantityRequested||"-"})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 p-3 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-semibold text-green-700 dark:text-green-300 mb-1",children:"القيمة الإجمالية"}),i.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:P.totalValue?`${Number(P.totalValue).toLocaleString()} ريال`:"-"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-semibold text-purple-700 dark:text-purple-300 mb-1",children:"اسم المنشأة"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.facilityName||"-"})]}),i.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-semibold text-indigo-700 dark:text-indigo-300 mb-1",children:"رقم المستخلص"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.extractNumber||"-"})]})]}),P.imagebase64&&i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 p-3 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"صورة التعميد أو ملف"}),le(P.imagebase64)?i.jsxs("button",{onClick:()=>{const R=window.open("");R&&(R.document.write(`<html><head><title>صورة التعميد</title></head><body style="margin:0;padding:20px;background:#f5f5f5;"><img src="${P.imagebase64}" style="max-width:100%; height:auto; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.15);" /></body></html>`),R.document.close())},className:"flex items-center gap-2 text-yellow-700 dark:text-yellow-300 hover:text-yellow-900 dark:hover:text-yellow-100 transition-colors bg-yellow-100 dark:bg-yellow-900/50 px-3 py-2 rounded-lg hover:bg-yellow-200 dark:hover:bg-yellow-900/70 w-full justify-center",children:[i.jsx($u,{size:16}),i.jsx("span",{className:"text-sm font-medium",children:"عرض الصورة"})]}):i.jsxs("a",{href:P.imagebase64,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-100 transition-colors bg-red-100 dark:bg-red-900/50 px-3 py-2 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/70 w-full justify-center",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"text-sm font-medium",children:"تحميل الملف"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-blue-100 dark:border-blue-800",children:[i.jsxs("button",{onClick:()=>B(P),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-sm px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md",children:[i.jsx(tn,{size:16}),"عرض"]}),i.jsxs("button",{onClick:()=>U(P),className:"flex-1 bg-purple-500 hover:bg-purple-600 text-white text-sm px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md",children:[i.jsx(Si,{size:16}),"تعديل"]}),i.jsxs("button",{onClick:()=>J(P),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-sm px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md",children:[i.jsx(_a,{size:16}),"حالة"]}),i.jsxs("button",{onClick:()=>ue(P),className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md",children:[i.jsx(un,{size:16}),"طباعة"]}),i.jsxs("button",{onClick:()=>M(P),className:"flex-1 bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md",children:[i.jsx(Un,{size:16}),"حذف"]})]})]})]},P.id))})]})})]}),i.jsx(Na,{open:g,onOpenChange:m,children:i.jsxs(da,{className:"max-w-md",children:[i.jsxs(ua,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:i.jsx(To,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),i.jsx(fa,{className:"text-xl font-bold text-red-800 dark:text-red-200",children:"تأكيد حذف العقد"}),i.jsxs(Ni,{className:"text-gray-600 dark:text-gray-400 mt-2",children:["هل أنت متأكد من حذف العقد رقم ",i.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["#",v==null?void 0:v.id]}),"؟"]})]}),i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 my-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(To,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200",children:[i.jsx("p",{className:"font-semibold mb-1",children:"تحذير مهم:"}),i.jsx("p",{children:"لن تتمكن من التراجع عن هذا الإجراء. سيتم حذف جميع البيانات المرتبطة بهذا العقد نهائياً."})]})]})}),v&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"تفاصيل العقد:"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"اسم الصنف:"})," ",v.itemName||"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"المنافسة:"})," ",v.competitionName||"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"التاريخ:"})," ",v.orderDate||"-"]})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:()=>{m(!1),x(null)},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"إلغاء"}),i.jsx("button",{onClick:Q,disabled:a,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري الحذف..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Un,{size:16}),"تأكيد الحذف"]})})]})]})}),i.jsx(Na,{open:c,onOpenChange:d,children:i.jsxs(da,{className:"max-w-5xl max-h-[95vh] overflow-y-auto",children:[i.jsxs(ua,{className:"sticky top-0 bg-background pb-4 border-b",children:[i.jsx(fa,{className:"text-right text-xl font-bold",children:"تفاصيل عقد الأسنان"}),i.jsxs(Ni,{className:"text-right",children:["عرض تفاصيل العقد رقم: ",o==null?void 0:o.id]})]}),o&&i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"رقم العقد:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.id})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"تاريخ الطلب:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.orderDate})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"رقم الصنف:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.itemNumber})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg col-span-full md:col-span-2 lg:col-span-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"اسم الصنف:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.itemName})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"اسم المنافسة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.competitionName||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"اسم المنشأة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.facilityName||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"رمز المنشأة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.facilityCode||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"الكمية المطلوبة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.quantityRequested||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"الكمية المستلمة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.quantityReceived||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"الكمية المتبقية:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.quantityRemaining||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"سعر الوحدة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.unitPrice?`${Number(o.unitPrice).toLocaleString()} ريال`:"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"القيمة الإجمالية:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.totalValue?`${Number(o.totalValue).toLocaleString()} ريال`:"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"القيمة المستلمة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.receivedValue?`${Number(o.receivedValue).toLocaleString()} ريال`:"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"القيمة المتبقية:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.remainingValue?`${Number(o.remainingValue).toLocaleString()} ريال`:"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"رقم التعميد المالي:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.financialApprovalNumber||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"تاريخ التعميد:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.approvalDate||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"رقم المستخلص:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.extractNumber||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"اسم الشركة الموردة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.supplierCompanyName||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"اسم المسؤول:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.contactPerson||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"رقم التواصل:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.contactNumber||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"إيميل الشركة:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.companyEmail||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"تاريخ التسليم المخطط:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.deliveryDate||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"تاريخ التسليم الفعلي:"}),i.jsx("p",{className:"text-lg font-semibold",children:o.actualDeliveryDate||"-"})]}),i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg col-span-full",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"صورة التعميد أو ملف:"}),o.imagebase64?i.jsx("div",{className:"mt-2",children:le(o.imagebase64)?i.jsx("img",{src:o.imagebase64 instanceof File?URL.createObjectURL(o.imagebase64):o.imagebase64,alt:"Approval",className:"max-w-full h-auto rounded-md"}):i.jsxs("a",{href:o.imagebase64 instanceof File?URL.createObjectURL(o.imagebase64):o.imagebase64,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors bg-red-50 dark:bg-red-900/30 px-4 py-3 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50",children:[i.jsx(Pr,{size:20}),i.jsx("span",{className:"text-lg font-medium",children:"تحميل ملف PDF"})]})}):i.jsx("p",{className:"text-lg font-semibold",children:"لا يوجد ملف"})]})]}),o.notes&&i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[i.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"ملاحظات:"}),i.jsx("p",{className:"text-base text-yellow-900 dark:text-yellow-100",children:o.notes})]}),i.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 p-6 rounded-lg border",children:[i.jsx("h3",{className:"text-xl font-bold mb-6 text-right text-indigo-800 dark:text-indigo-200",children:"سجل حالات العقد"}),i.jsxs("div",{className:"space-y-4",children:[o.creation_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg border-l-4 border-blue-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"تاريخ الإنشاء"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.creation_date})]}),o.creation_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"ملاحظة الإنشاء"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.creation_date_note})]})]}),o.contract_approval_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-teal-50 dark:bg-teal-900/30 rounded-lg border-l-4 border-teal-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-teal-700 dark:text-teal-300 mb-2",children:"تاريخ الموافقة"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.contract_approval_date})]}),o.contract_approval_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-teal-700 dark:text-teal-300 mb-2",children:"ملاحظة الموافقة"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.contract_approval_date_note})]})]}),o.contract_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg border-l-4 border-yellow-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"تاريخ التعاقد"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.contract_date})]}),o.contract_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"ملاحظة التعاقد"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.contract_date_note})]})]}),o.contract_delivery_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg border-l-4 border-emerald-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-2",children:"تاريخ التسليم"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.contract_delivery_date})]}),o.contract_delivery_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-2",children:"ملاحظة التسليم"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.contract_delivery_date_note})]})]}),o.rejection_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-red-50 dark:bg-red-900/30 rounded-lg border-l-4 border-red-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-red-700 dark:text-red-300 mb-2",children:"تاريخ الرفض"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.rejection_date})]}),o.rejection_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-red-700 dark:text-red-300 mb-2",children:"ملاحظة الرفض"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:o.rejection_date_note})]})]})]})]})]})]})}),i.jsx(Na,{open:u,onOpenChange:f,children:i.jsxs(da,{className:"max-w-2xl",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-lg font-bold",children:"تعديل حالة العقد"}),i.jsxs(Ni,{className:"text-right",children:["تعديل حالة العقد رقم: ",y==null?void 0:y.id]})]}),y&&i.jsxs("div",{className:"space-y-6 p-4",children:[i.jsxs("div",{className:"text-right bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"الحالة الحالية"}),i.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${q(y.status)}`,children:y.status})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"الحالة الجديدة *"}),i.jsxs("select",{value:N.newStatus,onChange:P=>j(R=>({...R,newStatus:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0,children:[i.jsx("option",{value:"",children:"اختر الحالة الجديدة"}),Y(y.status).map(P=>i.jsx("option",{value:P,children:P},P))]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"تاريخ تحديث الحالة"}),i.jsx("input",{type:"date",value:N.statusDate,onChange:P=>j(R=>({...R,statusDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"ملاحظة التحديث"}),i.jsx("textarea",{value:N.statusNote,onChange:P=>j(R=>({...R,statusNote:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",rows:3,placeholder:"أي ملاحظات حول تحديث الحالة"})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"إلغاء"}),i.jsx("button",{onClick:V,disabled:a||!N.newStatus,className:"px-4 py-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"جاري التحديث...":"تحديث الحالة"})]})]})]})}),i.jsx(Na,{open:h,onOpenChange:p,children:i.jsxs(da,{className:"max-w-4xl max-h-[95vh] overflow-y-auto",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-lg font-bold",children:"تعديل عام للعقد"}),i.jsxs(Ni,{className:"text-right",children:["تعديل بيانات العقد رقم: ",y==null?void 0:y.id]})]}),y&&i.jsxs("form",{onSubmit:X,className:"space-y-6 p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الطلب *"}),i.jsx("input",{type:"date",value:y.orderDate||"",onChange:P=>w(R=>({...R,orderDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم الصنف *"}),i.jsx("input",{type:"text",value:y.itemNumber||"",onChange:P=>w(R=>({...R,itemNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم صنف الأسنان",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الصنف *"}),i.jsx("textarea",{value:y.itemName||"",onChange:P=>w(R=>({...R,itemName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right min-h-[60px]",placeholder:"جهاز أو مستلزم أسنان",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المنافسة"}),i.jsx("input",{type:"text",value:y.competitionName||"",onChange:P=>w(R=>({...R,competitionName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم المنافسة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المنشأة"}),i.jsx("input",{type:"text",value:y.facilityName||"",onChange:P=>w(R=>({...R,facilityName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم المنشأة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رمز المنشأة"}),i.jsx("input",{type:"text",value:y.facilityCode||"",onChange:P=>w(R=>({...R,facilityCode:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رمز المنشأة"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المطلوبة"}),i.jsx("input",{type:"number",value:y.quantityRequested||"",onChange:P=>{const R={...y,quantityRequested:P.target.value},G=L(R);w(W=>({...W,quantityRequested:P.target.value,quantityRemaining:G.quantityRemaining,totalValue:G.totalValue,receivedValue:G.receivedValue,remainingValue:G.remainingValue}))},className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الكمية المطلوبة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المستلمة"}),i.jsx("input",{type:"number",value:y.quantityReceived||"",onChange:P=>{const R={...y,quantityReceived:P.target.value},G=L(R);w(W=>({...W,quantityReceived:P.target.value,quantityRemaining:G.quantityRemaining,receivedValue:G.receivedValue,remainingValue:G.remainingValue}))},className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الكمية المستلمة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الكمية المتبقية"}),i.jsx("input",{type:"number",value:y.quantityRemaining||"",readOnly:!0,className:"w-full p-3 border border-input rounded-md text-right bg-gray-50 text-gray-600",placeholder:"محسوبة تلقائياً"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"سعر الوحدة"}),i.jsx("input",{type:"number",step:"0.01",value:y.unitPrice||"",onChange:P=>{const R={...y,unitPrice:P.target.value},G=L(R);w(W=>({...W,unitPrice:P.target.value,totalValue:G.totalValue,receivedValue:G.receivedValue,remainingValue:G.remainingValue}))},className:"w-full p-3 border border-input rounded-md text-right",placeholder:"سعر الوحدة بالريال"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"القيمة الإجمالية"}),i.jsx("input",{type:"number",step:"0.01",value:y.totalValue||"",readOnly:!0,className:"w-full p-3 border border-input rounded-md text-right bg-gray-50 text-gray-600",placeholder:"محسوبة تلقائياً"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"القيمة المستلمة"}),i.jsx("input",{type:"number",step:"0.01",value:y.receivedValue||"",readOnly:!0,className:"w-full p-3 border border-input rounded-md text-right bg-gray-50 text-gray-600",placeholder:"محسوبة تلقائياً"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"القيمة المتبقية"}),i.jsx("input",{type:"number",step:"0.01",value:y.remainingValue||"",readOnly:!0,className:"w-full p-3 border border-input rounded-md text-right bg-gray-50 text-gray-600",placeholder:"محسوبة تلقائياً"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التعميد المالي"}),i.jsx("input",{type:"text",value:y.financialApprovalNumber||"",onChange:P=>w(R=>({...R,financialApprovalNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم التعميد"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التعميد"}),i.jsx("input",{type:"date",value:y.approvalDate||"",onChange:P=>w(R=>({...R,approvalDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم المستخلص"}),i.jsx("input",{type:"text",value:y.extractNumber||"",onChange:P=>w(R=>({...R,extractNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم المستخلص"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الشركة الموردة"}),i.jsx("input",{type:"text",value:y.supplierCompanyName||"",onChange:P=>w(R=>({...R,supplierCompanyName:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم الشركة الموردة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المسؤول"}),i.jsx("input",{type:"text",value:y.contactPerson||"",onChange:P=>w(R=>({...R,contactPerson:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم المسؤول"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم التواصل"}),i.jsx("input",{type:"text",value:y.contactNumber||"",onChange:P=>w(R=>({...R,contactNumber:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم التواصل"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"إيميل الشركة"}),i.jsx("input",{type:"email",value:y.companyEmail||"",onChange:P=>w(R=>({...R,companyEmail:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"إيميل الشركة"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"صورة التعميد أو ملف PDF"}),i.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:T,className:"w-full p-3 border border-input rounded-md text-right"}),y.imagebase64&&i.jsx("div",{className:"mt-2 text-right",children:le(y.imagebase64)?i.jsx("img",{src:y.imagebase64 instanceof File?URL.createObjectURL(y.imagebase64):y.imagebase64,alt:"Image Preview",className:"max-w-[150px] max-h-[150px] object-contain border rounded-md"}):i.jsx("div",{className:"flex items-center gap-2 text-blue-600",children:i.jsx("span",{children:"تم رفع ملف PDF"})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التسليم المخطط"}),i.jsx("input",{type:"date",value:y.deliveryDate||"",onChange:P=>w(R=>({...R,deliveryDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التسليم الفعلي"}),i.jsx("input",{type:"date",value:y.actualDeliveryDate||"",onChange:P=>w(R=>({...R,actualDeliveryDate:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الملاحظات"}),i.jsx("textarea",{value:y.notes||"",onChange:P=>w(R=>({...R,notes:P.target.value})),className:"w-full p-3 border border-input rounded-md text-right",rows:3,placeholder:"أي ملاحظات إضافية"})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"إلغاء"}),i.jsxs("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(oi,{size:16}),a?"جاري التحديث...":"حفظ التغييرات"]})]})]})]})})]})}const Xo=[{id:"CONT-001",orderDate:"2024-01-15",itemNumber:"DENT-001",itemName:"كرسي الأسنان المتطور",competitionName:"منافسة أجهزة الأسنان 2024",facilityName:"عيادة الأسنان - المبنى الرئيسي",facilityCode:"DEN001",quantityRequested:5,quantityReceived:3,quantityRemaining:2,financialApprovalNumber:"FA-2024-001",approvalDate:"2024-01-10",unitPrice:17e3,totalValue:85e3,receivedValue:51e3,remainingValue:34e3,supplierCompanyName:"شركة التجهيزات الطبية المتقدمة",contactPerson:"أحمد سالم",contactNumber:"+966501234567",companyEmail:"info@medtech.com",extractNumber:"EXT-001",deliveryDate:"2024-02-15",actualDeliveryDate:"2024-02-14",notes:"تم التسليم في الموعد المحدد",status:"تم التعاقد"},{id:"CONT-002",orderDate:"2024-01-20",itemNumber:"DENT-002",itemName:"جهاز الأشعة السينية للأسنان",competitionName:"منافسة الأجهزة التشخيصية",facilityName:"مركز طب الأسنان التخصصي",facilityCode:"DEN002",quantityRequested:2,quantityReceived:0,quantityRemaining:2,financialApprovalNumber:"FA-2024-002",approvalDate:"2024-01-18",unitPrice:6e4,totalValue:12e4,receivedValue:0,remainingValue:12e4,supplierCompanyName:"مؤسسة الأجهزة التشخيصية",contactPerson:"محمد علي",contactNumber:"+966505555555",companyEmail:"contact@diagnostic.com",extractNumber:"EXT-002",deliveryDate:"2024-02-20",actualDeliveryDate:null,notes:"في انتظار التسليم",status:"موافق عليه"},{id:"CONT-003",orderDate:"2024-01-10",itemNumber:"DENT-003",itemName:"أدوات تقويم الأسنان",competitionName:"منافسة أدوات التقويم",facilityName:"قسم تقويم الأسنان",facilityCode:"DEN003",quantityRequested:50,quantityReceived:50,quantityRemaining:0,financialApprovalNumber:"FA-2024-003",approvalDate:"2024-01-05",unitPrice:900,totalValue:45e3,receivedValue:45e3,remainingValue:0,supplierCompanyName:"شركة الأدوات الطبية المتخصصة",contactPerson:"سارة أحمد",contactNumber:"+966507777777",companyEmail:"orders@specialtools.com",extractNumber:"EXT-003",deliveryDate:"2024-01-25",actualDeliveryDate:"2024-01-24",notes:"تم التسليم بحالة ممتازة",status:"تم التسليم"}],AD={جديد:"bg-blue-100 text-blue-800","موافق عليه":"bg-yellow-100 text-yellow-800","تم التعاقد":"bg-purple-100 text-purple-800","تم التسليم":"bg-green-100 text-green-800",مرفوض:"bg-red-100 text-red-800"};function XTe(){const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,s]=A.useState("all"),[o,l]=A.useState(""),[c,d]=A.useState("all"),[u,f]=A.useState("all"),[h,p]=A.useState(""),[g,m]=A.useState(""),[v,x]=A.useState(""),[y,w]=A.useState(!0),[N,j]=A.useState([]),[C,k]=A.useState([]),[_,L]=A.useState([]),z=M=>{const Q=parseFloat(M.totalValue||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),le=parseFloat(M.receivedValue||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),ue=parseFloat(M.remainingValue||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),O={"موافق عليه":"background-color: #fef3c7; color: #92400e;","تم التعاقد":"background-color: #e9d5ff; color: #6b21a8;","تم التسليم":"background-color: #d1fae5; color: #065f46;",مرفوض:"background-color: #fee2e2; color: #991b1b;",جديد:"background-color: #dbeafe; color: #1e40af;"}[M.status]||"background-color: #f3f4f6; color: #374151;",V=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>تفاصيل العقد - ${M.id}</title>
        <style>
          body { 
            font-family: Arial, sans-serif; 
            direction: rtl; 
            margin: 20px;
            font-size: 14px;
            line-height: 1.6;
          }
          .header { 
            text-align: center; 
            color: #6B46C1; 
            margin-bottom: 30px;
            border-bottom: 2px solid #6B46C1;
            padding-bottom: 20px;
          }
          .contract-details {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
          }
          .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            border-right: 4px solid #6B46C1;
          }
          .detail-label {
            font-weight: bold;
            color: #374151;
            min-width: 150px;
          }
          .detail-value {
            color: #1f2937;
            flex: 1;
            text-align: right;
          }
          .status-badge {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            ${O}
          }
          .cost-highlight {
            font-size: 18px;
            font-weight: bold;
            color: #059669;
          }
          .print-date {
            text-align: center;
            margin-top: 30px;
            color: #6b7280;
            font-size: 12px;
            border-top: 1px solid #e5e7eb;
            padding-top: 15px;
          }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>تفاصيل عقد الأسنان</h1>
          <h2>${M.id}</h2>
        </div>
        
        <div class="contract-details">
          <div class="detail-row">
            <span class="detail-label">رقم العقد:</span>
            <span class="detail-value">${M.id}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">رمز المنشأة:</span>
            <span class="detail-value">${M.facilityCode||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">اسم المنشأة:</span>
            <span class="detail-value">${M.facilityName||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">اسم المنافسة:</span>
            <span class="detail-value">${M.competitionName||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">تاريخ الطلب:</span>
            <span class="detail-value">${M.orderDate||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">رقم الصنف:</span>
            <span class="detail-value">${M.itemNumber||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">اسم الصنف:</span>
            <span class="detail-value">${M.itemName||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">رقم المستخلص:</span>
            <span class="detail-value">${M.extractNumber||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">رقم التعميد المالي:</span>
            <span class="detail-value">${M.financialApprovalNumber||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">تاريخ التعميد:</span>
            <span class="detail-value">${M.approvalDate||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">حالة الطلب:</span>
            <span class="detail-value">
              <span class="status-badge">${M.status||"غير محدد"}</span>
            </span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">الكمية المطلوبة:</span>
            <span class="detail-value">${M.quantityRequested||0}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">الكمية المستلمة:</span>
            <span class="detail-value">${M.quantityReceived||0}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">الكمية المتبقية:</span>
            <span class="detail-value">${M.quantityRemaining||0}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">القيمة الإجمالية:</span>
            <span class="detail-value cost-highlight">${Q} ريال سعودي</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">القيمة المستلمة:</span>
            <span class="detail-value">${le} ريال سعودي</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">القيمة المتبقية:</span>
            <span class="detail-value">${ue} ريال سعودي</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">تاريخ التسليم المتوقع:</span>
            <span class="detail-value">${M.deliveryDate||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">تاريخ التسليم الفعلي:</span>
            <span class="detail-value">${M.actualDeliveryDate||"لم يتم التسليم بعد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">الشركة الموردة:</span>
            <span class="detail-value">${M.supplierCompanyName||"غير محدد"}</span>
          </div>
          
          <div class="detail-row">
            <span class="detail-label">الملاحظات:</span>
            <span class="detail-value">${M.notes||"لا توجد ملاحظات"}</span>
          </div>
        </div>
        
        <div class="print-date">
          تم طباعة هذا التقرير في: ${new Date().toLocaleDateString()} - ${new Date().toLocaleTimeString()}
        </div>
      </body>
      </html>
    `;try{const Y=window.open("","_blank");Y?(Y.document.write(V),Y.document.close(),Y.onload=()=>{setTimeout(()=>{Y.print(),Y.close()},500)},gi.success(`تم فتح نافذة طباعة العقد ${M.id}`)):gi.error("فشل في فتح نافذة الطباعة - تأكد من السماح للنوافذ المنبثقة")}catch(Y){console.error("Error printing contract:",Y),gi.error("فشل في طباعة العقد")}};A.useEffect(()=>{(async()=>{w(!0);try{const Q=await So.getContracts();if(Q.success&&Q.data){t(Q.data),n(Q.data);const le=[...new Set(Q.data.map(V=>V.facilityName).filter(Boolean))],ue=[...new Set(Q.data.map(V=>V.supplierCompanyName).filter(Boolean))],O=[...new Set(Q.data.map(V=>V.status).filter(Boolean))];j(le),k(ue),L(O),gi.success("تم تحميل البيانات بنجاح")}else{t(Xo),n(Xo);const le=[...new Set(Xo.map(V=>V.facilityName).filter(Boolean))],ue=[...new Set(Xo.map(V=>V.supplierCompanyName).filter(Boolean))],O=[...new Set(Xo.map(V=>V.status).filter(Boolean))];j(le),k(ue),L(O),gi.error("فشل في جلب البيانات من الخادم، سيتم عرض البيانات التجريبية")}}catch(Q){console.error("Error fetching reports data:",Q),t(Xo),n(Xo);const le=[...new Set(Xo.map(V=>V.facilityName).filter(Boolean))],ue=[...new Set(Xo.map(V=>V.supplierCompanyName).filter(Boolean))],O=[...new Set(Xo.map(V=>V.status).filter(Boolean))];j(le),k(ue),L(O),gi.error("فشل في جلب البيانات من الخادم، سيتم عرض البيانات التجريبية")}finally{w(!1)}})()},[]),A.useEffect(()=>{let M=[...e];a&&a!=="all"&&(M=M.filter(Q=>Q.status===a)),o&&(M=M.filter(Q=>{var le,ue;return((le=Q.itemNumber)==null?void 0:le.toLowerCase().includes(o.toLowerCase()))||((ue=Q.itemName)==null?void 0:ue.toLowerCase().includes(o.toLowerCase()))})),c&&c!=="all"&&(M=M.filter(Q=>Q.facilityName===c)),u&&u!=="all"&&(M=M.filter(Q=>Q.supplierCompanyName===u)),h&&(M=M.filter(Q=>{var le;return(le=Q.extractNumber)==null?void 0:le.toLowerCase().includes(h.toLowerCase())})),g&&(M=M.filter(Q=>Q.orderDate&&Q.orderDate>=g)),v&&(M=M.filter(Q=>Q.orderDate&&Q.orderDate<=v)),n(M)},[a,o,c,u,h,g,v,e]);const D=()=>r.filter(Q=>Q.status!=="مرفوض").reduce((Q,le)=>{const ue=parseFloat(le.totalValue)||0;return Q+ue},0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),T=()=>r.filter(Q=>Q.status!=="مرفوض").reduce((Q,le)=>{const ue=parseFloat(le.receivedValue)||0;return Q+ue},0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),I=()=>r.filter(Q=>Q.status!=="مرفوض").reduce((Q,le)=>{const ue=parseFloat(le.totalValue)||0,O=parseFloat(le.receivedValue)||0,V=ue-O;return Q+V},0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),B=()=>{s("all"),l(""),d("all"),f("all"),p(""),m(""),x("")},J=async()=>{if(r.length===0){gi.error("لا توجد بيانات للتصدير");return}try{const M=r.map(Q=>({"رمز المنشأة":Q.facilityCode||"","اسم المنشأة":Q.facilityName||"","اسم المنافسة":Q.competitionName||"","تاريخ الطلب":Q.orderDate||"","رقم الصنف":Q.itemNumber||"","اسم الصنف":Q.itemName||"","رقم المستخلص":Q.extractNumber||"","رقم التعميد":Q.financialApprovalNumber||"","تاريخ التعميد":Q.approvalDate||"","حالة الطلب":Q.status||"","الكمية المطلوبة":Q.quantityRequested||0,"الكمية المستلمة":Q.quantityReceived||0,"الكمية المتبقية":Q.quantityRemaining||0,"القيمة الإجمالية":Q.totalValue||0,"القيمة المستلمة":Q.receivedValue||0,"القيمة المتبقية":Q.remainingValue||0,"تاريخ التسليم":Q.actualDeliveryDate||Q.deliveryDate||"",الملاحظات:Q.notes||""}));await EA(M,"تقرير_عقود_الأسنان"),gi.success("تم تصدير التقرير إلى Excel بنجاح")}catch(M){console.error("Error exporting to Excel:",M),gi.error("فشل في تصدير التقرير إلى Excel")}},U=()=>{if(r.length===0){gi.error("لا توجد بيانات للتصدير");return}try{const M=`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
          <meta charset="UTF-8">
          <title>تقرير عقود الأسنان</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              direction: rtl; 
              margin: 10px;
              font-size: 9px;
            }
            h1 { 
              text-align: center; 
              color: #6B46C1; 
              margin-bottom: 20px;
              font-size: 16px;
            }
            table { 
              width: 100%; 
              border-collapse: collapse; 
              margin-top: 15px;
            }
            th, td { 
              border: 1px solid #ddd; 
              padding: 4px; 
              text-align: right;
              font-size: 8px;
            }
            th { 
              background-color: #f5f5f5; 
              font-weight: bold;
              font-size: 9px;
            }
            .summary {
              margin-bottom: 15px;
              padding: 10px;
              background-color: #f8f9fa;
              border-radius: 5px;
              font-size: 10px;
            }
            .status-badge {
              padding: 2px 4px;
              border-radius: 3px;
              font-size: 7px;
              font-weight: bold;
            }
            .status-approved { background-color: #fef3c7; color: #92400e; }
            .status-contracted { background-color: #e9d5ff; color: #6b21a8; }
            .status-delivered { background-color: #d1fae5; color: #065f46; }
            .status-rejected { background-color: #fee2e2; color: #991b1b; }
            .status-new { background-color: #dbeafe; color: #1e40af; }
            .item-name { max-width: 200px; word-wrap: break-word; }
            .notes-column { max-width: 150px; word-wrap: break-word; }
          </style>
        </head>
        <body>
          <h1>تقرير عقود الأسنان</h1>
          <div class="summary">
            <p><strong>عدد العقود:</strong> ${r.length}</p>
            <p><strong>إجمالي القيمة:</strong> ${D()} ريال</p>
            <p><strong>القيمة المستلمة:</strong> ${T()} ريال</p>
            <p><strong>القيمة المتبقية:</strong> ${I()} ريال</p>
            <p><strong>تاريخ التقرير:</strong> ${new Date().toLocaleDateString()}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>رمز المنشأة</th>
                <th>اسم المنشأة</th>
                <th>اسم المنافسة</th>
                <th>تاريخ الطلب</th>
                <th>رقم الصنف</th>
                <th class="item-name">اسم الصنف</th>
                <th>رقم المستخلص</th>
                <th>رقم التعميد</th>
                <th>تاريخ التعميد</th>
                <th>حالة الطلب</th>
                <th>الكمية المطلوبة</th>
                <th>الكمية المستلمة</th>
                <th>الكمية المتبقية</th>
                <th>القيمة الإجمالية</th>
                <th>القيمة المستلمة</th>
                <th>القيمة المتبقية</th>
                <th>تاريخ التسليم</th>
                <th class="notes-column">الملاحظات</th>
              </tr>
            </thead>
            <tbody>
              ${r.map(le=>{const ue={"موافق عليه":"status-approved","تم التعاقد":"status-contracted","تم التسليم":"status-delivered",مرفوض:"status-rejected",جديد:"status-new"}[le.status]||"";return`
                  <tr>
                    <td>${le.facilityCode||""}</td>
                    <td>${le.facilityName||""}</td>
                    <td>${le.competitionName||""}</td>
                    <td>${le.orderDate||""}</td>
                    <td>${le.itemNumber||""}</td>
                    <td class="item-name">${le.itemName||""}</td>
                    <td>${le.extractNumber||""}</td>
                    <td>${le.financialApprovalNumber||""}</td>
                    <td>${le.approvalDate||""}</td>
                    <td><span class="status-badge ${ue}">${le.status||""}</span></td>
                    <td>${le.quantityRequested||0}</td>
                    <td>${le.quantityReceived||0}</td>
                    <td>${le.quantityRemaining||0}</td>
                    <td>${parseFloat(le.totalValue||0).toLocaleString()} ريال</td>
                    <td>${parseFloat(le.receivedValue||0).toLocaleString()} ريال</td>
                    <td>${parseFloat(le.remainingValue||0).toLocaleString()} ريال</td>
                    <td>${le.actualDeliveryDate||le.deliveryDate||""}</td>
                    <td class="notes-column">${le.notes||""}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        </body>
        </html>
      `,Q=window.open("","_blank");Q?(Q.document.write(M),Q.document.close(),Q.onload=()=>{setTimeout(()=>{Q.print(),Q.close()},500)},gi.success('تم فتح نافذة الطباعة - اختر "حفظ كـ PDF" من خيارات الطباعة')):gi.error("فشل في فتح نافذة الطباعة - تأكد من السماح للنوافذ المنبثقة")}catch(M){console.error("Error exporting to PDF:",M),gi.error("فشل في تصدير التقرير إلى PDF")}},X=async()=>{w(!0);try{const M=await So.getContracts();if(M.success&&M.data){t(M.data);const Q=[...new Set(M.data.map(O=>O.facilityName).filter(Boolean))],le=[...new Set(M.data.map(O=>O.supplierCompanyName).filter(Boolean))],ue=[...new Set(M.data.map(O=>O.status).filter(Boolean))];j(Q),k(le),L(ue),gi.success("تم تحديث البيانات بنجاح")}}catch(M){console.error("Error refreshing data:",M),gi.error("فشل في تحديث البيانات")}finally{w(!1)}};return y?i.jsxs("div",{className:"p-4 md:p-6 space-y-6",dir:"rtl",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dl,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"تقارير عقود الأسنان"}),i.jsx("p",{className:"text-purple-100 mt-1 text-right",children:"جاري تحميل البيانات..."})]})]})}),i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(Qt,{className:"h-8 w-8 animate-spin"}),i.jsx("span",{className:"mr-2",children:"جاري تحميل البيانات..."})]})]}):i.jsxs("div",{className:"p-4 md:p-6 space-y-6",dir:"rtl",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dl,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"تقارير عقود الأسنان"}),i.jsx("p",{className:"text-purple-100 mt-1 text-right",children:"عرض وإدارة عقود معدات طب الأسنان"})]})]}),i.jsx(mt,{onClick:X,variant:"secondary",size:"sm",disabled:y,className:"bg-white/20 hover:bg-white/30 text-white border-0",children:y?i.jsx(Qt,{className:"w-4 h-4 ml-2 animate-spin"}):"تحديث البيانات"})]})}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(ml,{className:"h-5 w-5"}),"فلاتر البحث"]})}),i.jsxs(ot,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2 text-right flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),"من تاريخ"]}),i.jsx(et,{type:"date",value:g,onChange:M=>m(M.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2 text-right flex items-center gap-2",children:[i.jsx(Fo,{className:"h-4 w-4"}),"إلى تاريخ"]}),i.jsx(et,{type:"date",value:v,onChange:M=>x(M.target.value),className:"text-right"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم المستخلص"}),i.jsx(et,{placeholder:"البحث برقم المستخلص",value:h,onChange:M=>p(M.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الحالة"}),i.jsxs(hr,{value:a,onValueChange:s,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الحالة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الحالات"}),_.map(M=>i.jsx(Pt,{value:M,children:M},M))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"البحث في الأصناف"}),i.jsx(et,{placeholder:"رقم أو اسم الصنف",value:o,onChange:M=>l(M.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"المنشأة"}),i.jsxs(hr,{value:c,onValueChange:d,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع المنشآت"}),[...new Set(e.map(M=>M.facilityName).filter(Boolean))].sort().map(M=>i.jsx(Pt,{value:M,children:M},M))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الشركة الموردة"}),i.jsxs(hr,{value:u,onValueChange:f,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الشركة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الشركات"}),C.map(M=>i.jsx(Pt,{value:M,children:M},M))]})]})]})]}),i.jsx("div",{className:"flex gap-2 mt-4",children:i.jsx(mt,{variant:"outline",onClick:B,children:"مسح الفلاتر"})})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"تصدير البيانات"})}),i.jsx(ot,{children:r.length===0?i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"لا توجد بيانات للتصدير"})}):i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[i.jsxs(mt,{onClick:J,className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto",children:[i.jsx(Pr,{className:"w-4 h-4 ml-2"}),"تصدير إلى Excel"]}),i.jsxs(mt,{onClick:U,className:"bg-red-600 hover:bg-red-700 text-white w-full sm:w-auto",children:[i.jsx(Pr,{className:"w-4 h-4 ml-2"}),"تصدير إلى PDF"]})]})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"ملخص النتائج"})}),i.jsx(ot,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-blue-800 text-right",children:"عدد العقود"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 text-right",children:r.length})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-green-800 text-right",children:"إجمالي القيمة"}),i.jsxs("p",{className:"text-lg font-bold text-green-600 text-right",children:[D()," ريال"]})]}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-yellow-800 text-right",children:"القيمة المستلمة"}),i.jsxs("p",{className:"text-lg font-bold text-yellow-600 text-right",children:[T()," ريال"]})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-red-800 text-right",children:"القيمة المتبقية"}),i.jsxs("p",{className:"text-lg font-bold text-red-600 text-right",children:[I()," ريال"]})]})]})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"عقود الأسنان"})}),i.jsx(ot,{children:r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(za,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500",children:"لا توجد عقود تطابق المعايير المحددة"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden xl:block overflow-x-auto",children:i.jsxs("table",{className:"w-full text-right text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b bg-gray-50",children:[i.jsx("th",{className:"p-2 text-right font-medium",children:"طباعة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"رمز المنشأة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"اسم المنشأة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"اسم المنافسة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"تاريخ الطلب"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"رقم الصنف"}),i.jsx("th",{className:"p-2 text-right font-medium min-w-[200px]",children:"اسم الصنف"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"رقم المستخلص"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"الحالة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"الكمية المطلوبة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"القيمة الإجمالية"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"القيمة المستلمة"}),i.jsx("th",{className:"p-2 text-right font-medium",children:"القيمة المتبقية"})]})}),i.jsx("tbody",{children:r.map(M=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"p-2",children:i.jsx(mt,{variant:"ghost",size:"sm",onClick:()=>z(M),className:"h-8 w-8 p-0 hover:bg-purple-100",title:`طباعة العقد ${M.id}`,children:i.jsx(un,{className:"h-4 w-4 text-purple-600"})})}),i.jsx("td",{className:"p-2 font-medium",children:M.facilityCode||"-"}),i.jsx("td",{className:"p-2",children:M.facilityName||"-"}),i.jsx("td",{className:"p-2",children:M.competitionName||"-"}),i.jsx("td",{className:"p-2",children:M.orderDate||"-"}),i.jsx("td",{className:"p-2",children:M.itemNumber||"-"}),i.jsx("td",{className:"p-2 min-w-[200px]",children:M.itemName||"-"}),i.jsx("td",{className:"p-2",children:M.extractNumber||"-"}),i.jsx("td",{className:"p-2",children:i.jsx(hs,{className:AD[M.status]||"bg-gray-100 text-gray-800",children:M.status||"-"})}),i.jsx("td",{className:"p-2",children:M.quantityRequested||0}),i.jsxs("td",{className:"p-2",children:[parseFloat(M.totalValue||0).toLocaleString()," ريال"]}),i.jsxs("td",{className:"p-2",children:[parseFloat(M.receivedValue||0).toLocaleString()," ريال"]}),i.jsxs("td",{className:"p-2",children:[parseFloat(M.remainingValue||0).toLocaleString()," ريال"]})]},M.id))})]})}),i.jsx("div",{className:"xl:hidden space-y-4",children:r.map(M=>i.jsx(it,{children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hs,{className:AD[M.status],children:M.status||"-"}),i.jsx(mt,{variant:"ghost",size:"sm",onClick:()=>z(M),className:"h-8 w-8 p-0 hover:bg-purple-100",title:`طباعة العقد ${M.id}`,children:i.jsx(un,{className:"h-4 w-4 text-purple-600"})})]}),i.jsx("span",{className:"font-bold",children:M.id})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"رمز المنشأة:"})," ",M.facilityCode||"-"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"اسم المنشأة:"})," ",M.facilityName||"-"]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"اسم المنافسة:"})," ",M.competitionName||"-"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"تاريخ الطلب:"})," ",M.orderDate||"-"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"رقم الصنف:"})," ",M.itemNumber||"-"]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"اسم الصنف:"})," ",M.itemName||"-"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"رقم المستخلص:"})," ",M.extractNumber||"-"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الكمية المطلوبة:"})," ",M.quantityRequested||0]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الكمية المستلمة:"})," ",M.quantityReceived||0]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الكمية المتبقية:"})," ",M.quantityRemaining||0]}),i.jsxs("div",{children:[i.jsx("strong",{children:"القيمة الإجمالية:"})," ",parseFloat(M.totalValue||0).toLocaleString()," ريال"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"القيمة المستلمة:"})," ",parseFloat(M.receivedValue||0).toLocaleString()," ريال"]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"القيمة المتبقية:"})," ",parseFloat(M.remainingValue||0).toLocaleString()," ريال"]}),M.notes&&i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"الملاحظات:"})," ",M.notes]})]})]})})},M.id))})]})})]})]})}const A1="مستشفى الامير محمد بن عبدالعزيز",ey=1987729925e-2,ty=301171201e-2,m5=ey+ty;function YTe(){var R,G,W;const[e,t]=A.useState({total:0,new:0,approved:0,contracted:0,delivered:0,rejected:0,totalValue:0,receivedValue:0,remainingValue:0}),[r,n]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState(!0),[u,f]=A.useState(!0),[h,p]=A.useState(!0),[g,m]=A.useState(!1),[v,x]=A.useState(""),[y,w]=A.useState(""),[N,j]=A.useState(""),[C,k]=A.useState(""),[_,L]=A.useState(""),[z,D]=A.useState(""),T=[{value:"جديد",label:"جديد",color:"#3b82f6"},{value:"موافق عليه",label:"موافق عليه",color:"#f59e0b"},{value:"تم التعاقد",label:"تم التعاقد",color:"#8b5cf6"},{value:"تم التسليم",label:"تم التسليم",color:"#10b981"},{value:"مرفوض",label:"مرفوض",color:"#ef4444"}],I=A.useMemo(()=>{let H=[...r];return y&&y!=="all"&&(H=H.filter(me=>{var ae;return(ae=me.facilityName)==null?void 0:ae.toLowerCase().includes(y.toLowerCase())})),N&&N!=="all"&&(H=H.filter(me=>{var ae;return(ae=me.supplierCompanyName)==null?void 0:ae.toLowerCase().includes(N.toLowerCase())})),C&&C!=="all"&&(H=H.filter(me=>me.status===C)),_&&(H=H.filter(me=>new Date(me.orderDate)>=new Date(_))),z&&(H=H.filter(me=>new Date(me.orderDate)<=new Date(z))),H},[r,y,N,C,_,z]),B=A.useMemo(()=>{const H=I.filter(te=>te.status!=="مرفوض"),me=H.reduce((te,ge)=>te+(parseFloat(ge.totalValue)||0),0),ae=H.reduce((te,ge)=>te+(parseFloat(ge.receivedValue)||0),0),be=me-ae;return{total:I.length,new:I.filter(te=>te.status==="جديد").length,approved:I.filter(te=>te.status==="موافق عليه").length,contracted:I.filter(te=>te.status==="تم التعاقد").length,delivered:I.filter(te=>te.status==="تم التسليم").length,rejected:I.filter(te=>te.status==="مرفوض").length,totalValue:me,receivedValue:ae,remainingValue:be}},[I]),J=A.useMemo(()=>T.map(H=>({name:H.label,value:I.filter(me=>me.status===H.value).length,color:H.color})),[I]),U=A.useMemo(()=>{const H={},me=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return me.forEach(ae=>{H[ae]=0}),I.forEach(ae=>{const be=new Date(ae.orderDate);isNaN(be.getTime())||H[me[be.getMonth()]]++}),me.map(ae=>({month:ae,count:H[ae]}))},[I]),X=A.useMemo(()=>[...new Set(r.map(H=>H.facilityName).filter(H=>H&&H.trim()!==""))].sort(),[r]),M=A.useMemo(()=>[...new Set(r.map(H=>H.supplierCompanyName).filter(H=>H&&H.trim()!==""))].sort(),[r]),Q=async()=>{try{d(!0),x("");const H=await So.getDashboardData();H.success&&H.data&&t(H.data)}catch(H){x(H.message||"فشل في تحميل بيانات لوحة التحكم")}},le=async()=>{try{const H=await So.getContracts();H.success&&H.data&&n(H.data)}catch(H){x(H.message||"فشل في تحميل بيانات العقود")}finally{d(!1)}},ue=async()=>{try{f(!0);const H=await So.getTopSuppliers();H.success&&H.data&&s(H.data)}catch(H){console.error("Top suppliers loading error:",H)}finally{f(!1)}},O=async()=>{try{p(!0);const H=await So.getTopClinics();H.success&&H.data&&l(H.data)}catch(H){console.error("Top clinics loading error:",H)}finally{p(!1)}};A.useEffect(()=>{(async()=>{await Promise.all([Q(),le(),ue(),O()])})()},[]);const V=()=>{w(""),j(""),k(""),L(""),D("")},Y=async()=>{d(!0),await Promise.all([Q(),le(),ue(),O()])},q=async()=>{var H,me,ae;m(!0);try{const be=r.filter(Pe=>Pe.status!=="مرفوض"),te=be.reduce((Pe,ke)=>Pe+(parseFloat(ke.totalValue)||0),0),ge=be.filter(Pe=>Pe.facilityName!==A1).reduce((Pe,ke)=>Pe+(parseFloat(ke.totalValue)||0),0),re=`<html dir="rtl"><head><title>تقرير عقود الأسنان</title><style>body{font-family:Arial;direction:rtl;text-align:right;padding:20px}.header{background:linear-gradient(135deg,#8b5cf6,#6366f1);color:white;padding:20px;margin-bottom:20px;border-radius:8px}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0}.stat-card{border:1px solid #ddd;padding:15px;border-radius:8px;background:#f9f9f9}.stat-card h3{margin:0 0 10px 0;font-size:14px;color:#666}.stat-card p{margin:0;font-size:24px;font-weight:bold;color:#333}.section{margin:30px 0;page-break-inside:avoid}.section-title{font-size:18px;font-weight:bold;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid #8b5cf6}.data-table{width:100%;border-collapse:collapse;margin:15px 0}.data-table th,.data-table td{border:1px solid #ddd;padding:10px;text-align:right}.data-table th{background:#f5f5f5;font-weight:bold}.data-table tr:nth-child(even){background:#f9f9f9}@media print{body{-webkit-print-color-adjust:exact;print-color-adjust:exact}.section{page-break-inside:avoid}}</style></head><body><div class="header"><h1>لوحة تحكم عقود الأسنان</h1><p>تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")} - ${new Date().toLocaleTimeString("ar-SA")}</p></div><div class="section"><div class="section-title">📊 الإحصائيات الرئيسية</div><div class="stats-grid"><div class="stat-card"><h3>إجمالي العقود</h3><p>${B.total}</p></div><div class="stat-card"><h3>القيمة الإجمالية</h3><p>${(H=B.totalValue)==null?void 0:H.toLocaleString()} ريال</p></div><div class="stat-card"><h3>قيمة الكميات المستلمة</h3><p>${(me=B.receivedValue)==null?void 0:me.toLocaleString()} ريال</p></div><div class="stat-card"><h3>قيمة الكميات المتبقية</h3><p>${(ae=B.remainingValue)==null?void 0:ae.toLocaleString()} ريال</p></div><div class="stat-card"><h3>جديد</h3><p>${B.new}</p></div><div class="stat-card"><h3>موافق عليه</h3><p>${B.approved}</p></div><div class="stat-card"><h3>تم التعاقد</h3><p>${B.contracted}</p></div><div class="stat-card"><h3>تم التسليم</h3><p>${B.delivered}</p></div><div class="stat-card"><h3>مرفوض</h3><p>${B.rejected}</p></div></div></div><div class="section"><div class="section-title">📈 توزيع حالة العقود</div><table class="data-table"><thead><tr><th>الحالة</th><th>العدد</th><th>النسبة</th></tr></thead><tbody>${J.filter(Pe=>Pe.value>0).map(Pe=>`<tr><td>${Pe.name}</td><td>${Pe.value}</td><td>${B.total>0?Math.round(Pe.value/B.total*100):0}%</td></tr>`).join("")}</tbody></table></div><div class="section"><div class="section-title">🏢 أفضل الشركات الموردة</div><table class="data-table"><thead><tr><th>الترتيب</th><th>اسم الشركة</th><th>عدد العقود</th><th>القيمة (ريال)</th></tr></thead><tbody>${a.map((Pe,ke)=>{var Le;return`<tr><td>#${ke+1}</td><td>${Pe.name}</td><td>${Pe.contracts}</td><td>${(Le=Pe.value)==null?void 0:Le.toLocaleString()}</td></tr>`}).join("")}</tbody></table></div><div class="section"><div class="section-title">🏥 أكثر المنشآت نشاطاً</div><table class="data-table"><thead><tr><th>الترتيب</th><th>اسم المنشأة</th><th>عدد العقود</th><th>القيمة (ريال)</th></tr></thead><tbody>${o.map((Pe,ke)=>{var Le;return`<tr><td>#${ke+1}</td><td>${Pe.name}</td><td>${Pe.contracts}</td><td>${(Le=Pe.value)==null?void 0:Le.toLocaleString()}</td></tr>`}).join("")}</tbody></table></div></body></html>`,Oe=window.open("","_blank");Oe.document.write(re),Oe.document.close(),Oe.print()}catch(be){console.error("PDF export error:",be),alert("حدث خطأ في تصدير PDF")}finally{m(!1)}},P=async()=>{m(!0);try{const H=r.filter(Pe=>Pe.status!=="مرفوض"),me=H.reduce((Pe,ke)=>Pe+(parseFloat(ke.totalValue)||0),0),ae=H.filter(Pe=>Pe.facilityName!==A1).reduce((Pe,ke)=>Pe+(parseFloat(ke.totalValue)||0),0),be=["الإحصائيات الرئيسية","المؤشر,القيمة",`إجمالي العقود,${B.total}`,`القيمة الإجمالية,${B.totalValue}`,`قيمة الكميات المستلمة,${B.receivedValue}`,`قيمة الكميات المتبقية,${B.remainingValue}`,`جديد,${B.new}`,`موافق عليه,${B.approved}`,`تم التعاقد,${B.contracted}`,`تم التسليم,${B.delivered}`,`مرفوض,${B.rejected}`,"","توزيع حالة العقود","الحالة,العدد,النسبة"];J.filter(Pe=>Pe.value>0).forEach(Pe=>{const ke=B.total>0?Math.round(Pe.value/B.total*100):0;be.push(`"${Pe.name}",${Pe.value},${ke}%`)}),be.push("","الاتجاه الشهري","الشهر,عدد العقود"),U.forEach(Pe=>{be.push(`"${Pe.month}",${Pe.count}`)}),be.push("","أفضل الشركات الموردة","الترتيب,اسم الشركة,عدد العقود,القيمة"),a.forEach((Pe,ke)=>{be.push(`#${ke+1},"${Pe.name}",${Pe.contracts},${Pe.value||0}`)}),be.push("","أكثر المنشآت نشاطاً","الترتيب,اسم المنشأة,عدد العقود,القيمة"),o.forEach((Pe,ke)=>{be.push(`#${ke+1},"${Pe.name}",${Pe.contracts},${Pe.value||0}`)});const te=be.join(`
`),ge="\uFEFF",re=new Blob([ge+te],{type:"text/csv;charset=utf-8;"}),Oe=document.createElement("a");if(Oe.download!==void 0){const Pe=URL.createObjectURL(re);Oe.setAttribute("href",Pe),Oe.setAttribute("download",`dental-dashboard-${new Date().toISOString().split("T")[0]}.csv`),Oe.style.visibility="hidden",document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe)}}catch(H){console.error("Excel export error:",H),alert("حدث خطأ في تصدير Excel")}finally{m(!1)}};return c?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),i.jsx("p",{className:"text-gray-600",children:"جاري تحميل بيانات لوحة التحكم..."})]})}):v?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx(it,{className:"max-w-md",children:i.jsxs(ot,{className:"p-6 text-center",children:[i.jsx(F7,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"خطأ في تحميل البيانات"}),i.jsx("p",{className:"text-gray-600 mb-4",children:v}),i.jsxs(mt,{onClick:Y,className:"w-full",children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"إعادة المحاولة"]})]})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dl,{className:"h-8 w-8"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"لوحة تحكم عقود الأسنان"}),i.jsx("p",{className:"text-purple-100 mt-1 text-right",children:"إدارة شاملة لعقود معدات طب الأسنان"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(mt,{variant:"secondary",onClick:q,disabled:g,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",title:"طباعة / تصدير PDF",children:g?i.jsx(Qt,{className:"h-4 w-4 animate-spin"}):i.jsx(un,{className:"h-4 w-4"})}),i.jsx(mt,{variant:"secondary",onClick:P,disabled:g,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",title:"تصدير Excel",children:g?i.jsx(Qt,{className:"h-4 w-4 animate-spin"}):i.jsx($i,{className:"h-4 w-4"})}),i.jsxs(mt,{variant:"secondary",onClick:Y,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"تحديث البيانات"]})]})]})}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Pr,{className:"h-5 w-5"}),"فلاتر البحث والتصدير"]})}),i.jsxs(ot,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"facility-select",className:"text-right block mb-2",children:"المنشأة"}),i.jsxs(hr,{value:y,onValueChange:w,children:[i.jsx(or,{id:"facility-select",children:i.jsx(pr,{placeholder:"اختر المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع المنشآت"}),X.map(H=>i.jsx(Pt,{value:H,children:H},H))]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplier-select",className:"text-right block mb-2",children:"الشركة الموردة"}),i.jsxs(hr,{value:N,onValueChange:j,children:[i.jsx(or,{id:"supplier-select",children:i.jsx(pr,{placeholder:"اختر الشركة الموردة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الموردين"}),M.map(H=>i.jsx(Pt,{value:H,children:H},H))]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"status-select",className:"text-right block mb-2",children:"الحالة"}),i.jsxs(hr,{value:C,onValueChange:k,children:[i.jsx(or,{id:"status-select",children:i.jsx(pr,{placeholder:"اختر الحالة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الحالات"}),T.map(H=>i.jsx(Pt,{value:H.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:H.color}}),H.label]})},H.value))]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"date-from",className:"text-right block mb-2",children:"من تاريخ"}),i.jsx(et,{id:"date-from",type:"date",value:_,onChange:H=>L(H.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"date-to",className:"text-right block mb-2",children:"إلى تاريخ"}),i.jsx(et,{id:"date-to",type:"date",value:z,onChange:H=>D(H.target.value),className:"text-right"})]})]}),i.jsx("div",{className:"mt-4 flex gap-2 justify-end",children:i.jsxs(mt,{variant:"outline",onClick:V,children:[i.jsx(Fo,{className:"h-4 w-4 mr-2"}),"مسح الفلاتر"]})}),(y||N||C||_||z)&&i.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-blue-800 text-right",children:["عرض ",I.length," من أصل ",r.length," عقد",y&&i.jsxs("span",{className:"block",children:["المنشأة: ",y]}),N&&i.jsxs("span",{className:"block",children:["المورد: ",N]}),C&&i.jsxs("span",{className:"block",children:["الحالة: ",C]}),_&&i.jsxs("span",{className:"block",children:["من: ",_]}),z&&i.jsxs("span",{className:"block",children:["إلى: ",z]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{size:"sm",variant:"outline",onClick:q,disabled:g||I.length===0,className:"text-xs",children:[i.jsx(un,{className:"h-3 w-3 mr-1"}),"طباعة"]}),i.jsxs(mt,{size:"sm",variant:"outline",onClick:P,disabled:g||I.length===0,className:"text-xs",children:[i.jsx($i,{className:"h-3 w-3 mr-1"}),"Excel"]})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(it,{className:"bg-purple-50 border-purple-200",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"إجمالي العقود"}),i.jsx("p",{className:"text-2xl font-bold text-purple-800",children:B.total})]}),i.jsx(dl,{className:"h-8 w-8 text-purple-600"})]})})}),i.jsx(it,{className:"bg-indigo-50 border-indigo-200",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"القيمة الإجمالية"}),i.jsx("p",{className:"text-xl font-bold text-indigo-800",children:(R=B.totalValue)==null?void 0:R.toLocaleString()}),i.jsx("p",{className:"text-xs text-indigo-600",children:"ريال سعودي"})]}),i.jsx(_2,{className:"h-8 w-8 text-indigo-600"})]})})}),i.jsx(it,{className:"bg-green-50 border-green-200",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"قيمة الكميات المستلمة"}),i.jsx("p",{className:"text-xl font-bold text-green-800",children:(G=B.receivedValue)==null?void 0:G.toLocaleString()}),i.jsx("p",{className:"text-xs text-green-600",children:"ريال سعودي"})]}),i.jsx(TG,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(it,{className:"bg-orange-50 border-orange-200",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-orange-600",children:"قيمة الكميات المتبقية"}),i.jsx("p",{className:"text-xl font-bold text-orange-800",children:(W=B.remainingValue)==null?void 0:W.toLocaleString()}),i.jsx("p",{className:"text-xs text-orange-600",children:"ريال سعودي"})]}),i.jsx(Sd,{className:"h-8 w-8 text-orange-600"})]})})})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-5xl w-full",children:(()=>{const H=y===A1,me=r.filter(re=>re.status!=="مرفوض"),ae=me.reduce((re,Oe)=>re+(parseFloat(Oe.totalValue)||0),0),be=me.filter(re=>re.facilityName!==A1).reduce((re,Oe)=>re+(parseFloat(Oe.totalValue)||0),0);if(H){const re=B.totalValue||0,Oe=re/ty*100;return i.jsxs(it,{className:"md:col-span-2 bg-gradient-to-br from-orange-50 via-red-50 to-rose-50 border-l-4 border-l-orange-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsx(Bt,{className:"pb-3 bg-gradient-to-r from-orange-500/10 to-red-500/10",children:i.jsxs(zt,{className:"text-right flex items-center gap-3 text-orange-800",children:[i.jsx(Ay,{className:"h-6 w-6 text-orange-600"}),"ميزانية مستشفى الامير محمد بن عبدالعزيز"]})}),i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-52 mx-auto",children:i.jsx(Q1,{percentage:Oe,label:"نسبة الاستهلاك"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-orange-50 rounded-lg p-3 border border-orange-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-orange-600 mb-1 font-medium",children:"المستهلك"}),i.jsx("p",{className:"text-lg font-bold text-orange-700",children:re.toLocaleString()}),i.jsx("p",{className:"text-xs text-orange-500",children:"ريال"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-red-100 to-red-50 rounded-lg p-3 border border-red-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-red-600 mb-1 font-medium",children:"الميزانية"}),i.jsx("p",{className:"text-lg font-bold text-red-700",children:ty.toLocaleString()}),i.jsx("p",{className:"text-xs text-red-500",children:"ريال"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg p-3 border border-slate-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-1 font-medium",children:"المتبقي"}),i.jsx("p",{className:"text-lg font-bold text-slate-700",children:(ty-re).toLocaleString()}),i.jsx("p",{className:"text-xs text-slate-500",children:"ريال"})]})]})]})})]})}const te=ae/m5*100,ge=be/ey*100;return i.jsxs(i.Fragment,{children:[i.jsxs(it,{className:"bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50 border-l-4 border-l-blue-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsx(Bt,{className:"pb-3 bg-gradient-to-r from-blue-500/10 to-cyan-500/10",children:i.jsxs(zt,{className:"text-right flex items-center gap-3 text-blue-800",children:[i.jsx(ii,{className:"h-6 w-6 text-blue-600"}),"الميزانية العامة"]})}),i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-52 mx-auto",children:i.jsx(Q1,{percentage:te,label:"نسبة الاستهلاك"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-50 rounded-lg p-3 border border-blue-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-blue-600 mb-1 font-medium",children:"المستهلك"}),i.jsx("p",{className:"text-lg font-bold text-blue-700",children:ae.toLocaleString()}),i.jsx("p",{className:"text-xs text-blue-500",children:"ريال"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-cyan-100 to-cyan-50 rounded-lg p-3 border border-cyan-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-cyan-600 mb-1 font-medium",children:"الميزانية الإجمالية"}),i.jsx("p",{className:"text-lg font-bold text-cyan-700",children:m5.toLocaleString()}),i.jsx("p",{className:"text-xs text-cyan-500",children:"ريال"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg p-3 border border-slate-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-1 font-medium",children:"المتبقي"}),i.jsx("p",{className:"text-lg font-bold text-slate-700",children:(m5-ae).toLocaleString()}),i.jsx("p",{className:"text-xs text-slate-500",children:"ريال"})]})]})]})})]}),i.jsxs(it,{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-green-50 border-l-4 border-l-emerald-500 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsx(Bt,{className:"pb-3 bg-gradient-to-r from-emerald-500/10 to-teal-500/10",children:i.jsxs(zt,{className:"text-right flex items-center gap-3 text-emerald-800",children:[i.jsx(Ay,{className:"h-6 w-6 text-emerald-600"}),"ميزانية التجمع"]})}),i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-52 mx-auto",children:i.jsx(Q1,{percentage:ge,label:"نسبة الاستهلاك"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-100 to-emerald-50 rounded-lg p-3 border border-emerald-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-emerald-600 mb-1 font-medium",children:"المستهلك"}),i.jsx("p",{className:"text-lg font-bold text-emerald-700",children:be.toLocaleString()}),i.jsx("p",{className:"text-xs text-emerald-500",children:"ريال"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-teal-100 to-teal-50 rounded-lg p-3 border border-teal-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-teal-600 mb-1 font-medium",children:"الميزانية"}),i.jsx("p",{className:"text-lg font-bold text-teal-700",children:ey.toLocaleString()}),i.jsx("p",{className:"text-xs text-teal-500",children:"ريال"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg p-3 border border-slate-200 shadow-sm",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-1 font-medium",children:"المتبقي"}),i.jsx("p",{className:"text-lg font-bold text-slate-700",children:(ey-be).toLocaleString()}),i.jsx("p",{className:"text-xs text-slate-500",children:"ريال"})]})]}),i.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-3 shadow-sm",children:i.jsx("p",{className:"text-xs text-amber-700 text-center font-medium",children:"* لا يشمل عقود مستشفى الأمير محمد بن عبدالعزيز"})})]})})]})]})})()})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.jsx(it,{className:"bg-blue-50 border-blue-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ql,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"جديد"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:B.new})]})})}),i.jsx(it,{className:"bg-yellow-50 border-yellow-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(To,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"موافق عليه"}),i.jsx("p",{className:"text-xl font-bold text-yellow-800",children:B.approved})]})})}),i.jsx(it,{className:"bg-purple-50 border-purple-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ii,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"تم التعاقد"}),i.jsx("p",{className:"text-xl font-bold text-purple-800",children:B.contracted})]})})}),i.jsx(it,{className:"bg-green-50 border-green-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qs,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-green-600",children:"تم التسليم"}),i.jsx("p",{className:"text-xl font-bold text-green-800",children:B.delivered})]})})}),i.jsx(it,{className:"bg-red-50 border-red-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Yl,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-red-600",children:"مرفوض"}),i.jsx("p",{className:"text-xl font-bold text-red-800",children:B.rejected})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(ii,{className:"h-5 w-5"}),"توزيع حالة العقود"]})}),i.jsx(ot,{children:J.some(H=>H.value>0)?i.jsxs(i.Fragment,{children:[i.jsx(Hi,{width:"100%",height:300,children:i.jsxs(Ud,{children:[i.jsx(fi,{data:J.filter(H=>H.value>0),cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:J.filter(H=>H.value>0).map((H,me)=>i.jsx(Ro,{fill:H.color},`cell-${me}`))}),i.jsx(ca,{})]})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mt-3 sm:mt-4",children:J.filter(H=>H.value>0).map(H=>i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-accent/50 px-2 sm:px-3 py-1 sm:py-2 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full",style:{backgroundColor:H.color}}),i.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[H.name," (",H.value,")",B.total>0&&` - ${Math.round(H.value/B.total*100)}%`]})]},H.name))})]}):i.jsx("div",{className:"flex items-center justify-center h-[300px]",children:i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات لعرضها"})})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(ii,{className:"h-5 w-5"}),"الاتجاه الشهري"]})}),i.jsx(ot,{children:U.some(H=>H.count>0)?i.jsx("div",{className:"h-[300px] sm:h-[350px] w-full",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Hw,{data:U,margin:{top:20,right:10,left:10,bottom:40},children:[i.jsx(gc,{dataKey:"month",fontSize:10,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),i.jsx(xc,{fontSize:10,tick:{fontSize:10},width:30}),i.jsx(ca,{}),i.jsx(mc,{type:"monotone",dataKey:"count",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2}})]})})}):i.jsx("div",{className:"flex items-center justify-center h-[300px]",children:i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات شهرية لعرضها"})})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"أفضل الشركات الموردة"})}),i.jsx(ot,{children:u?i.jsx("div",{className:"flex items-center justify-center h-[200px]",children:i.jsx(Qt,{className:"h-6 w-6 animate-spin text-purple-600"})}):a.length>0?i.jsx("div",{className:"space-y-4",children:a.map((H,me)=>{var ae;return i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium",children:H.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:[H.contracts," عقد"]}),i.jsxs("p",{children:[(ae=H.value)==null?void 0:ae.toLocaleString()," ريال"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ii,{className:"h-5 w-5 text-purple-600"}),i.jsxs("span",{className:"font-bold text-purple-600",children:["#",me+1]})]})]},me)})}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات موردين"})})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"أكثر المنشآت نشاطاً"})}),i.jsx(ot,{children:h?i.jsx("div",{className:"flex items-center justify-center h-[200px]",children:i.jsx(Qt,{className:"h-6 w-6 animate-spin text-purple-600"})}):o.length>0?i.jsx("div",{className:"space-y-4",children:o.map((H,me)=>{var ae;return i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium",children:H.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:[H.contracts," عقد"]}),i.jsxs("p",{children:[(ae=H.value)==null?void 0:ae.toLocaleString()," ريال"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dl,{className:"h-5 w-5 text-purple-600"}),i.jsxs("span",{className:"font-bold text-purple-600",children:["#",me+1]})]})]},me)})}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات منشآت"})})})]})]})]})}function QTe({isOpen:e,onClose:t,imageUrl:r,title:n}){return e?i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-background rounded-lg max-w-4xl max-h-[90vh] overflow-auto",children:[i.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-right",children:n}),i.jsx("button",{onClick:t,className:"text-muted-foreground hover:text-foreground text-xl",children:"✕"})]}),i.jsx("div",{className:"p-4",children:i.jsx("img",{src:r,alt:n,className:"max-w-full max-h-[70vh] object-contain mx-auto"})})]})}):null}function CD({asset:e,onSave:t,facilities:r}){const[n,a]=A.useState(!1),[s,o]=A.useState(!1),{toast:l}=jn(),[c,d]=A.useState({deviceName:e.deviceName||"",serialNumber:e.serialNumber||"",facilityName:e.facilityName||"",supplierName:e.supplierName||"",supplierContact:e.supplierContact||"",supplierEmail:e.supplierEmail||"",deviceModel:e.deviceModel||"",deliveryDate:e.deliveryDate||"",installationDate:e.installationDate||"",warrantyPeriod:e.warrantyPeriod||1,deviceStatus:e.deviceStatus||"يعمل",notes:e.notes||"",image:e.image||""}),[u,f]=A.useState(e.image||""),[h,p]=A.useState(null),[g,m]=A.useState({isOpen:!1,url:"",title:""});A.useEffect(()=>{d({deviceName:e.deviceName||"",serialNumber:e.serialNumber||"",facilityName:e.facilityName||"",supplierName:e.supplierName||"",supplierContact:e.supplierContact||"",supplierEmail:e.supplierEmail||"",deviceModel:e.deviceModel||"",deliveryDate:e.deliveryDate||"",installationDate:e.installationDate||"",warrantyPeriod:e.warrantyPeriod||1,deviceStatus:e.deviceStatus||"يعمل",notes:e.notes||"",image:e.image||""}),f(e.image||"")},[e]);const v=y=>{var N;const w=(N=y.target.files)==null?void 0:N[0];if(w){const j=URL.createObjectURL(w);f(j),p(w)}},x=async y=>{y.preventDefault();try{o(!0);const w={...e,...c,image:h||c.image};await t(w),a(!1),p(null),l({title:"نجح",description:"تم تحديث الجهاز بنجاح"})}catch(w){console.error("Error updating asset:",w),l({title:"خطأ",description:w.message||"فشل في تحديث الجهاز",variant:"destructive"})}finally{o(!1)}};return i.jsxs(Na,{open:n,onOpenChange:a,children:[i.jsx(xg,{asChild:!0,children:i.jsx("button",{className:"group bg-gradient-to-r from-warning to-warning/80 hover:from-warning/80 hover:to-warning text-warning-foreground p-2 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md",children:i.jsx(_a,{size:16})})}),i.jsxs(da,{className:"max-w-5xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-background to-accent/20",dir:"rtl",children:[i.jsx(ua,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground p-4 -m-6 mb-6 rounded-t-lg",children:i.jsxs(fa,{className:"text-right text-xl font-bold flex items-center gap-2",children:[i.jsx(_a,{className:"h-5 w-5"}),"تعديل الأصل"]})}),i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 text-right mb-4",children:"المعلومات الأساسية للجهاز"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-800 dark:text-blue-200 text-right",children:"اسم الجهاز *"}),i.jsx("input",{type:"text",value:c.deviceName,onChange:y=>d(w=>({...w,deviceName:y.target.value})),className:"w-full p-3 border-2 border-blue-200 dark:border-blue-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"اسم الجهاز",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-800 dark:text-blue-200 text-right",children:"الرقم التسلسلي *"}),i.jsx("input",{type:"text",value:c.serialNumber,onChange:y=>d(w=>({...w,serialNumber:y.target.value})),className:"w-full p-3 border-2 border-blue-200 dark:border-blue-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"الرقم التسلسلي",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-800 dark:text-blue-200 text-right",children:"اسم المنشأة *"}),i.jsxs("select",{value:c.facilityName,onChange:y=>d(w=>({...w,facilityName:y.target.value})),className:"w-full p-3 border-2 border-blue-200 dark:border-blue-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",required:!0,children:[i.jsx("option",{value:"",children:"اختر المنشأة"}),r.map(y=>i.jsx("option",{value:y.name,children:y.name},y.id))]})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100 text-right mb-4",children:"معلومات الشركة الموردة"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-green-800 dark:text-green-200 text-right",children:"اسم الشركة الموردة"}),i.jsx("input",{type:"text",value:c.supplierName,onChange:y=>d(w=>({...w,supplierName:y.target.value})),className:"w-full p-3 border-2 border-green-200 dark:border-green-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all",placeholder:"اسم الشركة"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-green-800 dark:text-green-200 text-right",children:"رقم المسؤول بالشركة"}),i.jsx("input",{type:"text",value:c.supplierContact,onChange:y=>d(w=>({...w,supplierContact:y.target.value})),className:"w-full p-3 border-2 border-green-200 dark:border-green-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all",placeholder:"رقم الهاتف"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-green-800 dark:text-green-200 text-right",children:"إيميل المسؤول"}),i.jsx("input",{type:"email",value:c.supplierEmail,onChange:y=>d(w=>({...w,supplierEmail:y.target.value})),className:"w-full p-3 border-2 border-green-200 dark:border-green-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all",placeholder:"البريد الإلكتروني"})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100 text-right mb-4",children:"التفاصيل التقنية والزمنية"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-800 dark:text-purple-200 text-right",children:"موديل الجهاز"}),i.jsx("input",{type:"text",value:c.deviceModel,onChange:y=>d(w=>({...w,deviceModel:y.target.value})),className:"w-full p-3 border-2 border-purple-200 dark:border-purple-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",placeholder:"الموديل"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-800 dark:text-purple-200 text-right",children:"تاريخ التوريد"}),i.jsx("input",{type:"date",value:c.deliveryDate,onChange:y=>d(w=>({...w,deliveryDate:y.target.value})),className:"w-full p-3 border-2 border-purple-200 dark:border-purple-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-800 dark:text-purple-200 text-right",children:"تاريخ التركيب"}),i.jsx("input",{type:"date",value:c.installationDate,onChange:y=>d(w=>({...w,installationDate:y.target.value})),className:"w-full p-3 border-2 border-purple-200 dark:border-purple-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-800 dark:text-purple-200 text-right",children:"مدة الضمان (سنوات)"}),i.jsxs("select",{value:c.warrantyPeriod,onChange:y=>d(w=>({...w,warrantyPeriod:parseInt(y.target.value)||1})),className:"w-full p-3 border-2 border-purple-200 dark:border-purple-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",children:[i.jsx("option",{value:"",children:"اختر المدة"}),[1,2,3,4,5,6,7,8,9,10].map(y=>i.jsxs("option",{value:y,children:[y," ",y===1?"سنة":"سنوات"]},y))]})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:[i.jsx("h3",{className:"text-lg font-semibold text-orange-900 dark:text-orange-100 text-right mb-4",children:"الحالة والملاحظات وشهادة التكهين"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-orange-800 dark:text-orange-200 text-right",children:"حالة الجهاز"}),i.jsxs("select",{value:c.deviceStatus,onChange:y=>d(w=>({...w,deviceStatus:y.target.value})),className:"w-full p-3 border-2 border-orange-200 dark:border-orange-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all",children:[i.jsx("option",{value:"يعمل",children:"يعمل"}),i.jsx("option",{value:"مكهن",children:"مكهن (خارج الخدمة)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-orange-800 dark:text-orange-200 text-right",children:"ملاحظات الجهاز"}),i.jsx("textarea",{value:c.notes,onChange:y=>d(w=>({...w,notes:y.target.value})),className:"w-full p-3 border-2 border-orange-200 dark:border-orange-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all resize-none",rows:4,placeholder:"ملاحظات إضافية..."})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-orange-800 dark:text-orange-200 text-right",children:"شهادة التكهين (اختياري)"}),i.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"w-full p-3 border-2 border-orange-200 dark:border-orange-700 rounded-lg text-right bg-white dark:bg-gray-800 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all"}),u&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:u,alt:"معاينة الشهادة",className:"w-32 h-32 object-cover rounded-lg border border-orange-300 cursor-pointer",onClick:()=>m({isOpen:!0,url:u,title:"معاينة شهادة التكهين"})})})]})]})]}),i.jsxs("div",{className:"flex gap-4 justify-start pt-4 border-t border-border",children:[i.jsxs(mt,{type:"submit",disabled:s,className:"bg-gradient-to-r from-success to-success/80 hover:from-success/80 hover:to-success text-success-foreground shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(oi,{size:20,className:"ml-2"}),s?"جاري الحفظ...":"حفظ التغييرات"]}),i.jsx(mt,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:s,className:"border-2 hover:bg-muted transition-all disabled:opacity-50",children:"إلغاء"})]})]})]}),i.jsx(QTe,{isOpen:g.isOpen,onClose:()=>m({isOpen:!1,url:"",title:""}),imageUrl:g.url,title:g.title})]})}function JTe({isOpen:e,onClose:t,onConfirm:r,deviceName:n}){return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background p-6 rounded-lg max-w-md w-full mx-4 text-right",dir:"rtl",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-danger",children:"تأكيد الحذف"}),i.jsxs("p",{className:"text-muted-foreground mb-6",children:['هل أنت متأكد من حذف الجهاز "',n,'"؟ لا يمكن التراجع عن هذا الإجراء.']}),i.jsxs("div",{className:"flex gap-3 justify-start",children:[i.jsx(mt,{variant:"destructive",onClick:r,className:"px-6",children:"حذف"}),i.jsx(mt,{variant:"outline",onClick:t,className:"px-6",children:"إلغاء"})]})]})}):null}function ZTe({isOpen:e,onClose:t,imageUrl:r,title:n}){return e?i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-background rounded-lg max-w-4xl max-h-[90vh] overflow-auto",children:[i.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-right",children:n}),i.jsx("button",{onClick:t,className:"text-muted-foreground hover:text-foreground text-xl",children:"✕"})]}),i.jsx("div",{className:"p-4",children:i.jsx("img",{src:r,alt:n,className:"max-w-full max-h-[70vh] object-contain mx-auto"})})]})}):null}function ePe({currentPage:e,totalPages:t,onPageChange:r}){const n=()=>{const s=[],o=[];for(let l=Math.max(2,e-2);l<=Math.min(t-1,e+2);l++)s.push(l);return e-2>2?o.push(1,"..."):o.push(1),o.push(...s),e+2<t-1?o.push("...",t):o.push(t),o};return t<=1?null:i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 flex-wrap",children:[i.jsxs("button",{onClick:()=>r(e-1),disabled:e<=1,className:"flex items-center gap-1 px-3 py-2 text-sm bg-background border border-input rounded-md hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx(OG,{size:16}),"السابق"]}),i.jsx("div",{className:"flex gap-1",children:n().map((a,s)=>i.jsx("button",{onClick:()=>typeof a=="number"?r(a):null,disabled:a==="...",className:`px-3 py-2 text-sm rounded-md transition-colors ${a===e?"bg-primary text-primary-foreground":a==="..."?"cursor-default text-muted-foreground":"bg-background border border-input hover:bg-accent"}`,children:a},s))}),i.jsxs("button",{onClick:()=>r(e+1),disabled:e>=t,className:"flex items-center gap-1 px-3 py-2 text-sm bg-background border border-input rounded-md hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["التالي",i.jsx(PG,{size:16})]})]})}function tPe(){var be;const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState(!0),[c,d]=A.useState(!1),[u,f]=A.useState(null),[h,p]=A.useState(1),[g]=A.useState(10),[m,v]=A.useState({facility:"",status:"",warranty:"",supplier:""}),[x,y]=A.useState(!1),[w,N]=A.useState(""),[j,C]=A.useState({isOpen:!1,asset:null}),[k,_]=A.useState({isOpen:!1,asset:null}),[L,z]=A.useState({isOpen:!1,url:"",title:""}),{toast:D}=jn(),[T,I]=A.useState({deviceName:"",serialNumber:"",facilityName:"",supplierName:"",supplierContact:"",supplierEmail:"",deviceModel:"",manufacturer:"",deliveryDate:"",installationDate:"",warrantyPeriod:1,deviceStatus:"يعمل",notes:"",image:""}),[B,J]=A.useState("");A.useEffect(()=>{U()},[]),A.useEffect(()=>{X()},[e,m,w]),A.useEffect(()=>{p(1)},[r]);const U=async()=>{try{l(!0),f(null);const[te,ge]=await Promise.all([yh.getAssets(),Ra.getFacilities()]);te.success&&t(te.data||[]),ge.success&&(s(ge.data||[]),console.log("Facilities loaded:",ge.data||[]))}catch(te){console.error("Error loading data:",te),f("فشل في تحميل البيانات. تحقق من الاتصال."),D({title:"خطأ",description:"فشل في تحميل بيانات الأصول",variant:"destructive"})}finally{l(!1)}},X=()=>{let te=[...e];w.trim()&&(te=te.filter(ge=>{var re;return(re=ge.deviceName)==null?void 0:re.toLowerCase().includes(w.toLowerCase())})),m.facility&&(te=te.filter(ge=>ge.facilityName===m.facility)),m.status&&(m.status==="working"?te=te.filter(ge=>ge.deviceStatus==="يعمل"):m.status==="broken"&&(te=te.filter(ge=>ge.deviceStatus==="مكهن"))),m.warranty&&(m.warranty==="under_warranty"?te=te.filter(ge=>ge.warrantyStatus==="تحت الضمان"&&ge.warrantyActive!=="no"):m.warranty==="out_of_warranty"&&(te=te.filter(ge=>ge.warrantyActive==="no"||ge.warrantyStatus!=="تحت الضمان"))),m.supplier&&(te=te.filter(ge=>ge.supplierName===m.supplier)),n(te)},M=()=>{v({facility:"",status:"",warranty:"",supplier:""})},Q=()=>{const te=e.map(ge=>ge.supplierName).filter(Boolean);return[...new Set(te)]},le=Math.ceil(r.length/g),ue=(h-1)*g,O=ue+g,V=r.slice(ue,O),Y=te=>{var re;const ge=(re=te.target.files)==null?void 0:re[0];if(ge){const Oe=URL.createObjectURL(ge);J(Oe),I(Pe=>({...Pe,image:ge}))}},q=async te=>{if(te.preventDefault(),!T.deviceName||!T.serialNumber){D({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}try{d(!0);const ge={...T,image:T.image};(await yh.createAsset(ge)).success&&(D({title:"نجح",description:"تم إضافة الجهاز بنجاح"}),I({deviceName:"",serialNumber:"",facilityName:"",supplierName:"",supplierContact:"",supplierEmail:"",deviceModel:"",manufacturer:"",deliveryDate:"",installationDate:"",warrantyPeriod:1,deviceStatus:"يعمل",notes:"",image:""}),J(""),U())}catch(ge){console.error("Error creating asset:",ge),D({title:"خطأ",description:ge.message||"فشل في إضافة الجهاز",variant:"destructive"})}finally{d(!1)}},P=async te=>{try{(await yh.updateAsset(te.id,te)).success&&(D({title:"نجح",description:"تم تحديث الجهاز بنجاح"}),t(re=>re.map(Oe=>Oe.id===te.id?te:Oe)))}catch(ge){console.error("Error updating asset:",ge),D({title:"خطأ",description:ge.message||"فشل في تحديث الجهاز",variant:"destructive"})}},R=te=>{C({isOpen:!0,asset:te})},G=()=>{C({isOpen:!1,asset:null})},W=async()=>{if(j.asset)try{(await yh.deleteAsset(j.asset.id)).success&&(D({title:"نجح",description:"تم حذف الجهاز بنجاح"}),t(ge=>ge.filter(re=>re.id!==j.asset.id)),G())}catch(te){console.error("Error deleting asset:",te),D({title:"خطأ",description:te.message||"فشل في حذف الجهاز",variant:"destructive"})}},H=te=>{const ge=`
      <div style="text-align: right; direction: rtl; padding: 20px; font-family: Arial, sans-serif;">
        <h2>بيانات الأصل</h2>
        <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">اسم الجهاز:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.deviceName}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">الرقم التسلسلي:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.serialNumber}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">المنشأة:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.facilityName}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">الشركة الصانعة:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.manufacturer||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">موديل الجهاز:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.deviceModel||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">الشركة الموردة:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.supplierName||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">رقم المسؤول:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.supplierContact||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">إيميل المسؤول:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.supplierEmail||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">تاريخ التوريد:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.deliveryDate||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">تاريخ التركيب:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.installationDate||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">مدة الضمان:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.warrantyPeriod||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">الحالة:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.deviceStatus}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">حالة الضمان:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.warrantyActive==="no"?"⚠️ غير مشمول بالضمان":te.warrantyStatus}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">عداد عمر الجهاز:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.deviceAge||"-"}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">عدد الأعطال:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.malfunctionCount}</td></tr>
          <tr><td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">الملاحظات:</td><td style="border: 1px solid #ddd; padding: 8px;">${te.notes||"-"}</td></tr>
        </table>
      </div>
    `,re=window.open("","_blank");re==null||re.document.write(ge),re==null||re.document.close(),re==null||re.print()},me=()=>{const ge=[["اسم الجهاز","الرقم التسلسلي","المنشأة","الشركة الصانعة","موديل الجهاز","الشركة الموردة","رقم المسؤول","إيميل المسؤول","تاريخ التوريد","تاريخ التركيب","مدة الضمان (سنوات)","حالة الجهاز","حالة الضمان","عداد عمر الجهاز","عدد الأعطال","الملاحظات"].join(",")];r.forEach(Ge=>{const ut=[Ge.deviceName||"",Ge.serialNumber||"",Ge.facilityName||"",Ge.manufacturer||"",Ge.deviceModel||"",Ge.supplierName||"",Ge.supplierContact||"",Ge.supplierEmail||"",Ge.deliveryDate||"",Ge.installationDate||"",Ge.warrantyPeriod||"",Ge.deviceStatus||"",Ge.warrantyActive==="no"?"غير مشمول بالضمان":Ge.warrantyStatus||"",Ge.deviceAge||"",Ge.malfunctionCount||0,Ge.notes||""].map(bt=>`"${bt}"`);ge.push(ut.join(","))});const re=ge.join(`
`),Oe="\uFEFF",Pe=new Blob([Oe+re],{type:"text/csv;charset=utf-8;"}),ke=document.createElement("a"),Le=URL.createObjectURL(Pe);ke.setAttribute("href",Le),ke.setAttribute("download",`assets_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),D({title:"نجح",description:"تم تصدير البيانات إلى Excel بنجاح"})},ae=()=>{const te=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="UTF-8">
        <title>تقرير الأصول</title>
        <style>
          body { font-family: Arial, sans-serif; direction: rtl; text-align: right; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
          th, td { border: 1px solid #ddd; padding: 6px; text-align: right; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .header { text-align: center; margin-bottom: 30px; }
          .status-active { background-color: #d4edda; color: #155724; padding: 2px 8px; border-radius: 4px; }
          .status-inactive { background-color: #f8d7da; color: #721c24; padding: 2px 8px; border-radius: 4px; }
          .warranty-active { background-color: #d4edda; color: #155724; padding: 2px 8px; border-radius: 4px; }
          .warranty-inactive { background-color: #fff3cd; color: #856404; padding: 2px 8px; border-radius: 4px; }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>تقرير الأصول</h1>
          <p>تاريخ التقرير: ${new Date().toLocaleDateString("ar-EG")}</p>
          <p>إجمالي الأجهزة: ${r.length}</p>
        </div>
        <table>
          <thead>
            <tr>
              <th>اسم الجهاز</th>
              <th>الرقم التسلسلي</th>
              <th>المنشأة</th>
              <th>الشركة الصانعة</th>
              <th>موديل الجهاز</th>
              <th>الشركة الموردة</th>
              <th>رقم المسؤول</th>
              <th>إيميل المسؤول</th>
              <th>تاريخ التوريد</th>
              <th>تاريخ التركيب</th>
              <th>مدة الضمان</th>
              <th>الحالة</th>
              <th>حالة الضمان</th>
              <th>عداد عمر الجهاز</th>
              <th>عدد الأعطال</th>
              <th>الملاحظات</th>
            </tr>
          </thead>
          <tbody>
            ${r.map(re=>`
              <tr>
                <td>${re.deviceName||"-"}</td>
                <td>${re.serialNumber||"-"}</td>
                <td>${re.facilityName||"-"}</td>
                <td>${re.manufacturer||"-"}</td>
                <td>${re.deviceModel||"-"}</td>
                <td>${re.supplierName||"-"}</td>
                <td>${re.supplierContact||"-"}</td>
                <td>${re.supplierEmail||"-"}</td>
                <td>${re.deliveryDate||"-"}</td>
                <td>${re.installationDate||"-"}</td>
                <td>${re.warrantyPeriod||"-"}</td>
                <td>
                  <span class="${re.deviceStatus==="يعمل"?"status-active":"status-inactive"}">
                    ${re.deviceStatus}
                  </span>
                </td>
                <td>
                  <span class="${re.warrantyActive==="no"?"warranty-inactive":"warranty-active"}">
                    ${re.warrantyActive==="no"?"غير مشمول بالضمان":re.warrantyStatus}
                  </span>
                </td>
                <td>${re.deviceAge||"-"}</td>
                <td>${re.malfunctionCount||0}</td>
                <td>${re.notes||"-"}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,ge=window.open("","_blank");ge&&(ge.document.write(te),ge.document.close(),ge.print())};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"جميع الأصول - الجرد"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"إدارة وتتبع جميع الأجهزة والأصول"})]}),i.jsxs("div",{className:"admin-card print:hidden",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"إضافة جهاز جديد"})}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:q,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الجهاز *"}),i.jsx("input",{type:"text",value:T.deviceName,onChange:te=>I(ge=>({...ge,deviceName:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم الجهاز",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الرقم التسلسلي *"}),i.jsx("input",{type:"text",value:T.serialNumber,onChange:te=>I(ge=>({...ge,serialNumber:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الرقم التسلسلي",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم المنشأة *"}),i.jsxs("select",{value:T.facilityName,onChange:te=>I(ge=>({...ge,facilityName:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0,children:[i.jsx("option",{value:"",children:"اختر المنشأة"}),a.map(te=>i.jsx("option",{value:te.name,children:te.name},te.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اسم الشركة الموردة"}),i.jsx("input",{type:"text",value:T.supplierName,onChange:te=>I(ge=>({...ge,supplierName:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"اسم الشركة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم المسؤول بالشركة"}),i.jsx("input",{type:"text",value:T.supplierContact,onChange:te=>I(ge=>({...ge,supplierContact:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم الهاتف"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"إيميل المسؤول"}),i.jsx("input",{type:"email",value:T.supplierEmail,onChange:te=>I(ge=>({...ge,supplierEmail:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"البريد الإلكتروني"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"موديل الجهاز"}),i.jsx("input",{type:"text",value:T.deviceModel,onChange:te=>I(ge=>({...ge,deviceModel:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الموديل"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الشركة الصانعة"}),i.jsx("input",{type:"text",value:T.manufacturer,onChange:te=>I(ge=>({...ge,manufacturer:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"الشركة الصانعة"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التوريد"}),i.jsx("input",{type:"date",value:T.deliveryDate,onChange:te=>I(ge=>({...ge,deliveryDate:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ التركيب"}),i.jsx("input",{type:"date",value:T.installationDate,onChange:te=>I(ge=>({...ge,installationDate:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"مدة الضمان (سنوات)"}),i.jsxs("select",{value:T.warrantyPeriod,onChange:te=>I(ge=>({...ge,warrantyPeriod:parseInt(te.target.value)||1})),className:"w-full p-3 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"اختر المدة"}),i.jsx("option",{value:"1",children:"سنة واحدة"}),i.jsx("option",{value:"2",children:"سنتان"}),i.jsx("option",{value:"3",children:"3 سنوات"}),i.jsx("option",{value:"4",children:"4 سنوات"}),i.jsx("option",{value:"5",children:"5 سنوات"}),i.jsx("option",{value:"6",children:"6 سنوات"}),i.jsx("option",{value:"7",children:"7 سنوات"}),i.jsx("option",{value:"8",children:"8 سنوات"}),i.jsx("option",{value:"9",children:"9 سنوات"}),i.jsx("option",{value:"10",children:"10 سنوات"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة الجهاز"}),i.jsxs("select",{value:T.deviceStatus,onChange:te=>I(ge=>({...ge,deviceStatus:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",children:[i.jsx("option",{value:"يعمل",children:"يعمل"}),i.jsx("option",{value:"مكهن",children:"مكهن (خارج الخدمة)"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"شهادة التكهين (اختياري)"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Y,className:"w-full p-3 border border-input rounded-md text-right"}),B&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:B,alt:"معاينة الشهادة",className:"w-32 h-32 object-cover rounded-md border border-input cursor-pointer",onClick:()=>z({isOpen:!0,url:B,title:"معاينة شهادة التكهين"})})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"ملاحظات الجهاز"}),i.jsx("textarea",{value:T.notes,onChange:te=>I(ge=>({...ge,notes:te.target.value})),className:"w-full p-3 border border-input rounded-md text-right",rows:3,placeholder:"ملاحظات إضافية..."})]})]}),i.jsx("div",{className:"flex justify-start",children:i.jsxs("button",{type:"submit",disabled:c,className:"admin-btn-success flex items-center gap-2 px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(oi,{size:20}),c?"جاري الحفظ...":"حفظ الجهاز"]})})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsx("div",{className:"admin-card",children:i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-primary",children:r.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي الأجهزة"})]})}),i.jsx("div",{className:"admin-card",children:i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-success",children:r.filter(te=>te.deviceStatus==="يعمل").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"أجهزة تعمل"})]})}),i.jsx("div",{className:"admin-card",children:i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-danger",children:r.filter(te=>te.deviceStatus==="مكهن").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"أجهزة مكهنة"})]})}),i.jsx("div",{className:"admin-card",children:i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-warning",children:r.filter(te=>te.warrantyStatus==="تحت الضمان"&&te.warrantyActive!=="no").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"تحت الضمان"})]})}),i.jsx("div",{className:"admin-card",children:i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-orange-500",children:r.length-r.filter(te=>te.warrantyStatus==="تحت الضمان"&&te.warrantyActive!=="no").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"خارج الضمان"})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[i.jsx("h2",{children:"قائمة الأصول"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsxs("button",{onClick:()=>y(!x),className:"admin-btn-info text-xs md:text-sm px-3 py-2 flex items-center gap-1",children:[i.jsx(ml,{size:14}),"فلترة البيانات"]}),i.jsxs("button",{onClick:me,className:"admin-btn-success text-xs md:text-sm px-3 py-2",children:[i.jsx(Pr,{size:14,className:"ml-1"}),"تصدير Excel"]}),i.jsxs("button",{onClick:ae,className:"admin-btn-primary text-xs md:text-sm px-3 py-2",children:[i.jsx(Pr,{size:14,className:"ml-1"}),"تصدير PDF"]})]})]})}),x&&i.jsxs("div",{className:"p-4 bg-accent/50",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"اختيار المنشأة"}),i.jsxs("select",{value:m.facility,onChange:te=>v(ge=>({...ge,facility:te.target.value})),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"",children:"جميع المنشآت"}),a.map(te=>i.jsx("option",{value:te.name,children:te.name},te.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة الجهاز"}),i.jsxs("select",{value:m.status,onChange:te=>v(ge=>({...ge,status:te.target.value})),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"",children:"جميع الأجهزة"}),i.jsx("option",{value:"working",children:"الأجهزة التي تعمل"}),i.jsx("option",{value:"broken",children:"الأجهزة المكهنة"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة الضمان"}),i.jsxs("select",{value:m.warranty,onChange:te=>v(ge=>({...ge,warranty:te.target.value})),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"",children:"جميع الأجهزة"}),i.jsx("option",{value:"under_warranty",children:"الأجهزة تحت الضمان"}),i.jsx("option",{value:"out_of_warranty",children:"الأجهزة خارج الضمان"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الشركات الموردة"}),i.jsxs("select",{value:m.supplier,onChange:te=>v(ge=>({...ge,supplier:te.target.value})),className:"w-full p-2 border border-input rounded-md text-right text-sm",children:[i.jsx("option",{value:"",children:"جميع الشركات"}),Q().map(te=>i.jsx("option",{value:te,children:te},te))]})]})]}),i.jsx("div",{className:"flex gap-2 mt-4 justify-start",children:i.jsx("button",{onClick:M,className:"admin-btn-secondary text-sm px-4 py-2",children:"إزالة جميع الفلاتر"})})]}),i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"max-w-md",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"بحث بإسم الجهاز"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vd,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),i.jsx("input",{type:"text",value:w,onChange:te=>N(te.target.value),placeholder:"ابحث عن الجهاز...",className:"w-full pr-10 pl-3 py-2 border border-input rounded-md text-right"})]})]})}),i.jsx("div",{className:"p-2 md:p-4",children:o?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),i.jsx("span",{className:"mr-3",children:"جاري التحميل..."})]}):u?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Od,{className:"h-12 w-12 text-danger mb-3"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"خطأ في تحميل البيانات"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:u}),i.jsx(mt,{onClick:U,variant:"outline",children:"إعادة المحاولة"})]}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx("div",{className:"bg-muted rounded-full p-3 mb-4",children:i.jsx(oi,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e.length===0?"لا توجد أصول":"لا توجد نتائج"}),i.jsx("p",{className:"text-muted-foreground",children:e.length===0?"لم يتم العثور على أي أجهزة في النظام. ابدأ بإضافة جهاز جديد.":"لم يتم العثور على أجهزة تطابق معايير البحث المحددة."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 text-right",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["عرض ",ue+1," - ",Math.min(O,r.length)," من أصل ",r.length," جهاز",e.length!==r.length&&` (مفلتر من ${e.length})`]})}),i.jsx("div",{className:"block md:hidden space-y-3",children:V.map(te=>i.jsxs("div",{className:"bg-accent rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-right",children:te.deviceName}),i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:te.facilityName})]}),i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[i.jsx("button",{onClick:()=>_({isOpen:!0,asset:te}),className:"p-2 text-info hover:bg-info/10 rounded transition-colors",title:"عرض التفاصيل",children:i.jsx(tn,{size:16})}),i.jsx(CD,{asset:te,onSave:P,facilities:a}),te.image&&i.jsx("button",{onClick:()=>z({isOpen:!0,url:te.image,title:`شهادة التكهين - ${te.deviceName}`}),className:"p-2 text-purple-600 hover:bg-purple-100 rounded transition-colors flex items-center gap-1",title:"عرض شهادة التكهين",children:i.jsx($u,{size:16})}),i.jsx("button",{onClick:()=>H(te),className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors",title:"طباعة",children:i.jsx(un,{size:16})}),i.jsx("button",{onClick:()=>R(te),className:"p-2 text-danger hover:bg-danger/10 rounded transition-colors",title:"حذف",children:i.jsx(Un,{size:16})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${te.deviceStatus==="يعمل"?"bg-success text-success-foreground":"bg-danger text-danger-foreground"}`,children:te.deviceStatus}),i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${te.warrantyActive==="no"?"bg-warning text-warning-foreground":"bg-success text-success-foreground"}`,children:[te.warrantyActive==="no"&&i.jsx("span",{children:"⚠️"}),te.warrantyActive==="no"?"غير مشمول بالضمان":te.warrantyStatus]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-right space-y-1",children:[i.jsxs("div",{children:["الشركة: ",te.manufacturer||"-"]}),i.jsxs("div",{children:["الموديل: ",te.deviceModel||"-"]}),i.jsxs("div",{children:["الشركة الموردة: ",te.supplierName||"-"]}),i.jsxs("div",{children:["التوريد: ",te.deliveryDate||"-"]}),i.jsxs("div",{children:["التركيب: ",te.installationDate||"-"]}),i.jsxs("div",{children:["عمر الجهاز: ",te.deviceAge||"-"]}),i.jsxs("div",{children:["عدد الأعطال: ",te.malfunctionCount||0]})]})]})]},te.id))}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-right",children:[i.jsx("th",{className:"p-3 text-right",children:"اسم الجهاز"}),i.jsx("th",{className:"p-3 text-right",children:"الرقم التسلسلي"}),i.jsx("th",{className:"p-3 text-right",children:"المنشأة"}),i.jsx("th",{className:"p-3 text-right",children:"الشركة الصانعة"}),i.jsx("th",{className:"p-3 text-right",children:"موديل الجهاز"}),i.jsx("th",{className:"p-3 text-right",children:"الشركة الموردة"}),i.jsx("th",{className:"p-3 text-right",children:"تاريخ التوريد"}),i.jsx("th",{className:"p-3 text-right",children:"تاريخ التركيب"}),i.jsx("th",{className:"p-3 text-right",children:"الحالة"}),i.jsx("th",{className:"p-3 text-right",children:"حالة الضمان"}),i.jsx("th",{className:"p-3 text-right",children:"عداد عمر الجهاز"}),i.jsx("th",{className:"p-3 text-right",children:"عدد الأعطال"}),i.jsx("th",{className:"p-3 text-right",children:"الإجراءات"})]})}),i.jsx("tbody",{children:V.map(te=>i.jsxs("tr",{className:"border-b border-border text-right hover:bg-accent/50 transition-colors",children:[i.jsx("td",{className:"p-3 font-medium",children:te.deviceName}),i.jsx("td",{className:"p-3",children:te.serialNumber}),i.jsx("td",{className:"p-3",children:te.facilityName}),i.jsx("td",{className:"p-3",children:te.manufacturer||"-"}),i.jsx("td",{className:"p-3",children:te.deviceModel||"-"}),i.jsx("td",{className:"p-3",children:te.supplierName||"-"}),i.jsx("td",{className:"p-3",children:te.deliveryDate||"-"}),i.jsx("td",{className:"p-3",children:te.installationDate||"-"}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${te.deviceStatus==="يعمل"?"bg-success text-success-foreground":"bg-danger text-danger-foreground"}`,children:te.deviceStatus})}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${te.warrantyActive==="no"?"bg-warning text-warning-foreground":"bg-success text-success-foreground"}`,children:[te.warrantyActive==="no"&&i.jsx("span",{children:"⚠️"}),te.warrantyActive==="no"?"غير مشمول بالضمان":te.warrantyStatus]})}),i.jsx("td",{className:"p-3",children:te.deviceAge||"-"}),i.jsx("td",{className:"p-3",children:te.malfunctionCount||0}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[i.jsx("button",{onClick:()=>_({isOpen:!0,asset:te}),className:"p-2 text-info hover:bg-info/10 rounded transition-colors",title:"عرض التفاصيل",children:i.jsx(tn,{size:16})}),i.jsx(CD,{asset:te,onSave:P,facilities:a}),te.image&&i.jsxs("button",{onClick:()=>z({isOpen:!0,url:te.image,title:`شهادة التكهين - ${te.deviceName}`}),className:"p-2 text-purple-600 hover:bg-purple-100 rounded transition-colors flex items-center gap-1 text-xs",title:"عرض شهادة التكهين",children:[i.jsx($u,{size:16}),i.jsx("span",{className:"hidden lg:inline",children:"عرض الشهادة"})]}),i.jsx("button",{onClick:()=>H(te),className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors",title:"طباعة",children:i.jsx(un,{size:16})}),i.jsx("button",{onClick:()=>R(te),className:"p-2 text-danger hover:bg-danger/10 rounded transition-colors",title:"حذف",children:i.jsx(Un,{size:16})})]})})]},te.id))})]})}),i.jsx(ePe,{currentPage:h,totalPages:le,onPageChange:p})]})})]}),i.jsx(JTe,{isOpen:j.isOpen,onClose:G,onConfirm:W,deviceName:((be=j.asset)==null?void 0:be.deviceName)||""}),i.jsx(ZTe,{isOpen:L.isOpen,onClose:()=>z({isOpen:!1,url:"",title:""}),imageUrl:L.url,title:L.title}),k.isOpen&&k.asset&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background p-6 rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto text-right",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"تفاصيل الجهاز"}),i.jsx("button",{onClick:()=>_({isOpen:!1,asset:null}),className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"اسم الجهاز:"}),i.jsx("p",{className:"mt-1",children:k.asset.deviceName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"الرقم التسلسلي:"}),i.jsx("p",{className:"mt-1",children:k.asset.serialNumber})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"المنشأة:"}),i.jsx("p",{className:"mt-1",children:k.asset.facilityName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"الشركة الصانعة:"}),i.jsx("p",{className:"mt-1",children:k.asset.manufacturer||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"موديل الجهاز:"}),i.jsx("p",{className:"mt-1",children:k.asset.deviceModel||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"اسم الشركة الموردة:"}),i.jsx("p",{className:"mt-1",children:k.asset.supplierName||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"رقم المسؤول:"}),i.jsx("p",{className:"mt-1",children:k.asset.supplierContact||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"إيميل المسؤول:"}),i.jsx("p",{className:"mt-1",children:k.asset.supplierEmail||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"تاريخ التوريد:"}),i.jsx("p",{className:"mt-1",children:k.asset.deliveryDate||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"تاريخ التركيب:"}),i.jsx("p",{className:"mt-1",children:k.asset.installationDate||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"مدة الضمان:"}),i.jsx("p",{className:"mt-1",children:k.asset.warrantyPeriod?`${k.asset.warrantyPeriod} سنة`:"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"حالة الجهاز:"}),i.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs ${k.asset.deviceStatus==="يعمل"?"bg-success text-success-foreground":"bg-danger text-danger-foreground"}`,children:k.asset.deviceStatus})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"حالة الضمان:"}),i.jsxs("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs flex items-center gap-1 w-fit ${k.asset.warrantyActive==="no"?"bg-warning text-warning-foreground":"bg-success text-success-foreground"}`,children:[k.asset.warrantyActive==="no"&&i.jsx("span",{children:"⚠️"}),k.asset.warrantyActive==="no"?"غير مشمول بالضمان":k.asset.warrantyStatus]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"عداد عمر الجهاز:"}),i.jsx("p",{className:"mt-1",children:k.asset.deviceAge||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"عدد الأعطال:"}),i.jsx("p",{className:"mt-1",children:k.asset.malfunctionCount||0})]})]}),k.asset.image&&i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"شهادة التكهين:"}),i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:k.asset.image,alt:"شهادة التكهين",className:"w-32 h-32 object-cover rounded-md border border-input cursor-pointer",onClick:()=>z({isOpen:!0,url:k.asset.image,title:`شهادة التكهين - ${k.asset.deviceName}`})})})]}),k.asset.notes&&i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-muted-foreground",children:"الملاحظات:"}),i.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:k.asset.notes})]})]}),i.jsxs("div",{className:"flex justify-start gap-3 mt-6",children:[k.asset.image&&i.jsxs("button",{onClick:()=>z({isOpen:!0,url:k.asset.image,title:`شهادة التكهين - ${k.asset.deviceName}`}),className:"admin-btn-info flex items-center gap-2 px-4 py-2",children:[i.jsx($u,{size:16}),"عرض الشهادة"]}),i.jsxs("button",{onClick:()=>H(k.asset),className:"admin-btn-primary flex items-center gap-2 px-4 py-2",children:[i.jsx(un,{size:16}),"طباعة"]}),i.jsx("button",{onClick:()=>_({isOpen:!1,asset:null}),className:"admin-btn-secondary px-4 py-2",children:"إغلاق"})]})]})})]})}function rPe(){var J;const[e,t]=A.useState(""),[r,n]=A.useState(""),[a,s]=A.useState(""),[o,l]=A.useState(null),[c,d]=A.useState(null),[u,f]=A.useState([]),[h,p]=A.useState([]),[g,m]=A.useState(!0),[v,x]=A.useState(!1),{toast:y}=jn(),N=(()=>{var U;if(c){const X=Number(c.availableQty??0),M=Number(c.minQuantity??0),Q=X<M?1:0,le=Number(c.withdrawalOrdersCount??0)||0,ue=Number(c.refusedOrders??0)||0,O=le===0?1:0;return{totalItems:1,lowStockItems:Q,orders:{open:O,completed:le,rejected:ue},orderStatusData:[{name:"مفتوح",value:O,color:"#3b82f6"},{name:"مصروف",value:le,color:"#10b981"},{name:"مرفوض",value:ue,color:"#ef4444"}]}}if(!o)return null;if(e){const X=(U=o.facilitiesData)==null?void 0:U.find(M=>M.name===e);if(X)return{totalItems:X.totalItems,lowStockItems:X.lowStockItems,orders:X.orders,orderStatusData:X.orderStatusData}}return{totalItems:o.totalItems,lowStockItems:o.lowStockItems,orders:o.orders,orderStatusData:o.orderStatusData}})()||{totalItems:0,lowStockItems:0,orders:{open:0,completed:0,rejected:0},orderStatusData:[]},j=c&&c.withdrawalOrders?(()=>{const U=c.withdrawalOrders.reduce((X,M)=>{const Q=M.facilityName;return X[Q]=(X[Q]||0)+1,X},{});return Object.entries(U).map(([X,M])=>({name:X,items:M}))})():((J=o==null?void 0:o.facilitiesData)==null?void 0:J.filter(U=>!e||U.name===e))||[],C=u.filter(U=>!a||U.name===a),k=j.map((U,X)=>({name:U.name,items:U.items||U.totalItems||0,fill:`hsl(${X*45%360}, 65%, 55%)`})).sort((U,X)=>X.items-U.items),_=k.reduce((U,X)=>U+X.items,0),L=v?k:k.slice(0,7),z=k.length>7;A.useEffect(()=>{(async()=>{try{m(!0);const[X,M,Q]=await Promise.all([ti.getDashboardData(),ti.getTopSuppliers(),Ra.getFacilities()]);X.success&&l(X.data),M.success&&f(M.data),Q.success&&p(Q.data)}catch(X){console.error("Error fetching dashboard data:",X),y({title:"خطأ",description:X.message||"فشل في تحميل بيانات لوحة التحكم",variant:"destructive"})}finally{m(!1)}})()},[y]);const D=async()=>{if(r.trim())try{m(!0);const U=await ti.searchItems(r,e);U.success&&(d(U.data),y({title:"نجح",description:"تم العثور على الصنف بنجاح"}))}catch(U){console.error("Error searching items:",U),d(null),y({title:"خطأ",description:U.message||"لم يتم العثور على الصنف",variant:"destructive"})}finally{m(!1)}},T=()=>{t(""),n(""),s(""),d(null)},I=()=>{window.print()},B=()=>{try{const U=fr.book_new(),X=[["لوحة تحكم المستودع",""],["",""],["المؤشر","القيمة"],["إجمالي الأصناف",N.totalItems],["المخزون المنخفض",N.lowStockItems],["طلبات مصروفة",N.orders.completed],["طلبات مفتوحة",N.orders.open],["طلبات مرفوضة",N.orders.rejected]],M=fr.aoa_to_sheet(X);if(fr.book_append_sheet(U,M,"ملخص"),k.length>0){const Q=[["المنشأة","عدد الأصناف","النسبة المئوية"],...k.map(ue=>[ue.name,ue.items,`${_>0?Math.round(ue.items/_*100):0}%`])],le=fr.aoa_to_sheet(Q);fr.book_append_sheet(U,le,"المنشآت")}if(C.length>0){const Q=[["الشركة الموردة","عدد الأصناف"],...C.map(ue=>[ue.name,ue.items_supplied||ue.itemsSupplied])],le=fr.aoa_to_sheet(Q);fr.book_append_sheet(U,le,"الموردين")}sl(U,`warehouse-dashboard-${new Date().toISOString().split("T")[0]}.xlsx`),y({title:"نجح",description:"تم تصدير البيانات إلى Excel بنجاح"})}catch(U){console.error("Error exporting to Excel:",U),y({title:"خطأ",description:"فشل تصدير البيانات",variant:"destructive"})}};return i.jsxs("div",{className:"p-2 sm:p-4 md:p-6 space-y-4 sm:space-y-6",dir:"rtl",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg p-4 sm:p-6 text-white no-print",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-right",children:"لوحة تحكم المستودع"}),i.jsx("p",{className:"text-blue-100 mt-2 text-right text-sm sm:text-base",children:"إدارة شاملة لمخزون المستودع والطلبات"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{onClick:I,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[i.jsx(un,{className:"h-4 w-4 ml-2"}),"تصدير PDF"]}),i.jsxs(mt,{onClick:B,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[i.jsx(D7,{className:"h-4 w-4 ml-2"}),"تصدير Excel"]})]})]})}),i.jsxs(it,{className:"no-print",children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right text-sm sm:text-base",children:"فلاتر البحث"})}),i.jsx(ot,{children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs(hr,{value:e,onValueChange:t,children:[i.jsx(or,{className:"text-sm",children:i.jsx(pr,{placeholder:"اختر المنشأة"})}),i.jsx(lr,{children:h.map(U=>i.jsx(Pt,{value:U.name,className:"text-sm",children:U.name},U.id))})]}),i.jsx(et,{placeholder:"رقم أو اسم الصنف",value:r,onChange:U=>n(U.target.value),className:"text-sm"}),i.jsxs(hr,{value:a,onValueChange:s,children:[i.jsx(or,{className:"text-sm",children:i.jsx(pr,{placeholder:"اختر الشركة الموردة"})}),i.jsx(lr,{children:u.map((U,X)=>i.jsx(Pt,{value:U.name,className:"text-sm",children:U.name},X))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(mt,{onClick:D,className:"flex-1 text-sm",children:"تطبيق الفلتر"}),i.jsx(mt,{variant:"outline",onClick:T,className:"text-sm",children:"مسح"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[i.jsx(it,{className:"bg-blue-50 border-blue-200",children:i.jsx(ot,{className:"p-3 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600",children:"إجمالي الأصناف"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-800",children:N.totalItems})]}),i.jsx(Sd,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})]})})}),i.jsx(it,{className:"bg-orange-50 border-orange-200",children:i.jsx(ot,{className:"p-3 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-orange-600",children:"المخزون المنخفض"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-800",children:N.lowStockItems})]}),i.jsx(To,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})]})})}),i.jsx(it,{className:"bg-green-50 border-green-200",children:i.jsx(ot,{className:"p-3 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600",children:"طلبات مصروفة"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-800",children:N.orders.completed})]}),i.jsx(qs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})]})})}),i.jsx(it,{className:"bg-blue-50 border-blue-200",children:i.jsx(ot,{className:"p-3 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600",children:"طلبات مفتوحة"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-800",children:N.orders.open})]}),i.jsx(Ql,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right text-sm sm:text-base",children:"توزيع حالة الطلبات"})}),i.jsxs(ot,{className:"p-3 sm:p-4",children:[i.jsx(Hi,{width:"100%",height:250,children:i.jsxs(Ud,{children:[i.jsx(fi,{data:N.orderStatusData,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.orderStatusData.map((U,X)=>i.jsx(Ro,{fill:U.color},`cell-${X}`))}),i.jsx(ca,{formatter:(U,X)=>[`${U}`,`${X} (${(Number(U)/N.orderStatusData.reduce((M,Q)=>M+Number(Q.value),0)*100).toFixed(0)}%)`]})]})},c?"search-chart":"normal-chart"),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mt-3 sm:mt-4",children:N.orderStatusData.map(U=>{const X=N.orderStatusData.reduce((Q,le)=>Q+le.value,0),M=X>0?(U.value/X*100).toFixed(0):0;return i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-gray-50 dark:bg-gray-800 px-2 sm:px-3 py-1 sm:py-2 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full",style:{backgroundColor:U.color}}),i.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[U.name," (",U.value,") - ",M,"%"]})]},U.name)})})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right text-sm sm:text-base",children:c?"توزيع الصرف حسب المنشآت":"توزيع الأصناف حسب المنشآت"})}),i.jsx(ot,{className:"p-3 sm:p-4",children:k.length>0?i.jsxs("div",{className:"space-y-3",children:[L.map((U,X)=>i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full flex-shrink-0",style:{backgroundColor:U.fill}}),i.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground",children:U.items})]}),i.jsx("div",{className:"text-right flex-1 min-w-0 mr-2 sm:mr-3",children:i.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground block truncate",children:U.name})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 sm:h-3 overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out group-hover:shadow-lg",style:{backgroundColor:U.fill,width:`${_>0?U.items/Math.max(...k.map(M=>M.items))*100:0}%`,background:`linear-gradient(90deg, ${U.fill}, ${U.fill}dd)`}})}),i.jsx("div",{className:"absolute left-1 sm:left-2 top-0 h-full flex items-center",children:i.jsxs("span",{className:"text-xs font-medium text-black dark:text-white drop-shadow-sm",children:[_>0?Math.round(U.items/_*100):0,"%"]})})]})]},U.name)),z&&i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx("button",{onClick:()=>x(!v),className:"px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg border border-blue-200 dark:border-blue-800 transition-colors duration-200 flex items-center gap-2",children:v?i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"عرض أقل"}),i.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 transform rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:["عرض المزيد (",k.length-7,")"]}),i.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})})]}):i.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm",children:"لا توجد بيانات لعرضها"})})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right text-sm sm:text-base",children:"أكثر الشركات توريداً للأصناف"})}),i.jsx(ot,{className:"p-3 sm:p-4",children:g?i.jsx("div",{className:"text-center p-4 text-sm",children:"جاري تحميل البيانات..."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:C.map((U,X)=>i.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium text-sm sm:text-base",children:U.name}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[U.items_supplied||U.itemsSupplied," صنف"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),i.jsxs("span",{className:"font-bold text-blue-600 text-sm",children:["#",X+1]})]})]},X))})})]}),i.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          
          body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }
          
          @page {
            margin: 1cm;
          }
        }
      `})]})}function nPe(){var O,V,Y;const[e,t]=A.useState("جميع المنشآت"),[r,n]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState(null),[c,d]=A.useState([]),[u,f]=A.useState(!0),[h,p]=A.useState(0),[g,m]=A.useState(0),[v,x]=A.useState(""),[y,w]=A.useState(""),[N,j]=A.useState(""),[C,k]=A.useState(""),{toast:_}=jn(),L=[...new Set(a.map(q=>q.itemName).filter(Boolean))],z=a.filter(q=>{const P=e==="جميع المنشآت"||q.facility===e,R=!v||v==="all"||q.itemName===v,G=!y||q.itemNumber&&q.itemNumber.toString().includes(y);let W=!0;if(N||C){const H=q.date?new Date(q.date):new Date(q.created_at);N&&(W=W&&H>=new Date(N)),C&&(W=W&&H<=new Date(C))}return P&&R&&G&&W}),D=e==="جميع المنشآت"?(o==null?void 0:o.chartData)||[]:((O=o==null?void 0:o.chartData)==null?void 0:O.filter(q=>q.facility===e))||[],T=e==="جميع المنشآت"?(o==null?void 0:o.facilityData)||[]:((V=o==null?void 0:o.facilityData)==null?void 0:V.filter(q=>q.name===e))||[],I=e==="جميع المنشآت"?(o==null?void 0:o.trendData)||[]:((Y=o==null?void 0:o.trendData)==null?void 0:Y.filter(q=>q.facility===e))||[],B=z.reduce((q,P)=>q+(P.totalValue||P.total_value||0),0),J=z.reduce((q,P)=>q+(P.items||P.items_count||0),0),U=B/z.length||0;A.useEffect(()=>{(async()=>{try{f(!0);const[P,R,G]=await Promise.all([ti.getDispensingData(),ti.getDispensingOperations(),Ra.getFacilities()]);P.success&&(n(P.data),l(P.data),p(P.sum_all||0),m(P.sum_inv||0)),R.success&&s(R.data),G.success&&d([{id:"all",name:"جميع المنشآت"},...G.data])}catch(P){console.error("Error fetching dispensing data:",P),_({title:"خطأ",description:P.message||"فشل في تحميل بيانات تقارير الصرف",variant:"destructive"})}finally{f(!1)}})()},[_]);const X=()=>{const q=new Date().toLocaleDateString("ar-SA"),P=new Date().toLocaleTimeString("ar-SA"),R=z.map(H=>`
      <tr>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.id}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.date||new Date(H.created_at).toLocaleDateString("ar-SA")}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.facility}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.itemName||"غير محدد"}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.itemNumber||"غير محدد"}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.withdrawQty||"غير محدد"}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.items||H.items_count}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${(H.totalValue||H.total_value||0).toLocaleString()} ريال</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.requested_by||H.requestedBy||"غير محدد"}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.status}</td>
        <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">${H.category}</td>
      </tr>
    `).join(""),G=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>تقرير تفاصيل عمليات الصرف</title>
        <style>
          body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            direction: rtl;
            background: white;
          }
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          .header h1 {
            color: #2563eb;
            margin: 0;
            font-size: 28px;
            font-weight: bold;
          }
          .header h2 {
            color: #64748b;
            margin: 10px 0;
            font-size: 16px;
          }
          .stats-section {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
          }
          .stats-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            text-align: center;
          }
          .stat-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
          }
          .stat-label {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 5px;
          }
          .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #1e293b;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 10px;
          }
          th, td {
            border: 1px solid #ddd;
            padding: 6px;
            text-align: center;
          }
          th {
            background-color: #f8fafc;
            font-weight: bold;
            color: #1e293b;
          }
          .footer {
            margin-top: 30px;
            text-align: center;
            color: #64748b;
            font-size: 12px;
            border-top: 1px solid #e2e8f0;
            padding-top: 15px;
          }
          @media print {
            body { margin: 0; font-size: 9px; }
            .stats-grid { grid-template-columns: repeat(3, 1fr); }
            table { font-size: 8px; }
            th, td { padding: 4px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>تقرير تفاصيل عمليات الصرف</h1>
          <h2>المنشأة المختارة: ${e}</h2>
          <h2>تاريخ التقرير: ${q} - ${P}</h2>
        </div>

        <div class="stats-section">
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-label">إجمالي قيمة الصرف</div>
              <div class="stat-value">${B.toLocaleString()} ريال</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">إجمالي قيمة الشراء</div>
              <div class="stat-value">${h.toLocaleString()} ريال</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">إجمالي قيمة المخزون المتبقي</div>
              <div class="stat-value">${g.toLocaleString()} ريال</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">إجمالي الأصناف المصروفة</div>
              <div class="stat-value">${J}</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">عدد عمليات الصرف</div>
              <div class="stat-value">${z.length}</div>
            </div>
            <div class="stat-item">
              <div class="stat-label">متوسط قيمة الصرف</div>
              <div class="stat-value">${U.toFixed(0)} ريال</div>
            </div>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th>رقم أمر الصرف</th>
              <th>تاريخ الصرف</th>
              <th>اسم المنشأة</th>
              <th>اسم الصنف</th>
              <th>رقم الصنف</th>
              <th>الكمية</th>
              <th>عدد الأصناف</th>
              <th>القيمة الإجمالية</th>
              <th>اسم المستلم</th>
              <th>حالة الطلب</th>
              <th>فئة الصنف</th>
            </tr>
          </thead>
          <tbody>
            ${R}
          </tbody>
        </table>

        <div class="footer">
          <p>نظام إدارة المستودعات الطبية</p>
          <p>عدد السجلات: ${z.length} سجل</p>
        </div>
      </body>
      </html>
    `,W=window.open("","_blank");W&&(W.document.write(G),W.document.close(),W.focus(),setTimeout(()=>{W.print()},500),_({title:"تم بنجاح",description:"تم فتح تقرير PDF للطباعة"}))},M=()=>{window.print(),_({title:"تم بنجاح",description:"تم فتح نافذة الطباعة للصفحة"})},Q=()=>{const q=[{البيان:"إجمالي قيمة الصرف",القيمة:`${B.toLocaleString()} ريال`},{البيان:"إجمالي قيمة الشراء",القيمة:`${h.toLocaleString()} ريال`},{البيان:"إجمالي قيمة المخزون المتبقي",القيمة:`${g.toLocaleString()} ريال`},{البيان:"إجمالي الأصناف المصروفة",القيمة:J},{البيان:"عدد عمليات الصرف",القيمة:z.length},{البيان:"متوسط قيمة الصرف",القيمة:`${U.toFixed(0)} ريال`}],P=Object.keys(q[0]),R=[P.join(","),...q.map(ae=>P.map(be=>{const te=ae[be];return typeof te=="string"&&te.includes(",")?`"${te}"`:te}).join(","))].join(`
`),G="\uFEFF",W=new Blob([G+R],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),me=URL.createObjectURL(W);H.setAttribute("href",me),H.setAttribute("download",`ملخص_تقارير_الصرف_${new Date().toLocaleDateString("ar-SA").replace(/\//g,"-")}.csv`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H),_({title:"تم بنجاح",description:"تم تصدير ملخص البيانات إلى ملف Excel"})},le=()=>{const q=z.map(te=>({"رقم أمر الصرف":te.id,"تاريخ الصرف":te.date||new Date(te.created_at).toLocaleDateString("ar-SA"),"اسم المنشأة":te.facility,"اسم الصنف":te.itemName||"غير محدد","رقم الصنف":te.itemNumber||"غير محدد",الكمية:te.withdrawQty||"غير محدد","عدد الأصناف":te.items||te.items_count,"القيمة الإجمالية":te.totalValue||te.total_value||0,"اسم المستلم":te.requested_by||te.requestedBy||"غير محدد","حالة الطلب":te.status,"فئة الصنف":te.category})),P={"رقم أمر الصرف":"الإجمالي","تاريخ الصرف":"","اسم المنشأة":e,"اسم الصنف":"","رقم الصنف":"",الكمية:"","عدد الأصناف":J,"القيمة الإجمالية":B,"اسم المستلم":"","حالة الطلب":"","فئة الصنف":`${z.length} عملية`},R=[...q,P],G=Object.keys(R[0]),W=[G.join(","),...R.map(te=>G.map(ge=>{const re=te[ge];return typeof re=="string"&&re.includes(",")?`"${re}"`:re}).join(","))].join(`
`),H="\uFEFF",me=new Blob([H+W],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a"),be=URL.createObjectURL(me);ae.setAttribute("href",be),ae.setAttribute("download",`تقرير_عمليات_الصرف_${new Date().toLocaleDateString("ar-SA").replace(/\//g,"-")}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),_({title:"تم بنجاح",description:"تم تصدير البيانات إلى ملف Excel"})},ue=q=>{const P=new Date().toLocaleDateString("ar-SA"),R=new Date().toLocaleTimeString("ar-SA"),G=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>تقرير صرف مفصل - ${q.id}</title>
        <style>
          body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            direction: rtl;
            background: white;
          }
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          .header h1 {
            color: #2563eb;
            margin: 0;
            font-size: 28px;
            font-weight: bold;
          }
          .header h2 {
            color: #64748b;
            margin: 5px 0 0 0;
            font-size: 18px;
            font-weight: normal;
          }
          .info-section {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
          }
          .info-title {
            color: #1e293b;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 8px;
          }
          .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
          }
          .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dotted #cbd5e1;
          }
          .info-label {
            font-weight: bold;
            color: #475569;
          }
          .info-value {
            color: #1e293b;
            font-weight: 600;
          }
          .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
          }
          .status-completed {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
          }
          .status-pending {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
          }
          .footer {
            margin-top: 40px;
            text-align: center;
            color: #64748b;
            font-size: 12px;
            border-top: 1px solid #e2e8f0;
            padding-top: 20px;
          }
          .signature-section {
            margin-top: 50px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
          }
          .signature-box {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            min-height: 80px;
          }
          .signature-title {
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 10px;
          }
          .signature-line {
            border-top: 1px solid #64748b;
            margin-top: 30px;
            padding-top: 5px;
            font-size: 12px;
            color: #64748b;
          }
          @media print {
            body { margin: 0; }
            .info-grid { grid-template-columns: 1fr; }
            .signature-section { grid-template-columns: 1fr; gap: 20px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>تقرير صرف مفصل</h1>
          <h2>أمر الصرف رقم: ${q.id}</h2>
        </div>

        <div class="info-section">
          <div class="info-title">📋 بيانات أمر الصرف</div>
          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">رقم أمر الصرف:</span>
              <span class="info-value">${q.id}</span>
            </div>
            <div class="info-item">
              <span class="info-label">تاريخ الصرف:</span>
              <span class="info-value">${q.date||"غير محدد"}</span>
            </div>
            <div class="info-item">
              <span class="info-label">تاريخ الإنشاء:</span>
              <span class="info-value">${new Date(q.created_at).toLocaleDateString("ar-SA")}</span>
            </div>
            <div class="info-item">
              <span class="info-label">اسم المنشأة:</span>
              <span class="info-value">${q.facility}</span>
            </div>
            <div class="info-item">
              <span class="info-label">حالة الطلب:</span>
              <span class="info-value status-badge ${q.status==="مكتمل"?"status-completed":"status-pending"}">${q.status}</span>
            </div>
            <div class="info-item">
              <span class="info-label">اسم المستلم:</span>
              <span class="info-value">${q.requested_by||q.requestedBy||"غير محدد"}</span>
            </div>
          </div>
        </div>

        <div class="info-section">
          <div class="info-title">📦 تفاصيل الأصناف المصروفة</div>
          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">اسم الصنف:</span>
              <span class="info-value">${q.itemName||"غير محدد"}</span>
            </div>
             <div class="info-item">
               <span class="info-label">رقم الصنف</span>
               <span class="info-value">${q.itemNumber||"غير محدد"}</span>
             </div>
             <div class="info-item">
               <span class="info-label">الكمية:</span>
               <span class="info-value">${q.withdrawQty||"غير محدد"}</span>
             </div>
             <div class="info-item">
               <span class="info-label">فئة الصنف:</span>
               <span class="info-value">${q.category||"غير محدد"}</span>
             </div>
            <div class="info-item">
              <span class="info-label">عدد الأصناف:</span>
              <span class="info-value">${q.items||q.items_count||0}</span>
            </div>
            <div class="info-item">
              <span class="info-label">القيمة الإجمالية:</span>
              <span class="info-value">${(q.totalValue||q.total_value||0).toLocaleString()} ريال سعودي</span>
            </div>
          </div>
        </div>

        ${q.notes?`
        <div class="info-section">
          <div class="info-title">📝 ملاحظات</div>
          <div class="info-item">
            <span class="info-value">${q.notes}</span>
          </div>
        </div>
        `:""}

        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-title">مسؤول المستودع</div>
            <div class="signature-line">التوقيع</div>
          </div>
          <div class="signature-box">
            <div class="signature-title">المستلم</div>
            <div class="signature-line">التوقيع</div>
          </div>
          <div class="signature-box">
            <div class="signature-title">المشرف</div>
            <div class="signature-line">التوقيع</div>
          </div>
        </div>

        <div class="footer">
          <p>تم إنشاء هذا التقرير بتاريخ: ${P} الساعة: ${R}</p>
          <p>نظام إدارة المستودعات الطبية</p>
        </div>
      </body>
      </html>
    `,W=window.open("","_blank");W&&(W.document.write(G),W.document.close(),W.focus(),setTimeout(()=>{W.print()},500))};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-lg p-4 sm:p-6 text-primary-foreground shadow-lg print:hidden",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2",children:"تقارير الصرف"}),i.jsx("p",{className:"text-primary-foreground/90 text-sm sm:text-base",children:"عرض وإدارة تقارير عمليات الصرف للمنشآت"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{onClick:M,className:"bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",size:"sm",children:[i.jsx(Pr,{className:"w-4 h-4 ml-2"}),"تصدير الصفحة PDF"]}),i.jsxs(mt,{onClick:Q,className:"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",size:"sm",children:[i.jsx($i,{className:"w-4 h-4 ml-2"}),"تصدير الصفحة Excel"]})]})]})}),i.jsxs(it,{className:"print:hidden",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(zt,{className:"text-right flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(ml,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"فلترة التقارير"]})}),i.jsx(ot,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs sm:text-sm font-medium mb-2 block text-right",children:"الجهة المستفيدة/المنشأة"}),i.jsxs(hr,{value:e,onValueChange:t,children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{})}),i.jsx(lr,{children:c.map(q=>i.jsx(Pt,{value:q.name||q,children:q.name||q},q.id||q))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs sm:text-sm font-medium mb-2 block text-right",children:"اسم الصنف"}),i.jsxs(hr,{value:v,onValueChange:x,children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"جميع الأصناف"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الأصناف"}),L.map(q=>i.jsx(Pt,{value:q,children:q},q))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs sm:text-sm font-medium mb-2 block text-right",children:"رقم الصنف"}),i.jsx(et,{type:"text",placeholder:"ابحث برقم الصنف...",value:y,onChange:q=>w(q.target.value),className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs sm:text-sm font-medium mb-2 block text-right",children:"التاريخ من"}),i.jsx(et,{type:"date",value:N,onChange:q=>j(q.target.value),className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs sm:text-sm font-medium mb-2 block text-right",children:"التاريخ إلى"}),i.jsx(et,{type:"date",value:C,onChange:q=>k(q.target.value),className:"text-right"})]}),i.jsx("div",{className:"space-y-2 flex items-end",children:i.jsxs(mt,{className:"w-full",variant:"outline",onClick:()=>{x("all"),w(""),j(""),k(""),t("جميع المنشآت")},children:[i.jsx(ml,{className:"w-4 h-4 ml-2"}),"إعادة تعيين الفلاتر"]})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4",children:[i.jsx(it,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:i.jsx(ot,{className:"p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-blue-100 text-xs sm:text-sm font-medium mb-1",children:"إجمالي قيمة الصرف"}),i.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold leading-tight break-words overflow-hidden",children:B.toLocaleString()}),i.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"ريال"})]}),i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0 ml-2",children:i.jsx(_2,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 text-white"})})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white",children:i.jsx(ot,{className:"p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-indigo-100 text-xs sm:text-sm font-medium mb-1",children:"إجمالي قيمة الشراء"}),i.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold leading-tight break-words overflow-hidden",children:h.toLocaleString()}),i.jsx("p",{className:"text-xs text-indigo-100 mt-1",children:"ريال"})]}),i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0 ml-2",children:i.jsx(kd,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 text-white"})})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-teal-500 to-teal-600 text-white",children:i.jsx(ot,{className:"p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-teal-100 text-xs sm:text-sm font-medium mb-1",children:"إجمالي قيمة المخزون المتبقي"}),i.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold leading-tight break-words overflow-hidden",children:g.toLocaleString()}),i.jsx("p",{className:"text-xs text-teal-100 mt-1",children:"ريال"})]}),i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0 ml-2",children:i.jsx(MG,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 text-white"})})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:i.jsx(ot,{className:"p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-green-100 text-xs sm:text-sm font-medium mb-1",children:"إجمالي الأصناف المصروفة"}),i.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl font-bold leading-none break-words",children:J})]}),i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0 ml-2",children:i.jsx(Sd,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 text-white"})})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:i.jsx(ot,{className:"p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-purple-100 text-xs sm:text-sm font-medium mb-1",children:"عدد عمليات الصرف"}),i.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl font-bold leading-none break-words",children:z.length})]}),i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0 ml-2",children:i.jsx(za,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 text-white"})})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:i.jsx(ot,{className:"p-3 sm:p-4 md:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("p",{className:"text-orange-100 text-xs sm:text-sm font-medium mb-1",children:"متوسط قيمة الصرف"}),i.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold leading-tight break-words overflow-hidden",children:U.toFixed(0)}),i.jsx("p",{className:"text-xs text-orange-100 mt-1",children:"ريال"})]}),i.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0 ml-2",children:i.jsx(ii,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 lg:w-8 lg:h-8 text-white"})})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-sm sm:text-base",children:"اتجاه الصرف الشهري"})}),i.jsx(ot,{children:i.jsx("div",{className:"h-[200px] sm:h-[250px] md:h-[300px]",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(GEe,{data:D,children:[i.jsx(h3,{strokeDasharray:"3 3"}),i.jsx(gc,{dataKey:"name",fontSize:10}),i.jsx(xc,{fontSize:10}),i.jsx(ca,{formatter:q=>[`${q} ريال`,"القيمة"]}),i.jsx(jf,{dataKey:"value",fill:"hsl(var(--primary))"})]})})})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-sm sm:text-base",children:"توزيع الصرف حسب المنشأة"})}),i.jsxs(ot,{children:[i.jsx("div",{className:"h-[200px] sm:h-[250px] md:h-[300px]",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Ud,{children:[i.jsx(fi,{data:T,cx:"50%",cy:"50%",innerRadius:30,outerRadius:70,dataKey:"value",children:T.map((q,P)=>i.jsx(Ro,{fill:q.color||"#3b82f6"},`cell-${P}`))}),i.jsx(ca,{formatter:q=>[`${q}%`,"النسبة"]})]})})}),i.jsx("div",{className:"mt-4 space-y-2",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:T.map((q,P)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg border border-gray-100",children:[i.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full flex-shrink-0",style:{backgroundColor:q.color||"#3b82f6"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:q.name}),i.jsxs("div",{className:"text-xs font-bold text-primary",children:[q.value,"%"]})]})]},`legend-${P}`))})})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-sm sm:text-base",children:"مقارنة الاتجاهات - الصرف مقابل الطلبات"})}),i.jsx(ot,{children:i.jsx("div",{className:"h-[200px] sm:h-[250px] md:h-[300px]",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Hw,{data:I,children:[i.jsx(h3,{strokeDasharray:"3 3"}),i.jsx(gc,{dataKey:"month",fontSize:10}),i.jsx(xc,{fontSize:10}),i.jsx(ca,{}),i.jsx(mc,{type:"monotone",dataKey:"dispensing",stroke:"#1d4ed8",strokeWidth:3,name:"عمليات الصرف"}),i.jsx(mc,{type:"monotone",dataKey:"requests",stroke:"#dc2626",strokeWidth:3,name:"الطلبات"})]})})})})]}),i.jsxs(it,{className:"print:hidden",children:[i.jsx(Bt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx(zt,{className:"text-sm sm:text-base",children:"تفاصيل عمليات الصرف"}),i.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[i.jsxs(mt,{onClick:X,className:"flex-1 sm:flex-none bg-red-600 hover:bg-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",size:"sm",children:[i.jsx(Pr,{className:"w-4 h-4 ml-2"}),"تصدير PDF"]}),i.jsxs(mt,{onClick:le,className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",size:"sm",children:[i.jsx($i,{className:"w-4 h-4 ml-2"}),"تصدير Excel"]})]})]})}),i.jsx(ot,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse border border-gray-200 rounded-lg",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"رقم أمر الصرف"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"تاريخ الصرف"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"اسم المنشأة"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"اسم الصنف"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"رقم الصنف"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"الكمية"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"عدد الأصناف"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"القيمة الإجمالية"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"اسم المستلم"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"حالة الطلب"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"فئة الصنف"}),i.jsx("th",{className:"text-right text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2 font-semibold",children:"الإجراءات"})]})}),i.jsx("tbody",{children:u?i.jsx("tr",{children:i.jsx("td",{colSpan:12,className:"text-center p-4 border border-gray-200",children:"جاري تحميل البيانات..."})}):z.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:12,className:"text-center p-4 border border-gray-200",children:"لا توجد بيانات متاحة"})}):z.map(q=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"font-medium text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2",children:q.id}),i.jsx("td",{className:"text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2",children:q.date||new Date(q.created_at).toLocaleDateString("ar-SA")}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.facility}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.itemName||"غير محدد"}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.itemNumber||"غير محدد"}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.withdrawQty||"غير محدد"}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.items||q.items_count}),i.jsxs("td",{className:"text-xs sm:text-sm whitespace-nowrap border border-gray-200 p-2",children:[(q.totalValue||q.total_value||0).toLocaleString()," ريال"]}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.requested_by||q.requestedBy||"غير محدد"}),i.jsx("td",{className:"border border-gray-200 p-2",children:i.jsx(hs,{variant:q.status==="مكتمل"?"default":"secondary",className:"text-xs whitespace-nowrap",children:q.status})}),i.jsx("td",{className:"text-xs sm:text-sm border border-gray-200 p-2",children:q.category}),i.jsx("td",{className:"border border-gray-200 p-2",children:i.jsxs(mt,{onClick:()=>ue(q),variant:"outline",size:"sm",className:"text-xs",children:[i.jsx(un,{className:"w-3 h-3 ml-1"}),"طباعة"]})})]},q.id))})]})})})]})]})}var TA="Checkbox",[aPe,KPe]=Wp(TA),[iPe,sPe]=aPe(TA),fW=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=A.useState(null),g=nn(t,N=>p(N)),m=A.useRef(!1),v=h?u||!!h.closest("form"):!0,[x=!1,y]=dp({prop:a,defaultProp:s,onChange:d}),w=A.useRef(x);return A.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const j=()=>y(w.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[h,y]),i.jsxs(iPe,{scope:r,state:x,disabled:l,children:[i.jsx(wr.button,{type:"button",role:"checkbox","aria-checked":Ed(x)?"mixed":x,"aria-required":o,"data-state":mW(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:ir(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ir(e.onClick,N=>{y(j=>Ed(j)?!0:!j),v&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})}),v&&i.jsx(oPe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Ed(s)?!1:s})]})});fW.displayName=TA;var hW="CheckboxIndicator",pW=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=sPe(hW,r);return i.jsx(ff,{present:n||Ed(s.state)||s.state===!0,children:i.jsx(wr.span,{"data-state":mW(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pW.displayName=hW;var oPe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...s}=e,o=A.useRef(null),l=H_(r),c=I_(t);A.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});u.indeterminate=Ed(r),p.call(u,Ed(r)?!1:r),u.dispatchEvent(g)}},[l,r,n]);const d=A.useRef(Ed(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ed(e){return e==="indeterminate"}function mW(e){return Ed(e)?"indeterminate":e?"checked":"unchecked"}var gW=fW,lPe=pW;const i2=A.forwardRef(({className:e,...t},r)=>i.jsx(gW,{ref:r,className:Ht("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(lPe,{className:Ht("flex items-center justify-center text-current"),children:i.jsx(P7,{className:"h-4 w-4"})})}));i2.displayName=gW.displayName;function cPe(){const{toast:e}=jn(),[t,r]=A.useState([]),[n,a]=A.useState([]),[s,o]=A.useState(null),[l,c]=A.useState(!1),[d,u]=A.useState(null),[f,h]=A.useState(null),[p,g]=A.useState(!1),[m,v]=A.useState({orderNumber:`ORD-${Date.now()}`,orderDate:new Date().toISOString().split("T")[0],itemNumber:"",itemName:"",quantity:"",beneficiaryFacility:"",financialApprovalNumber:"",financialApprovalDate:"",totalCost:"",supplierCompany:"",supplierContact:"",supplierPhone:"",supplierEmail:"",orderStatus:"جديد",deliveryDate:"",handoverDate:"",notes:""}),x=j=>{var k;const C=(k=j.target.files)==null?void 0:k[0];if(C){if(C.size>5*1024*1024){e({title:"حجم الملف كبير جداً",description:"يرجى اختيار ملف أقل من 5 ميجابايت",variant:"destructive"});return}if(!C.type.startsWith("image/")&&C.type!=="application/pdf"){e({title:"نوع ملف غير صحيح",description:"يرجى اختيار ملف صورة (JPG, PNG, GIF) أو ملف PDF",variant:"destructive"});return}if(u(C),C.type==="application/pdf")h(C.name);else{const _=URL.createObjectURL(C);h(_)}}},y=()=>{u(null),h(null);const j=document.getElementById("authorizationImage");j&&(j.value="")},w=async j=>{j.preventDefault(),c(!0);try{const C={...m,authorizationImage:d},k=await ql.submitPurchaseOrder(C);if(k.success)e({title:"تم إنشاء الطلب بنجاح",description:"تم إرسال طلب الشراء بنجاح"}),v({orderNumber:`ORD-${Date.now()}`,orderDate:new Date().toISOString().split("T")[0],itemNumber:"",itemName:"",quantity:"",beneficiaryFacility:"",financialApprovalNumber:"",financialApprovalDate:"",totalCost:"",supplierCompany:"",supplierContact:"",supplierPhone:"",supplierEmail:"",orderStatus:"جديد",deliveryDate:"",handoverDate:"",notes:""}),o(null),u(null),h(null);else throw new Error(k.message||"فشل في إنشاء الطلب")}catch(C){console.error("Error submitting purchase order:",C),e({title:"خطأ في إرسال الطلب",description:"حدث خطأ أثناء إرسال طلب الشراء. يرجى المحاولة مرة أخرى.",variant:"destructive"})}finally{c(!1)}},N=(j,C)=>{v(k=>({...k,[j]:C}))};return A.useEffect(()=>{const j=async()=>{try{const k=await dd.getFacilities();k.success&&k.data&&r(k.data)}catch(k){console.error("Error loading facilities:",k),r([{id:1,name:"مستشفى الملك فهد"},{id:2,name:"مركز الأورام"},{id:3,name:"مركز القلب"},{id:4,name:"مركز الأطفال"},{id:5,name:"العيادات الخارجية"}])}},C=async()=>{try{const k=await UI.getItems();k.success&&k.data&&a(k.data)}catch(k){console.error("Error loading items:",k),a([{id:1,itemNumber:"ITM-001",itemName:"قفازات طبية",availableQty:500},{id:2,itemNumber:"ITM-002",itemName:"كمامات جراحية",availableQty:1e3},{id:3,itemNumber:"ITM-003",itemName:"محاقن طبية",availableQty:200},{id:4,itemNumber:"ITM-004",itemName:"شاش طبي",availableQty:300},{id:5,itemNumber:"ITM-005",itemName:"مطهر طبي",availableQty:150}])}};j(),C()},[]),i.jsxs("div",{className:"p-4 md:p-6 space-y-6",dir:"rtl",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(kd,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"إنشاء طلب شراء جديد"}),i.jsx("p",{className:"text-green-100 mt-1 text-right",children:"إدارة طلبات الشراء المباشر"})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Fo,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"orderNumber",children:"رقم الصنف بالنظام"}),i.jsx(et,{id:"orderNumber",value:m.orderNumber,onChange:j=>N("orderNumber",j.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"orderDate",children:"تاريخ الطلب"}),i.jsx(et,{id:"orderDate",type:"date",value:m.orderDate,onChange:j=>N("orderDate",j.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"itemNumber",children:"رقم الصنف"}),i.jsx(et,{id:"itemNumber",value:m.itemNumber,onChange:j=>N("itemNumber",j.target.value),className:"text-right"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(We,{htmlFor:"itemName",children:"اسم الصنف"}),i.jsx(et,{id:"itemName",value:m.itemName,onChange:j=>N("itemName",j.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"quantity",children:"الكمية"}),i.jsx(et,{id:"quantity",type:"number",value:m.quantity,onChange:j=>N("quantity",j.target.value),className:"text-right",placeholder:"أدخل الكمية",required:!0})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"معلومات الجهة المستفيدة والتعميد المالي"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"beneficiaryFacility",children:"الجهة المستفيدة أو المنشأة"}),i.jsxs(hr,{value:m.beneficiaryFacility,onValueChange:j=>N("beneficiaryFacility",j),children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الجهة المستفيدة"})}),i.jsx(lr,{children:t.map(j=>i.jsx(Pt,{value:j.name,children:j.name},j.id))})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"financialApprovalNumber",children:"رقم التعميد المالي"}),i.jsx(et,{id:"financialApprovalNumber",value:m.financialApprovalNumber,onChange:j=>N("financialApprovalNumber",j.target.value),className:"text-right",placeholder:"أدخل رقم التعميد المالي"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"financialApprovalDate",children:"تاريخ التعميد"}),i.jsx(et,{id:"financialApprovalDate",type:"date",value:m.financialApprovalDate,onChange:j=>N("financialApprovalDate",j.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"totalCost",children:"التكلفة الإجمالية"}),i.jsx(et,{id:"totalCost",type:"number",value:m.totalCost,onChange:j=>N("totalCost",j.target.value),className:"text-right",placeholder:"أدخل التكلفة بالريال"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(We,{htmlFor:"authorizationImage",children:"إضافة التعميد"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{id:"authorizationImage",type:"file",accept:"image/*,.pdf",onChange:x,className:"text-right"}),i.jsx(C_,{className:"h-5 w-5 text-gray-500"})]}),f&&i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"معاينة التعميد المرفوع"}),i.jsxs("div",{className:"flex gap-2",children:[(d==null?void 0:d.type.startsWith("image/"))&&i.jsxs(mt,{type:"button",variant:"outline",size:"sm",onClick:()=>g(!0),className:"flex items-center gap-1",children:[i.jsx(tn,{className:"h-4 w-4"}),"عرض"]}),i.jsxs(mt,{type:"button",variant:"destructive",size:"sm",onClick:y,className:"flex items-center gap-1",children:[i.jsx(_r,{className:"h-4 w-4"}),"حذف"]})]})]}),d!=null&&d.type.startsWith("image/")?i.jsx("img",{src:f,alt:"Authorization Preview",className:"max-w-full h-32 object-contain rounded border"}):i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(za,{className:"h-5 w-5"}),i.jsx("span",{children:f})]})]}),i.jsx("p",{className:"text-xs text-gray-500 text-right",children:"حجم الملف الأقصى: 5 ميجابايت - الصيغ المدعومة: JPG, PNG, GIF, PDF"})]})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(_d,{className:"h-5 w-5"}),"معلومات الشركة الموردة"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierCompany",children:"الشركة الموردة"}),i.jsx(et,{id:"supplierCompany",value:m.supplierCompany,onChange:j=>N("supplierCompany",j.target.value),className:"text-right",placeholder:"أدخل اسم الشركة الموردة"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierContact",children:"اسم المسؤول"}),i.jsx(et,{id:"supplierContact",value:m.supplierContact,onChange:j=>N("supplierContact",j.target.value),className:"text-right",placeholder:"أدخل اسم المسؤول بالشركة"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierPhone",children:"رقم التواصل"}),i.jsx(et,{id:"supplierPhone",value:m.supplierPhone,onChange:j=>N("supplierPhone",j.target.value),className:"text-right",placeholder:"05xxxxxxxx"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierEmail",children:"البريد الإلكتروني"}),i.jsx(et,{id:"supplierEmail",type:"email",value:m.supplierEmail,onChange:j=>N("supplierEmail",j.target.value),className:"text-right",placeholder:"supplier@company.com"})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(_2,{className:"h-5 w-5"}),"حالة الطلب والتواريخ"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"orderStatus",children:"حالة الطلب"}),i.jsxs("div",{className:"flex items-center gap-2 text-right",children:[i.jsx(i2,{checked:m.orderStatus==="جديد",disabled:!0,className:"ml-2"}),i.jsx("span",{children:"جديد"})]}),i.jsx("p",{className:"text-xs text-red-500 mt-1 text-right",children:"يمكنك لاحقاً تعديل حالة العقد"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"deliveryDate",children:"تاريخ التسليم المتوقع"}),i.jsx(et,{id:"deliveryDate",type:"date",value:m.deliveryDate,onChange:j=>N("deliveryDate",j.target.value),className:"text-right"})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"ملاحظات"})}),i.jsx(ot,{children:i.jsx(ox,{value:m.notes,onChange:j=>N("notes",j.target.value),className:"text-right",placeholder:"أدخل أي ملاحظات إضافية...",rows:4})})]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx(mt,{type:"button",variant:"outline",children:"إلغاء"}),i.jsx(mt,{type:"submit",className:"bg-green-600 hover:bg-green-700",disabled:l,onClick:w,children:l?"جارٍ الإرسال...":"إنشاء طلب الشراء"})]})]}),p&&f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsx("h3",{className:"text-lg font-semibold text-right",children:"معاينة التعميد المالي"}),i.jsx(mt,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:i.jsx(_r,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"p-4",children:i.jsx("img",{src:f,alt:"Authorization Document",className:"max-w-full h-auto rounded"})})]})})]})}const dPe=vx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),PA=A.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Ht(dPe({variant:t}),e),...r}));PA.displayName="Alert";const uPe=A.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Ht("mb-1 font-medium leading-none tracking-tight",e),...t}));uPe.displayName="AlertTitle";const OA=A.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ht("text-sm [&_p]:leading-relaxed",e),...t}));OA.displayName="AlertDescription";function fPe(){const{toast:e}=jn(),[t,r]=A.useState(!1),[n,a]=A.useState(!1),[s,o]=A.useState(!1),[l,c]=A.useState([]),[d,u]=A.useState([]),[f,h]=A.useState([]),[p,g]=A.useState([]),[m,v]=A.useState(""),[x,y]=A.useState(""),[w,N]=A.useState(""),[j,C]=A.useState(null),[k,_]=A.useState(!1),[L,z]=A.useState(!1),[D,T]=A.useState(!1),[I,B]=A.useState(!1),[J,U]=A.useState(null),[X,M]=A.useState(null),[Q,le]=A.useState({newStatus:"",statusNote:"",statusDate:""}),[ue,O]=A.useState({orderNumber:"",orderDate:"",itemNumber:"",itemName:"",quantity:"",beneficiaryFacility:"",financialApprovalNumber:"",financialApprovalDate:"",totalCost:"",supplierCompany:"",supplierContact:"",supplierPhone:"",supplierEmail:"",orderStatus:"",deliveryDate:"",handoverDate:"",notes:"",authorizationImage:null}),[V,Y]=A.useState(!1),[q,P]=A.useState(null),[R,G]=A.useState(null),[W,H]=A.useState(!1),me=[{value:"جديد",label:"جديد"},{value:"موافق عليه",label:"موافق عليه"},{value:"تم التعاقد",label:"تم التعاقد"},{value:"تم التسليم",label:"تم التسليم"},{value:"مرفوض",label:"مرفوض"}];A.useEffect(()=>{ae(),te(),ge()},[]),A.useEffect(()=>{let fe=l;m&&(fe=fe.filter(tt=>{var wt,dr,xt;return((wt=tt.item_name)==null?void 0:wt.toLowerCase().includes(m.toLowerCase()))||((dr=tt.order_number)==null?void 0:dr.toLowerCase().includes(m.toLowerCase()))||((xt=tt.supplier_name)==null?void 0:xt.toLowerCase().includes(m.toLowerCase()))})),x&&(fe=fe.filter(tt=>tt.status===x)),w&&(fe=fe.filter(tt=>tt.beneficiary_facility===w)),u(fe)},[l,m,x,w]);const ae=async()=>{try{r(!0);const fe=await ql.getOrders();fe.success&&c(fe.data)}catch(fe){e({title:"خطأ",description:fe.message||"فشل في جلب طلبات الشراء",variant:"destructive"})}finally{r(!1)}},be=(fe,tt="authorization.pdf")=>{const wt=document.createElement("a");wt.href=fe,wt.download=tt,document.body.appendChild(wt),wt.click(),document.body.removeChild(wt)},te=async()=>{try{const fe=await dd.getFacilities();fe.success&&h(fe.data)}catch{h(oM)}},ge=async()=>{try{const fe=await UI.getItems();fe.success&&g(fe.data)}catch(fe){console.error("Error loading items:",fe),g([{id:1,itemNumber:"ITM-001",itemName:"قفازات طبية",availableQty:500},{id:2,itemNumber:"ITM-002",itemName:"كمامات جراحية",availableQty:1e3},{id:3,itemNumber:"ITM-003",itemName:"محاقن طبية",availableQty:200},{id:4,itemNumber:"ITM-004",itemName:"شاش طبي",availableQty:300},{id:5,itemNumber:"ITM-005",itemName:"مطهر طبي",availableQty:150}])}},re=fe=>{C(fe),_(!0)},Oe=fe=>{U(fe),le({newStatus:fe.status,statusNote:"",statusDate:""}),z(!0)},Pe=fe=>{U(fe),O({orderNumber:fe.order_number||fe.id,orderDate:fe.order_date||"",itemNumber:fe.item_number||"",itemName:fe.item_name||"",quantity:fe.quantity||"",beneficiaryFacility:fe.beneficiary_facility||"",financialApprovalNumber:fe.financialApprovalNumber||"",financialApprovalDate:fe.financialApprovalDate||"",totalCost:fe.total_cost||"",supplierCompany:fe.supplier_name||"",supplierContact:fe.supplier_contact||"",supplierPhone:fe.supplier_phone||"",supplierEmail:fe.supplier_email||"",orderStatus:fe.status||"جديد",deliveryDate:fe.delivery_date||"",handoverDate:fe.handover_date||"",notes:fe.notes||"",authorizationImage:fe.image_url||null}),G(fe.image_url||null),T(!0)},ke=fe=>{M(fe),B(!0)},Le=async()=>{if(X)try{o(!0),(await ql.deleteOrder(X.id)).success&&(e({title:"تم الحذف",description:"تم حذف الطلب بنجاح"}),ae(),B(!1),M(null))}catch(fe){e({title:"خطأ في الحذف",description:fe.message||"فشل في حذف الطلب",variant:"destructive"})}finally{o(!1)}},Ge=fe=>{if(!fe){e({title:"لا توجد صورة",description:"لا توجد صورة متاحة لهذا الطلب.",variant:"destructive"});return}P(fe),Y(!0)},ut=fe=>{var wt;const tt=(wt=fe.target.files)==null?void 0:wt[0];if(tt){if(tt.size>5*1024*1024){e({title:"حجم الملف كبير جداً",description:"يرجى اختيار ملف أقل من 5 ميجابايت",variant:"destructive"});return}if(!tt.type.startsWith("image/")&&tt.type!=="application/pdf"){e({title:"نوع ملف غير صحيح",description:"يرجى اختيار ملف صورة (JPG, PNG, GIF) أو ملف PDF",variant:"destructive"});return}if(O(dr=>({...dr,authorizationImage:tt})),tt.type==="application/pdf")G(tt.name);else{const dr=URL.createObjectURL(tt);G(dr)}}},bt=()=>{O(tt=>({...tt,authorizationImage:null})),G(null);const fe=document.getElementById("authorizationImage");fe&&(fe.value="")},Ct=fe=>fe?typeof fe=="string"?A4(fe)==="image":fe.type.startsWith("image/"):!1,Dt=fe=>fe?typeof fe=="string"?A4(fe)==="pdf":fe.type==="application/pdf":!1,ce=(fe,tt)=>{O(wt=>({...wt,[fe]:tt}))},Je=async()=>{if(J)try{a(!0),(await ql.updateOrderFull(J.id,ue)).success&&(e({title:"تم التحديث",description:"تم تحديث الطلب بنجاح"}),ae(),T(!1),U(null))}catch(fe){e({title:"خطأ في التحديث",description:fe.message||"فشل في تحديث الطلب",variant:"destructive"})}finally{a(!1)}},ct=fe=>{const tt=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>طلب الشراء المباشر - ${fe.id}</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            direction: rtl;
            text-align: right;
          }
          
          .print-container {
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            background: white;
          }
          
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          
          .header h1 {
            color: #1e40af;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
          }
          
          .header p {
            color: #64748b;
            font-size: 16px;
          }
          
          .section {
            margin-bottom: 25px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
          }
          
          .section-header {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            padding: 15px 20px;
            border-bottom: 1px solid #d1d5db;
          }
          
          .section-header h2 {
            color: #374151;
            font-size: 18px;
            font-weight: bold;
            margin: 0;
          }
          
          .section-content {
            padding: 20px;
            background: white;
          }
          
          .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
          }
          
          .info-item {
            background: #f9fafb;
            padding: 12px 15px;
            border-radius: 6px;
            border-right: 4px solid #3b82f6;
          }
          
          .info-item label {
            display: block;
            font-weight: bold;
            color: #4b5563;
            font-size: 14px;
            margin-bottom: 5px;
          }
          
          .info-item span {
            color: #1f2937;
            font-size: 15px;
            font-weight: 500;
          }
          
          .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
          }
          
          .status-new { background: #dbeafe; color: #1e40af; }
          .status-approved { background: #dcfce7; color: #166534; }
          .status-contracted { background: #fef3c7; color: #92400e; }
          .status-delivered { background: #d1fae5; color: #065f46; }
          .status-rejected { background: #fee2e2; color: #991b1b; }
          
          .notes-section {
            background: #fffbeb;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            padding: 15px;
          }
          
          .notes-section h3 {
            color: #92400e;
            margin-bottom: 10px;
            font-size: 16px;
          }
          
          .notes-section p {
            color: #451a03;
            line-height: 1.6;
          }
          
          .timeline-item {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            border-right: 4px solid #6366f1;
          }
          
          .timeline-item h4 {
            color: #4338ca;
            font-size: 16px;
            margin-bottom: 10px;
          }
          
          .timeline-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
          }
          
          .timeline-field {
            background: white;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #e5e7eb;
          }
          
          .timeline-field label {
            display: block;
            font-weight: bold;
            color: #6b7280;
            font-size: 12px;
            margin-bottom: 3px;
          }
          
          .timeline-field span {
            color: #111827;
            font-weight: 500;
          }
          
          .footer {
            margin-top: 40px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #d1d5db;
            color: #6b7280;
            font-size: 12px;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; }
            .print-container { padding: 10mm; }
            .section { break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <div class="print-container">
          <div class="header">
            <h1>طلب الشراء المباشر</h1>
            <p>رقم الصنف: ${fe.order_number||fe.id}</p>
          </div>
          <div class="section">
            <div class="section-header">
              <h2>المعلومات الأساسية</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>رقم الصنف</label>
                  <span>${fe.order_number||fe.id}</span>
                </div>
                ${fe.itemNumber?`
                <div class="info-item">
                  <label>رقم الصنف بالنظام</label>
                  <span>${fe.itemNumber}</span>
                </div>
                `:""}
                <div class="info-item">
                  <label>تاريخ الطلب</label>
                  <span>${fe.order_date||"-"}</span>
                </div>
                <div class="info-item">
                  <label>اسم الصنف</label>
                  <span>${fe.item_name||"-"}</span>
                </div>
                <div class="info-item">
                  <label>الكمية</label>
                  <span>${fe.quantity||"-"}</span>
                </div>
                <div class="info-item">
                  <label>الجهة المستفيدة</label>
                  <span>${fe.beneficiary_facility||"-"}</span>
                </div>
                <div class="info-item">
                  <label>التكلفة الإجمالية</label>
                  <span>${fe.total_cost?`${Number(fe.total_cost).toLocaleString()} ريال`:"-"}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="section">
            <div class="section-header">
              <h2>المعلومات المالية</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>رقم التعميد المالي</label>
                  <span>${fe.financialApprovalNumber||"-"}</span>
                </div>
                <div class="info-item">
                  <label>تاريخ التعميد</label>
                  <span>${fe.financialApprovalDate||"-"}</span>
                </div>
              </div>
            </div>
          </div>
          ${fe.supplier_name?`
          <div class="section">
            <div class="section-header">
              <h2>معلومات المورد</h2>
            </div>
             <div class="section-content">
               <div class="info-grid">
                 <div class="info-item">
                   <label>اسم المورد</label>
                   <span>${fe.supplier_name}</span>
                 </div>
                  ${fe.supplier_contact?`
                  <div class="info-item">
                    <label>اسم المسؤول</label>
                    <span>${fe.supplier_contact}</span>
                  </div>
                  `:""}
                  ${fe.supplier_phone?`
                  <div class="info-item">
                    <label>رقم التواصل</label>
                    <span>${fe.supplier_phone}</span>
                  </div>
                  `:""}
                  ${fe.supplier_email?`
                  <div class="info-item">
                    <label>البريد الإلكتروني</label>
                    <span>${fe.supplier_email}</span>
                  </div>
                  `:""}
               </div>
             </div>
          </div>
          `:""}
          <div class="section">
            <div class="section-header">
              <h2>الحالة</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                  <label>حالة الطلب</label>
                  <span class="status-badge ${ft(fe.status)}">${fe.status||"-"}</span>
              </div>
            </div>
          </div>
          
          <div class="section">
            <div class="section-header">
              <h2>سجل حالات الطلب</h2>
            </div>
            <div class="section-content">
              ${fe.creation_date?`
              <div class="timeline-item">
                <h4>تاريخ الإنشاء</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${fe.creation_date}</span>
                  </div>
                  ${fe.creation_date_note?`
                  <div class="timeline-field">
                    <label>ملاحظة الإنشاء</label>
                    <span>${fe.creation_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}
              ${fe.contract_approval_date?`
              <div class="timeline-item">
                <h4>تاريخ الموافقة</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${fe.contract_approval_date}</span>
                  </div>
                  ${fe.contract_approval_date_note?`
                  <div class="timeline-field">
                    <label>ملاحظة الموافقة</label>
                    <span>${fe.contract_approval_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}
              ${fe.contract_date?`
              <div class="timeline-item">
                <h4>تاريخ التعاقد</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${fe.contract_date}</span>
                  </div>
                  ${fe.contract_date_note?`
                  <div class="timeline-field">
                    <label>ملاحظة التعاقد</label>
                    <span>${fe.contract_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}
              ${fe.contract_delivery_date?`
              <div class="timeline-item">
                <h4>تاريخ التسليم</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${fe.contract_delivery_date}</span>
                  </div>
                  ${fe.contract_delivery_date_note?`
                  <div class="timeline-field">
                    <label>ملاحظة التسليم</label>
                    <span>${fe.contract_delivery_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}
              ${fe.rejection_date?`
              <div class="timeline-item">
                <h4>تاريخ الرفض</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${fe.rejection_date}</span>
                  </div>
                  ${fe.rejection_date_note?`
                  <div class="timeline-field">
                    <label>ملاحظة الرفض</label>
                    <span>${fe.rejection_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}
            </div>
          </div>
          ${fe.notes?`
          <div class="section">
            <div class="section-header">
              <h2>الملاحظات</h2>
            </div>
            <div class="section-content">
              <div class="notes-section">
                <p>${fe.notes}</p>
              </div>
            </div>
          </div>
          `:""}
          <div class="footer">
            <p>تم طباعة هذا الطلب في: ${new Date().toLocaleDateString("ar-SA")} - ${new Date().toLocaleTimeString("ar-SA")}</p>
          </div>
        </div>
      </body>
      </html>
    `,wt=window.open("","_blank");wt&&(wt.document.write(tt),wt.document.close(),wt.onload=()=>{setTimeout(()=>{wt.print(),wt.close()},250)})},ft=fe=>{switch(fe){case"جديد":return"status-new";case"موافق عليه":return"status-approved";case"تم التعاقد":return"status-contracted";case"تم التسليم":return"status-delivered";case"مرفوض":return"status-rejected";default:return"status-new"}},gt=async()=>{if(!(!J||!Q.newStatus||!Q.statusDate))try{a(!0);const fe={...J,status:Q.newStatus,statusNote:Q.statusNote,statusDate:Q.statusDate};(await ql.updateOrder(J.id,fe)).success&&(e({title:"تم التحديث",description:"تم تحديث حالة الطلب بنجاح"}),ae(),z(!1),U(null),le({newStatus:"",statusNote:"",statusDate:""}))}catch(fe){console.error("Error updating order status:",fe),e({title:"خطأ في التحديث",description:fe.message||"فشل في تحديث حالة الطلب",variant:"destructive"})}finally{a(!1)}},he=fe=>{const tt=["جديد","موافق عليه","تم التعاقد","تم التسليم"],wt=tt.indexOf(fe),dr=[...tt.slice(wt),"مرفوض"];return[...new Set(dr)]},ze=fe=>{switch(fe){case"جديد":return"bg-blue-100 text-blue-800";case"موافق عليه":return"bg-green-100 text-green-800";case"تم التعاقد":return"bg-purple-100 text-purple-800";case"تم التسليم":return"bg-emerald-100 text-emerald-800";case"مرفوض":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};function Xe(fe){switch(fe){case"جديد":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"موافق عليه":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"تم التعاقد":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"تم التسليم":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";case"مرفوض":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}}return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"متابعة طلبات الشراء المباشر"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"تتبع ومراقبة حالة جميع طلبات الشراء المباشر"})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"متابعة مسار الطلبات"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vd,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"البحث في الطلبات...",value:m,onChange:fe=>v(fe.target.value),className:"w-full pl-10 pr-10 py-2 border border-input rounded-md text-right"})]}),i.jsxs("select",{value:x,onChange:fe=>y(fe.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الحالات"}),i.jsx("option",{value:"جديد",children:"جديد"}),i.jsx("option",{value:"موافق عليه",children:"موافق عليه"}),i.jsx("option",{value:"تم التعاقد",children:"تم التعاقد"}),i.jsx("option",{value:"تم التسليم",children:"تم التسليم"}),i.jsx("option",{value:"مرفوض",children:"مرفوض"})]}),i.jsxs("select",{value:w,onChange:fe=>N(fe.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الجهات"}),f.map(fe=>i.jsx("option",{value:fe.name,children:fe.name},fe.id))]}),i.jsxs("button",{onClick:()=>{v(""),y(""),N("")},className:"admin-btn-secondary flex items-center gap-2 px-4 py-2",children:[i.jsx(ml,{size:16}),"مسح الفلاتر"]})]}),t?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"جاري تحميل الطلبات..."})]}):d.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"لا توجد طلبات شراء"})}):i.jsxs("div",{children:[i.jsx("div",{className:"hidden lg:block overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm border-collapse bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[100px]",children:"رقم الصنف"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[120px]",children:"تاريخ الطلب"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[200px]",children:"اسم الصنف"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[180px]",children:"الجهة المستفيدة"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[80px]",children:"الكمية"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[140px]",children:"رقم التعميد"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[120px]",children:"تاريخ التعميد"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[100px]",children:"الحالة"}),i.jsx("th",{className:"p-4 text-right font-semibold text-gray-700 dark:text-gray-200 min-w-[120px]",children:"التكلفة"}),i.jsx("th",{className:"p-4 text-center font-semibold text-gray-700 dark:text-gray-200 min-w-[120px]",children:"صورة التعميد"}),i.jsx("th",{className:"p-4 text-center font-semibold text-gray-700 dark:text-gray-200 min-w-[280px]",children:"الإجراءات"})]})}),i.jsx("tbody",{children:d.map((fe,tt)=>i.jsxs("tr",{className:`border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${tt%2===0?"bg-white dark:bg-gray-800":"bg-gray-50/50 dark:bg-gray-800/50"}`,children:[i.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-gray-100",children:fe.order_number||fe.id}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300",children:fe.order_date}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 max-w-[200px] truncate",title:fe.item_name,children:fe.item_name}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 max-w-[180px] truncate",title:fe.beneficiary_facility,children:fe.beneficiary_facility}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300",children:fe.quantity}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300",children:fe.financialApprovalNumber||"-"}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300",children:fe.financialApprovalDate||"-"}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ze(fe.status)}`,children:fe.status})}),i.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 font-medium",children:fe.total_cost?`${Number(fe.total_cost).toLocaleString()} ريال`:"-"}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("button",{onClick:()=>{Dt(fe.image_url)?be(fe.image_url,`تعميد-${fe.order_number||fe.id}.pdf`):Ge(fe.image_url)},className:"bg-indigo-600 hover:bg-indigo-700 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors mx-auto",title:Dt(fe.image_url)?"تحميل ملف PDF":"عرض صورة التعميد",children:[i.jsx(tn,{size:14}),Dt(fe.image_url)?"تحميل PDF":"عرض الصورة"]})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[i.jsxs("button",{onClick:()=>re(fe),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",title:"عرض التفاصيل",children:[i.jsx(tn,{size:14}),"عرض"]}),i.jsxs("button",{onClick:()=>Oe(fe),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",title:"تعديل الحالة",children:[i.jsx(_a,{size:14}),"تعديل"]}),i.jsxs("button",{onClick:()=>Pe(fe),className:"bg-purple-500 hover:bg-purple-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",title:"التعديل الكامل",children:[i.jsx(Si,{size:14}),"تعديل كامل"]}),i.jsxs("button",{onClick:()=>ke(fe),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",title:"حذف الطلب",children:[i.jsx(Un,{size:14}),"حذف"]}),i.jsxs("button",{onClick:()=>ct(fe),className:"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",title:"طباعة الطلب",children:[i.jsx(un,{size:14}),"طباعة"]})]})})]},fe.id))})]})}),i.jsx("div",{className:"space-y-4 lg:hidden",children:d.map(fe=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between mb-2 items-center",children:[i.jsx("div",{className:"font-semibold text-lg",children:fe.item_name||"-"}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${ze(fe.status)}`,children:fe.status||"-"})]}),i.jsxs("div",{className:"space-y-2 text-right text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"رقم الصنف: "}),i.jsx("span",{children:fe.order_number||fe.id})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"تاريخ الطلب: "}),i.jsx("span",{children:fe.order_date||"-"})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الجهة المستفيدة: "}),i.jsx("span",{children:fe.beneficiary_facility||"-"})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"الكمية: "}),i.jsx("span",{children:fe.quantity||"-"})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"رقم التعميد المالي: "}),i.jsx("span",{children:fe.financialApprovalNumber||"-"})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"تاريخ التعميد: "}),i.jsx("span",{children:fe.financialApprovalDate||"-"})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"التكلفة: "}),i.jsx("span",{children:fe.total_cost?`${Number(fe.total_cost).toLocaleString()} ريال`:"-"})]}),fe.supplier_name&&i.jsxs("div",{children:[i.jsx("strong",{children:"اسم المورد: "}),i.jsx("span",{children:fe.supplier_name})]}),fe.supplier_contact&&i.jsxs("div",{children:[i.jsx("strong",{children:"بيانات التواصل: "}),i.jsx("span",{children:fe.supplier_contact})]}),i.jsxs("div",{className:"flex justify-start gap-2 mt-3 flex-wrap",children:[i.jsxs("button",{onClick:()=>re(fe),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",children:[i.jsx(tn,{size:14}),"عرض"]}),i.jsxs("button",{onClick:()=>Oe(fe),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",children:[i.jsx(_a,{size:14}),"تعديل"]}),i.jsxs("button",{onClick:()=>Pe(fe),className:"bg-purple-500 hover:bg-purple-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",children:[i.jsx(Si,{size:14}),"تعديل كامل"]}),i.jsxs("button",{onClick:()=>ke(fe),className:"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",children:[i.jsx(Un,{size:14}),"حذف"]}),i.jsxs("button",{onClick:()=>ct(fe),className:"bg-green-500 hover:bg-green-600 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",children:[i.jsx(un,{size:14}),"طباعة"]}),i.jsxs("button",{onClick:()=>{var tt;console.log("Debug - isPdfFile result:",Dt(fe.image_url)),console.log("Debug - image_url start:",(tt=fe.image_url)==null?void 0:tt.substring(0,30)),Dt(fe.image_url)?be(fe.image_url,`تعميد-${fe.order_number||fe.id}.pdf`):Ge(fe.image_url)},className:"bg-indigo-600 hover:bg-indigo-700 text-white text-xs px-3 py-2 rounded-lg flex items-center gap-1 transition-colors",children:[i.jsx(tn,{size:14}),Dt(fe.image_url)?"تحميل PDF":"صورة التعميد"]})]})]})]},fe.id))})]})]})]}),i.jsx(Na,{open:k,onOpenChange:_,children:i.jsxs(da,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-xl font-bold",children:"تفاصيل طلب الشراء المباشر"}),i.jsxs(Ni,{className:"text-right",children:["عرض تفاصيل الطلب رقم: ",(j==null?void 0:j.order_number)||(j==null?void 0:j.id)]})]}),j&&i.jsxs("div",{className:"space-y-6 p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg border-l-4 border-blue-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"رقم الصنف"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.order_number||j.id})]}),j.itemNumber&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"رقم الصنف بالنظام"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.itemNumber})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"تاريخ الطلب"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.order_date})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"اسم الصنف"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.item_name})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"الكمية"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.quantity})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"الجهة المستفيدة"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.beneficiary_facility})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"الحالة"}),i.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${Xe(j.status)}`,children:j.status})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border-l-4 border-green-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-green-700 dark:text-green-300 mb-2",children:"رقم التعميد المالي"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.financialApprovalNumber||"-"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-green-700 dark:text-green-300 mb-2",children:"تاريخ التعميد"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.financialApprovalDate||"-"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-green-700 dark:text-green-300 mb-2",children:"التكلفة الإجمالية"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.total_cost?`${Number(j.total_cost).toLocaleString()} ريال`:"-"})]})]}),(j.supplier_name||j.supplier_contact||j.supplier_phone||j.supplier_email)&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg border-l-4 border-purple-400",children:[j.supplier_name&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"اسم المورد"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.supplier_name})]}),j.supplier_contact&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"اسم المسؤول"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.supplier_contact})]}),j.supplier_phone&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"رقم التواصل"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.supplier_phone})]}),j.supplier_email&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"البريد الإلكتروني"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.supplier_email})]})]}),j.notes&&i.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg border-l-4 border-yellow-400",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"الملاحظات"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-3 rounded leading-relaxed",children:j.notes})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-bold text-right",children:"سجل حالات الطلب"}),j.creation_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg border-l-4 border-blue-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"تاريخ الإنشاء"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.creation_date})]}),j.creation_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"ملاحظة الإنشاء"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.creation_date_note})]})]}),j.contract_approval_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-teal-50 dark:bg-teal-900/30 rounded-lg border-l-4 border-teal-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-teal-700 dark:text-teal-300 mb-2",children:"تاريخ الموافقة"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.contract_approval_date})]}),j.contract_approval_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-teal-700 dark:text-teal-300 mb-2",children:"ملاحظة الموافقة"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.contract_approval_date_note})]})]}),j.contract_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg border-l-4 border-yellow-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"تاريخ التعاقد"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.contract_date})]}),j.contract_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"ملاحظة التعاقد"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.contract_date_note})]})]}),j.contract_delivery_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg border-l-4 border-emerald-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-2",children:"تاريخ التسليم"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.contract_delivery_date})]}),j.contract_delivery_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-2",children:"ملاحظة التسليم"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.contract_delivery_date_note})]})]}),j.rejection_date&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-red-50 dark:bg-red-900/30 rounded-lg border-l-4 border-red-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-red-700 dark:text-red-300 mb-2",children:"تاريخ الرفض"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.rejection_date})]}),j.rejection_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-red-700 dark:text-red-300 mb-2",children:"ملاحظة الرفض"}),i.jsx("p",{className:"font-medium bg-white dark:bg-gray-800 p-2 rounded",children:j.rejection_date_note})]})]})]})]})]})}),i.jsx(Na,{open:L,onOpenChange:z,children:i.jsxs(da,{className:"max-w-2xl",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-lg font-bold",children:"تعديل حالة الطلب"}),i.jsxs(Ni,{className:"text-right",children:["تعديل حالة الطلب رقم: ",(J==null?void 0:J.order_number)||(J==null?void 0:J.id)]})]}),J&&i.jsxs("div",{className:"space-y-6 p-4",children:[i.jsxs("div",{className:"text-right bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"الحالة الحالية"}),i.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${Xe(J.status)}`,children:J.status})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"الحالة الجديدة *"}),i.jsxs("select",{value:Q.newStatus,onChange:fe=>le(tt=>({...tt,newStatus:fe.target.value})),className:"w-full p-3 border-2 border-input rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",required:!0,children:[i.jsx("option",{value:"",children:"اختر الحالة الجديدة"}),he(J.status).map(fe=>i.jsx("option",{value:fe,children:fe},fe))]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"تاريخ التحديث *"}),i.jsx("input",{type:"date",value:Q.statusDate,onChange:fe=>le(tt=>({...tt,statusDate:fe.target.value})),className:"w-full p-3 border-2 border-input rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",required:!0})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"ملاحظة التحديث"}),i.jsx("textarea",{value:Q.statusNote,onChange:fe=>le(tt=>({...tt,statusNote:fe.target.value})),className:"w-full p-3 border-2 border-input rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:4,placeholder:"ملاحظة حول تغيير الحالة..."})]}),i.jsxs("div",{className:"flex justify-start gap-3 pt-4",children:[i.jsxs("button",{onClick:gt,disabled:n||!Q.newStatus||!Q.statusDate,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all disabled:opacity-50",children:[i.jsx(oi,{size:18}),n?"جاري الحفظ...":"حفظ التحديث"]}),i.jsx("button",{onClick:()=>z(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"إلغاء"})]})]})]})}),i.jsx(Na,{open:D,onOpenChange:T,children:i.jsxs(da,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-xl font-bold",children:"التعديل الكامل للطلب"}),i.jsxs(Ni,{className:"text-right",children:["تعديل جميع بيانات الطلب رقم: ",(J==null?void 0:J.order_number)||(J==null?void 0:J.id)]})]}),J&&i.jsxs("div",{className:"space-y-6 p-4",dir:"rtl",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Fo,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"orderNumber",children:"رقم الصنف بالنظام"}),i.jsx(et,{id:"orderNumber",value:ue.orderNumber,onChange:fe=>ce("orderNumber",fe.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"orderDate",children:"تاريخ الطلب"}),i.jsx(et,{id:"orderDate",type:"date",value:ue.orderDate,onChange:fe=>ce("orderDate",fe.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"itemNumber",children:"رقم الصنف"}),i.jsx(et,{id:"itemNumber",value:ue.itemNumber,onChange:fe=>ce("itemNumber",fe.target.value),className:"text-right"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(We,{htmlFor:"itemName",children:"اسم الصنف"}),i.jsx(et,{id:"itemName",value:ue.itemName,onChange:fe=>ce("itemName",fe.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"quantity",children:"الكمية"}),i.jsx(et,{id:"quantity",type:"number",value:ue.quantity,onChange:fe=>ce("quantity",fe.target.value),className:"text-right",placeholder:"أدخل الكمية"})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"معلومات الجهة المستفيدة والتعميد المالي"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"beneficiaryFacility",children:"الجهة المستفيدة أو المنشأة"}),i.jsxs(hr,{value:ue.beneficiaryFacility,onValueChange:fe=>ce("beneficiaryFacility",fe),children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الجهة المستفيدة"})}),i.jsx(lr,{children:f.map(fe=>i.jsx(Pt,{value:fe.name,children:fe.name},fe.id))})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"financialApprovalNumber",children:"رقم التعميد المالي"}),i.jsx(et,{id:"financialApprovalNumber",value:ue.financialApprovalNumber,onChange:fe=>ce("financialApprovalNumber",fe.target.value),className:"text-right",placeholder:"أدخل رقم التعميد المالي"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"financialApprovalDate",children:"تاريخ التعميد"}),i.jsx(et,{id:"financialApprovalDate",type:"date",value:ue.financialApprovalDate,onChange:fe=>ce("financialApprovalDate",fe.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"totalCost",children:"التكلفة الإجمالية"}),i.jsx(et,{id:"totalCost",type:"number",value:ue.totalCost,onChange:fe=>ce("totalCost",fe.target.value),className:"text-right",placeholder:"أدخل التكلفة بالريال"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(We,{htmlFor:"authorizationImage",children:"إضافة التعميد"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{id:"authorizationImage",type:"file",accept:"image/*,.pdf",onChange:ut,className:"text-right"}),i.jsx(C_,{className:"h-5 w-5 text-gray-500"})]}),R&&i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"معاينة التعميد المرفوع"}),i.jsxs("div",{className:"flex gap-2",children:[ue.authorizationImage&&Ct(ue.authorizationImage)&&i.jsxs(mt,{type:"button",variant:"outline",size:"sm",onClick:()=>H(!0),className:"flex items-center gap-1",children:[i.jsx(tn,{className:"h-4 w-4"}),"عرض"]}),i.jsxs(mt,{type:"button",variant:"destructive",size:"sm",onClick:bt,className:"flex items-center gap-1",children:[i.jsx(_r,{className:"h-4 w-4"}),"حذف"]})]})]}),ue.authorizationImage&&Ct(ue.authorizationImage)?i.jsx("img",{src:ue.authorizationImage instanceof File?URL.createObjectURL(ue.authorizationImage):ue.authorizationImage,alt:"Authorization Preview",className:"max-w-full h-32 object-contain rounded border"}):i.jsx("div",{className:"flex items-center gap-2 text-blue-600",children:i.jsxs("span",{children:["📄 ",typeof R=="string"&&!R.startsWith("data:")?R:"ملف PDF"]})})]}),i.jsx("p",{className:"text-xs text-gray-500 text-right",children:"حجم الملف الأقصى: 5 ميجابايت - الصيغ المدعومة: JPG, PNG, GIF, Pdf"})]})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(_d,{className:"h-5 w-5"}),"معلومات الشركة الموردة"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierCompany",children:"الشركة الموردة"}),i.jsx(et,{id:"supplierCompany",value:ue.supplierCompany,onChange:fe=>ce("supplierCompany",fe.target.value),className:"text-right",placeholder:"أدخل اسم الشركة الموردة"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierContact",children:"اسم المسؤول"}),i.jsx(et,{id:"supplierContact",value:ue.supplierContact,onChange:fe=>ce("supplierContact",fe.target.value),className:"text-right",placeholder:"أدخل اسم المسؤول بالشركة"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierPhone",children:"رقم التواصل"}),i.jsx(et,{id:"supplierPhone",value:ue.supplierPhone,onChange:fe=>ce("supplierPhone",fe.target.value),className:"text-right",placeholder:"05xxxxxxxx"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"supplierEmail",children:"البريد الإلكتروني"}),i.jsx(et,{id:"supplierEmail",type:"email",value:ue.supplierEmail,onChange:fe=>ce("supplierEmail",fe.target.value),className:"text-right",placeholder:"supplier@company.com"})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5"}),"الحالة والتواريخ"]})}),i.jsxs(ot,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"orderStatus",children:"حالة الطلب"}),i.jsxs(hr,{value:ue.orderStatus,onValueChange:fe=>ce("orderStatus",fe),children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر حالة الطلب"})}),i.jsx(lr,{children:me.map(fe=>i.jsx(Pt,{value:fe.value,children:fe.label},fe.value))})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"deliveryDate",children:"تاريخ التسليم المتوقع"}),i.jsx(et,{id:"deliveryDate",type:"date",value:ue.deliveryDate,onChange:fe=>ce("deliveryDate",fe.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"handoverDate",children:"تاريخ التسليم الفعلي"}),i.jsx(et,{id:"handoverDate",type:"date",value:ue.handoverDate,onChange:fe=>ce("handoverDate",fe.target.value),className:"text-right"})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"الملاحظات"})}),i.jsx(ot,{children:i.jsx(ox,{value:ue.notes,onChange:fe=>ce("notes",fe.target.value),className:"text-right",rows:4,placeholder:"أدخل أي ملاحظات إضافية..."})})]}),i.jsxs("div",{className:"flex justify-start gap-3 pt-4",children:[i.jsxs(mt,{onClick:Je,disabled:n,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white flex items-center gap-2 px-6 py-3",children:[i.jsx(oi,{size:18}),n?"جاري الحفظ...":"حفظ التحديث الكامل"]}),i.jsx(mt,{onClick:()=>T(!1),variant:"outline",className:"px-6 py-3",children:"إلغاء"})]})]})]})}),i.jsx(Na,{open:I,onOpenChange:B,children:i.jsxs(da,{className:"max-w-md",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-lg font-bold text-red-600",children:"تأكيد الحذف"}),i.jsx(Ni,{className:"text-right",children:"هل أنت متأكد من حذف هذا الطلب؟"})]}),X&&i.jsxs("div",{className:"space-y-4 p-4",children:[i.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 p-4 rounded-lg border border-red-200 dark:border-red-800",children:i.jsxs("div",{className:"text-right space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"رقم الطلب:"})," ",X.order_number||X.id]}),i.jsxs("p",{children:[i.jsx("strong",{children:"اسم الصنف:"})," ",X.item_name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"الجهة المستفيدة:"})," ",X.beneficiary_facility]})]})}),i.jsxs(PA,{children:[i.jsx(To,{className:"h-4 w-4"}),i.jsx(OA,{className:"text-right",children:"تحذير: هذا الإجراء لا يمكن التراجع عنه. سيتم حذف جميع البيانات المرتبطة بهذا الطلب نهائياً."})]}),i.jsxs("div",{className:"flex justify-start gap-3 pt-4",children:[i.jsxs(mt,{onClick:Le,disabled:s,variant:"destructive",className:"flex items-center gap-2 px-6 py-3",children:[i.jsx(Un,{size:18}),s?"جاري الحذف...":"تأكيد الحذف"]}),i.jsx(mt,{onClick:()=>B(!1),variant:"outline",className:"px-6 py-3",children:"إلغاء"})]})]})]})}),i.jsx(Na,{open:V,onOpenChange:Y,children:i.jsxs(da,{className:"max-w-3xl max-h-[80vh] overflow-y-auto p-4 flex flex-col items-center justify-center",children:[i.jsxs(ua,{children:[i.jsx(fa,{className:"text-right text-lg font-bold",children:"صورة التعميد"}),i.jsx(Ni,{className:"text-right",children:"عرض صورة التعميد الخاصة بالطلب"})]}),q?i.jsx("img",{src:q,alt:"صورة التعميد",className:"max-w-full max-h-[70vh] rounded-md shadow-md"}):i.jsx("p",{className:"text-center text-muted-foreground",children:"لا توجد صورة للعرض."})]})}),i.jsx(Na,{open:W,onOpenChange:H,children:i.jsxs(da,{className:"max-w-3xl max-h-[80vh] overflow-y-auto p-4 flex flex-col items-center justify-center",children:[i.jsx(ua,{children:i.jsx(fa,{className:"text-right text-lg font-bold",children:"معاينة صورة التعميد"})}),R?i.jsx("img",{src:R,alt:"معاينة التعميد",className:"max-w-full max-h-[70vh] rounded-md shadow-md"}):i.jsx("p",{className:"text-center text-muted-foreground",children:"لا توجد صورة للعرض."})]})})]})}const ED={جديد:"bg-blue-100 text-blue-800","موافق عليه":"bg-yellow-100 text-yellow-800","تم التعاقد":"bg-purple-100 text-purple-800","تم التسليم":"bg-green-100 text-green-800",مرفوض:"bg-red-100 text-red-800"};function hPe(){const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState(!0),[u,f]=A.useState("all"),[h,p]=A.useState(""),[g,m]=A.useState("all"),[v,x]=A.useState("all"),{toast:y}=jn();A.useEffect(()=>{w()},[]),A.useEffect(()=>{N()},[u,h,g,v,e]);const w=async()=>{try{d(!0);const[_,L,z]=await Promise.all([ql.getOrders(),dd.getFacilities(),WI.getSuppliers()]),D=Array.isArray(_)?_:_.data||[],T=Array.isArray(L)?L:L.data||[],I=Array.isArray(z)?z:z.data||[];t(D),n(D),s(T),l(I)}catch(_){console.error("Error fetching data:",_),y({title:"خطأ",description:"فشل في جلب البيانات. يرجى المحاولة مرة أخرى.",variant:"destructive"})}finally{d(!1)}},N=()=>{let _=e;u&&u!=="all"&&(_=_.filter(L=>L.status===u)),h&&(_=_.filter(L=>{var z,D;return((z=L.itemNumber)==null?void 0:z.includes(h))||((D=L.itemName)==null?void 0:D.includes(h))})),g&&g!=="all"&&(_=_.filter(L=>L.beneficiary===g)),v&&v!=="all"&&(_=_.filter(L=>L.supplier===v)),n(_)},j=()=>{const _=r.reduce((L,z)=>{const D=parseFloat(z.totalCost)||0;return L+D},0);return _%1===0?_.toString():_.toFixed(2).replace(/\.?0+$/,"")},C=()=>{try{const _=r.map(L=>{const z={"رقم الطلب":L.id,"رقم الصنف":L.itemNumber,"اسم الصنف":L.itemName,"الجهة المستفيدة":L.beneficiary,"الشركة الموردة":L.supplier,الحالة:L.status,التكلفة:L.totalCost,"تاريخ الطلب":L.orderDate};return L.quantity&&(z.الكمية=L.quantity),L.supplier_contact&&(z["اسم المسؤول"]=L.supplier_contact),L.supplier_phone&&(z["رقم التواصل"]=L.supplier_phone),L.supplier_email&&(z["البريد الإلكتروني"]=L.supplier_email),L.financialApprovalNumber&&(z["رقم التعميد"]=L.financialApprovalNumber),L.financialApprovalDate&&(z["تاريخ التعميد"]=L.financialApprovalDate),L.deliveryDate&&(z["تاريخ التسليم"]=L.deliveryDate),L.creation_date&&(z["تاريخ الإنشاء"]=L.creation_date),L.creation_date_note&&(z["ملاحظة الإنشاء"]=L.creation_date_note),L.contract_approval_date&&(z["تاريخ الموافقة"]=L.contract_approval_date),L.contract_approval_date_note&&(z["ملاحظة الموافقة"]=L.contract_approval_date_note),L.contract_date&&(z["تاريخ التعاقد"]=L.contract_date),L.contract_date_note&&(z["ملاحظة التعاقد"]=L.contract_date_note),L.contract_delivery_date&&(z["تاريخ التسليم الفعلي"]=L.contract_delivery_date),L.contract_delivery_date_note&&(z["ملاحظة التسليم"]=L.contract_delivery_date_note),L.rejection_date&&(z["تاريخ الرفض"]=L.rejection_date),L.rejection_date_note&&(z["ملاحظة الرفض"]=L.rejection_date_note),z});EA(_,"تقرير_الشراء_المباشر"),y({title:"نجح التصدير",description:"تم تصدير التقرير إلى Excel بنجاح"})}catch{y({title:"خطأ في التصدير",description:"فشل في تصدير التقرير إلى Excel",variant:"destructive"})}},k=()=>{try{const _={quantity:r.some(U=>U.quantity),supplier_contact:r.some(U=>U.supplier_contact),supplier_phone:r.some(U=>U.supplier_phone),supplier_email:r.some(U=>U.supplier_email),financialApprovalNumber:r.some(U=>U.financialApprovalNumber),financialApprovalDate:r.some(U=>U.financialApprovalDate),deliveryDate:r.some(U=>U.deliveryDate),creation_date:r.some(U=>U.creation_date),creation_date_note:r.some(U=>U.creation_date_note),contract_approval_date:r.some(U=>U.contract_approval_date),contract_approval_date_note:r.some(U=>U.contract_approval_date_note),contract_date:r.some(U=>U.contract_date),contract_date_note:r.some(U=>U.contract_date_note),contract_delivery_date:r.some(U=>U.contract_delivery_date),contract_delivery_date_note:r.some(U=>U.contract_delivery_date_note),rejection_date:r.some(U=>U.rejection_date),rejection_date_note:r.some(U=>U.rejection_date_note)},L=r.map(U=>({id:U.id||"",itemNumber:U.itemNumber||"",itemName:U.itemName||"",quantity:U.quantity||"",beneficiary:U.beneficiary||"",supplier:U.supplier||"",supplier_contact:U.supplier_contact||"",supplier_phone:U.supplier_phone||"",supplier_email:U.supplier_email||"",financialApprovalNumber:U.financialApprovalNumber||"",financialApprovalDate:U.financialApprovalDate||"",status:U.status||"",totalCost:U.totalCost||0,orderDate:U.orderDate||"",deliveryDate:U.deliveryDate||"",creation_date:U.creation_date||"",creation_date_note:U.creation_date_note||"",contract_approval_date:U.contract_approval_date||"",contract_approval_date_note:U.contract_approval_date_note||"",contract_date:U.contract_date||"",contract_date_note:U.contract_date_note||"",contract_delivery_date:U.contract_delivery_date||"",contract_delivery_date_note:U.contract_delivery_date_note||"",rejection_date:U.rejection_date||"",rejection_date_note:U.rejection_date_note||""})),z=["<th>رقم الطلب</th>","<th>رقم الصنف</th>","<th>اسم الصنف</th>",..._.quantity?["<th>الكمية</th>"]:[],"<th>الجهة المستفيدة</th>","<th>الشركة الموردة</th>",..._.supplier_contact?["<th>اسم المسؤول</th>"]:[],..._.supplier_phone?["<th>رقم التواصل</th>"]:[],..._.supplier_email?["<th>البريد الإلكتروني</th>"]:[],..._.financialApprovalNumber?["<th>رقم التعميد</th>"]:[],..._.financialApprovalDate?["<th>تاريخ التعميد</th>"]:[],"<th>الحالة</th>","<th>التكلفة</th>","<th>تاريخ الطلب</th>",..._.deliveryDate?["<th>تاريخ التسليم</th>"]:[],..._.creation_date?["<th>تاريخ الإنشاء</th>"]:[],..._.creation_date_note?["<th>ملاحظة الإنشاء</th>"]:[],..._.contract_approval_date?["<th>تاريخ الموافقة</th>"]:[],..._.contract_approval_date_note?["<th>ملاحظة الموافقة</th>"]:[],..._.contract_date?["<th>تاريخ التعاقد</th>"]:[],..._.contract_date_note?["<th>ملاحظة التعاقد</th>"]:[],..._.contract_delivery_date?["<th>تاريخ التسليم الفعلي</th>"]:[],..._.contract_delivery_date_note?["<th>ملاحظة التسليم</th>"]:[],..._.rejection_date?["<th>تاريخ الرفض</th>"]:[],..._.rejection_date_note?["<th>ملاحظة الرفض</th>"]:[]],D=L.map(U=>`<tr>${[`<td>${U.id}</td>`,`<td>${U.itemNumber}</td>`,`<td>${U.itemName}</td>`,..._.quantity?[`<td>${U.quantity}</td>`]:[],`<td>${U.beneficiary}</td>`,`<td>${U.supplier}</td>`,..._.supplier_contact?[`<td>${U.supplier_contact}</td>`]:[],..._.supplier_phone?[`<td>${U.supplier_phone}</td>`]:[],..._.supplier_email?[`<td>${U.supplier_email}</td>`]:[],..._.financialApprovalNumber?[`<td>${U.financialApprovalNumber}</td>`]:[],..._.financialApprovalDate?[`<td>${U.financialApprovalDate}</td>`]:[],`<td><span class="status-${U.status==="جديد"?"new":U.status==="موافق عليه"?"approved":U.status==="تم التعاقد"?"contracted":U.status==="تم التسليم"?"delivered":"rejected"}">${U.status}</span></td>`,`<td>${parseFloat(U.totalCost||0).toLocaleString()} ريال</td>`,`<td>${U.orderDate}</td>`,..._.deliveryDate?[`<td>${U.deliveryDate}</td>`]:[],..._.creation_date?[`<td>${U.creation_date}</td>`]:[],..._.creation_date_note?[`<td>${U.creation_date_note}</td>`]:[],..._.contract_approval_date?[`<td>${U.contract_approval_date}</td>`]:[],..._.contract_approval_date_note?[`<td>${U.contract_approval_date_note}</td>`]:[],..._.contract_date?[`<td>${U.contract_date}</td>`]:[],..._.contract_date_note?[`<td>${U.contract_date_note}</td>`]:[],..._.contract_delivery_date?[`<td>${U.contract_delivery_date}</td>`]:[],..._.contract_delivery_date_note?[`<td>${U.contract_delivery_date_note}</td>`]:[],..._.rejection_date?[`<td>${U.rejection_date}</td>`]:[],..._.rejection_date_note?[`<td>${U.rejection_date_note}</td>`]:[]].join("")}</tr>`),T=`
        <!DOCTYPE html>
        <html dir="rtl">
        <head>
          <meta charset="utf-8">
          <title>تقرير الشراء المباشر</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; direction: rtl; }
            .header { text-align: center; margin-bottom: 30px; }
            .title { font-size: 24px; font-weight: bold; color: #333; }
            .summary { margin: 20px 0; padding: 15px; background-color: #f5f5f5; border-radius: 5px; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
            th, td { border: 1px solid #ddd; padding: 6px; text-align: right; }
            th { background-color: #4f46e5; color: white; font-weight: bold; }
            tr:nth-child(even) { background-color: #f9f9f9; }
            .status-new { background-color: #dbeafe; color: #1e40af; padding: 4px 8px; border-radius: 4px; }
            .status-approved { background-color: #fef3c7; color: #d97706; padding: 4px 8px; border-radius: 4px; }
            .status-contracted { background-color: #e9d5ff; color: #7c3aed; padding: 4px 8px; border-radius: 4px; }
            .status-delivered { background-color: #dcfce7; color: #16a34a; padding: 4px 8px; border-radius: 4px; }
            .status-rejected { background-color: #fee2e2; color: #dc2626; padding: 4px 8px; border-radius: 4px; }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="title">تقرير الشراء المباشر</div>
            <p>تاريخ التقرير: ${new Date().toLocaleDateString("ar-SA")}</p>
          </div>
          
          <div class="summary">
            <p><strong>إجمالي الطلبات:</strong> ${r.length}</p>
            <p><strong>إجمالي التكلفة:</strong> ${j()} ريال</p>
          </div>

          <table>
            <thead>
              <tr>
                ${z.join("")}
              </tr>
            </thead>
            <tbody>
              ${D.join("")}
            </tbody>
          </table>
        </body>
        </html>
      `,I=new Blob([T],{type:"text/html;charset=utf-8"}),B=document.createElement("a");B.href=URL.createObjectURL(I),B.download=`تقرير_الشراء_المباشر_${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(B.href);const J=window.open("","_blank");J&&(J.document.write(T),J.document.close(),J.onload=()=>{setTimeout(()=>{J.print()},250)}),y({title:"نجح التصدير",description:"تم تصدير التقرير إلى PDF بنجاح"})}catch(_){console.error("PDF Export Error:",_),y({title:"خطأ في التصدير",description:"فشل في تصدير التقرير إلى PDF",variant:"destructive"})}};return c?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qt,{className:"mx-auto h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"جاري تحميل البيانات..."})]})}):i.jsxs("div",{className:"p-4 md:p-6 space-y-6",dir:"rtl",children:[i.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(za,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"تقارير الشراء المباشر"}),i.jsx("p",{className:"text-indigo-100 mt-1 text-right",children:"إنشاء وعرض تقارير مفصلة لطلبات الشراء"})]})]})}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(ml,{className:"h-5 w-5"}),"فلاتر التقرير"]})}),i.jsx(ot,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"حالة الطلب"}),i.jsxs(hr,{value:u,onValueChange:f,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الحالة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الحالات"}),i.jsx(Pt,{value:"جديد",children:"جديد"}),i.jsx(Pt,{value:"موافق عليه",children:"موافق عليه"}),i.jsx(Pt,{value:"تم التعاقد",children:"تم التعاقد"}),i.jsx(Pt,{value:"تم التسليم",children:"تم التسليم"}),i.jsx(Pt,{value:"مرفوض",children:"مرفوض"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"رقم أو اسم الصنف"}),i.jsx(et,{placeholder:"أدخل رقم أو اسم الصنف",value:h,onChange:_=>p(_.target.value),className:"text-right"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"المنشأة"}),i.jsxs(hr,{value:g,onValueChange:m,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع المنشآت"}),a.map(_=>i.jsx(Pt,{value:_.name,children:_.name},_.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"الشركة الموردة"}),i.jsxs(hr,{value:v,onValueChange:x,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الشركة الموردة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الشركات"}),o.map(_=>i.jsx(Pt,{value:_.name,children:_.name},_.id))]})]})]})]})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"تصدير التقرير"})}),i.jsx(ot,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[i.jsxs(mt,{onClick:C,className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto flex items-center justify-center",children:[i.jsx(Pr,{className:"w-4 h-4 ml-2"}),"تصدير إلى Excel"]}),i.jsxs(mt,{onClick:k,className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto flex items-center justify-center",children:[i.jsx(Pr,{className:"w-4 h-4 ml-2"}),"تصدير إلى PDF"]})]})})]}),r.length>0&&i.jsxs(it,{children:[i.jsxs(Bt,{children:[i.jsx(zt,{className:"text-right",children:"نتائج التقرير"}),i.jsxs("p",{className:"text-muted-foreground text-right",children:["إجمالي الطلبات: ",r.length," | إجمالي التكلفة: ",j()," ريال"]})]}),i.jsxs(ot,{children:[i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full text-right",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"p-2 text-right",children:"رقم الطلب"}),i.jsx("th",{className:"p-2 text-right",children:"رقم الصنف"}),i.jsx("th",{className:"p-2 text-right",children:"اسم الصنف"}),i.jsx("th",{className:"p-2 text-right",children:"الكمية"}),i.jsx("th",{className:"p-2 text-right",children:"الجهة المستفيدة"}),i.jsx("th",{className:"p-2 text-right",children:"الشركة الموردة"}),i.jsx("th",{className:"p-2 text-right",children:"رقم التعميد"}),i.jsx("th",{className:"p-2 text-right",children:"تاريخ التعميد"}),i.jsx("th",{className:"p-2 text-right",children:"الحالة"}),i.jsx("th",{className:"p-2 text-right",children:"التكلفة"}),i.jsx("th",{className:"p-2 text-right",children:"تاريخ الطلب"})]})}),i.jsx("tbody",{children:r.map(_=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"p-2 font-medium",children:_.id}),i.jsx("td",{className:"p-2",children:_.itemNumber}),i.jsx("td",{className:"p-2",children:_.itemName}),i.jsx("td",{className:"p-2",children:_.quantity||"غير محدد"}),i.jsx("td",{className:"p-2",children:_.beneficiary}),i.jsx("td",{className:"p-2",children:_.supplier}),i.jsx("td",{className:"p-2",children:_.financialApprovalNumber||"غير محدد"}),i.jsx("td",{className:"p-2",children:_.financialApprovalDate||"غير محدد"}),i.jsx("td",{className:"p-2",children:i.jsx(hs,{className:ED[_.status],children:_.status})}),i.jsxs("td",{className:"p-2",children:[_.totalCost.toLocaleString()," ريال"]}),i.jsx("td",{className:"p-2",children:_.orderDate})]},_.id))})]})}),i.jsx("div",{className:"md:hidden space-y-4",children:r.map(_=>i.jsx(it,{children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(hs,{className:ED[_.status],children:_.status}),i.jsx("span",{className:"font-bold",children:_.id})]}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"الصنف:"})," ",_.itemName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"الكمية:"})," ",_.quantity||"غير محدد"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"الجهة المستفيدة:"})," ",_.beneficiary]}),i.jsxs("p",{children:[i.jsx("strong",{children:"الشركة الموردة:"})," ",_.supplier]}),i.jsxs("p",{children:[i.jsx("strong",{children:"رقم التعميد:"})," ",_.financialApprovalNumber||"غير محدد"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"تاريخ التعميد:"})," ",_.financialApprovalDate||"غير محدد"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"التكلفة:"})," ",_.totalCost.toLocaleString()," ريال"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"تاريخ الطلب:"})," ",_.orderDate]})]})]})})},_.id))})]})]})]})}function pPe(){const[e,t]=A.useState({total:0,new:0,approved:0,contracted:0,delivered:0,rejected:0,totalValue:0,topSuppliers:[],monthlyData:[],statusData:[]}),[r,n]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[u,f]=A.useState(""),[h,p]=A.useState(""),[g,m]=A.useState(""),{toast:v}=jn(),x=A.useRef(null),y=A.useRef(null),w=A.useRef(null),N=A.useRef(null);A.useEffect(()=>{C()},[]),A.useEffect(()=>{j()},[u,h,g,r]);const j=()=>{let T=r;u&&(T=T.filter(B=>B.beneficiary===u)),h&&(T=T.filter(B=>{var J,U;return((J=B.itemNumber)==null?void 0:J.includes(h))||((U=B.itemName)==null?void 0:U.includes(h))})),g&&(T=T.filter(B=>B.supplier===g)),s(T);const I=k(T);t(I)},C=async()=>{try{const[T,I,B]=await Promise.all([ql.getOrders(),dd.getFacilities(),WI.getSuppliers()]),J=Array.isArray(T)?T:T.data||[],U=Array.isArray(I)?I:I.data||[],X=Array.isArray(B)?B:B.data||[];n(J),s(J),l(U),d(X);const M=k(J);t(M)}catch(T){console.error("Error fetching dashboard data:",T),v({title:"خطأ",description:"فشل في جلب بيانات لوحة التحكم. يرجى المحاولة مرة أخرى.",variant:"destructive"})}},k=T=>{const I={total:T.length,new:T.filter(M=>M.status==="جديد").length,approved:T.filter(M=>M.status==="موافق عليه").length,contracted:T.filter(M=>M.status==="تم التعاقد").length,delivered:T.filter(M=>M.status==="تم التسليم").length,rejected:T.filter(M=>M.status==="مرفوض").length,totalValue:T.filter(M=>M.status!=="مرفوض").reduce((M,Q)=>M+(parseFloat(Q.totalCost)||0),0)},B=T.reduce((M,Q)=>(Q.supplier&&(M[Q.supplier]||(M[Q.supplier]={name:Q.supplier,orders:0,value:0}),M[Q.supplier].orders+=1,M[Q.supplier].value+=Q.totalCost||0),M),{}),J=Object.values(B).sort((M,Q)=>Q.value-M.value).slice(0,4),U=_(T),X=[{name:"جديد",value:I.new,color:"#3b82f6"},{name:"موافق عليه",value:I.approved,color:"#f59e0b"},{name:"تم التعاقد",value:I.contracted,color:"#8b5cf6"},{name:"تم التسليم",value:I.delivered,color:"#10b981"},{name:"مرفوض",value:I.rejected,color:"#ef4444"}];return{...I,topSuppliers:J,monthlyData:U,statusData:X}},_=T=>{const I=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],B=[];return I.forEach((J,U)=>{const X=T.filter(M=>M.orderDate?new Date(M.orderDate).getMonth()===U:!1);B.push({month:J,orders:X.length,value:X.reduce((M,Q)=>M+(Q.totalCost||0),0)})}),B},L=()=>{f(""),p(""),m(""),s(r);const T=k(r);t(T)},z=()=>{try{const T=window.open("","_blank");if(!T){v({title:"خطأ",description:"يرجى السماح بالنوافذ المنبثقة لتصدير PDF",variant:"destructive"});return}const I=`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>تقرير لوحة تحكم الشراء المباشر</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              direction: rtl;
              padding: 20px;
              background: white;
            }
            .header {
              background: linear-gradient(to right, #16a34a, #15803d);
              color: white;
              padding: 30px;
              border-radius: 10px;
              margin-bottom: 30px;
              text-align: center;
            }
            .header h1 {
              font-size: 28px;
              margin-bottom: 10px;
            }
            .header p {
              font-size: 14px;
              opacity: 0.9;
            }
            .summary-cards {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 20px;
              margin-bottom: 30px;
            }
            .card {
              border: 2px solid #e5e7eb;
              border-radius: 10px;
              padding: 20px;
              background: white;
            }
            .card.blue { background: #eff6ff; border-color: #bfdbfe; }
            .card.purple { background: #f5f3ff; border-color: #ddd6fe; }
            .card.yellow { background: #fefce8; border-color: #fef08a; }
            .card.green { background: #f0fdf4; border-color: #bbf7d0; }
            .card.red { background: #fef2f2; border-color: #fecaca; }
            
            .card-header {
              font-size: 14px;
              font-weight: 600;
              margin-bottom: 10px;
            }
            .card-value {
              font-size: 32px;
              font-weight: bold;
            }
            .card-label {
              font-size: 12px;
              margin-top: 5px;
              opacity: 0.8;
            }
            
            .status-cards {
              display: grid;
              grid-template-columns: repeat(5, 1fr);
              gap: 15px;
              margin-bottom: 30px;
            }
            .status-card {
              border: 2px solid;
              border-radius: 8px;
              padding: 15px;
              text-align: center;
            }
            
            .section-title {
              font-size: 20px;
              font-weight: bold;
              margin: 30px 0 15px 0;
              padding-bottom: 10px;
              border-bottom: 3px solid #16a34a;
            }
            
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 30px;
              background: white;
            }
            table th {
              background: #16a34a;
              color: white;
              padding: 12px;
              text-align: right;
              font-weight: bold;
            }
            table td {
              padding: 10px 12px;
              border-bottom: 1px solid #e5e7eb;
              text-align: right;
            }
            table tr:nth-child(even) {
              background: #f9fafb;
            }
            
            .supplier-grid {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 15px;
              margin-bottom: 30px;
            }
            .supplier-item {
              background: #f9fafb;
              border-radius: 8px;
              padding: 15px;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            .supplier-info {
              text-align: right;
            }
            .supplier-name {
              font-weight: bold;
              font-size: 16px;
              margin-bottom: 5px;
            }
            .supplier-stats {
              font-size: 13px;
              color: #6b7280;
            }
            .supplier-rank {
              font-size: 24px;
              font-weight: bold;
              color: #16a34a;
            }
            
            .footer {
              text-align: center;
              margin-top: 50px;
              padding-top: 20px;
              border-top: 2px solid #e5e7eb;
              color: #6b7280;
              font-size: 12px;
            }
            
            @media print {
              body { padding: 10px; }
              .header { break-inside: avoid; }
              .card { break-inside: avoid; }
              table { break-inside: avoid; }
              .supplier-item { break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          <!-- Header -->
          <div class="header">
            <h1>تقرير لوحة تحكم الشراء المباشر</h1>
            <p>إدارة شاملة لطلبات الشراء المباشر</p>
          </div>

          <!-- Summary Cards -->
          <div class="summary-cards">
            <div class="card blue">
              <div class="card-header" style="color: #1e40af;">إجمالي الطلبات</div>
              <div class="card-value" style="color: #1e3a8a;">${e.total||0}</div>
            </div>
            <div class="card purple">
              <div class="card-header" style="color: #7c3aed;">القيمة الإجمالية</div>
              <div class="card-value" style="color: #6b21a8;">${(e.totalValue||0).toLocaleString()}</div>
              <div class="card-label" style="color: #7c3aed;">ريال سعودي</div>
            </div>
          </div>

          <!-- Status Cards -->
          <div class="status-cards">
            <div class="status-card blue" style="border-color: #bfdbfe; background: #eff6ff;">
              <div style="color: #1e40af; font-size: 14px; font-weight: 600; margin-bottom: 8px;">جديد</div>
              <div style="color: #1e3a8a; font-size: 24px; font-weight: bold;">${e.new||0}</div>
            </div>
            <div class="status-card yellow" style="border-color: #fef08a; background: #fefce8;">
              <div style="color: #ca8a04; font-size: 14px; font-weight: 600; margin-bottom: 8px;">موافق عليه</div>
              <div style="color: #a16207; font-size: 24px; font-weight: bold;">${e.approved||0}</div>
            </div>
            <div class="status-card purple" style="border-color: #ddd6fe; background: #f5f3ff;">
              <div style="color: #7c3aed; font-size: 14px; font-weight: 600; margin-bottom: 8px;">تم التعاقد</div>
              <div style="color: #6b21a8; font-size: 24px; font-weight: bold;">${e.contracted||0}</div>
            </div>
            <div class="status-card green" style="border-color: #bbf7d0; background: #f0fdf4;">
              <div style="color: #16a34a; font-size: 14px; font-weight: 600; margin-bottom: 8px;">تم التسليم</div>
              <div style="color: #15803d; font-size: 24px; font-weight: bold;">${e.delivered||0}</div>
            </div>
            <div class="status-card red" style="border-color: #fecaca; background: #fef2f2;">
              <div style="color: #dc2626; font-size: 14px; font-weight: 600; margin-bottom: 8px;">مرفوض</div>
              <div style="color: #b91c1c; font-size: 24px; font-weight: bold;">${e.rejected||0}</div>
            </div>
          </div>

          <!-- Status Distribution Table -->
          <h2 class="section-title">توزيع حالة الطلبات</h2>
          <table>
            <thead>
              <tr>
                <th>الحالة</th>
                <th>العدد</th>
                <th>النسبة المئوية</th>
              </tr>
            </thead>
            <tbody>
              ${(e.statusData||[]).map(B=>`
                <tr>
                  <td><strong>${B.name}</strong></td>
                  <td>${B.value}</td>
                  <td>${e.total>0?(B.value/e.total*100).toFixed(1):0}%</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Monthly Trends -->
          <h2 class="section-title">الاتجاه الشهري للطلبات</h2>
          <table>
            <thead>
              <tr>
                <th>الشهر</th>
                <th>عدد الطلبات</th>
                <th>القيمة (ريال)</th>
              </tr>
            </thead>
            <tbody>
              ${(e.monthlyData||[]).map(B=>`
                <tr>
                  <td><strong>${B.month}</strong></td>
                  <td>${B.orders}</td>
                  <td>${B.value.toLocaleString()}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Top Suppliers -->
          <h2 class="section-title">أفضل الشركات الموردة</h2>
          <div class="supplier-grid">
            ${(e.topSuppliers||[]).map((B,J)=>`
              <div class="supplier-item">
                <div class="supplier-info">
                  <div class="supplier-name">${B.name}</div>
                  <div class="supplier-stats">
                    <div>${B.orders} طلب</div>
                    <div>${B.value.toLocaleString()} ريال</div>
                  </div>
                </div>
                <div class="supplier-rank">#${J+1}</div>
              </div>
            `).join("")}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p>تم إنشاء التقرير بتاريخ: ${new Date().toLocaleDateString("ar-SA")} - ${new Date().toLocaleTimeString("ar-SA")}</p>
            <p>نظام إدارة الشراء المباشر</p>
          </div>
        </body>
        </html>
      `;T.document.write(I),T.document.close(),T.onload=()=>{setTimeout(()=>{T.print()},250)},v({title:"جاهز للطباعة",description:"تم فتح نافذة الطباعة. يمكنك الطباعة أو حفظها كـ PDF"})}catch(T){console.error("PDF Export Error:",T),v({title:"خطأ في التصدير",description:"فشل في تصدير التقرير",variant:"destructive"})}},D=()=>{try{const T=[{البيان:"إجمالي الطلبات",القيمة:e.total||0},{البيان:"القيمة الإجمالية (ريال)",القيمة:e.totalValue||0},{البيان:"طلبات جديدة",القيمة:e.new||0},{البيان:"طلبات موافق عليها",القيمة:e.approved||0},{البيان:"طلبات تم التعاقد",القيمة:e.contracted||0},{البيان:"طلبات تم التسليم",القيمة:e.delivered||0},{البيان:"طلبات مرفوضة",القيمة:e.rejected||0}],I=(e.topSuppliers||[]).map((ue,O)=>({الترتيب:`#${O+1}`,"اسم المورد":ue.name,"عدد الطلبات":ue.orders,"القيمة الإجمالية (ريال)":ue.value})),B=(e.monthlyData||[]).map(ue=>({الشهر:ue.month,"عدد الطلبات":ue.orders,"القيمة (ريال)":ue.value})),J=a.map(ue=>({"رقم الطلب":ue.id||"","رقم الصنف":ue.itemNumber||"","اسم الصنف":ue.itemName||ue.deviceType||"","الجهة المستفيدة":ue.beneficiary||"",المورد:ue.supplier||"",الحالة:ue.status||"","التكلفة الإجمالية":ue.totalCost||0,"تاريخ الطلب":ue.orderDate||""})),U=fr.book_new(),X=fr.json_to_sheet(T);fr.book_append_sheet(U,X,"الإحصائيات الإجمالية");const M=fr.json_to_sheet(I);fr.book_append_sheet(U,M,"أفضل الشركات");const Q=fr.json_to_sheet(B);fr.book_append_sheet(U,Q,"الاتجاه الشهري");const le=fr.json_to_sheet(J);fr.book_append_sheet(U,le,"تفاصيل الطلبات"),sl(U,"تقرير_الشراء_المباشر_شامل.xlsx"),v({title:"نجح التصدير",description:"تم تصدير التقرير الشامل إلى Excel بنجاح"})}catch(T){console.error("Excel Export Error:",T),v({title:"خطأ في التصدير",description:"فشل في تصدير البيانات إلى Excel",variant:"destructive"})}};return i.jsxs("div",{className:"p-4 md:p-6 space-y-6",dir:"rtl",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(kd,{className:"h-8 w-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"لوحة تحكم الشراء المباشر"}),i.jsx("p",{className:"text-green-100 mt-1 text-right",children:"إدارة شاملة لطلبات الشراء المباشر"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{onClick:z,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",size:"sm",children:[i.jsx(D7,{className:"ml-2 h-4 w-4"}),"تصدير PDF"]}),i.jsxs(mt,{onClick:D,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",size:"sm",children:[i.jsx($i,{className:"ml-2 h-4 w-4"}),"تصدير Excel"]})]})]})}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"فلاتر البحث"})}),i.jsx(ot,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(hr,{value:u,onValueChange:f,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر المنشأة"})}),i.jsx(lr,{children:o.map(T=>i.jsx(Pt,{value:T.name,children:T.name},T.id||T.name))})]}),i.jsx(et,{placeholder:"رقم أو اسم الصنف",value:h,onChange:T=>p(T.target.value)}),i.jsxs(hr,{value:g,onValueChange:m,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الشركة الموردة"})}),i.jsx(lr,{children:c.map((T,I)=>i.jsx(Pt,{value:T.name,children:T.name},I))})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(mt,{variant:"outline",onClick:L,children:"مسح الفلاتر"})})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",ref:x,children:[i.jsx(it,{className:"bg-blue-50 border-blue-200",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"إجمالي الطلبات"}),i.jsx("p",{className:"text-2xl font-bold text-blue-800",children:e.total||0})]}),i.jsx(kd,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(it,{className:"bg-purple-50 border-purple-200",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"القيمة الإجمالية"}),i.jsx("p",{className:"text-xl font-bold text-purple-800",children:(e.totalValue||0).toLocaleString()}),i.jsx("p",{className:"text-xs text-purple-600",children:"ريال سعودي"})]}),i.jsx(_2,{className:"h-8 w-8 text-purple-600"})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",ref:y,children:[i.jsx(it,{className:"bg-blue-50 border-blue-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ql,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"جديد"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:e.new||0})]})})}),i.jsx(it,{className:"bg-yellow-50 border-yellow-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(To,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"موافق عليه"}),i.jsx("p",{className:"text-xl font-bold text-yellow-800",children:e.approved||0})]})})}),i.jsx(it,{className:"bg-purple-50 border-purple-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ii,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"تم التعاقد"}),i.jsx("p",{className:"text-xl font-bold text-purple-800",children:e.contracted||0})]})})}),i.jsx(it,{className:"bg-green-50 border-green-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qs,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-green-600",children:"تم التسليم"}),i.jsx("p",{className:"text-xl font-bold text-green-800",children:e.delivered||0})]})})}),i.jsx(it,{className:"bg-red-50 border-red-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Yl,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-red-600",children:"مرفوض"}),i.jsx("p",{className:"text-xl font-bold text-red-800",children:e.rejected||0})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",ref:w,children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"توزيع حالة الطلبات"})}),i.jsxs(ot,{children:[i.jsx(Hi,{width:"100%",height:250,children:i.jsxs(Ud,{children:[i.jsx(fi,{data:e.statusData||[],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(e.statusData||[]).map((T,I)=>i.jsx(Ro,{fill:T.color},`cell-${I}`))}),i.jsx(ca,{formatter:(T,I)=>[`${T}`,I],labelFormatter:()=>""})]})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mt-3 sm:mt-4",children:(e.statusData||[]).map(T=>i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-accent/50 px-2 sm:px-3 py-1 sm:py-2 rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full",style:{backgroundColor:T.color}}),i.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[T.name," (",T.value,")"]})]},T.name))})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"اتجاه الطلبات الشهرية"})}),i.jsx(ot,{children:i.jsx("div",{className:"h-[300px] sm:h-[350px] w-full",children:i.jsx(Hi,{width:"100%",height:"100%",children:i.jsxs(Hw,{data:e.monthlyData||[],margin:{top:20,right:10,left:10,bottom:40},children:[i.jsx(gc,{dataKey:"month",fontSize:10,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),i.jsx(xc,{fontSize:10,tick:{fontSize:10},width:30}),i.jsx(ca,{}),i.jsx(mc,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2},name:"عدد الطلبات"})]})})})})]})]}),i.jsxs(it,{ref:N,children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"أفضل الشركات الموردة"})}),i.jsx(ot,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(e.topSuppliers||[]).map((T,I)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium",children:T.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:[T.orders," طلب"]}),i.jsxs("p",{children:[T.value.toLocaleString()," ريال"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ii,{className:"h-5 w-5 text-green-600"}),i.jsxs("span",{className:"font-bold text-green-600",children:["#",I+1]})]})]},I))})})]})]})]})}function mPe(){var Y,q;const[e,t]=A.useState({total:0,working:0,notWorking:0,underWarranty:0,outOfWarranty:0}),[r,n]=A.useState({total:0,working:0,notWorking:0,underWarranty:0,outOfWarranty:0}),[a,s]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[u,f]=A.useState([]),[h,p]=A.useState(!1),[g,m]=A.useState(!0),[v,x]=A.useState(!1),[y,w]=A.useState(""),[N,j]=A.useState(""),[C,k]=A.useState(""),[_,L]=A.useState(""),[z,D]=A.useState(""),T=[{value:"working",label:"الأجهزة التي تعمل"},{value:"not_working",label:"الأجهزة المكهنة"}],I=[{value:"under_warranty",label:"الأجهزة تحت الضمان"},{value:"out_of_warranty",label:"الأجهزة خارج الضمان"}],B=P=>({total:P.length,working:P.filter(G=>G.deviceStatus==="يعمل").length,notWorking:P.filter(G=>G.deviceStatus==="مكهن"||G.deviceStatus==="لا يعمل").length,underWarranty:P.filter(G=>G.warrantyActive==="yes").length,outOfWarranty:P.filter(G=>G.warrantyActive==="no").length}),J=P=>{const R={};return P.forEach(G=>{G.facilityName&&(R[G.facilityName]=(R[G.facilityName]||0)+1)}),Object.entries(R).map(([G,W])=>({name:G,count:Number(W),value:Number(W),fill:`hsl(${Math.random()*360}, 65%, 55%)`})).sort((G,W)=>Number(W.count)-Number(G.count))},U=async()=>{try{m(!0),w("");const P=await yh.getAssets();if(P.success&&P.data){l(P.data),d(P.data);const R=B(P.data);t(R),n(R);const G=[{name:"يعمل",value:R.working,color:"#10b981"},{name:"لا يعمل",value:R.notWorking,color:"#ef4444"},{name:"تحت الضمان",value:R.underWarranty,color:"#3b82f6"},{name:"خارج الضمان",value:R.outOfWarranty,color:"#f59e0b"}];s(G),f(J(P.data))}}catch(P){w(P.message||"فشل في تحميل بيانات الأجهزة"),console.error("Assets data loading error:",P)}finally{m(!1)}};A.useEffect(()=>{U()},[]),A.useEffect(()=>{let P=[...o];N&&N!=="all"&&(P=P.filter(W=>{var H;return(H=W.facilityName)==null?void 0:H.toLowerCase().includes(N.toLowerCase())})),C&&C!=="all"&&(P=P.filter(W=>{var H;return(H=W.supplierName)==null?void 0:H.toLowerCase().includes(C.toLowerCase())})),_&&_!=="all"&&(P=P.filter(W=>_==="working"?W.deviceStatus==="يعمل":_==="not_working"?W.deviceStatus==="مكهن"||W.deviceStatus==="لا يعمل":!0)),z&&z!=="all"&&(P=P.filter(W=>z==="under_warranty"?W.warrantyActive==="yes":z==="out_of_warranty"?W.warrantyActive==="no":!0)),d(P);const R=B(P);n(R);const G=[{name:"يعمل",value:R.working,color:"#10b981"},{name:"لا يعمل",value:R.notWorking,color:"#ef4444"},{name:"تحت الضمان",value:R.underWarranty,color:"#3b82f6"},{name:"خارج الضمان",value:R.outOfWarranty,color:"#f59e0b"}];s(G),f(J(P))},[N,C,_,z,o]);const X=()=>{j(""),k(""),L(""),D(""),n(e),d(o),f(J(o));const P=[{name:"يعمل",value:e.working,color:"#10b981"},{name:"لا يعمل",value:e.notWorking,color:"#ef4444"},{name:"تحت الضمان",value:e.underWarranty,color:"#3b82f6"},{name:"خارج الضمان",value:e.outOfWarranty,color:"#f59e0b"}];s(P)},M=async()=>{await U()},Q=async()=>{x(!0);try{const P=`
        <html dir="rtl">
          <head>
            <title>تقرير أجهزة طب الأسنان</title>
            <style>
              body { font-family: Arial, sans-serif; direction: rtl; text-align: right; padding: 20px; }
              .header { background: linear-gradient(135deg, #8b5cf6, #6366f1); color: white; padding: 20px; margin-bottom: 20px; border-radius: 8px; }
              .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
              .stat-card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9; }
              .stat-card h3 { font-size: 14px; color: #666; margin: 0 0 8px 0; }
              .stat-card p { font-size: 24px; font-weight: bold; color: #333; margin: 0; }
              .chart-section { margin: 30px 0; page-break-inside: avoid; }
              .chart-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; }
              .chart-bar { background: #f5f5f5; padding: 8px; margin: 5px 0; border-radius: 4px; display: flex; align-items: center; }
              .bar-label { flex: 0 0 150px; font-weight: 500; }
              .bar-container { flex: 1; background: #e0e0e0; height: 30px; border-radius: 4px; overflow: hidden; margin: 0 10px; position: relative; }
              .bar-fill { height: 100%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold; }
              .bar-value { flex: 0 0 80px; text-align: left; font-weight: bold; }
              @media print { 
                body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                .chart-section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>تقرير أجهزة طب الأسنان</h1>
              <p>تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card"><h3>إجمالي الأجهزة</h3><p>${r.total}</p></div>
              <div class="stat-card"><h3>الأجهزة التي تعمل</h3><p>${r.working}</p></div>
              <div class="stat-card"><h3>الأجهزة المكهنة</h3><p>${r.notWorking}</p></div>
              <div class="stat-card"><h3>تحت الضمان</h3><p>${r.underWarranty}</p></div>
              <div class="stat-card"><h3>خارج الضمان</h3><p>${r.outOfWarranty}</p></div>
            </div>

            <div class="chart-section">
              <div class="chart-title">توزيع حالة الأجهزة</div>
              ${a.map(G=>`
                <div class="chart-bar">
                  <div class="bar-label">${G.name}</div>
                  <div class="bar-container">
                    <div class="bar-fill" style="width: ${r.total>0?G.value/r.total*100:0}%; background-color: ${G.color};">
                      ${r.total>0?Math.round(G.value/r.total*100):0}%
                    </div>
                  </div>
                  <div class="bar-value">${G.value} جهاز</div>
                </div>
              `).join("")}
            </div>

            <div class="chart-section">
              <div class="chart-title">توزيع الأجهزة حسب المنشأة (أعلى ${Math.min(10,u.length)} منشآت)</div>
              ${u.slice(0,10).map(G=>`
                <div class="chart-bar">
                  <div class="bar-label">${G.name}</div>
                  <div class="bar-container">
                    <div class="bar-fill" style="width: ${r.total>0?G.count/r.total*100:0}%; background-color: ${G.fill};">
                      ${r.total>0?Math.round(G.count/r.total*100):0}%
                    </div>
                  </div>
                  <div class="bar-value">${G.count} جهاز</div>
                </div>
              `).join("")}
            </div>
          </body>
        </html>
      `,R=window.open("","_blank");R.document.write(P),R.document.close(),R.print()}catch(P){console.error("PDF export error:",P),alert("حدث خطأ في تصدير PDF")}finally{x(!1)}},le=async()=>{x(!0);try{const P=["تقرير أجهزة طب الأسنان",`تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")}`,"","الإحصائيات العامة","إجمالي الأجهزة,"+r.total,"الأجهزة التي تعمل,"+r.working,"الأجهزة المكهنة,"+r.notWorking,"تحت الضمان,"+r.underWarranty,"خارج الضمان,"+r.outOfWarranty,"","توزيع حالة الأجهزة","الحالة,العدد,النسبة المئوية"],R=a.map(be=>`"${be.name}",${be.value},${r.total>0?(be.value/r.total*100).toFixed(1):0}%`),G=["","توزيع الأجهزة حسب المنشأة","المنشأة,العدد,النسبة المئوية",...u.map(be=>`"${be.name}",${be.count},${r.total>0?(be.count/r.total*100).toFixed(1):0}%`)],W=[...P,...R,...G].join(`
`),H="\uFEFF",me=new Blob([H+W],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a");if(ae.download!==void 0){const be=URL.createObjectURL(me);ae.setAttribute("href",be),ae.setAttribute("download",`dental-assets-dashboard-${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}}catch(P){console.error("Excel export error:",P),alert("حدث خطأ في تصدير Excel")}finally{x(!1)}},ue=[...new Set(o.map(P=>P.facilityName).filter(P=>P&&P.trim()!==""))].sort(),O=[...new Set(o.map(P=>P.supplierName).filter(P=>P&&P.trim()!==""))].sort(),V=N||C||_||z;return g?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-purple-600"}),i.jsx("p",{className:"text-gray-600",children:"جاري تحميل بيانات أجهزة طب الأسنان..."})]})}):y?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx(it,{className:"max-w-md",children:i.jsxs(ot,{className:"p-6 text-center",children:[i.jsx(F7,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"خطأ في تحميل البيانات"}),i.jsx("p",{className:"text-gray-600 mb-4",children:y}),i.jsxs(mt,{onClick:M,className:"w-full",children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"إعادة المحاولة"]})]})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-3",children:[i.jsx(Hv,{className:"h-8 w-8"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-right",children:"لوحة تحكم أجهزة طب الأسنان"}),i.jsx("p",{className:"text-purple-100 mt-1 text-right",children:"إدارة شاملة لأجهزة ومعدات طب الأسنان"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(mt,{variant:"secondary",onClick:Q,disabled:v,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",title:"طباعة / تصدير PDF",children:v?i.jsx(Qt,{className:"h-4 w-4 animate-spin"}):i.jsx(un,{className:"h-4 w-4"})}),i.jsx(mt,{variant:"secondary",onClick:le,disabled:v,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",title:"تصدير Excel",children:v?i.jsx(Qt,{className:"h-4 w-4 animate-spin"}):i.jsx($i,{className:"h-4 w-4"})}),i.jsxs(mt,{variant:"secondary",onClick:M,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[i.jsx(Qt,{className:"h-4 w-4 mr-2"}),"تحديث البيانات"]})]})]})}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Pr,{className:"h-5 w-5"}),"فلاتر البحث والتصدير"]})}),i.jsxs(ot,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[i.jsxs(hr,{value:N,onValueChange:j,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع المنشآت"}),ue.map(P=>i.jsx(Pt,{value:P,children:P},P))]})]}),i.jsxs(hr,{value:C,onValueChange:k,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"اختر الشركة الموردة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الموردين"}),O.map(P=>i.jsx(Pt,{value:P,children:P},P))]})]}),i.jsxs(hr,{value:_,onValueChange:L,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"حالة التشغيل"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الأجهزة"}),T.map(P=>i.jsx(Pt,{value:P.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qs,{className:`w-4 h-4 ${P.value==="working"?"text-green-600":"text-red-600"}`}),P.label]})},P.value))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[i.jsxs(hr,{value:z,onValueChange:D,children:[i.jsx(or,{children:i.jsx(pr,{placeholder:"حالة الضمان"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الأجهزة"}),I.map(P=>i.jsx(Pt,{value:P.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[P.value==="under_warranty"?i.jsx(iN,{className:"w-4 h-4 text-green-600"}):i.jsx(sN,{className:"w-4 h-4 text-red-600"}),P.label]})},P.value))]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(mt,{variant:"outline",onClick:X,className:"flex-1",children:"مسح الفلاتر"})})]}),V&&i.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"text-sm text-blue-800 text-right flex-1",children:[i.jsxs("p",{className:"font-medium mb-2",children:["عرض ",c.length," من أصل ",o.length," جهاز"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[N&&i.jsxs("span",{children:["المنشأة: ",N]}),C&&i.jsxs("span",{children:["المورد: ",C]}),_&&i.jsxs("span",{children:["حالة التشغيل: ",(Y=T.find(P=>P.value===_))==null?void 0:Y.label]}),z&&i.jsxs("span",{children:["حالة الضمان: ",(q=I.find(P=>P.value===z))==null?void 0:q.label]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{size:"sm",variant:"outline",onClick:Q,disabled:v||c.length===0,className:"text-xs",children:[i.jsx(un,{className:"h-3 w-3 mr-1"}),"طباعة"]}),i.jsxs(mt,{size:"sm",variant:"outline",onClick:le,disabled:v||c.length===0,className:"text-xs",children:[i.jsx($i,{className:"h-3 w-3 mr-1"}),"Excel"]})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.jsx(it,{className:"bg-purple-50 border-purple-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Hv,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"إجمالي الأجهزة"}),i.jsx("p",{className:"text-xl font-bold text-purple-800",children:r.total})]})})}),i.jsx(it,{className:"bg-green-50 border-green-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qs,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-green-600",children:"تعمل"}),i.jsx("p",{className:"text-xl font-bold text-green-800",children:r.working})]})})}),i.jsx(it,{className:"bg-red-50 border-red-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Yl,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-red-600",children:"مكهنة"}),i.jsx("p",{className:"text-xl font-bold text-red-800",children:r.notWorking})]})})}),i.jsx(it,{className:"bg-blue-50 border-blue-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(iN,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"تحت الضمان"}),i.jsx("p",{className:"text-xl font-bold text-blue-800",children:r.underWarranty})]})})}),i.jsx(it,{className:"bg-orange-50 border-orange-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sN,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-orange-600",children:"خارج الضمان"}),i.jsx("p",{className:"text-xl font-bold text-orange-800",children:r.outOfWarranty})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(zt,{className:"text-right",children:"توزيع حالة الأجهزة"})}),i.jsx(ot,{children:a.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx(Hi,{width:"100%",height:250,children:i.jsxs(Ud,{children:[i.jsx(fi,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((P,R)=>i.jsx(Ro,{fill:P.color},`cell-${R}`))}),i.jsx(ca,{})]})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map((P,R)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:P.color}}),i.jsxs("span",{className:"text-gray-700",children:[P.name,": ",P.value," (",r.total>0?(P.value/r.total*100).toFixed(0):0,"%)"]})]},R))})]}):i.jsx("div",{className:"flex items-center justify-center h-[300px]",children:i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات لعرضها"})})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"توزيع الأجهزة حسب المنشآت"]})}),i.jsx(ot,{children:u.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:(h?u:u.slice(0,7)).map((P,R)=>i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:P.fill}}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:P.count})]}),i.jsx("div",{className:"text-right flex-1 min-w-0 mr-3",children:i.jsx("span",{className:"text-sm font-medium text-foreground block truncate",children:P.name})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-full bg-accent rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out group-hover:shadow-lg",style:{backgroundColor:P.fill,width:`${r.total>0?P.count/Math.max(...u.map(G=>G.count))*100:0}%`,background:`linear-gradient(90deg, ${P.fill}, ${P.fill}dd)`}})}),i.jsx("div",{className:"absolute left-2 top-0 h-full flex items-center",children:i.jsxs("span",{className:"text-xs font-medium text-gray-900 drop-shadow-sm",children:[r.total>0?Math.round(P.count/r.total*100):0,"%"]})})]})]},P.name))}),u.length>7&&i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx("button",{onClick:()=>p(!h),className:"text-sm px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center gap-2",children:h?i.jsx(i.Fragment,{children:i.jsx("span",{children:"عرض أقل"})}):i.jsx(i.Fragment,{children:i.jsxs("span",{children:["عرض المزيد (",u.length-7," أخرى)"]})})})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(No,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات منشآت لعرضها"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(ii,{className:"h-5 w-5"}),"أكثر الموردين نشاطاً"]})}),i.jsx(ot,{children:(()=>{const P={};c.forEach(G=>{G.supplierName&&(P[G.supplierName]=(P[G.supplierName]||0)+1)});const R=Object.entries(P).map(([G,W])=>({name:G,count:Number(W)})).sort((G,W)=>Number(W.count)-Number(G.count)).slice(0,5);return R.length>0?i.jsx("div",{className:"space-y-3",children:R.map((G,W)=>i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 bg-gray-50 rounded-lg gap-2",children:[i.jsxs("div",{className:"text-right flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm truncate",title:G.name,children:G.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:[String(G.count)," جهاز"]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(ii,{className:"h-4 w-4 text-purple-600"}),i.jsxs("span",{className:"font-bold text-purple-600 text-sm",children:["#",W+1]})]})]},G.name))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ii,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات موردين"})]})})()})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"أكثر المنشآت احتواءً للأجهزة"]})}),i.jsx(ot,{children:(()=>{const P={};c.forEach(G=>{G.facilityName&&(P[G.facilityName]=(P[G.facilityName]||0)+1)});const R=Object.entries(P).map(([G,W])=>({name:G,count:Number(W)})).sort((G,W)=>Number(W.count)-Number(G.count)).slice(0,5);return R.length>0?i.jsx("div",{className:"space-y-3",children:R.map((G,W)=>i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 bg-gray-50 rounded-lg gap-2",children:[i.jsxs("div",{className:"text-right flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm truncate",title:G.name,children:G.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:[String(G.count)," جهاز"]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(No,{className:"h-4 w-4 text-purple-600"}),i.jsxs("span",{className:"font-bold text-purple-600 text-sm",children:["#",W+1]})]})]},G.name))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(No,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"لا توجد بيانات منشآت"})]})})()})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"text-right flex items-center gap-2",children:[i.jsx(Hv,{className:"h-5 w-5"}),"ملخص حالة الأجهزة المفلترة"]})}),i.jsx(ot,{children:c.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"block md:hidden space-y-3",children:[i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:"الأجهزة العاملة"}),i.jsx("p",{className:"text-xs text-green-600",children:"حالة جيدة وجاهزة للاستخدام"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qs,{className:"h-8 w-8 text-green-600"}),i.jsx("span",{className:"text-2xl font-bold text-green-800",children:r.working})]})]})}),i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"الأجهزة المكهنة"}),i.jsx("p",{className:"text-xs text-red-600",children:"تحتاج إلى إصلاح أو صيانة"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yl,{className:"h-8 w-8 text-red-600"}),i.jsx("span",{className:"text-2xl font-bold text-red-800",children:r.notWorking})]})]})})]}),i.jsx("div",{className:"hidden md:block",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-right",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"p-3 font-medium text-gray-700",children:"الحالة"}),i.jsx("th",{className:"p-3 font-medium text-gray-700",children:"العدد"}),i.jsx("th",{className:"p-3 font-medium text-gray-700",children:"النسبة"}),i.jsx("th",{className:"p-3 font-medium text-gray-700",children:"الوصف"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-gray-100",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx("span",{children:"الأجهزة العاملة"}),i.jsx(qs,{className:"h-4 w-4 text-green-600"})]})}),i.jsx("td",{className:"p-3 font-bold text-green-800",children:r.working}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:[r.total>0?(r.working/r.total*100).toFixed(1):0,"%"]})}),i.jsx("td",{className:"p-3 text-gray-600 text-xs",children:"حالة جيدة وجاهزة للاستخدام"})]}),i.jsxs("tr",{className:"border-b border-gray-100",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx("span",{children:"الأجهزة المكهنة"}),i.jsx(Yl,{className:"h-4 w-4 text-red-600"})]})}),i.jsx("td",{className:"p-3 font-bold text-red-800",children:r.notWorking}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs",children:[r.total>0?(r.notWorking/r.total*100).toFixed(1):0,"%"]})}),i.jsx("td",{className:"p-3 text-gray-600 text-xs",children:"تحتاج إلى إصلاح أو صيانة"})]}),i.jsxs("tr",{className:"border-b border-gray-100",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx("span",{children:"تحت الضمان"}),i.jsx(iN,{className:"h-4 w-4 text-blue-600"})]})}),i.jsx("td",{className:"p-3 font-bold text-blue-800",children:r.underWarranty}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:[r.total>0?(r.underWarranty/r.total*100).toFixed(1):0,"%"]})}),i.jsx("td",{className:"p-3 text-gray-600 text-xs",children:"مغطاة بالضمان من المورد"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[i.jsx("span",{children:"خارج الضمان"}),i.jsx(sN,{className:"h-4 w-4 text-orange-600"})]})}),i.jsx("td",{className:"p-3 font-bold text-orange-800",children:r.outOfWarranty}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs",children:[r.total>0?(r.outOfWarranty/r.total*100).toFixed(1):0,"%"]})}),i.jsx("td",{className:"p-3 text-gray-600 text-xs",children:"انتهت فترة الضمان"})]})]})]})})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Hv,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"لا توجد أجهزة لعرضها"})]})})]})]})}function gPe(){const[e,t]=A.useState({transactionNumber:"",receiveDate:"",subject:"",type:"",senderEntity:"",transferredTo:"",status:"مفتوح تحت الاجراء",notes:"",imagebase64:null,pdfbase64:null}),[r,n]=A.useState([]),[a,s]=A.useState(!1),[o,l]=A.useState(!0),[c,d]=A.useState(null),[u,f]=A.useState([]),[h,p]=A.useState(!1),{toast:g}=jn(),m=["خطاب","ايميل","معاملة الكترونية","استفسار","شكوى","طلب","اخرى"];A.useEffect(()=>{(async()=>{try{const k=await Ra.getFacilities().catch(_=>({success:!1,data:[],message:_.message}));k.success&&k.data&&n(k.data)}catch(k){console.error("Error fetching facilities:",k),n([])}finally{l(!1)}})()},[]),A.useEffect(()=>{c&&v()},[c]);const v=async()=>{if(c)try{p(!0);const C=await zl.getTransactionHistory(c);C.success&&C.data?f(C.data):f([])}catch(C){console.error("Error fetching transfer history:",C),f([])}finally{p(!1)}},x=A.useMemo(()=>{const C=e.imagebase64;return C?typeof C=="string"?C:C instanceof File?URL.createObjectURL(C):null:null},[e.imagebase64]),y=A.useMemo(()=>{const C=e.pdfbase64;return C?typeof C=="string"?C:C instanceof File?URL.createObjectURL(C):null:null},[e.pdfbase64]);A.useEffect(()=>()=>{x&&URL.revokeObjectURL(x),y&&URL.revokeObjectURL(y)},[x,y]);const w=C=>{var _;const k=(_=C.target.files)==null?void 0:_[0];k&&t(L=>({...L,imagebase64:k}))},N=C=>{var _;const k=(_=C.target.files)==null?void 0:_[0];k&&t(L=>({...L,pdfbase64:k}))},j=async C=>{var k;C.preventDefault();try{s(!0);const _={...e,imagebase64:e.imagebase64,pdfbase64:e.pdfbase64},L=await zl.createTransaction(_);if(L.success)d(((k=L.data)==null?void 0:k.id)||"1"),g({title:"تم إنشاء المعاملة بنجاح",description:"تم حفظ المعاملة الجديدة في النظام"}),t({transactionNumber:"",receiveDate:"",subject:"",type:"",senderEntity:"",transferredTo:"",status:"مفتوح تحت الاجراء",notes:"",imagebase64:null,pdfbase64:null});else throw new Error(L.message||"فشل في إنشاء المعاملة")}catch(_){g({title:"خطأ",description:_.message||"فشل في حفظ المعاملة",variant:"destructive"})}finally{s(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"إنشاء معاملة جديدة"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"إضافة معاملة إدارية جديدة للمتابعة"})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"بيانات المعاملة"})}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"رقم المعاملة *"}),i.jsx("input",{type:"text",value:e.transactionNumber,onChange:C=>t(k=>({...k,transactionNumber:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"رقم المعاملة",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"تاريخ الاستلام *"}),i.jsx("input",{type:"date",value:e.receiveDate,onChange:C=>t(k=>({...k,receiveDate:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"موضوع المعاملة *"}),i.jsx("input",{type:"text",value:e.subject,onChange:C=>t(k=>({...k,subject:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"موضوع المعاملة",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"نوع المعاملة *"}),i.jsxs("select",{value:e.type,onChange:C=>t(k=>({...k,type:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",required:!0,children:[i.jsx("option",{value:"",children:"اختر نوع المعاملة"}),m.map(C=>i.jsx("option",{value:C,children:C},C))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المرسلة *"}),i.jsx("input",{type:"text",value:e.senderEntity,onChange:C=>t(k=>({...k,senderEntity:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"أدخل الجهة المرسلة",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"الجهة المحول لها *"}),i.jsx("input",{type:"text",value:e.transferredTo,onChange:C=>t(k=>({...k,transferredTo:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",placeholder:"أدخل الجهة المحول لها",required:!0})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"حالة المعاملة"}),i.jsxs("div",{className:"flex items-center gap-3 text-right",children:[i.jsx("input",{type:"checkbox",id:"status-checkbox",checked:!0,disabled:!0,className:"w-4 h-4 accent-blue-600 disabled:opacity-50"}),i.jsx("label",{htmlFor:"status-checkbox",className:"text-sm font-medium",children:"مفتوح تحت الاجراء"})]}),i.jsx("p",{className:"text-red-500 text-sm mt-1 text-right",children:"يمكنك تعديل حالة المعاملة لاحقاً"})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"ملاحظات"}),i.jsx("textarea",{value:e.notes,onChange:C=>t(k=>({...k,notes:C.target.value})),className:"w-full p-3 border border-input rounded-md text-right",rows:4,placeholder:"ملاحظات إضافية حول المعاملة..."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"صورة مرفقة"}),i.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"w-full p-3 border border-input rounded-md text-right"}),x&&i.jsx("div",{className:"mt-2 text-right",children:i.jsx("img",{src:x,alt:"Image Preview",className:"max-w-[150px] max-h-[150px] object-contain border rounded-md"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-right",children:"ملف PDF مرفق"}),i.jsx("input",{type:"file",accept:"application/pdf",onChange:N,className:"w-full p-3 border border-input rounded-md text-right"}),e.pdfbase64&&i.jsx("div",{className:"mt-2 text-right",children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"text-sm",children:"ملف PDF جاهز للإرفاق"})]})})]})]}),i.jsx("div",{className:"flex justify-start",children:i.jsxs("button",{type:"submit",disabled:a,className:"admin-btn-success flex items-center gap-2 px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[a?i.jsx(Qt,{size:20,className:"animate-spin"}):i.jsx(oi,{size:20}),a?"جاري الحفظ...":"حفظ المعاملة"]})})]})})]})]})}function xPe(){const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,s]=A.useState(!0),[o,l]=A.useState(""),[c,d]=A.useState(""),[u,f]=A.useState(""),[h,p]=A.useState(""),[g,m]=A.useState(!1),[v,x]=A.useState(!1),[y,w]=A.useState(!1),[N,j]=A.useState(!1),[C,k]=A.useState(!1),[_,L]=A.useState(null),[z,D]=A.useState({}),[T,I]=A.useState({newStatus:"",statusNote:"",statusDate:""}),[B,J]=A.useState({transaction_id:"",date:"",from:"",to:"",notes:"",transferredBy:"",imagebase64:null,pdfbase64:null}),[U,X]=A.useState(""),[M,Q]=A.useState(""),[le,ue]=A.useState(!1),{toast:O}=jn(),V=["خطاب","ايميل","معاملة الكترونية","استفسار","شكوى","طلب","اخرى"],Y=["مفتوح تحت الاجراء","منجز","مرفوض"],q=["ادارة تشغيل خدمات الاسنان","ادارة خدمات الاسنان","إدارة صحة المجتمع","إدارة مراكز الرعاية الأولية","إدارة الرعاية الاكلينيكية","إدارة التموين وسلاسل الامداد","إدارة الشئون الهندسية","إدارة الممتلكات","إدارة تكنولوجيا الرعاية الصحية","إدارة تقنية المعلومات","إدارة الامن والسلامة","إدارة التواصل المؤسسي","إدارة المالية","إدارة الموارد البشرية","إدارة الشئون القانونية","الصيانة العامة بالتجمع","الصيانة الطبية بالتجمع","إدارة المسح الاشعاعي","إدارة مكافحة العدوى","إدارة خدمات الاسنان","إدارة الجودة بالتجمع","الاسنان - اشراف المراكز الصحية","الاسنان - اشراف خارج الرياض","الاسنان - اشراف مراكز الشرق","الاسنان - اشراف مراكز الشمال","الاسنان - مكافحة العدوى","الاسنان - الاشعة","الاسنان - التثقيف الصحي","الاسنان - التواصل المؤسسي","الاسنان - الجودة","الاسنان - مجمع شرق","الاسنان - مجمع شمال","الاسنان - المركز التخصصي","الاسنان - مستشفى اليمامة","الاسنان - مستشفى الأمير محمد","الاسنان - مدينة الملك فهد","قطاع رماح","قطاع حوطة سدير","قطاع الارطاوية","قطاع تمير","قطاع الغاط","قطاع المجمعة","قطاع الزلفي","مراسلة خارج التجمع","أخرى"],P=[{value:"مفتوح تحت الاجراء",label:"مفتوح تحت الاجراء"},{value:"منجز",label:"منجز"},{value:"مرفوض",label:"مرفوض"}],R=(he,ze)=>{if(!he||ze==="منجز"||ze==="مرفوض")return null;const Xe=new Date(he),tt=Math.abs(new Date().getTime()-Xe.getTime()),wt=Math.ceil(tt/(1e3*60*60*24));return wt>21?wt-21:0},G=({transaction:he})=>{const ze=R(he.creation_date||he.receiveDate,he.status);return ze===null||ze<=0?null:i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 animate-pulse shadow-lg",children:[i.jsx(Ql,{size:12}),i.jsxs("span",{children:[ze," يوم متأخر"]})]})})};A.useEffect(()=>{W()},[]);const W=async()=>{try{s(!0);const[he,ze]=await Promise.all([zl.getTransactions().catch(Xe=>({success:!1,data:[],message:Xe.message})),Ra.getFacilities().catch(Xe=>({success:!1,data:[],message:Xe.message}))]);he.success&&he.data?t(he.data):(t([]),O({title:"تعذر تحميل المعاملات",description:he.message||"فشل في تحميل بيانات المعاملات",variant:"destructive"})),ze.success&&ze.data&&n(ze.data)}catch(he){console.error("Error fetching data:",he),t([]),n([]),O({title:"خطأ في الاتصال",description:"فشل في الاتصال بالخادم",variant:"destructive"})}finally{s(!1)}},H=e.filter(he=>(o===""||he.subject.includes(o)||he.transactionNumber.includes(o)||he.senderEntity.includes(o))&&(c===""||he.transferredTo===c)&&(u===""||he.type===u)&&(h===""||he.status===h)),me=he=>{L(he),m(!0)},ae=he=>{L(he),x(!0)},be=he=>{L(he),D({transactionNumber:he.transactionNumber,receiveDate:he.receiveDate,subject:he.subject,type:he.type,senderEntity:he.senderEntity,transferredTo:he.transferredTo,status:he.status,notes:he.notes||"",imagebase64:he.imagebase64||null,pdfbase64:he.pdfbase64||null}),w(!0)},te=he=>{L(he),I({newStatus:he.status,statusNote:"",statusDate:""}),j(!0)},ge=he=>{L(he),J({transaction_id:he.id,date:new Date().toISOString().split("T")[0],from:he.transferredTo,to:"",notes:"",transferredBy:"",imagebase64:null,pdfbase64:null}),k(!0)},re=()=>{m(!1),x(!1),w(!1),j(!1),k(!1),L(null),D({}),I({newStatus:"",statusNote:"",statusDate:""}),J({transaction_id:"",date:"",from:"",to:"",notes:"",transferredBy:"",imagebase64:null,pdfbase64:null})},Oe=async()=>{if(_)try{const he=await zl.deleteTransaction(_.id);he.success?(t(ze=>ze.filter(Xe=>Xe.id!==_.id)),O({title:"تم حذف المعاملة",description:"تم حذف المعاملة بنجاح"}),re()):O({title:"خطأ في الحذف",description:he.message||"فشل في حذف المعاملة",variant:"destructive"})}catch(he){O({title:"خطأ في الاتصال",description:he.message||"فشل في الاتصال بالخادم",variant:"destructive"})}},Pe=async he=>{if(he.preventDefault(),!!_)try{ue(!0);const ze=await zl.updateTransaction(_.id,z);ze.success?(t(Xe=>Xe.map(fe=>fe.id===_.id?{...fe,...z}:fe)),O({title:"تم تحديث المعاملة",description:"تم تحديث المعاملة بنجاح"}),re()):O({title:"خطأ في التحديث",description:ze.message||"فشل في تحديث المعاملة",variant:"destructive"})}catch(ze){O({title:"خطأ في الاتصال",description:ze.message||"فشل في الاتصال بالخادم",variant:"destructive"})}finally{ue(!1)}},ke=async he=>{if(he.preventDefault(),!(!_||!T.newStatus))try{ue(!0);const ze=await zl.updateTransactionStatus(_.id,T);ze.success?(t(Xe=>Xe.map(fe=>fe.id===_.id?{...fe,status:T.newStatus}:fe)),O({title:"تم تحديث حالة المعاملة",description:"تم تحديث حالة المعاملة بنجاح"}),re(),W()):O({title:"خطأ في التحديث",description:ze.message||"فشل في تحديث حالة المعاملة",variant:"destructive"})}catch(ze){console.error("Status update error:",ze),O({title:"خطأ في التحديث",description:ze.message||"فشل في تحديث حالة المعاملة",variant:"destructive"})}finally{ue(!1)}},Le=async he=>{if(he.preventDefault(),!!_)try{ue(!0);const ze={transaction_id:B.transaction_id,date:B.date,from:B.from,to:B.to,notes:B.notes,transferredBy:B.transferredBy,imagebase64:B.imagebase64||void 0,pdfbase64:B.pdfbase64||void 0},Xe=await zl.createTransferHistory(ze);Xe.success?(t(fe=>fe.map(tt=>tt.id===_.id?{...tt,transferredTo:B.to}:tt)),O({title:"تم تحويل المعاملة",description:"تم تحويل المعاملة بنجاح"}),re(),W()):O({title:"خطأ في التحويل",description:Xe.message||"فشل في تحويل المعاملة",variant:"destructive"})}catch(ze){console.error("Transfer error:",ze),O({title:"خطأ في التحويل",description:ze.message||"فشل في تحويل المعاملة",variant:"destructive"})}finally{ue(!1)}},Ge=he=>{var Xe;const ze=(Xe=he.target.files)==null?void 0:Xe[0];ze&&D(fe=>({...fe,imagebase64:ze}))},ut=he=>{var Xe;const ze=(Xe=he.target.files)==null?void 0:Xe[0];ze&&D(fe=>({...fe,pdfbase64:ze}))},bt=he=>{var Xe;const ze=(Xe=he.target.files)==null?void 0:Xe[0];ze&&(J(fe=>({...fe,imagebase64:ze})),X(URL.createObjectURL(ze)))},Ct=he=>{var Xe;const ze=(Xe=he.target.files)==null?void 0:Xe[0];ze&&(J(fe=>({...fe,pdfbase64:ze})),Q(ze.name))},Dt=he=>/^https?:\/\//.test(he)||he.startsWith("blob:"),ce=(he,ze)=>{try{const Xe=he.split(",")[1],fe=atob(Xe),tt=new Array(fe.length);for(let Ar=0;Ar<fe.length;Ar++)tt[Ar]=fe.charCodeAt(Ar);const wt=new Uint8Array(tt);let dr="application/octet-stream";he.startsWith("data:application/pdf")?dr="application/pdf":he.startsWith("data:image/")&&(dr=he.substring(5,he.indexOf(";")));const xt=new Blob([wt],{type:dr}),Xt=window.URL.createObjectURL(xt),It=document.createElement("a");It.href=Xt,It.download=ze,document.body.appendChild(It),It.click(),document.body.removeChild(It),window.URL.revokeObjectURL(Xt)}catch(Xe){console.error("Error downloading file:",Xe)}},Je=he=>{window.open(he,"_blank")},ct=()=>{const he=fr.json_to_sheet(H.map(Xe=>({"رقم المعاملة":Xe.transactionNumber,"تاريخ الاستلام":Xe.receiveDate,"موضوع المعاملة":Xe.subject,النوع:Xe.type,"الجهة المرسلة":Xe.senderEntity,"المحولة إلى":Xe.transferredTo,الحالة:Xe.status,الملاحظات:Xe.notes||""}))),ze=fr.book_new();fr.book_append_sheet(ze,he,"المعاملات"),sl(ze,"المعاملات_الإدارية.xlsx")},ft=()=>{if(H.length===0){O({title:"لا توجد بيانات للتصدير",description:"لا توجد معاملات لتصديرها",variant:"destructive"});return}const he=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>تقرير المعاملات الإدارية</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            direction: rtl;
            text-align: right;
          }
          
          .print-container {
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            background: white;
          }
          
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          
          .header h1 {
            color: #1e40af;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
          }
          
          .header p {
            color: #64748b;
            font-size: 16px;
          }
          
          .transactions-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 12px;
          }
          
          .transactions-table th,
          .transactions-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
          }
          
          .transactions-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #495057;
          }
          
          .transactions-table tr:nth-child(even) {
            background-color: #f8f9fa;
          }
          
          .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
          }
          
          .status-open {
            background-color: #fff3cd;
            color: #856404;
          }
          
          .status-completed {
            background-color: #d1edff;
            color: #0c5460;
          }
          
          .status-rejected {
            background-color: #f8d7da;
            color: #721c24;
          }
          
          .footer {
            margin-top: 40px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #d1d5db;
            color: #6b7280;
            font-size: 12px;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; }
            .print-container { padding: 10mm; }
          }
        </style>
      </head>
      <body>
        <div class="print-container">
          <div class="header">
            <h1>تقرير المعاملات الإدارية</h1>
            <p>عدد المعاملات: ${H.length}</p>
          </div>

          <table class="transactions-table">
            <thead>
              <tr>
                <th>رقم المعاملة</th>
                <th>تاريخ الاستلام</th>
                <th>موضوع المعاملة</th>
                <th>النوع</th>
                <th>الجهة المرسلة</th>
                <th>المحولة إلى</th>
                <th>الحالة</th>
                <th>الملاحظات</th>
              </tr>
            </thead>
            <tbody>
              ${H.map(Xe=>`
                <tr>
                  <td>${Xe.transactionNumber}</td>
                  <td>${Xe.receiveDate}</td>
                  <td>${Xe.subject}</td>
                  <td>${Xe.type}</td>
                  <td>${Xe.senderEntity}</td>
                  <td>${Xe.transferredTo}</td>
                  <td>
                    <span class="status-badge ${Xe.status==="مفتوح تحت الاجراء"?"status-open":Xe.status==="منجز"?"status-completed":"status-rejected"}">
                      ${Xe.status}
                    </span>
                  </td>
                  <td>${Xe.notes||"لا توجد ملاحظات"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="footer">
            <p>تم طباعة هذا التقرير في: ${new Date().toLocaleDateString("ar-SA")} - ${new Date().toLocaleTimeString("ar-SA")}</p>
          </div>
        </div>
      </body>
      </html>
    `,ze=window.open("","_blank");ze&&(ze.document.write(he),ze.document.close(),ze.onload=()=>{setTimeout(()=>{ze.print(),ze.close()},250)})},gt=he=>{const ze=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>تقرير معاملة إدارية - ${he.transactionNumber}</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            direction: rtl;
            text-align: right;
          }
          
          .print-container {
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            background: white;
          }
          
          .header {
            text-align: center;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          
          .header h1 {
            color: #1e40af;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
          }
          
          .section {
            margin-bottom: 25px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
          }
          
          .section-header {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            padding: 15px 20px;
            border-bottom: 1px solid #d1d5db;
          }
          
          .section-header h2 {
            color: #374151;
            font-size: 18px;
            font-weight: bold;
            margin: 0;
          }
          
          .section-content {
            padding: 20px;
            background: white;
          }
          
          .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
          }
          
          .info-item {
            background: #f9fafb;
            padding: 12px 15px;
            border-radius: 6px;
            border-right: 4px solid #3b82f6;
          }
          
          .info-item label {
            display: block;
            font-weight: bold;
            color: #4b5563;
            font-size: 14px;
            margin-bottom: 5px;
          }
          
          .info-item span {
            color: #1f2937;
            font-size: 15px;
            font-weight: 500;
          }
          
          .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
          }
          
          .status-open { background: #fff3cd; color: #856404; }
          .status-completed { background: #d1edff; color: #0c5460; }
          .status-rejected { background: #f8d7da; color: #721c24; }
          
          .timeline-item {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            border-right: 4px solid #6366f1;
          }
          
          .timeline-item h4 {
            color: #4338ca;
            font-size: 16px;
            margin-bottom: 10px;
          }
          
          .timeline-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
          }
          
          .timeline-field {
            background: white;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #e5e7eb;
          }
          
          .timeline-field label {
            display: block;
            font-weight: bold;
            color: #6b7280;
            font-size: 12px;
            margin-bottom: 3px;
          }
          
          .timeline-field span {
            color: #111827;
            font-weight: 500;
          }
          
          .footer {
            margin-top: 40px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #d1d5db;
            color: #6b7280;
            font-size: 12px;
          }
          
          @media print {
            body { -webkit-print-color-adjust: exact; }
            .print-container { padding: 10mm; }
            .section { break-inside: avoid; }
          }
        </style>
      </head>
      <body>
        <div class="print-container">
          <div class="header">
            <h1>تقرير معاملة إدارية</h1>
            <p>رقم المعاملة: ${he.transactionNumber}</p>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>المعلومات الأساسية</h2>
            </div>
            <div class="section-content">
              <div class="info-grid">
                <div class="info-item">
                  <label>رقم المعاملة</label>
                  <span>${he.transactionNumber}</span>
                </div>
                <div class="info-item">
                  <label>تاريخ الاستلام</label>
                  <span>${he.receiveDate}</span>
                </div>
                <div class="info-item">
                  <label>موضوع المعاملة</label>
                  <span>${he.subject}</span>
                </div>
                <div class="info-item">
                  <label>النوع</label>
                  <span>${he.type}</span>
                </div>
                <div class="info-item">
                  <label>الجهة المرسلة</label>
                  <span>${he.senderEntity}</span>
                </div>
                <div class="info-item">
                  <label>المحولة إلى</label>
                  <span>${he.transferredTo}</span>
                </div>
                <div class="info-item">
                  <label>الحالة</label>
                  <span class="status-badge ${he.status==="مفتوح تحت الاجراء"?"status-open":he.status==="منجز"?"status-completed":"status-rejected"}">${he.status}</span>
                </div>
                <div class="info-item">
                  <label>الملاحظات</label>
                  <span>${he.notes||"لا توجد ملاحظات"}</span>
                </div>
              </div>
            </div>
          </div>

          ${he.histories&&he.histories.length>0?`
          <div class="section">
            <div class="section-header">
              <h2>سجل التحويلات</h2>
            </div>
            <div class="section-content">
              ${he.histories.map(fe=>`
              <div class="timeline-item">
                <h4>تحويل بتاريخ ${fe.date}</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>من</label>
                    <span>${fe.from}</span>
                  </div>
                  <div class="timeline-field">
                    <label>إلى</label>
                    <span>${fe.to}</span>
                  </div>
                  <div class="timeline-field">
                    <label>الملاحظات</label>
                    <span>${fe.notes||"لا توجد ملاحظات"}</span>
                  </div>
                  <div class="timeline-field">
                    <label>محول بواسطة</label>
                    <span>${fe.transferredBy}</span>
                  </div>
                </div>
              </div>
              `).join("")}
            </div>
          </div>
          `:""}

          <div class="section">
            <div class="section-header">
              <h2>سجل حالات المعاملة</h2>
            </div>
            <div class="section-content">
              ${he.creation_date?`
              <div class="timeline-item">
                <h4>تاريخ الإنشاء</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${he.creation_date}</span>
                  </div>
                  ${he.creation_date_note?`
                  <div class="timeline-field">
                    <label>الملاحظة</label>
                    <span>${he.creation_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}

              ${he.contract_approval_date?`
              <div class="timeline-item">
                <h4>تاريخ الموافقة</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${he.contract_approval_date}</span>
                  </div>
                  ${he.contract_approval_date_note?`
                  <div class="timeline-field">
                    <label>الملاحظة</label>
                    <span>${he.contract_approval_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}

              ${he.contract_date?`
              <div class="timeline-item">
                <h4>تاريخ التعاقد</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${he.contract_date}</span>
                  </div>
                  ${he.contract_date_note?`
                  <div class="timeline-field">
                    <label>الملاحظة</label>
                    <span>${he.contract_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}

              ${he.contract_delivery_date?`
              <div class="timeline-item">
                <h4>تاريخ التسليم</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${he.contract_delivery_date}</span>
                  </div>
                  ${he.contract_delivery_date_note?`
                  <div class="timeline-field">
                    <label>الملاحظة</label>
                    <span>${he.contract_delivery_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}

              ${he.rejection_date?`
              <div class="timeline-item">
                <h4>تاريخ الرفض</h4>
                <div class="timeline-content">
                  <div class="timeline-field">
                    <label>التاريخ</label>
                    <span>${he.rejection_date}</span>
                  </div>
                  ${he.rejection_date_note?`
                  <div class="timeline-field">
                    <label>الملاحظة</label>
                    <span>${he.rejection_date_note}</span>
                  </div>
                  `:""}
                </div>
              </div>
              `:""}
            </div>
          </div>

          <div class="footer">
            <p>تم طباعة هذا التقرير في: ${new Date().toLocaleDateString("ar-SA")} - ${new Date().toLocaleTimeString("ar-SA")}</p>
          </div>
        </div>
      </body>
      </html>
    `,Xe=window.open("","_blank");Xe&&(Xe.document.write(ze),Xe.document.close(),Xe.onload=()=>{setTimeout(()=>{Xe.print(),Xe.close()},250)})};return a?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل المعاملات..."})]})}):i.jsxs("div",{className:"space-y-6 px-2 sm:px-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"قائمة المعاملات الإدارية"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"عرض وإدارة جميع المعاملات الإدارية"})]}),i.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-4 py-3 border-b",children:i.jsx("h2",{className:"font-semibold text-blue-900",children:"البحث والتصفية"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vd,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"البحث في المعاملات...",value:o,onChange:he=>l(he.target.value),className:"w-full pl-4 pr-10 py-2 border border-input rounded-md text-right"})]}),i.jsxs("select",{value:c,onChange:he=>d(he.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الجهات"}),q.map((he,ze)=>i.jsx("option",{value:he,children:he},ze))]}),i.jsxs("select",{value:u,onChange:he=>f(he.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الأنواع"}),V.map(he=>i.jsx("option",{value:he,children:he},he))]}),i.jsxs("select",{value:h,onChange:he=>p(he.target.value),className:"w-full p-2 border border-input rounded-md text-right",children:[i.jsx("option",{value:"",children:"جميع الحالات"}),Y.map(he=>i.jsx("option",{value:he,children:he},he))]})]}),i.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[i.jsxs("button",{onClick:ct,className:"bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2 text-sm py-2 px-4 rounded-md transition-colors",children:[i.jsx(Pr,{size:14}),i.jsx("span",{children:"تصدير Excel"})]}),i.jsxs("button",{onClick:ft,className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 text-sm py-2 px-4 rounded-md transition-colors",children:[i.jsx(Pr,{size:14}),i.jsx("span",{children:"تصدير PDF"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-4 py-3 rounded-lg border",children:i.jsxs("h2",{className:"font-semibold text-blue-900",children:["المعاملات (",H.length,")"]})}),H.map(he=>i.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"font-bold text-lg text-blue-900",children:["رقم المعاملة: ",he.transactionNumber]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:he.subject})]}),i.jsx(G,{transaction:he})]}),i.jsx("div",{className:"flex justify-start",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${he.status==="مفتوح تحت الاجراء"?"bg-yellow-100 text-yellow-800":he.status==="منجز"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:he.status})}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fo,{size:16,className:"text-gray-500 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("span",{className:"text-xs text-gray-500 block",children:"تاريخ الاستلام"}),i.jsx("span",{className:"font-medium text-sm",children:he.receiveDate})]})]}),i.jsxs("div",{className:"border-t pt-2",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"النوع"}),i.jsx("span",{className:"font-medium text-sm",children:he.type})]}),i.jsxs("div",{className:"border-t pt-2",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"الجهة المرسلة"}),i.jsx("span",{className:"font-medium text-sm",children:he.senderEntity})]}),i.jsxs("div",{className:"border-t pt-2",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"المحولة إلى"}),i.jsx("span",{className:"font-medium text-sm",children:he.transferredTo})]}),he.notes&&i.jsxs("div",{className:"border-t pt-2",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"الملاحظات"}),i.jsx("span",{className:"font-medium text-sm",children:he.notes})]}),(he.imagebase64||he.pdfbase64)&&i.jsxs("div",{className:"border-t pt-2",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-2",children:"المرفقات"}),i.jsxs("div",{className:"flex gap-2",children:[he.imagebase64&&i.jsxs("button",{onClick:()=>{const ze=window.open("");ze&&(ze.document.write(`<html><head><title>صورة مرفقة</title></head><body style="margin:0;padding:20px;background:#f5f5f5;"><img src="${he.imagebase64}" style="max-width:100%; height:auto; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.15);" /></body></html>`),ze.document.close())},className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded-lg text-xs",children:[i.jsx(tn,{size:14}),i.jsx("span",{children:"عرض الصورة"})]}),he.pdfbase64&&i.jsxs("button",{onClick:()=>{Dt(he.pdfbase64)?Je(he.pdfbase64):ce(he.pdfbase64,`transaction_${he.id}_document.pdf`)},className:"flex items-center gap-2 text-red-600 hover:text-red-800 transition-colors bg-red-50 hover:bg-red-100 px-3 py-2 rounded-lg text-xs",children:[i.jsx(tn,{size:14}),i.jsx("span",{children:"عرض PDF"})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t",children:[i.jsxs("button",{onClick:()=>ae(he),className:"flex items-center justify-center gap-1 px-3 py-2 text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-md transition-colors flex-1",children:[i.jsx(tn,{size:12}),i.jsx("span",{children:"عرض"})]}),i.jsxs("button",{onClick:()=>be(he),className:"flex items-center justify-center gap-1 px-3 py-2 text-xs bg-yellow-100 text-yellow-700 hover:bg-yellow-200 rounded-md transition-colors flex-1",children:[i.jsx(_a,{size:12}),i.jsx("span",{children:"تعديل"})]}),i.jsxs("button",{onClick:()=>te(he),className:"flex items-center justify-center gap-1 px-3 py-2 text-xs bg-purple-100 text-purple-700 hover:bg-purple-200 rounded-md transition-colors flex-1",children:[i.jsx(Si,{size:12}),i.jsx("span",{children:"حالة"})]}),i.jsxs("button",{onClick:()=>ge(he),className:"flex items-center justify-center gap-1 px-3 py-2 text-xs bg-indigo-100 text-indigo-700 hover:bg-indigo-200 rounded-md transition-colors flex-1",children:[i.jsx(SC,{size:12}),i.jsx("span",{children:"تحويل"})]}),i.jsxs("button",{onClick:()=>gt(he),className:"flex items-center justify-center gap-1 px-3 py-2 text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md transition-colors flex-1",children:[i.jsx(un,{size:12}),i.jsx("span",{children:"طباعة"})]}),i.jsxs("button",{onClick:()=>me(he),className:"flex items-center justify-center gap-1 px-3 py-2 text-xs bg-red-100 text-red-700 hover:bg-red-200 rounded-md transition-colors flex-1",children:[i.jsx(Un,{size:12}),i.jsx("span",{children:"حذف"})]})]})]},he.id)),H.length===0&&!a&&i.jsx("div",{className:"text-center py-8 text-muted-foreground bg-white rounded-lg border",children:e.length===0?"لا توجد معاملات في النظام":"لا توجد معاملات تطابق معايير البحث"})]}),g&&_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(To,{className:"h-6 w-6 text-red-600"})}),i.jsx("div",{children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"تأكيد الحذف"})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-gray-700",children:["هل أنت متأكد من حذف المعاملة رقم ",i.jsx("strong",{children:_.transactionNumber}),"؟"]}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"لا يمكن التراجع عن هذا الإجراء."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:re,className:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors",children:"إلغاء"}),i.jsx("button",{onClick:Oe,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:"حذف"})]})]})}),v&&_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-6xl w-full max-h-[95vh] overflow-y-auto",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"تفاصيل المعاملة"}),i.jsx("button",{onClick:re,className:"text-gray-500 hover:text-gray-700",children:i.jsx(_r,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 sm:p-6 rounded-lg border",children:[i.jsx("h4",{className:"text-lg font-bold mb-4 text-right text-blue-800",children:"المعلومات الأساسية"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"رقم المعاملة"}),i.jsx("p",{className:"font-semibold text-lg bg-white p-2 rounded",children:_.transactionNumber})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"تاريخ الاستلام"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.receiveDate})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"موضوع المعاملة"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.subject})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"النوع"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.type})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"الجهة المرسلة"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.senderEntity})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"المحولة إلى"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.transferredTo})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"الحالة"}),i.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${_.status==="مفتوح تحت الاجراء"?"bg-yellow-100 text-yellow-800":_.status==="منجز"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.status})]}),_.notes&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"الملاحظات"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.notes})]}),(_.imagebase64||_.pdfbase64)&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"المرفقات"}),i.jsxs("div",{className:"bg-white p-2 rounded flex gap-2",children:[_.imagebase64&&i.jsxs("button",{onClick:()=>{const he=window.open("");he&&(he.document.write(`<html><head><title>صورة مرفقة</title></head><body style="margin:0;padding:20px;background:#f5f5f5;"><img src="${_.imagebase64}" style="max-width:100%; height:auto; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.15);" /></body></html>`),he.document.close())},className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded-lg",children:[i.jsx(tn,{size:16}),i.jsx("span",{children:"عرض الصورة"})]}),_.pdfbase64&&i.jsxs("button",{onClick:()=>{Dt(_.pdfbase64)?Je(_.pdfbase64):ce(_.pdfbase64,`transaction_${_.id}_document.pdf`)},className:"flex items-center gap-2 text-red-600 hover:text-red-800 transition-colors bg-red-50 hover:bg-red-100 px-3 py-2 rounded-lg",children:[i.jsx(tn,{size:16}),i.jsx("span",{children:"عرض PDF"})]})]})]})]})]}),_.histories&&_.histories.length>0&&i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 sm:p-6 rounded-lg border",children:[i.jsx("h4",{className:"text-lg font-bold mb-4 text-right text-purple-800",children:"سجل التحويلات"}),i.jsx("div",{className:"space-y-4",children:_.histories.map((he,ze)=>i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 p-4 bg-white rounded-lg border-r-4 border-purple-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"تاريخ التحويل"}),i.jsx("p",{className:"font-medium bg-gray-50 p-2 rounded",children:he.date})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"من"}),i.jsx("p",{className:"font-medium bg-gray-50 p-2 rounded",children:he.from})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"إلى"}),i.jsx("p",{className:"font-medium bg-gray-50 p-2 rounded",children:he.to})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"محول بواسطة"}),i.jsx("p",{className:"font-medium bg-gray-50 p-2 rounded",children:he.transferredBy})]}),he.notes&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"الملاحظات"}),i.jsx("p",{className:"font-medium bg-gray-50 p-2 rounded",children:he.notes})]})]},ze))})]}),i.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 p-4 sm:p-6 rounded-lg border",children:[i.jsx("h4",{className:"text-xl font-bold mb-6 text-right text-indigo-800",children:"سجل حالات المعاملة"}),i.jsxs("div",{className:"space-y-4",children:[_.creation_date&&i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 p-4 bg-blue-50 rounded-lg border-r-4 border-blue-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"تاريخ الإنشاء"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.creation_date})]}),_.creation_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"ملاحظة الإنشاء"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.creation_date_note})]})]}),_.contract_approval_date&&i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 p-4 bg-teal-50 rounded-lg border-r-4 border-teal-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-teal-700 mb-2",children:"تاريخ الموافقة"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.contract_approval_date})]}),_.contract_approval_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-teal-700 mb-2",children:"ملاحظة الموافقة"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.contract_approval_date_note})]})]}),_.contract_date&&i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 p-4 bg-yellow-50 rounded-lg border-r-4 border-yellow-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 mb-2",children:"تاريخ التعاقد"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.contract_date})]}),_.contract_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-yellow-700 mb-2",children:"ملاحظة التعاقد"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.contract_date_note})]})]}),_.contract_delivery_date&&i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 p-4 bg-emerald-50 rounded-lg border-r-4 border-emerald-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-emerald-700 mb-2",children:"تاريخ اللإنجاز"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.contract_delivery_date})]}),_.contract_delivery_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-emerald-700 mb-2",children:"ملاحظة اللإنجاز"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.contract_delivery_date_note})]})]}),_.rejection_date&&i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 p-4 bg-red-50 rounded-lg border-r-4 border-red-400",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-red-700 mb-2",children:"تاريخ الرفض"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.rejection_date})]}),_.rejection_date_note&&i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold text-red-700 mb-2",children:"ملاحظة الرفض"}),i.jsx("p",{className:"font-medium bg-white p-2 rounded",children:_.rejection_date_note})]})]})]})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx("button",{onClick:re,className:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors",children:"إغلاق"})})]})}),y&&_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"تعديل المعاملة"}),i.jsx("button",{onClick:re,className:"text-gray-500 hover:text-gray-700",children:i.jsx(_r,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"رقم المعاملة"}),i.jsx("input",{type:"text",value:z.transactionNumber||"",onChange:he=>D(ze=>({...ze,transactionNumber:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"تاريخ الاستلام"}),i.jsx("input",{type:"date",value:z.receiveDate||"",onChange:he=>D(ze=>({...ze,receiveDate:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"موضوع المعاملة"}),i.jsx("input",{type:"text",value:z.subject||"",onChange:he=>D(ze=>({...ze,subject:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"النوع"}),i.jsxs("select",{value:z.type||"",onChange:he=>D(ze=>({...ze,type:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",required:!0,children:[i.jsx("option",{value:"",children:"اختر النوع"}),V.map(he=>i.jsx("option",{value:he,children:he},he))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحالة"}),i.jsxs("select",{value:z.status||"",onChange:he=>D(ze=>({...ze,status:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",required:!0,children:[i.jsx("option",{value:"",children:"اختر الحالة"}),Y.map(he=>i.jsx("option",{value:he,children:he},he))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الجهة المرسلة"}),i.jsx("input",{type:"text",value:z.senderEntity||"",onChange:he=>D(ze=>({...ze,senderEntity:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",placeholder:"أدخل الجهة المرسلة",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المحولة إلى"}),i.jsx("input",{type:"text",value:z.transferredTo||"",onChange:he=>D(ze=>({...ze,transferredTo:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",placeholder:"أدخل الجهة المحول لها",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الملاحظات"}),i.jsx("textarea",{value:z.notes||"",onChange:he=>D(ze=>({...ze,notes:he.target.value})),className:"w-full p-2 border border-gray-300 rounded-md text-right",rows:4,placeholder:"أدخل الملاحظات (اختياري)"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"صورة مرفقة"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Ge,className:"w-full p-2 border border-gray-300 rounded-md text-right"}),z.imagebase64&&i.jsx("div",{className:"mt-2 text-right",children:i.jsx("img",{src:z.imagebase64,alt:"Image Preview",className:"max-w-[150px] max-h-[150px] object-contain border rounded-md"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ملف PDF مرفق"}),i.jsx("input",{type:"file",accept:"application/pdf",onChange:ut,className:"w-full p-2 border border-gray-300 rounded-md text-right"}),z.pdfbase64&&i.jsx("div",{className:"mt-2 text-right",children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"text-sm",children:"ملف PDF جاهز للإرفاق"})]})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:re,className:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors order-2 sm:order-1",disabled:le,children:"إلغاء"}),i.jsxs("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors flex items-center justify-center gap-2 order-1 sm:order-2",disabled:le,children:[le&&i.jsx(Qt,{className:"h-4 w-4 animate-spin"}),le?"جاري التحديث...":"حفظ التغييرات"]})]})]})]})}),N&&_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"تعديل حالة المعاملة"}),i.jsx("button",{onClick:re,className:"text-gray-500 hover:text-gray-700",children:i.jsx(_r,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:ke,className:"space-y-6",children:[i.jsxs("div",{className:"text-right bg-gray-50 p-4 rounded-lg",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"الحالة الحالية"}),i.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${_.status==="مفتوح تحت الاجراء"?"bg-yellow-100 text-yellow-800":_.status==="منجز"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.status})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"الحالة الجديدة *"}),i.jsxs("select",{value:T.newStatus,onChange:he=>I(ze=>({...ze,newStatus:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",required:!0,children:[i.jsx("option",{value:"",children:"اختر الحالة الجديدة"}),P.map(he=>i.jsx("option",{value:he.value,children:he.label},he.value))]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"إضافة التاريخ (اختياري)"}),i.jsx("input",{type:"date",value:T.statusDate,onChange:he=>I(ze=>({...ze,statusDate:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"ملاحظة التحديث"}),i.jsx("textarea",{value:T.statusNote,onChange:he=>I(ze=>({...ze,statusNote:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:4,placeholder:"ملاحظة حول تغيير الحالة..."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-start gap-3 pt-4",children:[i.jsxs("button",{type:"submit",disabled:le||!T.newStatus,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 order-1",children:[i.jsx(oi,{size:18}),le?"جاري الحفظ...":"حفظ التحديث"]}),i.jsx("button",{type:"button",onClick:re,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-all order-2",children:"إلغاء"})]})]})]})}),C&&_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"تحويل المعاملة"}),i.jsx("button",{onClick:re,className:"text-gray-500 hover:text-gray-700",children:i.jsx(_r,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[i.jsx("input",{type:"hidden",value:B.transaction_id}),i.jsxs("div",{className:"text-right bg-blue-50 p-4 rounded-lg",children:[i.jsx("label",{className:"block text-sm font-medium text-blue-600 mb-2",children:"المعاملة المراد تحويلها"}),i.jsxs("p",{className:"font-semibold text-blue-800",children:[_.transactionNumber," - ",_.subject]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"تاريخ التحويل *"}),i.jsx("input",{type:"date",value:B.date,onChange:he=>J(ze=>({...ze,date:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",required:!0})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"محول بواسطة *"}),i.jsx("input",{type:"text",value:B.transferredBy,onChange:he=>J(ze=>({...ze,transferredBy:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"اسم الشخص المحول",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"من *"}),i.jsx("input",{type:"text",value:B.from,onChange:he=>J(ze=>({...ze,from:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right bg-gray-100",readOnly:!0})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"إلى *"}),i.jsx("input",{type:"text",value:B.to,onChange:he=>J(ze=>({...ze,to:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"أدخل الجهة المحول إليها",required:!0})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"ملاحظات التحويل"}),i.jsx("textarea",{value:B.notes,onChange:he=>J(ze=>({...ze,notes:he.target.value})),className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",rows:4,placeholder:"ملاحظة حول التحويل..."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"صورة مرفقة"}),i.jsx("input",{type:"file",accept:"image/*",onChange:bt,className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),U&&i.jsx("div",{className:"mt-2 text-right",children:i.jsx("img",{src:U,alt:"Image Preview",className:"max-w-[150px] max-h-[150px] object-contain border rounded-md"})})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("label",{className:"block text-sm font-semibold mb-3",children:"ملف PDF مرفق"}),i.jsx("input",{type:"file",accept:"application/pdf",onChange:Ct,className:"w-full p-3 border-2 border-gray-300 rounded-lg text-right focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),M&&i.jsx("div",{className:"mt-2 text-right",children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Pr,{size:16}),i.jsx("span",{className:"text-sm",children:M})]})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-start gap-3 pt-4",children:[i.jsxs("button",{type:"submit",disabled:le||!B.to||!B.transferredBy,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 order-1",children:[i.jsx(SC,{size:18}),le?"جاري التحويل...":"تحويل المعاملة"]}),i.jsx("button",{type:"button",onClick:re,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-all order-2",children:"إلغاء"})]})]})]})})]})}function vPe(){const[e,t]=A.useState(""),[r,n]=A.useState([]),[a,s]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState(!0),[u,f]=A.useState(!1),{toast:h}=jn();A.useEffect(()=>{p()},[]);const p=async()=>{try{d(!0);const[j,C]=await Promise.all([zl.getTransactions().catch(k=>({success:!1,data:[],message:k.message})),zl.getTransactionStatuses().catch(k=>({success:!1,data:[],message:k.message}))]);if(j.success&&j.data){n(j.data);const k=[...new Set(j.data.map(_=>_.transferredTo))].filter(Boolean);s(k)}else n([]),s([]),h({title:"تعذر تحميل بيانات لوحة التحكم",description:j.message||"فشل في تحميل بيانات المعاملات",variant:"destructive"});C.success&&C.data?l(C.data):l(["مفتوح تحت الاجراء","منجز","مرفوض"])}catch(j){console.error("Error fetching dashboard data:",j),n([]),s([]),l([]),h({title:"خطأ في الاتصال",description:"فشل في الاتصال بالخادم",variant:"destructive"})}finally{d(!1)}},g=e===""?r:r.filter(j=>j.transferredTo===e),m=()=>{if(!g||g.length===0)return{total:0,pending:0,completed:0,rejected:0,overdue:0,completionRate:0};const j=g.length,C=g.filter(T=>T.status==="مفتوح تحت الاجراء").length,k=g.filter(T=>T.status==="منجز").length,_=g.filter(T=>T.status==="مرفوض").length,L=new Date,z=g.filter(T=>{const I=new Date(T.receiveDate);return Math.floor((L.getTime()-I.getTime())/(1e3*60*60*24))>21&&T.status==="مفتوح تحت الاجراء"}).length,D=j>0?Math.round(k/j*100):0;return{total:j,pending:C,completed:k,rejected:_,overdue:z,completionRate:D}},v=()=>!r||r.length===0?[]:a.map(j=>{const C=r.filter(D=>D.transferredTo===j),k=C.length,_=C.filter(D=>D.status==="مفتوح تحت الاجراء").length,L=C.filter(D=>D.status==="منجز").length,z=C.filter(D=>D.status==="مرفوض").length;return{facility:j,total:k,pending:_,completed:L,rejected:z}}),x=m(),y=v(),w=async()=>{f(!0);try{const j=o.map(_=>({status:_,count:g.filter(L=>L.status===_).length})),C=`
        <html dir="rtl">
          <head>
            <title>تقرير المعاملات الإدارية</title>
            <style>
              body { font-family: Arial, sans-serif; direction: rtl; text-align: right; padding: 20px; }
              .header { background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; padding: 20px; margin-bottom: 20px; border-radius: 8px; }
              .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
              .stat-card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9; }
              .stat-card h3 { font-size: 14px; color: #666; margin: 0 0 8px 0; }
              .stat-card p { font-size: 24px; font-weight: bold; color: #333; margin: 0; }
              .chart-section { margin: 30px 0; page-break-inside: avoid; }
              .chart-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; color: #333; }
              .chart-bar { background: #f5f5f5; padding: 8px; margin: 5px 0; border-radius: 4px; display: flex; align-items: center; }
              .bar-label { flex: 0 0 150px; font-weight: 500; }
              .bar-container { flex: 1; background: #e0e0e0; height: 30px; border-radius: 4px; overflow: hidden; margin: 0 10px; position: relative; }
              .bar-fill { height: 100%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold; }
              .bar-value { flex: 0 0 80px; text-align: left; font-weight: bold; }
              .table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              .table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: right; }
              .table th { background: #f5f5f5; font-weight: bold; }
              .overdue-alert { background: #fee; border: 2px solid #f44; padding: 20px; border-radius: 8px; text-align: center; margin: 20px 0; }
              .overdue-number { font-size: 48px; font-weight: bold; color: #f44; }
              @media print { 
                body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                .chart-section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>تقرير المعاملات الإدارية</h1>
              <p>تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")}</p>
              ${e?`<p>الجهة المحددة: ${e}</p>`:"<p>جميع الجهات</p>"}
            </div>
            
            <div class="stats-grid">
              <div class="stat-card"><h3>إجمالي المعاملات</h3><p>${x.total}</p></div>
              <div class="stat-card"><h3>تحت الإجراء</h3><p>${x.pending}</p></div>
              <div class="stat-card"><h3>المعاملات المنجزة</h3><p>${x.completed}</p></div>
              <div class="stat-card"><h3>المعاملات المرفوضة</h3><p>${x.rejected}</p></div>
            </div>

            <div class="overdue-alert">
              <div class="overdue-number">${x.overdue}</div>
              <div>معاملة متأخرة (أكثر من 3 أسابيع)</div>
            </div>

            <div class="chart-section">
              <div class="chart-title">توزيع المعاملات حسب الحالة</div>
              ${j.map(_=>`
                <div class="chart-bar">
                  <div class="bar-label">${_.status}</div>
                  <div class="bar-container">
                    <div class="bar-fill" style="width: ${x.total>0?_.count/x.total*100:0}%; background-color: ${_.status==="منجز"?"#10b981":_.status==="مرفوض"?"#ef4444":"#f59e0b"};">
                      ${x.total>0?Math.round(_.count/x.total*100):0}%
                    </div>
                  </div>
                  <div class="bar-value">${_.count} معاملة</div>
                </div>
              `).join("")}
            </div>

            <div class="chart-section">
              <div class="chart-title">توزيع المعاملات حسب الجهات</div>
              <table class="table">
                <thead>
                  <tr>
                    <th>الجهة</th>
                    <th>إجمالي المعاملات</th>
                    <th>تحت الإجراء</th>
                    <th>منجز</th>
                    <th>مرفوض</th>
                  </tr>
                </thead>
                <tbody>
                  ${y.map(_=>`
                    <tr>
                      <td>${_.facility}</td>
                      <td>${_.total}</td>
                      <td>${_.pending}</td>
                      <td>${_.completed}</td>
                      <td>${_.rejected}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>

            <div class="chart-section" style="text-align: center; padding: 20px; background: #f0fdf4; border-radius: 8px;">
              <div style="font-size: 48px; font-weight: bold; color: #10b981; margin-bottom: 10px;">
                ${x.completionRate}%
              </div>
              <div style="font-size: 18px; color: #666;">معدل إنجاز المعاملات الإدارية</div>
            </div>
          </body>
        </html>
      `,k=window.open("","_blank");k.document.write(C),k.document.close(),k.print()}catch(j){console.error("PDF export error:",j),h({title:"خطأ في التصدير",description:"حدث خطأ في تصدير PDF",variant:"destructive"})}finally{f(!1)}},N=async()=>{f(!0);try{const j=o.map(I=>({status:I,count:g.filter(B=>B.status===I).length})),C=["تقرير المعاملات الإدارية",`تاريخ التصدير: ${new Date().toLocaleDateString("ar-SA")}`,e?`الجهة المحددة: ${e}`:"جميع الجهات","","الإحصائيات العامة","إجمالي المعاملات,"+x.total,"تحت الإجراء,"+x.pending,"المعاملات المنجزة,"+x.completed,"المعاملات المرفوضة,"+x.rejected,"المعاملات المتأخرة,"+x.overdue,"معدل الإنجاز,"+x.completionRate+"%","","توزيع المعاملات حسب الحالة","الحالة,العدد,النسبة المئوية"],k=j.map(I=>`"${I.status}",${I.count},${x.total>0?(I.count/x.total*100).toFixed(1):0}%`),_=["","توزيع المعاملات حسب الجهات","الجهة,إجمالي المعاملات,تحت الإجراء,منجز,مرفوض",...y.map(I=>`"${I.facility}",${I.total},${I.pending},${I.completed},${I.rejected}`)],L=[...C,...k,..._].join(`
`),z="\uFEFF",D=new Blob([z+L],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");if(T.download!==void 0){const I=URL.createObjectURL(D);T.setAttribute("href",I),T.setAttribute("download",`transactions-dashboard-${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)}}catch(j){console.error("Excel export error:",j),h({title:"خطأ في التصدير",description:"حدث خطأ في تصدير Excel",variant:"destructive"})}finally{f(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 text-right",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"لوحة تحكم المعاملات الإدارية"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"إحصائيات ومعدلات الإنجاز للمعاملات"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(mt,{variant:"outline",onClick:w,disabled:u||c,title:"طباعة / تصدير PDF",children:[u?i.jsx(Qt,{className:"h-4 w-4 animate-spin ml-2"}):i.jsx(un,{className:"h-4 w-4 ml-2"}),"طباعة"]}),i.jsxs(mt,{variant:"outline",onClick:N,disabled:u||c,title:"تصدير Excel",children:[u?i.jsx(Qt,{className:"h-4 w-4 animate-spin ml-2"}):i.jsx($i,{className:"h-4 w-4 ml-2"}),"تصدير Excel"]})]})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"التصفية"})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("select",{value:e,onChange:j=>t(j.target.value),className:"w-full p-2 border border-input rounded-md text-right",disabled:c,children:[i.jsx("option",{value:"",children:c?"جاري تحميل الجهات...":"جميع الجهات"}),a.map((j,C)=>i.jsx("option",{value:j,children:j},C))]})})})]}),i.jsx("div",{className:"responsive-grid",children:c?i.jsx("div",{className:"col-span-full",children:i.jsx("div",{className:"admin-card",children:i.jsxs("div",{className:"p-4 text-center",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل الإحصائيات..."})]})})}):i.jsxs(i.Fragment,{children:[i.jsx(md,{title:"إجمالي المعاملات",value:x.total,icon:Od,color:"primary"}),i.jsx(md,{title:"تحت الإجراء",value:x.pending,icon:Ql,color:"warning"}),i.jsx(md,{title:"المعاملات المنجزة",value:x.completed,icon:qs,color:"success"}),i.jsx(md,{title:"المعاملات المرفوضة",value:x.rejected,icon:Yl,color:"danger"})]})}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header bg-danger text-danger-foreground",children:i.jsx("h2",{children:"المعاملات المتأخرة"})}),i.jsx("div",{className:"p-4",children:c?i.jsxs("div",{className:"text-center",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل بيانات المعاملات المتأخرة..."})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl font-bold text-danger mb-2",children:x.overdue}),i.jsx("div",{className:"text-muted-foreground",children:"معاملة متأخرة (أكثر من 3 أسابيع)"})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"توزيع المعاملات حسب الحالة"})}),i.jsx("div",{className:"p-4",children:c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل توزيع المعاملات..."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(j=>{const C=g.filter(k=>k.status===j).length;return i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:C}),i.jsx("div",{className:"stat-label",children:j})]},j)})})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"توزيع المعاملات حسب الجهات"})}),i.jsx("div",{className:"p-4",children:c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل توزيع الجهات..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"responsive-table",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border text-right",children:[i.jsx("th",{className:"p-3",children:"الجهة"}),i.jsx("th",{className:"p-3",children:"إجمالي المعاملات"}),i.jsx("th",{className:"p-3",children:"تحت الإجراء"}),i.jsx("th",{className:"p-3",children:"منجز"}),i.jsx("th",{className:"p-3",children:"مرفوض"})]})}),i.jsx("tbody",{children:y.map((j,C)=>i.jsxs("tr",{className:"border-b border-border text-right",children:[i.jsx("td",{className:"p-3 font-medium",children:j.facility}),i.jsx("td",{className:"p-3",children:j.total}),i.jsx("td",{className:"p-3 text-warning",children:j.pending}),i.jsx("td",{className:"p-3 text-success",children:j.completed}),i.jsx("td",{className:"p-3 text-danger",children:j.rejected})]},C))})]})}),y.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد جهات متاحة"})]})})]}),i.jsxs("div",{className:"admin-card",children:[i.jsx("div",{className:"admin-header",children:i.jsx("h2",{children:"معدل الإنجاز"})}),i.jsx("div",{className:"p-4",children:c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل معدل الإنجاز..."})]}):i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-4xl font-bold text-success",children:[x.completionRate,"%"]}),i.jsx("div",{className:"text-muted-foreground",children:"معدل إنجاز المعاملات الإدارية"})]})})]})]})}var DA="Switch",[yPe,XPe]=Wp(DA),[bPe,wPe]=yPe(DA),xW=A.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=A.useState(null),g=nn(t,w=>p(w)),m=A.useRef(!1),v=h?u||!!h.closest("form"):!0,[x=!1,y]=dp({prop:a,defaultProp:s,onChange:d});return i.jsxs(bPe,{scope:r,checked:x,disabled:l,children:[i.jsx(wr.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":bW(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ir(e.onClick,w=>{y(N=>!N),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&i.jsx(jPe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});xW.displayName=DA;var vW="SwitchThumb",yW=A.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=wPe(vW,r);return i.jsx(wr.span,{"data-state":bW(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});yW.displayName=vW;var jPe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=A.useRef(null),o=H_(r),l=I_(t);return A.useEffect(()=>{const c=s.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bW(e){return e?"checked":"unchecked"}var wW=xW,NPe=yW;const ry=A.forwardRef(({className:e,...t},r)=>i.jsx(wW,{className:Ht("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(NPe,{className:Ht("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ry.displayName=wW.displayName;const SPe=[{id:"1",name:"مستشفى الملك فهد",code:"KFH001",location:"الرياض - الملز",phone:"011-123-4567",email:"info@kfh.health.sa",manager:"د. أحمد السعود",medical_director:"د. محمد العلي",contact:"011-123-4567",isActive:!0,address:"شارع الملك فهد، حي الملز، الرياض 12345",description:"مستشفى متخصص في الطب العام والجراحة",sector:"الرياض",status:"نشطة",number:"001",clinics:["عيادة الأسنان العامة","عيادة طب الأسنان التخصصية"],image_url:""},{id:"2",name:"مركز الأمير سلطان",code:"PSC002",location:"الرياض - العليا",phone:"011-987-6543",email:"contact@psc.health.sa",manager:"د. فاطمة الأحمد",medical_director:"د. سارة الحسن",contact:"011-987-6543",isActive:!0,address:"طريق الملك عبدالعزيز، حي العليا، الرياض 12356",description:"مركز طبي متخصص في أمراض القلب",sector:"الرياض",status:"نشطة",number:"002",clinics:["عيادة جراحة الفم والأسنان","عيادة تقويم الأسنان"],image_url:""},{id:"3",name:"مستوصف النور",code:"NOR003",location:"الرياض - الدرعية",phone:"011-555-0123",email:"info@noor.health.sa",manager:"د. محمد الخالد",medical_director:"د. عبدالله الزهراني",contact:"011-555-0123",isActive:!1,address:"حي الدرعية، الرياض 12367",description:"مستوصف طبي عام - قيد التطوير",sector:"الرياض",status:"غير نشطة",number:"003",clinics:["عيادة طب أسنان الأطفال"],image_url:""}],TD=["الرياض","الزلفي","رماح","حوطة سدير","تمير","الغاط","المجمعة","الأرطاوية"],g5=10;function _Pe(){const[e,t]=A.useState([]),[r,n]=A.useState(""),[a,s]=A.useState(null),[o,l]=A.useState(!1),[c,d]=A.useState(!0),[u,f]=A.useState({active:0,inactive:0,total:0,activationPercentage:0}),{toast:h}=jn(),[p,g]=A.useState(null),[m,v]=A.useState(!1),[x,y]=A.useState(1),[w,N]=A.useState({name:"",code:"",sector:"",status:"نشطة",category:"",totalClinics:"",workingClinics:"",outOfOrderClinics:"",notWorkingClinics:"",facilityEmail:"",facilityPhone:"",facilityLocation:"",managerName:"",managerEmail:"",managerPhone:"",medicalDirectorName:"",medicalDirectorEmail:"",medicalDirectorPhone:"",location:"",phone:"",email:"",manager:"",medical_director:"",contact:"",isActive:!0,address:"",description:"",number:"",clinics:[],imageBase64:""}),j=X=>{const M=X.filter(O=>O.status==="نشطة").length,Q=X.length,le=Q-M,ue=Q>0?Math.round(M/Q*100):0;f({active:M,inactive:le,total:Q,activationPercentage:ue})},C=async()=>{try{d(!0);const X=await dd.getFacilities();X.success&&X.data&&t(X.data)}catch(X){console.error("Error loading facilities:",X),t(SPe),h({title:"تعذر تحميل بيانات المنشآت",description:"سيتم عرض البيانات التجريبية",variant:"destructive"})}finally{d(!1)}};A.useEffect(()=>{C()},[]),A.useEffect(()=>{j(e),y(1)},[e]);const k=Math.ceil(e.length/g5),L=e.filter(X=>X.name.toLowerCase().includes(r.toLowerCase())||X.code.toLowerCase().includes(r.toLowerCase())).slice((x-1)*g5,x*g5),z=X=>{var le;const M=(le=X.target.files)==null?void 0:le[0];if(!M)return;const Q=new FileReader;Q.onloadend=()=>{N({...w,imageBase64:Q.result})},Q.readAsDataURL(M)},D=X=>{var le;if(!a)return;const M=(le=X.target.files)==null?void 0:le[0];if(!M)return;const Q=new FileReader;Q.onloadend=()=>{s({...a,imageBase64:Q.result})},Q.readAsDataURL(M)},T=X=>{g(X),v(!0)},I=async()=>{try{const X={...w};w.imageBase64&&(X.image=w.imageBase64),(await dd.createFacility(X)).success&&(h({title:"تم إضافة المنشأة بنجاح",description:`تم إضافة ${w.name} إلى النظام`}),N({name:"",code:"",sector:"",status:"نشطة",category:"",totalClinics:"",workingClinics:"",outOfOrderClinics:"",notWorkingClinics:"",facilityEmail:"",facilityPhone:"",facilityLocation:"",managerName:"",managerEmail:"",managerPhone:"",medicalDirectorName:"",medicalDirectorEmail:"",medicalDirectorPhone:"",location:"",phone:"",email:"",manager:"",medical_director:"",contact:"",isActive:!0,address:"",description:"",number:"",clinics:[],imageBase64:""}),l(!1),C())}catch(X){console.error("Error adding facility:",X),h({title:"خطأ في إضافة المنشأة",description:"حدث خطأ أثناء إضافة المنشأة",variant:"destructive"})}},B=async()=>{if(a)try{const X={...a};a.imageBase64&&(X.image=a.imageBase64),(await dd.updateFacility(a.id,X)).success&&(h({title:"تم تحديث المنشأة بنجاح",description:`تم تحديث بيانات ${a.name}`}),s(null),C())}catch(X){console.error("Error updating facility:",X),h({title:"خطأ في تحديث المنشأة",description:"حدث خطأ أثناء تحديث المنشأة",variant:"destructive"})}},J=async X=>{try{(await dd.toggleFacilityStatus(X)).success&&(h({title:"تم تحديث حالة المنشأة",description:"تم تغيير حالة المنشأة بنجاح"}),C())}catch(M){console.error("Error toggling facility status:",M),h({title:"خطأ في تحديث الحالة",description:"حدث خطأ أثناء تحديث حالة المنشأة",variant:"destructive"})}},U=X=>{X<1||X>k||y(X)};return i.jsxs("div",{className:"space-y-6 max-w-screen-lg mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background rounded-lg p-6 border border-primary/20",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"إدارة المنشآت"}),i.jsx("p",{className:"text-muted-foreground",children:"إدارة معلومات المنشآت الطبية والمراكز الصحية"})]}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsxs(Na,{open:o,onOpenChange:l,children:[i.jsx(xg,{asChild:!0,children:i.jsxs(mt,{className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-lg",children:[i.jsx(k2,{className:"ml-2 h-4 w-4"}),"إضافة منشأة جديدة"]})}),i.jsxs(da,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(ua,{className:"text-right",children:[i.jsx(fa,{children:"إضافة منشأة جديدة"}),i.jsx(Ni,{children:"أدخل معلومات المنشأة الطبية الجديدة"})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"name",children:"اسم المنشأة *"}),i.jsx(et,{id:"name",value:w.name,onChange:X=>N({...w,name:X.target.value}),placeholder:"أدخل اسم المنشأة",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"code",children:"رمز المنشأة *"}),i.jsx(et,{id:"code",value:w.code,onChange:X=>N({...w,code:X.target.value}),placeholder:"مثال: KFH001",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"sector",children:"القطاع"}),i.jsxs(hr,{value:w.sector,onValueChange:X=>N({...w,sector:X}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر القطاع"})}),i.jsx(lr,{children:TD.map(X=>i.jsx(Pt,{value:X,children:X},X))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"status",children:"حالة المنشأة"}),i.jsxs(hr,{value:w.status,onValueChange:X=>N({...w,status:X}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"نشطة",children:"نشطة"}),i.jsx(Pt,{value:"غير نشطة",children:"غير نشطة"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"category",children:"تصنيف المنشأة"}),i.jsxs(hr,{value:w.category,onValueChange:X=>N({...w,category:X}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر تصنيف المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"مركز صحي",children:"مركز صحي"}),i.jsx(Pt,{value:"مركز تخصصي",children:"مركز تخصصي"}),i.jsx(Pt,{value:"مستشفى",children:"مستشفى"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"totalClinics",children:"مجموع عيادات الأسنان"}),i.jsx(et,{id:"totalClinics",type:"number",value:w.totalClinics,onChange:X=>N({...w,totalClinics:X.target.value}),className:"text-right",placeholder:"20"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(We,{className:"text-sm font-medium",children:"حالة العيادات"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"workingClinics",className:"text-sm",children:"يعمل"}),i.jsx(et,{id:"workingClinics",type:"number",value:w.workingClinics,onChange:X=>N({...w,workingClinics:X.target.value}),className:"text-right",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"outOfOrderClinics",className:"text-sm",children:"مكهن"}),i.jsx(et,{id:"outOfOrderClinics",type:"number",value:w.outOfOrderClinics,onChange:X=>N({...w,outOfOrderClinics:X.target.value}),className:"text-right",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"notWorkingClinics",className:"text-sm",children:"غير مفعل"}),i.jsx(et,{id:"notWorkingClinics",type:"number",value:w.notWorkingClinics,onChange:X=>N({...w,notWorkingClinics:X.target.value}),className:"text-right",placeholder:"0"})]})]}),w.outOfOrderClinics&&+w.outOfOrderClinics>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"image",children:"شهادة التكهين"}),i.jsx(et,{id:"image",type:"file",accept:"image/*",onChange:z,className:"text-right"}),w.imageBase64&&i.jsx("img",{src:w.imageBase64,alt:"شهادة التكهين",className:"mt-2 max-h-40 rounded-md border border-gray-300"})]})]}),i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsx(We,{className:"text-lg font-semibold",children:"معلومات التواصل"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"facilityEmail",children:"إيميل المنشأة"}),i.jsx(et,{id:"facilityEmail",type:"email",value:w.facilityEmail,onChange:X=>N({...w,facilityEmail:X.target.value}),className:"text-right",placeholder:"info@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"facilityPhone",children:"رقم اتصال المنشأة"}),i.jsx(et,{id:"facilityPhone",value:w.facilityPhone,onChange:X=>N({...w,facilityPhone:X.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"facilityLocation",children:"موقع المنشأة"}),i.jsx(et,{id:"facilityLocation",value:w.facilityLocation,onChange:X=>N({...w,facilityLocation:X.target.value}),className:"text-right",placeholder:"أدخل موقع المنشأة"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"managerName",children:"اسم مدير المنشأة"}),i.jsx(et,{id:"managerName",value:w.managerName,onChange:X=>N({...w,managerName:X.target.value}),className:"text-right",placeholder:"اسم مدير المنشأة"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"managerEmail",children:"إيميل مدير المنشأة"}),i.jsx(et,{id:"managerEmail",type:"email",value:w.managerEmail,onChange:X=>N({...w,managerEmail:X.target.value}),className:"text-right",placeholder:"manager@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"managerPhone",children:"رقم اتصال مدير المنشأة"}),i.jsx(et,{id:"managerPhone",value:w.managerPhone,onChange:X=>N({...w,managerPhone:X.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"medicalDirectorName",children:"اسم المدير الطبي"}),i.jsx(et,{id:"medicalDirectorName",value:w.medicalDirectorName,onChange:X=>N({...w,medicalDirectorName:X.target.value}),className:"text-right",placeholder:"اسم المدير الطبي"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"medicalDirectorEmail",children:"إيميل المدير الطبي"}),i.jsx(et,{id:"medicalDirectorEmail",type:"email",value:w.medicalDirectorEmail,onChange:X=>N({...w,medicalDirectorEmail:X.target.value}),className:"text-right",placeholder:"medical.director@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"medicalDirectorPhone",children:"رقم اتصال المدير الطبي"}),i.jsx(et,{id:"medicalDirectorPhone",value:w.medicalDirectorPhone,onChange:X=>N({...w,medicalDirectorPhone:X.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(ry,{id:"active",checked:w.isActive,onCheckedChange:X=>N({...w,isActive:X})}),i.jsx(We,{htmlFor:"active",children:"منشأة نشطة"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[i.jsx(mt,{variant:"outline",onClick:()=>l(!1),children:"إلغاء"}),i.jsx(mt,{onClick:I,children:"إضافة المنشأة"})]})]})]})})]})}),i.jsx(it,{children:i.jsx(Bt,{children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsx("div",{className:"text-right",children:i.jsxs(zt,{className:"flex items-center gap-2",children:[i.jsx(Vd,{className:"h-5 w-5"}),"البحث والفلترة"]})}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:i.jsx(et,{placeholder:"البحث بالاسم أو الرمز...",value:r,onChange:X=>n(X.target.value),className:"text-right w-full md:w-80"})})]})})}),c?i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsx(Qt,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"mr-2 text-muted-foreground",children:"جاري تحميل البيانات..."})]}):i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[L.map(X=>i.jsxs(it,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-primary/30",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx(zt,{className:"text-lg mb-1",children:X.name}),i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[i.jsx(hs,{variant:X.status==="نشطة"?"default":"secondary",children:X.status}),i.jsx("span",{className:"text-sm text-muted-foreground",children:X.code})]})]}),i.jsx("div",{className:"flex gap-1",children:i.jsx(mt,{variant:"ghost",size:"sm",onClick:()=>s(X),children:i.jsx(_a,{className:"h-4 w-4"})})})]})}),i.jsxs(ot,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right flex-wrap",children:[i.jsx(I7,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:X.location})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right flex-wrap",children:[i.jsx(_d,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:X.phone})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right flex-wrap",children:[i.jsx(dg,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:X.email})]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsxs("p",{className:"text-sm text-muted-foreground text-right",children:["المدير: ",X.manager]}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right",children:["المدير الطبي: ",X.medical_director]}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right",children:["القطاع: ",X.sector]}),X.clinics&&X.clinics.length>0&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right mt-1",children:["العيادات: ",X.clinics.length]})]}),(X.image_url||X.imageBase64)&&i.jsx("div",{className:"mt-2 flex items-center gap-2",children:i.jsxs("button",{className:"flex items-center gap-1 text-primary underline text-sm",onClick:()=>T(X.imageBase64||X.image_url),"aria-label":"مشاهدة الصورة",children:[i.jsx(tn,{className:"h-5 w-5"}),"مشاهدة الصورة"]})}),i.jsx("div",{className:"flex justify-between items-center pt-2",children:i.jsx(ry,{checked:X.status==="نشطة",onCheckedChange:()=>J(X.id)})})]})]},X.id)),i.jsxs("nav",{className:"flex justify-center items-center gap-2 flex-wrap","aria-label":"Pagination",children:[i.jsx(mt,{onClick:()=>U(x-1),disabled:x===1,className:"min-w-[40px]",children:"السابق"}),Array.from({length:k},(X,M)=>M+1).map(X=>i.jsx(mt,{variant:X===x?"default":"outline",onClick:()=>U(X),className:"min-w-[40px]",children:X},X)),i.jsx(mt,{onClick:()=>U(x+1),disabled:x===k,className:"min-w-[40px]",children:"التالي"})]})]}),a&&i.jsx(Na,{open:!!a,onOpenChange:()=>s(null),children:i.jsxs(da,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(ua,{className:"text-right",children:[i.jsx(fa,{children:"تعديل معلومات المنشأة"}),i.jsxs(Ni,{children:[a.name," - ",a.code]})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-name",children:"اسم المنشأة *"}),i.jsx(et,{id:"edit-name",value:a.name,onChange:X=>s({...a,name:X.target.value}),placeholder:"أدخل اسم المنشأة",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-code",children:"رمز المنشأة *"}),i.jsx(et,{id:"edit-code",value:a.code,onChange:X=>s({...a,code:X.target.value}),placeholder:"مثال: KFH001",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-sector",children:"القطاع"}),i.jsxs(hr,{value:a.sector,onValueChange:X=>s({...a,sector:X}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر القطاع"})}),i.jsx(lr,{children:TD.map(X=>i.jsx(Pt,{value:X,children:X},X))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-status",children:"حالة المنشأة"}),i.jsxs(hr,{value:a.status,onValueChange:X=>s({...a,status:X}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"نشطة",children:"نشطة"}),i.jsx(Pt,{value:"غير نشطة",children:"غير نشطة"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-category",children:"تصنيف المنشأة"}),i.jsxs(hr,{value:a.category||"",onValueChange:X=>s({...a,category:X}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر تصنيف المنشأة"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"مركز صحي",children:"مركز صحي"}),i.jsx(Pt,{value:"مركز تخصصي",children:"مركز تخصصي"}),i.jsx(Pt,{value:"مستشفى",children:"مستشفى"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-totalClinics",children:"مجموع عيادات الأسنان"}),i.jsx(et,{id:"edit-totalClinics",type:"number",value:a.totalClinics||"",onChange:X=>s({...a,totalClinics:X.target.value}),className:"text-right",placeholder:"20"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(We,{className:"text-sm font-medium",children:"حالة العيادات"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-workingClinics",className:"text-sm",children:"يعمل"}),i.jsx(et,{id:"edit-workingClinics",type:"number",value:a.workingClinics||"",onChange:X=>s({...a,workingClinics:X.target.value}),className:"text-right",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-outOfOrderClinics",className:"text-sm",children:"مكهن"}),i.jsx(et,{id:"edit-outOfOrderClinics",type:"number",value:a.outOfOrderClinics||"",onChange:X=>s({...a,outOfOrderClinics:X.target.value}),className:"text-right",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-notWorkingClinics",className:"text-sm",children:"غير مفعل"}),i.jsx(et,{id:"edit-notWorkingClinics",type:"number",value:a.notWorkingClinics||"",onChange:X=>s({...a,notWorkingClinics:X.target.value}),className:"text-right",placeholder:"0"})]})]}),a.outOfOrderClinics&&+a.outOfOrderClinics>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-image",children:"شهادة التكهين"}),i.jsx(et,{id:"edit-image",type:"file",accept:"image/*",onChange:D,className:"text-right"}),a.imageBase64&&i.jsx("img",{src:a.imageBase64,alt:"شهادة التكهين",className:"mt-2 max-h-40 rounded-md border border-gray-300"})]})]}),i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsx(We,{className:"text-lg font-semibold",children:"معلومات التواصل"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-facilityEmail",children:"إيميل المنشأة"}),i.jsx(et,{id:"edit-facilityEmail",type:"email",value:a.facilityEmail||"",onChange:X=>s({...a,facilityEmail:X.target.value}),className:"text-right",placeholder:"info@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-facilityPhone",children:"رقم اتصال المنشأة"}),i.jsx(et,{id:"edit-facilityPhone",value:a.facilityPhone||"",onChange:X=>s({...a,facilityPhone:X.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-facilityLocation",children:"موقع المنشأة"}),i.jsx(et,{id:"edit-facilityLocation",value:a.facilityLocation||"",onChange:X=>s({...a,facilityLocation:X.target.value}),className:"text-right",placeholder:"أدخل موقع المنشأة"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-managerName",children:"اسم مدير المنشأة"}),i.jsx(et,{id:"edit-managerName",value:a.managerName||"",onChange:X=>s({...a,managerName:X.target.value}),className:"text-right",placeholder:"اسم مدير المنشأة"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-managerEmail",children:"إيميل مدير المنشأة"}),i.jsx(et,{id:"edit-managerEmail",type:"email",value:a.managerEmail||"",onChange:X=>s({...a,managerEmail:X.target.value}),className:"text-right",placeholder:"manager@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-managerPhone",children:"رقم اتصال مدير المنشأة"}),i.jsx(et,{id:"edit-managerPhone",value:a.managerPhone||"",onChange:X=>s({...a,managerPhone:X.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-medicalDirectorName",children:"اسم المدير الطبي"}),i.jsx(et,{id:"edit-medicalDirectorName",value:a.medicalDirectorName||"",onChange:X=>s({...a,medicalDirectorName:X.target.value}),className:"text-right",placeholder:"اسم المدير الطبي"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-medicalDirectorEmail",children:"إيميل المدير الطبي"}),i.jsx(et,{id:"edit-medicalDirectorEmail",type:"email",value:a.medicalDirectorEmail||"",onChange:X=>s({...a,medicalDirectorEmail:X.target.value}),className:"text-right",placeholder:"medical.director@facility.health.sa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"edit-medicalDirectorPhone",children:"رقم اتصال المدير الطبي"}),i.jsx(et,{id:"edit-medicalDirectorPhone",value:a.medicalDirectorPhone||"",onChange:X=>s({...a,medicalDirectorPhone:X.target.value}),className:"text-right",placeholder:"011-123-4567"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[i.jsx(ry,{id:"edit-active",checked:a.isActive,onCheckedChange:X=>s({...a,isActive:X})}),i.jsx(We,{htmlFor:"edit-active",children:"منشأة نشطة"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(mt,{variant:"outline",onClick:()=>s(null),children:"إلغاء"}),i.jsx(mt,{onClick:B,children:"حفظ التغييرات"})]})]})}),i.jsx(Na,{open:m,onOpenChange:v,children:i.jsxs(da,{dir:"rtl",className:"max-w-md max-h-[80vh] overflow-auto",children:[i.jsxs(ua,{children:[i.jsx(fa,{children:"شهادة التكهين"}),i.jsx(Ni,{children:"عرض الصورة"})]}),p&&i.jsx("img",{src:p,alt:"شهادة التكهين",className:"w-full rounded-md"}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx(mt,{onClick:()=>v(!1),children:"إغلاق"})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(it,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-green-600",children:"المنشآت النشطة"}),i.jsx("p",{className:"text-2xl font-bold text-green-700",children:u.active})]}),i.jsx(m4,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-red-600",children:"المنشآت غير النشطة"}),i.jsx("p",{className:"text-2xl font-bold text-red-700",children:u.inactive})]}),i.jsx(Si,{className:"h-8 w-8 text-red-600"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-blue-600",children:"إجمالي المنشآت"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:u.total})]}),i.jsx(m4,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(it,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:i.jsx(ot,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-purple-600",children:"نسبة التفعيل"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[u.activationPercentage,"%"]})]}),i.jsx(ii,{className:"h-8 w-8 text-purple-600"})]})})})]})]})}var kPe="Separator",PD="horizontal",APe=["horizontal","vertical"],jW=A.forwardRef((e,t)=>{const{decorative:r,orientation:n=PD,...a}=e,s=CPe(n)?n:PD,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(wr.div,{"data-orientation":s,...l,...a,ref:t})});jW.displayName=kPe;function CPe(e){return APe.includes(e)}var NW=jW;const lx=A.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(NW,{ref:a,decorative:r,orientation:t,className:Ht("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));lx.displayName=NW.displayName;function EPe(){const[e,t]=A.useState(!1),[r,n]=A.useState({id:"",name:"",email:"",phone:"",role:"",lastLogin:"",isActive:!0,permissions:[]}),[a,s]=A.useState({newPassword:""}),[o,l]=A.useState(!0),[c,d]=A.useState(!1),{toast:u}=jn();A.useEffect(()=>{f()},[]);const f=async()=>{try{l(!0);const g=await kt("/admin/profile",{method:"GET"},!0,"admin");g.success&&g.data&&n({id:g.data.id.toString(),name:g.data.name,email:g.data.email,phone:g.data.phone||"",role:g.data.role||"",lastLogin:g.data.lastLogin||"",isActive:!0,permissions:g.data.permissions||[]})}catch(g){console.error("Error fetching admin profile:",g),u({title:"خطأ في جلب البيانات",description:"فشل في جلب بيانات المدير",variant:"destructive"})}finally{l(!1)}},h=async()=>{try{d(!0),(await kt("/admin/profile",{method:"PUT",body:JSON.stringify({name:r.name,email:r.email})},!0,"admin")).success&&(u({title:"تم تحديث المعلومات الشخصية",description:"تم حفظ التغييرات بنجاح"}),await f())}catch(g){u({title:"خطأ في التحديث",description:g.message||"فشل في تحديث المعلومات الشخصية",variant:"destructive"})}finally{d(!1)}},p=async()=>{if(a.newPassword.length<8){u({title:"كلمة مرور ضعيفة",description:"يجب أن تكون كلمة المرور 8 أحرف على الأقل",variant:"destructive"});return}try{d(!0),(await kt("/admin/change-password",{method:"PUT",body:JSON.stringify({new_password:a.newPassword})},!0,"admin")).success&&(s({newPassword:""}),u({title:"تم تغيير كلمة المرور",description:"تم تحديث كلمة المرور بنجاح"}))}catch(g){u({title:"خطأ في تغيير كلمة المرور",description:g.message||"فشل في تحديث كلمة المرور",variant:"destructive"})}finally{d(!1)}};return o?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{children:"جاري تحميل بيانات المدير..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background rounded-lg p-6 border border-primary/20",children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"إعدادات المدير"}),i.jsx("p",{className:"text-muted-foreground",children:"إدارة المعلومات الشخصية"})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(it,{className:"md:col-span-2",children:[i.jsxs(Bt,{children:[i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(qp,{className:"h-5 w-5"}),"المعلومات الشخصية"]}),i.jsx(Cu,{className:"text-right",children:"معلومات الحساب الأساسية ومعرفات الاتصال"})]}),i.jsxs(ot,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"name",children:"الاسم الكامل"}),i.jsx(et,{id:"name",value:r.name,onChange:g=>n({...r,name:g.target.value}),className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"email",children:"البريد الإلكتروني"}),i.jsx(et,{id:"email",type:"email",value:r.email,onChange:g=>n({...r,email:g.target.value}),className:"text-right"})]})]}),i.jsx(mt,{onClick:h,className:"w-full",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري الحفظ..."]}):"حفظ المعلومات الشخصية"})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(Si,{className:"h-5 w-5"}),"معلومات الحساب"]})}),i.jsx(ot,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID"}),i.jsx("span",{className:"text-sm font-mono",children:r.id})]}),i.jsx(lx,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"حالة الحساب"}),i.jsx(hs,{variant:"default",children:"نشط"})]}),i.jsx(lx,{}),i.jsx("div",{})]})})]})]}),i.jsxs(it,{children:[i.jsxs(Bt,{children:[i.jsxs(zt,{className:"flex items-center gap-2 text-right",children:[i.jsx(A_,{className:"h-5 w-5"}),"تغيير كلمة المرور"]}),i.jsx(Cu,{className:"text-right",children:"تحديث كلمة المرور الخاصة بك"})]}),i.jsxs(ot,{className:"space-y-4",children:[i.jsxs(PA,{children:[i.jsx(To,{className:"h-4 w-4"}),i.jsx(OA,{className:"text-right",children:"يجب أن تحتوي كلمة المرور على 8 أحرف على الأقل وتتضمن أحرف وأرقام ورموز خاصة"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"newPassword",children:"كلمة المرور الجديدة"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{id:"newPassword",type:e?"text":"password",value:a.newPassword,onChange:g=>s({...a,newPassword:g.target.value}),className:"text-right pr-10",placeholder:"أدخل كلمة المرور الجديدة"}),i.jsx(mt,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>t(!e),children:e?i.jsx(k_,{className:"h-4 w-4"}):i.jsx(tn,{className:"h-4 w-4"})})]})]}),i.jsx(mt,{onClick:p,className:"w-full",disabled:c||!a.newPassword,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري التحديث..."]}):"تحديث كلمة المرور"})]})]})]})]})}const TPe=[{id:"reports_view",name:"عرض البلاغات",description:"إمكانية عرض وقراءة البلاغات",category:"البلاغات"},{id:"reports_create",name:"إنشاء البلاغات",description:"إمكانية إنشاء بلاغات جديدة",category:"البلاغات"},{id:"reports_edit",name:"تعديل البلاغات",description:"إمكانية تعديل البلاغات الموجودة",category:"البلاغات"},{id:"reports_dashboard",name:"لوحة تحكم البلاغات",description:"الوصول إلى إحصائيات البلاغات",category:"البلاغات"},{id:"supply_view",name:"عرض التموين",description:"إمكانية عرض معلومات التموين",category:"التموين"},{id:"supply_manage",name:"إدارة التموين",description:"إمكانية إدارة وتعديل التموين",category:"التموين"},{id:"supply_warehouse",name:"إدارة المستودع",description:"إمكانية إدارة المستودعات",category:"التموين"},{id:"purchase_view",name:"عرض الشراء المباشر",description:"إمكانية عرض طلبات الشراء",category:"الشراء المباشر"},{id:"purchase_create",name:"إنشاء طلبات شراء",description:"إمكانية إنشاء طلبات شراء جديدة",category:"الشراء المباشر"},{id:"purchase_track",name:"متابعة الطلبات",description:"إمكانية متابعة مسار الطلبات",category:"الشراء المباشر"},{id:"dental_view",name:"عرض قسم الأسنان",description:"إمكانية عرض معلومات قسم الأسنان",category:"قسم الأسنان"},{id:"dental_contracts",name:"إدارة عقود الأسنان",description:"إمكانية إدارة عقود الأسنان",category:"قسم الأسنان"},{id:"dental_assets",name:"إدارة أصول الأسنان",description:"إمكانية إدارة أصول قسم الأسنان",category:"قسم الأسنان"},{id:"transactions_view",name:"عرض المعاملات",description:"إمكانية عرض المعاملات الإدارية",category:"المعاملات الإدارية"},{id:"transactions_create",name:"إنشاء المعاملات",description:"إمكانية إنشاء معاملات جديدة",category:"المعاملات الإدارية"},{id:"transactions_manage",name:"إدارة المعاملات",description:"إمكانية إدارة وتعديل المعاملات",category:"المعاملات الإدارية"}],OD=[{id:"1",name:"سارة أحمد المحمد",email:"sara.ahmed@health.gov.sa",phone:"0501234567",role:"مسؤولة البلاغات",department:"البلاغات",permissions:["reports_view","reports_create","reports_edit","reports_dashboard"],createdAt:"2024-01-15",lastLogin:"2024-08-05 09:30"},{id:"2",name:"محمد علي السالم",email:"mohammed.ali@health.gov.sa",phone:"0509876543",role:"مسؤول التموين",department:"التموين",permissions:["supply_view","supply_manage","supply_warehouse"],createdAt:"2024-02-20",lastLogin:"2024-08-04 14:15"},{id:"3",name:"فاطمة خالد النور",email:"fatima.khaled@health.gov.sa",phone:"0555555555",role:"محاسبة",department:"الشراء المباشر",permissions:["purchase_view","purchase_track"],createdAt:"2024-03-10",lastLogin:"2024-07-28 11:45"}],C1=["البلاغات","التموين","الشراء المباشر","قسم الأسنان","المعاملات الإدارية","الإدارة العامة"],x5=["مسؤول القسم","مساعد إداري","محاسب","فني","مراجع","منسق"];function PPe(){const[e,t]=A.useState([]),[r,n]=A.useState(""),[a,s]=A.useState(null),[o,l]=A.useState(!1),[c,d]=A.useState(!1),[u,f]=A.useState("all"),[h,p]=A.useState(!0),[g,m]=A.useState(!1),[v,x]=A.useState({totalStaff:0,totalDepartments:0,totalRoles:0}),{toast:y}=jn(),[w,N]=A.useState({name:"",email:"",phone:"",role:"",department:"",permissions:[],password:""}),j=e.filter(I=>{const B=I.name.toLowerCase().includes(r.toLowerCase())||I.email.toLowerCase().includes(r.toLowerCase()),J=u==="all"||I.department===u;return B&&J});A.useEffect(()=>{C(),k()},[]);const C=async()=>{try{p(!0);const I=await Yv.getStaff();I.success&&I.data&&t(I.data)}catch(I){console.error("Error fetching staff:",I),t(OD),y({title:"تحذير",description:"تم تحميل البيانات التجريبية",variant:"destructive"})}finally{p(!1)}},k=async()=>{try{const I=await Yv.getStaffStats();I.success&&I.data&&x(I.data)}catch(I){console.error("Error fetching staff stats:",I);const B=new Set(e.map(U=>U.department)).size,J=new Set(e.map(U=>U.role)).size;x({totalStaff:e.length||OD.length,totalDepartments:B||C1.length,totalRoles:J||x5.length})}},_=async()=>{try{m(!0),(await Yv.createStaff(w)).success&&(await C(),await k(),N({name:"",email:"",phone:"",role:"",department:"",permissions:[],password:""}),d(!1),y({title:"تم إضافة الموظف بنجاح",description:`تم إضافة ${w.name} إلى النظام`}))}catch(I){y({title:"خطأ في إضافة الموظف",description:I.message||"فشل في إضافة الموظف",variant:"destructive"})}finally{m(!1)}},L=async()=>{if(a)try{m(!0),(await Yv.updateStaff(a.id,a)).success&&(await C(),l(!1),y({title:"تم تحديث معلومات الموظف",description:`تم تحديث بيانات ${a.name}`}))}catch(I){y({title:"خطأ في تحديث الموظف",description:I.message||"فشل في تحديث معلومات الموظف",variant:"destructive"})}finally{m(!1)}},z=(I,B,J=!1)=>{J?N(U=>({...U,permissions:B?[...U.permissions,I]:U.permissions.filter(X=>X!==I)})):a&&s(U=>U?{...U,permissions:B?[...U.permissions,I]:U.permissions.filter(X=>X!==I)}:null)},T=(()=>{const I={};return TPe.forEach(B=>{I[B.category]||(I[B.category]=[]),I[B.category].push(B)}),I})();return h?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qt,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{children:"جاري تحميل بيانات الموظفين..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(it,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"إجمالي الموظفين"}),i.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:v.totalStaff})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-800 rounded-full",children:i.jsx(dl,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})})]})})}),i.jsx(it,{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"الأقسام"}),i.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:v.totalDepartments})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-full",children:i.jsx(Si,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),i.jsx(it,{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800",children:i.jsx(ot,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"الأدوار الوظيفية"}),i.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:v.totalRoles})]}),i.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-800 rounded-full",children:i.jsx(ii,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})})]})})})]}),i.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background rounded-lg p-6 border border-primary/20",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"إدارة الموظفين"}),i.jsx("p",{className:"text-muted-foreground",children:"إدارة حسابات الموظفين والصلاحيات"})]}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsxs(Na,{open:c,onOpenChange:d,children:[i.jsx(xg,{asChild:!0,children:i.jsxs(mt,{className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-lg",children:[i.jsx(k2,{className:"ml-2 h-4 w-4"}),"إضافة موظف جديد"]})}),i.jsxs(da,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(ua,{className:"text-right",children:[i.jsx(fa,{children:"إضافة موظف جديد"}),i.jsx(Ni,{children:"أدخل معلومات الموظف وحدد الصلاحيات المناسبة"})]}),i.jsxs("div",{className:"grid gap-6 py-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"name",children:"الاسم الكامل"}),i.jsx(et,{id:"name",value:w.name,onChange:I=>N({...w,name:I.target.value}),placeholder:"أدخل الاسم الكامل",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"email",children:"البريد الإلكتروني"}),i.jsx(et,{id:"email",type:"email",value:w.email,onChange:I=>N({...w,email:I.target.value}),placeholder:"example@health.gov.sa",className:"text-right"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"phone",children:"رقم الجوال"}),i.jsx(et,{id:"phone",value:w.phone,onChange:I=>N({...w,phone:I.target.value}),placeholder:"05xxxxxxxx",className:"text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"password",children:"كلمة المرور"}),i.jsx(et,{id:"password",type:"password",value:w.password,onChange:I=>N({...w,password:I.target.value}),placeholder:"أدخل كلمة المرور",className:"text-right"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"department",children:"القسم"}),i.jsxs(hr,{value:w.department,onValueChange:I=>N({...w,department:I}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر القسم"})}),i.jsx(lr,{children:C1.map(I=>i.jsx(Pt,{value:I,children:I},I))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"role",children:"الدور الوظيفي"}),i.jsxs(hr,{value:w.role,onValueChange:I=>N({...w,role:I}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{placeholder:"اختر الدور"})}),i.jsx(lr,{children:x5.map(I=>i.jsx(Pt,{value:I,children:I},I))})]})]})]}),i.jsx(lx,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-right",children:"الصلاحيات"}),i.jsx("div",{className:"space-y-6",children:Object.entries(T).map(([I,B])=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-primary text-right",children:I}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:B.map(J=>i.jsxs("div",{className:"flex items-start space-x-2 space-x-reverse p-3 border rounded-lg",children:[i.jsx(i2,{id:`new-${J.id}`,checked:w.permissions.includes(J.id),onCheckedChange:U=>z(J.id,U,!0)}),i.jsxs("div",{className:"text-right",children:[i.jsx(We,{htmlFor:`new-${J.id}`,className:"text-sm font-medium",children:J.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:J.description})]})]},J.id))})]},I))})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(mt,{variant:"outline",onClick:()=>d(!1),children:"إلغاء"}),i.jsx(mt,{onClick:_,disabled:g,children:g?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري الإضافة..."]}):"إضافة الموظف"})]})]})]})})]})}),i.jsx(it,{children:i.jsx(Bt,{children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsx("div",{className:"text-right",children:i.jsxs(zt,{className:"flex items-center gap-2",children:[i.jsx(Vd,{className:"h-5 w-5"}),"البحث والفلترة"]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[i.jsx(et,{placeholder:"البحث بالاسم أو البريد الإلكتروني...",value:r,onChange:I=>n(I.target.value),className:"text-right w-full md:w-80"}),i.jsxs(hr,{value:u,onValueChange:f,children:[i.jsx(or,{className:"w-full md:w-48 text-right",children:i.jsx(pr,{placeholder:"فلترة حسب القسم"})}),i.jsxs(lr,{children:[i.jsx(Pt,{value:"all",children:"جميع الأقسام"}),C1.map(I=>i.jsx(Pt,{value:I,children:I},I))]})]})]})]})})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map(I=>i.jsxs(it,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-primary/30",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"text-right flex-1",children:[i.jsx(zt,{className:"text-lg mb-1",children:I.name}),i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm text-muted-foreground",children:I.role})})]}),i.jsx("div",{className:"flex gap-1",children:i.jsx(mt,{variant:"ghost",size:"sm",onClick:()=>{s(I),l(!0)},children:i.jsx(_a,{className:"h-4 w-4"})})})]})}),i.jsxs(ot,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right",children:[i.jsx(dl,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:I.department})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right",children:[i.jsx(dg,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"truncate",children:I.email})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right",children:[i.jsx(_d,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:I.phone})]}),I.lastLogin&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-right",children:[i.jsx(Fo,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["آخر دخول: ",I.lastLogin]})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("p",{className:"text-sm text-muted-foreground text-right",children:["الصلاحيات: ",I.permissions.length]})}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsx(mt,{variant:"outline",size:"sm",className:"text-xs",children:"عرض الصلاحيات"})})]})]},I.id))}),a&&i.jsx(Na,{open:!!a,onOpenChange:()=>s(null),children:i.jsxs(da,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[i.jsxs(ua,{className:"text-right",children:[i.jsx(fa,{children:o?"تعديل معلومات الموظف":"تفاصيل الموظف"}),i.jsxs(Ni,{children:[a.name," - ",a.department]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{children:"الاسم الكامل"}),o?i.jsx(et,{value:a.name,onChange:I=>s({...a,name:I.target.value}),className:"text-right"}):i.jsx("p",{className:"text-right p-2 bg-muted rounded",children:a.name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{children:"البريد الإلكتروني"}),o?i.jsx(et,{value:a.email,onChange:I=>s({...a,email:I.target.value}),className:"text-right"}):i.jsx("p",{className:"text-right p-2 bg-muted rounded",children:a.email})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{children:"رقم الجوال"}),o?i.jsx(et,{value:a.phone,onChange:I=>s({...a,phone:I.target.value}),className:"text-right"}):i.jsx("p",{className:"text-right p-2 bg-muted rounded",children:a.phone})]}),o&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{children:"كلمة المرور الجديدة"}),i.jsx(et,{type:"password",placeholder:"أدخل كلمة المرور الجديدة",className:"text-right"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{children:"القسم"}),o?i.jsxs(hr,{value:a.department,onValueChange:I=>s({...a,department:I}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{})}),i.jsx(lr,{children:C1.map(I=>i.jsx(Pt,{value:I,children:I},I))})]}):i.jsx("p",{className:"text-right p-2 bg-muted rounded",children:a.department})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{children:"الدور الوظيفي"}),o?i.jsxs(hr,{value:a.role,onValueChange:I=>s({...a,role:I}),children:[i.jsx(or,{className:"text-right",children:i.jsx(pr,{})}),i.jsx(lr,{children:x5.map(I=>i.jsx(Pt,{value:I,children:I},I))})]}):i.jsx("p",{className:"text-right p-2 bg-muted rounded",children:a.role})]})]}),i.jsx(lx,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-right",children:"الصلاحيات"}),i.jsx("div",{className:"space-y-6",children:Object.entries(T).map(([I,B])=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-primary text-right",children:I}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:B.map(J=>i.jsxs("div",{className:"flex items-start space-x-2 space-x-reverse p-3 border rounded-lg",children:[o?i.jsx(i2,{id:`edit-${J.id}`,checked:a.permissions.includes(J.id),onCheckedChange:U=>z(J.id,U,!1)}):i.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:a.permissions.includes(J.id)?i.jsx(RG,{className:"h-4 w-4 text-green-600"}):i.jsx("div",{className:"h-4 w-4 rounded border-2 border-gray-300"})}),i.jsxs("div",{className:"text-right",children:[i.jsx(We,{htmlFor:`edit-${J.id}`,className:"text-sm font-medium",children:J.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:J.description})]})]},J.id))})]},I))})]})]}),i.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:o?i.jsxs(i.Fragment,{children:[i.jsx(mt,{variant:"outline",onClick:()=>l(!1),children:"إلغاء"}),i.jsx(mt,{onClick:L,disabled:g,children:g?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري التحديث..."]}):"حفظ التغييرات"})]}):i.jsxs(i.Fragment,{children:[i.jsx(mt,{variant:"outline",onClick:()=>s(null),children:"إغلاق"}),i.jsx(mt,{onClick:()=>l(!0),children:"تعديل"})]})})]})})]})}function OPe(){const[e,t]=A.useState(!1),[r,n]=A.useState(!1),[a,s]=A.useState({username:"",password:""}),o=Yp(),{toast:l}=jn(),c=async d=>{d.preventDefault(),n(!0);try{const u=await zI.adminLogin({username:a.username,password:a.password});localStorage.setItem("admin_token",u.token),localStorage.setItem("admin_user",JSON.stringify(u.user)),l({title:"تم تسجيل الدخول بنجاح",description:"مرحباً بك في لوحة التحكم الإدارية",className:"text-right"}),o("/")}catch(u){l({title:"خطأ في تسجيل الدخول",description:u.message||"تحقق من بيانات الدخول وحاول مرة أخرى",variant:"destructive",className:"text-right"})}finally{n(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(it,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[i.jsxs(Bt,{className:"text-center pb-6",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center",children:i.jsx(A_,{className:"w-8 h-8 text-white"})}),i.jsx(zt,{className:"text-2xl font-bold text-gray-800",children:"تسجيل دخول المدير"}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"الوصول إلى لوحة التحكم الإدارية"})]}),i.jsxs(ot,{children:[i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"username",className:"text-right block font-medium text-gray-700",children:"اسم المستخدم"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{id:"username",type:"text",value:a.username,onChange:d=>s({...a,username:d.target.value}),className:"text-right pr-10 h-12 border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"أدخل اسم المستخدم",required:!0}),i.jsx(qp,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"password",className:"text-right block font-medium text-gray-700",children:"كلمة المرور"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{id:"password",type:e?"text":"password",value:a.password,onChange:d=>s({...a,password:d.target.value}),className:"text-right pr-10 pl-10 h-12 border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"أدخل كلمة المرور",required:!0}),i.jsx(L7,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e?i.jsx(k_,{className:"w-5 h-5"}):i.jsx(tn,{className:"w-5 h-5"})})]})]}),i.jsx(mt,{type:"submit",disabled:r,className:"w-full h-12 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:r?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"w-4 h-4 animate-spin ml-2"}),"جاري تسجيل الدخول..."]}):"تسجيل الدخول"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["مستخدم عادي؟",i.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium mr-1",children:"تسجيل دخول الموظفين"})]})})]})]}),i.jsx("div",{className:"mt-6 text-center text-white/80 text-sm",children:i.jsx("p",{children:"© 2025 تجمع الرياض الصحي الثاني - جميع الحقوق محفوظة"})})]})})}function DPe(){const[e,t]=A.useState(!1),[r,n]=A.useState(!1),[a,s]=A.useState({username:"",password:""}),o=Yp(),{toast:l}=jn(),c=async d=>{d.preventDefault(),n(!0);try{const u=await zI.staffLogin({username:a.username,password:a.password});localStorage.setItem("staff_token",u.token),localStorage.setItem("staff_user",JSON.stringify(u.user)),l({title:"تم تسجيل الدخول بنجاح",description:"مرحباً بك في النظام",className:"text-right"}),o("/")}catch(u){l({title:"خطأ في تسجيل الدخول",description:u.message||"تحقق من بيانات الدخول وحاول مرة أخرى",variant:"destructive",className:"text-right"})}finally{n(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-teal-900 to-green-900 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(it,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[i.jsxs(Bt,{className:"text-center pb-6",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-green-600 to-green-800 rounded-full flex items-center justify-center",children:i.jsx(dl,{className:"w-8 h-8 text-white"})}),i.jsx(zt,{className:"text-2xl font-bold text-gray-800",children:"تسجيل دخول الموظفين"}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"الوصول إلى النظام الأساسي"})]}),i.jsxs(ot,{children:[i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"username",className:"text-right block font-medium text-gray-700",children:"اسم المستخدم"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{id:"username",type:"text",value:a.username,onChange:d=>s({...a,username:d.target.value}),className:"text-right pr-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",placeholder:"أدخل اسم المستخدم",required:!0}),i.jsx(qp,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{htmlFor:"password",className:"text-right block font-medium text-gray-700",children:"كلمة المرور"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{id:"password",type:e?"text":"password",value:a.password,onChange:d=>s({...a,password:d.target.value}),className:"text-right pr-10 pl-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",placeholder:"أدخل كلمة المرور",required:!0}),i.jsx(L7,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e?i.jsx(k_,{className:"w-5 h-5"}):i.jsx(tn,{className:"w-5 h-5"})})]})]}),i.jsx(mt,{type:"submit",disabled:r,className:"w-full h-12 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:r?i.jsxs(i.Fragment,{children:[i.jsx(Qt,{className:"w-4 h-4 animate-spin ml-2"}),"جاري تسجيل الدخول..."]}):"تسجيل الدخول"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["مدير النظام؟",i.jsx("a",{href:"/admin/login",className:"text-green-600 hover:text-green-800 font-medium mr-1",children:"تسجيل دخول المدراء"})]})})]})]}),i.jsx("div",{className:"mt-6 text-center text-white/80 text-sm",children:i.jsx("p",{children:"© 2025 تجمع الرياض الصحي الثاني - جميع الحقوق محفوظة"})})]})})}const FPe=({children:e})=>{const[t,r]=A.useState(!0),[n,a]=A.useState(!1),s=Gd();return A.useEffect(()=>{(async()=>{try{await kt("/auth/verify",{method:"POST",body:JSON.stringify({route:s.pathname,fullPath:s.pathname+s.search,search:s.search,hash:s.hash})},!0),a(!0)}catch(l){console.error("Auth check failed:",l),a(!1)}finally{r(!1)}})()},[s.pathname]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"جاري التحقق من الصلاحيات..."})]})}):n?i.jsx(i.Fragment,{children:e}):i.jsx(FQ,{to:"/permission-denied",replace:!0})},LPe=()=>{const e=Yp(),t=()=>{e("/")};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-orange-50",dir:"rtl",children:i.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx(A_,{className:"w-10 h-10 text-red-500"})}),i.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"!"})})]})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"غير مخول بالدخول"}),i.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"عذراً، ليس لديك الصلاحية للوصول إلى هذه الصفحة. يرجى التواصل مع المدير للحصول على الصلاحيات المطلوبة."}),i.jsxs("button",{onClick:t,className:"bg-primary text-primary-foreground hover:bg-primary/90 px-6 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center gap-2 mx-auto shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[i.jsx(T7,{className:"w-5 h-5"}),"العودة للوحة التحكم الرئيسية"]})]})})},IPe=()=>{const e=Gd();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},RPe=new HY,MPe=()=>i.jsx(GY,{client:RPe,children:i.jsx(WQ,{children:i.jsxs(jY,{children:[i.jsxs(YC,{children:[i.jsx(Mr,{path:"/admin/login",element:i.jsx(OPe,{})}),i.jsx(Mr,{path:"/login",element:i.jsx(DPe,{})}),i.jsx(Mr,{path:"/permission-denied",element:i.jsx(LPe,{})}),i.jsx(Mr,{path:"/*",element:i.jsx(FPe,{children:i.jsx(JQ,{children:i.jsxs(YC,{children:[i.jsx(Mr,{path:"/",element:i.jsx(XEe,{})}),i.jsx(Mr,{path:"/reports/list",element:i.jsx(YEe,{})}),i.jsx(Mr,{path:"/reports/new",element:i.jsx(eTe,{})}),i.jsx(Mr,{path:"/reports/dashboard",element:i.jsx(qTe,{})}),i.jsx(Mr,{path:"/reports/view/:id",element:i.jsx(HTe,{})}),i.jsx(Mr,{path:"/supply/warehouse",element:i.jsx(VTe,{})}),i.jsx(Mr,{path:"/supply/warehouse-dashboard",element:i.jsx(rPe,{})}),i.jsx(Mr,{path:"/supply/dispensing-reports",element:i.jsx(nPe,{})}),i.jsx(Mr,{path:"/supply/direct-purchase",element:i.jsx(GTe,{})}),i.jsx(Mr,{path:"/direct-purchase/new",element:i.jsx(cPe,{})}),i.jsx(Mr,{path:"/direct-purchase/track",element:i.jsx(fPe,{})}),i.jsx(Mr,{path:"/direct-purchase/reports",element:i.jsx(hPe,{})}),i.jsx(Mr,{path:"/direct-purchase/dashboard",element:i.jsx(pPe,{})}),i.jsx(Mr,{path:"/dental/contracts",element:i.jsx(KTe,{})}),i.jsx(Mr,{path:"/dental/reports",element:i.jsx(XTe,{})}),i.jsx(Mr,{path:"/dental/dashboard",element:i.jsx(YTe,{})}),i.jsx(Mr,{path:"/dental/assets",element:i.jsx(tPe,{})}),i.jsx(Mr,{path:"/dental/assets-dashboard",element:i.jsx(mPe,{})}),i.jsx(Mr,{path:"/transactions/new",element:i.jsx(gPe,{})}),i.jsx(Mr,{path:"/transactions/list",element:i.jsx(xPe,{})}),i.jsx(Mr,{path:"/transactions/dashboard",element:i.jsx(vPe,{})}),i.jsx(Mr,{path:"/settings/facilities",element:i.jsx(_Pe,{})}),i.jsx(Mr,{path:"/settings/admin",element:i.jsx(EPe,{})}),i.jsx(Mr,{path:"/settings/staff",element:i.jsx(PPe,{})}),i.jsx(Mr,{path:"*",element:i.jsx(IPe,{})})]})})})})]}),i.jsx(bK,{}),i.jsx(XK,{})]})})});t7(document.getElementById("root")).render(i.jsx(MPe,{}));export{qr as _,_v as c,$r as g};
